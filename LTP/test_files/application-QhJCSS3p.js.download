import{ah as G9,v as Eo,ai as K9,aj as Y9,B as $g,ak as Z9,al as Q9,am as J9,an as X9,ao as pT,t as ez,ap as tz,aq as vc,ar as df,as as nz,at as rz,au as iz,av as oz,aw as sz,ax as az,ay as lz,az as cz,aA as uz,aB as dz,aC as fz,aD as hz,aE as pz,aF as mz,aG as gz,aH as vz,aI as bz,Z as yz,$ as h_,a3 as GA,aJ as KA,Y as p_,Q as _z,b as xz,R as wz,m as Sz,aK as Cz,M as Tz,aL as jz,aM as Ez,aN as kz,aO as Oz,aP as Mz,aQ as Nz,aR as Pz,aS as Az,aT as Rz}from"./projects-Dgnr8ZTM.js";import{A as $o,c as Io,u as $z,a as la,b as Iz,_ as Dz}from"./ActiveTable3-ChSMockD.js";import{l as Lz,g as YA,b as Bc,k as Kh,a as Fz,_ as zz}from"./useMaybeLocalStorage-Csw7YTUN.js";import{A as Bz,_ as Wz}from"./AllProjectsPage-DChoYXzr.js";import{r as b,c as Se,R as Le,j as d,g as zr,a as Mt,b as Hz}from"./Filter-DMJH9QGc.js";import{S as sr,z as ut,a as Rn,h as Zn,x as ZA,d as qz,w as Ja,k as P1,A as Vz,B as cd,j as Uz}from"./SessionContext-UN1ZqBr_.js";import{p as Gz,q as Kz,r as Yz,C as ul,T as ko,s as Zz,j as QA,G as Qz,t as JA,w as Jz,x as dl,S as cu,y as mT,i as m_,d as ln,Q as XA,M as A1,z as Xz,D as eB,E as tB,H as nB,I as rB,k as iB,J as oB,c as sB,R as aB,u as lB,K as cB,P as uB,n as dB,U as fB,V as hB,W as pB,_ as mB,X as gB,Y as vB,Z as bB,$ as yB,a0 as _B,a1 as xB,a2 as wB,a3 as SB,a4 as CB,a5 as TB,a6 as jB,a7 as EB,a8 as kB,a9 as OB,aa as MB,ab as NB,ac as PB,ad as AB,ae as RB,af as $B,ag as IB,ah as DB,ai as LB,aj as FB,ak as zB,al as BB,am as WB,an as HB,ao as qB,ap as VB,aq as UB,ar as GB,as as KB,at as YB,au as ZB,av as QB,aw as JB,ax as XB,ay as eW,az as tW}from"./makeCancellablePromise-BkTydAXb.js";import{$ as Ig,af as e3,be as t3,bf as nW,b7 as rW,bg as iW,bh as R1,W as lm,X as n3,a$ as oW,b3 as sW,Y as aW,bi as lW,c as r3,bj as i3,j as o3,z as ns,J as Kf,K as Oo,bk as $1,bl as cW,C as ii,bm as uW,M as I1,A as Ue,p as dW,ao as s3,bn as fW,bo as hW,g as uu,a as a3,bp as pW,E as wo,b as D1,bq as Xa,f as l3,H as c3,N as u3,r as Ht,bd as Dg,br as mW,bs as gW,bt as vW,bu as bW,bv as yW,bw as _W,bx as xW,by as wW,aj as SW,a3 as CW,ak as TW,al as jW,a0 as EW,a1 as kW,m as OW,bz as ud,b6 as MW,bA as NW,P as PW,bB as AW,bC as RW,bD as $W,bE as IW,bF as DW,bG as LW,bH as FW,bI as zW,bJ as BW,bK as WW,bL as HW,bM as qW,bN as VW,bO as UW}from"./index-o43uh0JB.js";import{aB as gT,a2 as d3,X as GW,x as KW,aw as YW,v as du,u as Lt,S as fn,k as Da,d as yn,aU as f3,i as ai,I as ZW,aV as QW,aW as vT,aX as g_,j as tr,l as Hn,$ as JW,aY as fu,aZ as XW,a5 as eH,h as pn,y as tH,a7 as h3,a_ as nH,L as rH,a$ as iH,A as Lg,K as ri,b0 as ff,b1 as oH,D as p3,c as m3,g as Fg,o as Nr,b2 as g3,J as bT,N as cm,b3 as sH,B as L1,p as v3,b4 as aH,b5 as lH,b6 as cH,q as hu,a0 as uH,a1 as dH,ai as fH,ay as hH,az as pH}from"./shapeValidation-CmF7rbaD.js";import{u as li,c as mH,m as b3,l as gH,d as yT}from"./usePromisedState-CZaSBUOE.js";import{B as yt,a as vH,b as bH}from"./Button-Dk4nfxN7.js";import{b as yH,T as Do,P as R,p as _H}from"./TextArea-p6bAEuOB.js";import{C as y3,g as xH,a as wH,b as Yh,S as _3,c as F1,i as SH,n as CH,p as TH,q as jH,s as EH,d as kH,_ as OH,e as MH,f as NH,h as PH,j as AH,k as RH,l as $H,m as IH,o as DH,r as LH,t as FH,u as zH,v as BH,w as WH,x as HH,y as qH,z as VH,A as UH,B as GH,D as KH,E as YH,F as ZH}from"./index-CUhbc05d.js";import{h as QH,s as JH,c as XH,S as eq,R as tq,a as _T,T as nq,b as rq,P as iq,g as oq,_ as sq,d as aq,e as lq,f as cq,i as uq,j as dq,k as fq}from"./ProjectResultsResponses3-B2S2i2Sy.js";import{a as x3,N as Zh,M as hq,W as pq,S as mq,h as gq,i as vq,j as bq,k as yq,l as _q,m as xq,n as wq,o as Sq,p as Cq,q as Tq,r as jq,s as Eq,t as kq,v as Oq,w as Mq,x as Nq,y as Pq,z as Aq,A as Rq,B as $q,C as Iq,E as Dq,F as Lq,G as Fq,H as zq,I as Bq,J as Wq,K as Hq,O as qq,P as Vq}from"./useWorkforceFilterLazyLoaders-DBzOhaPT.js";import{u as xT,_ as Uq}from"./EditProjectSubmit-LwHS1yt1.js";import{R as Ad,r as pu}from"./index-DRETzElp.js";import{c as zg,k as z1,g as Gq,a as w3,b as Kq,d as Yq,i as Zq,j as Qq,L as Jq,e as Xq,R as eV,f as tV,u as nV,h as S3,m as rV,P as iV,T as oV,l as sV,n as aV,_ as Ui,o as qd,p as Lp,q as La,r as lV,s as cV,t as uV,v as dV,w as fV,x as hV,y as pV,z as mV,A as gV,B as vV,C as bV,D as yV,E as _V,F as xV,G as wV,H as SV,I as CV,J as TV,K as jV,M as EV,N as kV,O as OV,Q as MV,S as NV,U as PV,V as AV}from"./index-DXS9JSLM.js";import{i as RV,u as B1,C as Qh,s as C3,R as $V}from"./index-BTxdQvMi.js";import{A as Sl,L as T3,u as Yf,W as j3,T as IV,E as Cl,a as DV,S as LV,q as Bg,f as wT,_ as FV,b as zV,c as BV,d as WV,e as HV,g as qV,h as VV,i as UV,j as GV}from"./questionTypeToComponent-BGwUqZvi.js";import{b as jt,d as et,C as E3,l as Zf,w as Ys,i as At,c as He,_ as Ai,f as KV,g as YV,h as W1,X as an,Q as ZV,j as Qf,e as $n,a as Gn,I as v_,k as um,Z as QV,m as JV,N as XV,s as eU,n as k3}from"./dynamicCSS-DWigjNQX.js";import{F as Wg,_ as tU}from"./FullPageLoadingIcon-uhz8-79O.js";import{_ as nU,a as rU,b as iU,c as oU,d as sU,e as aU,f as lU,g as cU,h as uU,i as dU,j as fU,k as hU,l as pU,m as mU,n as gU,o as vU,p as bU,q as yU,r as _U,s as xU,t as wU,u as SU,v as CU,w as TU,x as jU}from"./index-BY8s_Iv7.js";import{_ as EU}from"./LastMileSetting-DOCotB4p.js";import{_ as Ni,I as Jf}from"./index-BdMdn_g3.js";import{_ as kU}from"./MyProjectsPage-D6SCBH8n.js";import{C as OU,_ as MU,b as NU,c as PU,d as AU,e as RU}from"./ProgressChart-EdPFNawu.js";import{S as H1}from"./add-CrtXCAyk.js";import{S as O3,a as $U,u as IU}from"./drag-handle-CNufojPl.js";import{S as DU}from"./react-select.esm-YClZeYEw.js";import{S as LU}from"./copy2-DURyFo-8.js";import{a as FU}from"./list-C9OgUbLO.js";import{c as zU,_ as BU}from"./EditableProjectTitle-C-h2oshh.js";import{b as WU,p as q1,m as M3,c as N3,o as P3}from"./trackedWorkerJobs-Dh5feFkC.js";import{S as HU}from"./check-r-BpqLpPeY.js";import{a as ST,_ as qU}from"./ProjectActionsDropdownBody-DWPkmaZW.js";import{D as V1}from"./DetailHeader-Dl3TBgt_.js";import{g as VU,a as UU}from"./ActiveTableToolbar-rnNGxAkz.js";import{u as U1}from"./usePolledPromise-C7fb107h.js";import{b as A3,s as GU,_ as KU,c as YU}from"./index-Ba0_Vu-t.js";import{_ as ZU}from"./index-BFVAjDFo.js";import{A as mu,a as QU}from"./ActiveTable2-D66jeeXA.js";import{b as Kr}from"./reports-DH759fhh.js";import{S as JU}from"./download-CgW9cK2B.js";import{_ as XU,a as eG,b as tG,c as nG,d as rG,e as iG,f as oG,g as sG,h as aG,i as lG,j as cG,k as uG,l as dG,m as fG,n as hG,o as pG,p as mG,q as gG,r as vG,s as bG,t as yG,u as _G,v as xG,w as wG,x as SG,y as CG,z as TG}from"./index-CKONt4DF.js";import{_ as jG}from"./SharedProjectsPage-DUGxpOpR.js";import{_ as EG,b as kG}from"./index-ch7Q-aUA.js";import{L as OG,l as b_,C as jr,u as R3,e as Wc,k as MG,c as Tl,i as NG,m as ci,n as $3,D as Xf,o as G1,p as Rd,q as Ws,s as As,t as I3,f as Hg,r as Zs,v as PG,w as AG,N as CT,R as RG,z as D3,x as TT,V as $G,y as IG,S as DG,T as rs,A as LG,B as y_,K as L3}from"./index-DP9P3a8-.js";import{S as qg}from"./SlideOver-B-uAMrFr.js";import{s as FG}from"./useSerializedJsonQueryParam-CJlx7pxB.js";import{g as zG,a as BG}from"./workforceListing-S-uTnarZ.js";import{N as WG,A as HG,a as qG,G as VG,T as UG,M as GG,b as KG,s as F3,g as z3,e as YG,r as B3,f as W3,S as ZG,h as QG}from"./team-C86TQdFf.js";import{D as JG}from"./DebouncedSearchBox-DvYgJLNi.js";import{S as H3}from"./note-DZu6Mnva.js";import{d as XG,m as eK}from"./users-BAB-ME02.js";import{v as dd}from"./CollapsiblePane-DMxEBQDl.js";import{t as tK}from"./transition-BSR1tFBK.js";import{s as __}from"./util-CDW2U2tW.js";import{u as nK}from"./useSearchParam-CPBeaPOM.js";import"./CheckCircleIcon-JONw0rza.js";import"./CheckIcon-CvwxFrbK.js";import"./server.browser-DgELO3wr.js";import"./use-tree-walker-DFyUIA-1.js";import"./label-BLwDhFjO.js";import"./index-BsZ-OI7p.js";import"./external-link-DJR4WAIb.js";import"./routing-CS7GGcJC.js";import"./MessageSendBox2-DNBU_J-G.js";import"./use-flags-Becfhadl.js";function rK(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function iK(e){return function(t){t=Ig(t);var n=QH(t)?JH(t):void 0,r=n?n[0]:t.charAt(0),i=n?XH(n,1).join(""):t.slice(1);return r[e]()+i}}var oK=iK("toUpperCase");function sK(e){return oK(Ig(e).toLowerCase())}function aK(e,t,n,r){var i=-1,o=e==null?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function lK(e){return function(t){return e==null?void 0:e[t]}}var cK={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},uK=lK(cK);const dK=uK;var fK=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hK="\\u0300-\\u036f",pK="\\ufe20-\\ufe2f",mK="\\u20d0-\\u20ff",gK=hK+pK+mK,vK="["+gK+"]",bK=RegExp(vK,"g");function yK(e){return e=Ig(e),e&&e.replace(fK,dK).replace(bK,"")}var _K=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function xK(e){return e.match(_K)||[]}var wK=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function SK(e){return wK.test(e)}var q3="\\ud800-\\udfff",CK="\\u0300-\\u036f",TK="\\ufe20-\\ufe2f",jK="\\u20d0-\\u20ff",EK=CK+TK+jK,V3="\\u2700-\\u27bf",U3="a-z\\xdf-\\xf6\\xf8-\\xff",kK="\\xac\\xb1\\xd7\\xf7",OK="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",MK="\\u2000-\\u206f",NK=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",G3="A-Z\\xc0-\\xd6\\xd8-\\xde",PK="\\ufe0e\\ufe0f",K3=kK+OK+MK+NK,Y3="['’]",jT="["+K3+"]",AK="["+EK+"]",Z3="\\d+",RK="["+V3+"]",Q3="["+U3+"]",J3="[^"+q3+K3+Z3+V3+U3+G3+"]",$K="\\ud83c[\\udffb-\\udfff]",IK="(?:"+AK+"|"+$K+")",DK="[^"+q3+"]",X3="(?:\\ud83c[\\udde6-\\uddff]){2}",eR="[\\ud800-\\udbff][\\udc00-\\udfff]",cc="["+G3+"]",LK="\\u200d",ET="(?:"+Q3+"|"+J3+")",FK="(?:"+cc+"|"+J3+")",kT="(?:"+Y3+"(?:d|ll|m|re|s|t|ve))?",OT="(?:"+Y3+"(?:D|LL|M|RE|S|T|VE))?",tR=IK+"?",nR="["+PK+"]?",zK="(?:"+LK+"(?:"+[DK,X3,eR].join("|")+")"+nR+tR+")*",BK="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",WK="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",HK=nR+tR+zK,qK="(?:"+[RK,X3,eR].join("|")+")"+HK,VK=RegExp([cc+"?"+Q3+"+"+kT+"(?="+[jT,cc,"$"].join("|")+")",FK+"+"+OT+"(?="+[jT,cc+ET,"$"].join("|")+")",cc+"?"+ET+"+"+kT,cc+"+"+OT,WK,BK,Z3,qK].join("|"),"g");function UK(e){return e.match(VK)||[]}function GK(e,t,n){return e=Ig(e),t=n?void 0:t,t===void 0?SK(e)?UK(e):xK(e):e.match(t)||[]}var KK="['’]",YK=RegExp(KK,"g");function ZK(e){return function(t){return aK(GK(yK(t).replace(YK,"")),e,"")}}var QK=ZK(function(e,t,n){return t=t.toLowerCase(),e+(n?sK(t):t)});function JK(e,t){return e&&zg(t,e3(t),e)}function XK(e,t){return e&&zg(t,z1(t),e)}function eY(e,t){return zg(e,t3(e),t)}var tY=Object.getOwnPropertySymbols,rR=tY?function(e){for(var t=[];e;)rW(t,t3(e)),e=Gq(e);return t}:nW;function nY(e,t){return zg(e,rR(e),t)}function rY(e){return iW(e,z1,rR)}var iY=Object.prototype,oY=iY.hasOwnProperty;function sY(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&oY.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function aY(e,t){var n=t?w3(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var lY=/\w*$/;function cY(e){var t=new e.constructor(e.source,lY.exec(e));return t.lastIndex=e.lastIndex,t}var MT=gT?gT.prototype:void 0,NT=MT?MT.valueOf:void 0;function uY(e){return NT?Object(NT.call(e)):{}}var dY="[object Boolean]",fY="[object Date]",hY="[object Map]",pY="[object Number]",mY="[object RegExp]",gY="[object Set]",vY="[object String]",bY="[object Symbol]",yY="[object ArrayBuffer]",_Y="[object DataView]",xY="[object Float32Array]",wY="[object Float64Array]",SY="[object Int8Array]",CY="[object Int16Array]",TY="[object Int32Array]",jY="[object Uint8Array]",EY="[object Uint8ClampedArray]",kY="[object Uint16Array]",OY="[object Uint32Array]";function MY(e,t,n){var r=e.constructor;switch(t){case yY:return w3(e);case dY:case fY:return new r(+e);case _Y:return aY(e,n);case xY:case wY:case SY:case CY:case TY:case jY:case EY:case kY:case OY:return Kq(e,n);case hY:return new r;case pY:case vY:return new r(e);case mY:return cY(e);case gY:return new r;case bY:return uY(e)}}var NY="[object Map]";function PY(e){return d3(e)&&R1(e)==NY}var PT=lm&&lm.isMap,AY=PT?n3(PT):PY,RY="[object Set]";function $Y(e){return d3(e)&&R1(e)==RY}var AT=lm&&lm.isSet,IY=AT?n3(AT):$Y,DY=1,LY=2,FY=4,iR="[object Arguments]",zY="[object Array]",BY="[object Boolean]",WY="[object Date]",HY="[object Error]",oR="[object Function]",qY="[object GeneratorFunction]",VY="[object Map]",UY="[object Number]",sR="[object Object]",GY="[object RegExp]",KY="[object Set]",YY="[object String]",ZY="[object Symbol]",QY="[object WeakMap]",JY="[object ArrayBuffer]",XY="[object DataView]",eZ="[object Float32Array]",tZ="[object Float64Array]",nZ="[object Int8Array]",rZ="[object Int16Array]",iZ="[object Int32Array]",oZ="[object Uint8Array]",sZ="[object Uint8ClampedArray]",aZ="[object Uint16Array]",lZ="[object Uint32Array]",wn={};wn[iR]=wn[zY]=wn[JY]=wn[XY]=wn[BY]=wn[WY]=wn[eZ]=wn[tZ]=wn[nZ]=wn[rZ]=wn[iZ]=wn[VY]=wn[UY]=wn[sR]=wn[GY]=wn[KY]=wn[YY]=wn[ZY]=wn[oZ]=wn[sZ]=wn[aZ]=wn[lZ]=!0;wn[HY]=wn[oR]=wn[QY]=!1;function Fp(e,t,n,r,i,o){var s,a=t&DY,l=t&LY,c=t&FY;if(n&&(s=i?n(e,r,i,o):n(e)),s!==void 0)return s;if(!GW(e))return e;var u=aW(e);if(u){if(s=sY(e),!a)return zU(e,s)}else{var f=R1(e),h=f==oR||f==qY;if(oW(e))return Yq(e,a);if(f==sR||f==iR||h&&!i){if(s=l||h?{}:Zq(e),!a)return l?nY(e,XK(s,e)):eY(e,JK(s,e))}else{if(!wn[f])return i?e:{};s=MY(e,f,a)}}o||(o=new sW);var m=o.get(e);if(m)return m;o.set(e,s),IY(e)?e.forEach(function(_){s.add(Fp(_,t,n,_,e,o))}):AY(e)&&e.forEach(function(_,x){s.set(x,Fp(_,t,n,x,e,o))});var p=c?l?rY:lW:l?z1:e3,g=u?void 0:p(e);return rK(g||e,function(_,x){g&&(x=_,_=e[x]),FU(s,x,Fp(_,t,n,x,e,o))}),s}var cZ=1,uZ=4;function aR(e){return Fp(e,cZ|uZ)}function dZ(e,t){var n={};return t=r3(t),i3(e,function(r,i,o){o3(n,t(r,i,o),r)}),n}function dm(e,t){var n={};return t=r3(t),i3(e,function(r,i,o){o3(n,i,t(r,i,o))}),n}function fZ(e){return e&&e.length?yH(e,KW,WU):void 0}var hZ=function(){},pZ=hZ;function mZ(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"}))}const gZ=b.forwardRef(mZ),vZ=gZ;function bZ(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))}const yZ=b.forwardRef(bZ),_Z=yZ;function xZ(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}))}const wZ=b.forwardRef(xZ),SZ=wZ;var CZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const TZ=CZ;var jZ={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const EZ=jZ;var kZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const OZ=kZ;var MZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const NZ=MZ;var PZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const AZ=PZ;var RZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const $Z=RZ;function IZ(e,t){const n=b.useCallback(()=>{if(typeof window>"u")return t;try{const a=window.sessionStorage.getItem(e);return a?DZ(a):t}catch(a){return console.warn(`Error reading sessionStorage key “${e}”:`,a),t}},[t,e]),[r,i]=b.useState(n),o=Lz(a=>{typeof window>"u"&&console.warn(`Tried setting sessionStorage key “${e}” even though environment is not a client`);try{const l=a instanceof Function?a(r):a;window.sessionStorage.setItem(e,JSON.stringify(l)),i(l),window.dispatchEvent(new Event("session-storage"))}catch(l){console.warn(`Error setting sessionStorage key “${e}”:`,l)}});b.useEffect(()=>{i(n())},[]);const s=b.useCallback(a=>{a!=null&&a.key&&a.key!==e||i(n())},[e,n]);return ns("storage",s),ns("session-storage",s),[r,o]}function DZ(e){try{return e==="undefined"?void 0:JSON.parse(e??"")}catch{console.log("parsing error on",{value:e});return}}function jl(e,t){var n=jt({},e);return Array.isArray(t)&&t.forEach(function(r){delete n[r]}),n}const LZ=(e,t)=>{const n=b.useContext(OG),r=b.useMemo(()=>{var o;const s=t||b_[e],a=(o=n==null?void 0:n[e])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof s=="function"?s():s),a||{})},[e,t,n]),i=b.useMemo(()=>{const o=n==null?void 0:n.locale;return n!=null&&n.exist&&!o?b_.locale:o},[n]);return[r,i]};var FZ=function(t,n){return b.createElement(Sl,et({},t,{ref:n,icon:TZ}))};const zZ=b.forwardRef(FZ);var BZ=function(t,n){return b.createElement(Sl,et({},t,{ref:n,icon:EZ}))};const K1=b.forwardRef(BZ);var WZ=function(t,n){return b.createElement(Sl,et({},t,{ref:n,icon:OZ}))};const HZ=b.forwardRef(WZ),RT=e=>typeof e=="object"&&e!=null&&e.nodeType===1,$T=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",nb=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return $T(n.overflowY,t)||$T(n.overflowX,t)||(r=>{const i=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},Jh=(e,t,n,r,i,o,s,a)=>o<e&&s>t||o>e&&s<t?0:o<=e&&a<=n||s>=t&&a>=n?o-e-r:s>t&&a<n||o<e&&a>n?s-t+i:0,qZ=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},IT=(e,t)=>{var n,r,i,o;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:l,boundary:c,skipOverflowHiddenElements:u}=t,f=typeof c=="function"?c:re=>re!==c;if(!RT(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,m=[];let p=e;for(;RT(p)&&f(p);){if(p=qZ(p),p===h){m.push(p);break}p!=null&&p===document.body&&nb(p)&&!nb(document.documentElement)||p!=null&&nb(p,u)&&m.push(p)}const g=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,_=(o=(i=window.visualViewport)==null?void 0:i.height)!=null?o:innerHeight,{scrollX:x,scrollY:S}=window,{height:C,width:j,top:k,right:T,bottom:y,left:P}=e.getBoundingClientRect(),{top:A,right:$,bottom:L,left:U}=(re=>{const G=window.getComputedStyle(re);return{top:parseFloat(G.scrollMarginTop)||0,right:parseFloat(G.scrollMarginRight)||0,bottom:parseFloat(G.scrollMarginBottom)||0,left:parseFloat(G.scrollMarginLeft)||0}})(e);let F=a==="start"||a==="nearest"?k-A:a==="end"?y+L:k+C/2-A+L,H=l==="center"?P+j/2-U+$:l==="end"?T+$:P-U;const q=[];for(let re=0;re<m.length;re++){const G=m[re],{height:Y,width:te,top:ne,right:B,bottom:Q,left:K}=G.getBoundingClientRect();if(s==="if-needed"&&k>=0&&P>=0&&y<=_&&T<=g&&k>=ne&&y<=Q&&P>=K&&T<=B)return q;const de=getComputedStyle(G),X=parseInt(de.borderLeftWidth,10),J=parseInt(de.borderTopWidth,10),ue=parseInt(de.borderRightWidth,10),xe=parseInt(de.borderBottomWidth,10);let _e=0,he=0;const Z="offsetWidth"in G?G.offsetWidth-G.clientWidth-X-ue:0,se="offsetHeight"in G?G.offsetHeight-G.clientHeight-J-xe:0,ie="offsetWidth"in G?G.offsetWidth===0?0:te/G.offsetWidth:0,be="offsetHeight"in G?G.offsetHeight===0?0:Y/G.offsetHeight:0;if(h===G)_e=a==="start"?F:a==="end"?F-_:a==="nearest"?Jh(S,S+_,_,J,xe,S+F,S+F+C,C):F-_/2,he=l==="start"?H:l==="center"?H-g/2:l==="end"?H-g:Jh(x,x+g,g,X,ue,x+H,x+H+j,j),_e=Math.max(0,_e+S),he=Math.max(0,he+x);else{_e=a==="start"?F-ne-J:a==="end"?F-Q+xe+se:a==="nearest"?Jh(ne,Q,Y,J,xe+se,F,F+C,C):F-(ne+Y/2)+se/2,he=l==="start"?H-K-X:l==="center"?H-(K+te/2)+Z/2:l==="end"?H-B+ue+Z:Jh(K,B,te,X,ue+Z,H,H+j,j);const{scrollLeft:Ne,scrollTop:Pe}=G;_e=be===0?0:Math.max(0,Math.min(Pe+_e/be,G.scrollHeight-Y/be+se)),he=ie===0?0:Math.max(0,Math.min(Ne+he/ie,G.scrollWidth-te/ie+Z)),F+=Pe-_e,H+=Ne-he}q.push({el:G,top:_e,left:he})}return q},VZ=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function UZ(e,t){if(!e.isConnected||!(i=>{let o=i;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(e))return;const n=(i=>{const o=window.getComputedStyle(i);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(e);if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(IT(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:o,left:s}of IT(e,VZ(t))){const a=o-n.top+n.bottom,l=s-n.left+n.right;i.scroll({top:a,left:l,behavior:r})}}var GZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const lR=b.createContext(void 0),KZ=e=>{const{getPrefixCls:t,direction:n}=b.useContext(jr),{prefixCls:r,size:i,className:o}=e,s=GZ(e,["prefixCls","size","className"]),a=t("btn-group",r),[,,l]=R3();let c="";switch(i){case"large":c="lg";break;case"small":c="sm";break}const u=Se(a,{[`${a}-${c}`]:c,[`${a}-rtl`]:n==="rtl"},o,l);return b.createElement(lR.Provider,{value:i},b.createElement("div",Object.assign({},s,{className:u})))},YZ=KZ,DT=/^[\u4e00-\u9fa5]{2}$/,x_=DT.test.bind(DT);function LT(e){return typeof e=="string"}function rb(e){return e==="text"||e==="link"}function ZZ(e,t){if(e==null)return;const n=t?" ":"";return typeof e!="string"&&typeof e!="number"&&LT(e.type)&&x_(e.props.children)?Wc(e,{children:e.props.children.split("").join(n)}):LT(e)?x_(e)?Le.createElement("span",null,e.split("").join(n)):Le.createElement("span",null,e):MG(e)?Le.createElement("span",null,e):e}function QZ(e,t){let n=!1;const r=[];return Le.Children.forEach(e,i=>{const o=typeof i,s=o==="string"||o==="number";if(n&&s){const a=r.length-1,l=r[a];r[a]=`${l}${i}`}else r.push(i);n=s}),Le.Children.map(r,i=>ZZ(i,t))}const JZ=b.forwardRef((e,t)=>{const{className:n,style:r,children:i,prefixCls:o}=e,s=Se(`${o}-icon`,n);return Le.createElement("span",{ref:t,className:s,style:r},i)}),cR=JZ,FT=b.forwardRef((e,t)=>{let{prefixCls:n,className:r,style:i,iconClassName:o}=e;const s=Se(`${n}-loading-icon`,r);return Le.createElement(cR,{prefixCls:n,className:s,style:i,ref:t},Le.createElement(T3,{className:o}))}),ib=()=>({width:0,opacity:0,transform:"scale(0)"}),ob=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),XZ=e=>{const{prefixCls:t,loading:n,existIcon:r,className:i,style:o}=e,s=!!n;return r?Le.createElement(FT,{prefixCls:t,className:i,style:o}):Le.createElement(E3,{visible:s,motionName:`${t}-loading-icon-motion`,motionLeave:s,removeOnLeave:!0,onAppearStart:ib,onAppearActive:ob,onEnterStart:ib,onEnterActive:ob,onLeaveStart:ob,onLeaveActive:ib},(a,l)=>{let{className:c,style:u}=a;return Le.createElement(FT,{prefixCls:t,className:i,style:Object.assign(Object.assign({},o),u),ref:l,iconClassName:c})})},eQ=XZ,zT=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),tQ=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-r,[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},zT(`${t}-primary`,i),zT(`${t}-danger`,o)]}},nQ=e=>{const{componentCls:t,iconCls:n,fontWeight:r}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:e.lineHeight,color:e.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${t}-icon`]:{lineHeight:0},[`> ${n} + span, > span + ${n}`]:{marginInlineStart:e.marginXS},[`&:not(${t}-icon-only) > ${t}-icon`]:{[`&${t}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:e.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},NG(e)),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&-icon-only${t}-compact-item`]:{flex:"none"},[`&-compact-item${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:e.lineWidth,height:`calc(100% + ${e.lineWidth*2}px)`,backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-vertical-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:`calc(100% + ${e.lineWidth*2}px)`,height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},cs=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),rQ=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),iQ=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.controlHeight/2,paddingInlineEnd:e.controlHeight/2}),oQ=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,boxShadow:"none"}),hf=(e,t,n,r,i,o,s,a)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,backgroundColor:t,borderColor:r||void 0,boxShadow:"none"},cs(e,Object.assign({backgroundColor:t},s),Object.assign({backgroundColor:t},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),Y1=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},oQ(e))}),uR=e=>Object.assign({},Y1(e)),fm=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),dR=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},uR(e)),{backgroundColor:e.defaultBg,borderColor:e.defaultBorderColor,color:e.defaultColor,boxShadow:e.defaultShadow}),cs(e.componentCls,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),hf(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},cs(e.componentCls,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),hf(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),Y1(e))}),sQ=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},uR(e)),{color:e.primaryColor,backgroundColor:e.colorPrimary,boxShadow:e.primaryShadow}),cs(e.componentCls,{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryHover},{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryActive})),hf(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({backgroundColor:e.colorError,boxShadow:e.dangerShadow,color:e.dangerColor},cs(e.componentCls,{backgroundColor:e.colorErrorHover},{backgroundColor:e.colorErrorActive})),hf(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Y1(e))}),aQ=e=>Object.assign(Object.assign({},dR(e)),{borderStyle:"dashed"}),lQ=e=>Object.assign(Object.assign(Object.assign({color:e.colorLink},cs(e.componentCls,{color:e.colorLinkHover,backgroundColor:e.linkHoverBg},{color:e.colorLinkActive})),fm(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},cs(e.componentCls,{color:e.colorErrorHover},{color:e.colorErrorActive})),fm(e))}),cQ=e=>Object.assign(Object.assign(Object.assign({},cs(e.componentCls,{color:e.colorText,backgroundColor:e.textHoverBg},{color:e.colorText,backgroundColor:e.colorBgTextActive})),fm(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},fm(e)),cs(e.componentCls,{color:e.colorErrorHover,backgroundColor:e.colorErrorBg},{color:e.colorErrorHover,backgroundColor:e.colorErrorBg}))}),uQ=e=>{const{componentCls:t}=e;return{[`${t}-default`]:dR(e),[`${t}-primary`]:sQ(e),[`${t}-dashed`]:aQ(e),[`${t}-link`]:lQ(e),[`${t}-text`]:cQ(e),[`${t}-ghost`]:hf(e.componentCls,e.ghostBg,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)}},Z1=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,lineHeight:o,lineWidth:s,borderRadius:a,buttonPaddingHorizontal:l,iconCls:c}=e,u=Math.max(0,(r-i*o)/2-s),f=`${n}-icon-only`;return[{[`${n}${t}`]:{fontSize:i,height:r,padding:`${u}px ${l}px`,borderRadius:a,[`&${f}`]:{width:r,paddingInlineStart:0,paddingInlineEnd:0,[`&${n}-round`]:{width:"auto"},[c]:{fontSize:e.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:e.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${e.motionDurationSlow} ${e.motionEaseInOut}, opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`}}},{[`${n}${n}-circle${t}`]:rQ(e)},{[`${n}${n}-round${t}`]:iQ(e)}]},dQ=e=>Z1(ci(e,{fontSize:e.contentFontSize})),fQ=e=>{const t=ci(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return Z1(t,`${e.componentCls}-sm`)},hQ=e=>{const t=ci(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return Z1(t,`${e.componentCls}-lg`)},pQ=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},fR=e=>{const{paddingInline:t,onlyIconSize:n}=e;return ci(e,{buttonPaddingHorizontal:t,buttonIconOnlyFontSize:n})},hR=e=>({fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:e.colorBgTextHover,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,contentFontSize:e.fontSize,contentFontSizeSM:e.fontSize,contentFontSizeLG:e.fontSizeLG}),mQ=Tl("Button",e=>{const t=fR(e);return[nQ(t),fQ(t),dQ(t),hQ(t),pQ(t),uQ(t),tQ(t)]},hR);function gQ(e,t,n){const{focusElCls:r,focus:i,borderElCls:o}=n,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${s}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:-e.lineWidth},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function vQ(e,t,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function pR(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=e,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},gQ(e,r,t)),vQ(n,r,t))}}function bQ(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:-e.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function yQ(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function _Q(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},bQ(e,t)),yQ(e.componentCls,t))}}const xQ=$3(["Button","compact"],e=>{const t=fR(e);return[pR(t),_Q(t)]},hR);var wQ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function SQ(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const CQ=(e,t)=>{var n,r;const{loading:i=!1,prefixCls:o,type:s="default",danger:a,shape:l="default",size:c,styles:u,disabled:f,className:h,rootClassName:m,children:p,icon:g,ghost:_=!1,block:x=!1,htmlType:S="button",classNames:C,style:j={}}=e,k=wQ(e,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),{getPrefixCls:T,autoInsertSpaceInButton:y,direction:P,button:A}=b.useContext(jr),$=T("btn",o),[L,U]=mQ($),F=b.useContext(Xf),H=f??F,q=b.useContext(lR),re=b.useMemo(()=>SQ(i),[i]),[G,Y]=b.useState(re.loading),[te,ne]=b.useState(!1),Q=Zf(t,b.createRef()),K=b.Children.count(p)===1&&!g&&!rb(s);b.useEffect(()=>{let $e=null;re.delay>0?$e=setTimeout(()=>{$e=null,Y(!0)},re.delay):Y(re.loading);function rt(){$e&&(clearTimeout($e),$e=null)}return rt},[re]),b.useEffect(()=>{if(!Q||!Q.current||y===!1)return;const $e=Q.current.textContent;K&&x_($e)?te||ne(!0):te&&ne(!1)},[Q]);const de=$e=>{const{onClick:rt}=e;if(G||H){$e.preventDefault();return}rt==null||rt($e)},X=y!==!1,{compactSize:J,compactItemClassnames:ue}=G1($,P),xe={large:"lg",small:"sm",middle:void 0},_e=Yf($e=>{var rt,Ve;return(Ve=(rt=c??J)!==null&&rt!==void 0?rt:q)!==null&&Ve!==void 0?Ve:$e}),he=_e&&xe[_e]||"",Z=G?"loading":g,se=jl(k,["navigate"]),ie=Se($,U,{[`${$}-${l}`]:l!=="default"&&l,[`${$}-${s}`]:s,[`${$}-${he}`]:he,[`${$}-icon-only`]:!p&&p!==0&&!!Z,[`${$}-background-ghost`]:_&&!rb(s),[`${$}-loading`]:G,[`${$}-two-chinese-chars`]:te&&X&&!G,[`${$}-block`]:x,[`${$}-dangerous`]:!!a,[`${$}-rtl`]:P==="rtl"},ue,h,m,A==null?void 0:A.className),be=Object.assign(Object.assign({},A==null?void 0:A.style),j),Ne=Se(C==null?void 0:C.icon,(n=A==null?void 0:A.classNames)===null||n===void 0?void 0:n.icon),Pe=Object.assign(Object.assign({},(u==null?void 0:u.icon)||{}),((r=A==null?void 0:A.styles)===null||r===void 0?void 0:r.icon)||{}),ze=g&&!G?Le.createElement(cR,{prefixCls:$,className:Ne,style:Pe},g):Le.createElement(eQ,{existIcon:!!g,prefixCls:$,loading:!!G}),Oe=p||p===0?QZ(p,K&&X):null;if(se.href!==void 0)return L(Le.createElement("a",Object.assign({},se,{className:Se(ie,{[`${$}-disabled`]:H}),href:H?void 0:se.href,style:be,onClick:de,ref:Q,tabIndex:H?-1:0}),ze,Oe));let qe=Le.createElement("button",Object.assign({},k,{type:S,className:ie,style:be,onClick:de,disabled:H,ref:Q}),ze,Oe,ue&&Le.createElement(xQ,{key:"compact",prefixCls:$}));return rb(s)||(qe=Le.createElement(j3,{component:"Button",disabled:!!G},qe)),L(qe)},Q1=b.forwardRef(CQ);Q1.Group=YZ;Q1.__ANT_BUTTON=!0;const TQ=Q1;var Fa="RC_FORM_INTERNAL_HOOKS",vn=function(){Ys(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},fl=b.createContext({getFieldValue:vn,getFieldsValue:vn,getFieldError:vn,getFieldWarning:vn,getFieldsError:vn,isFieldsTouched:vn,isFieldTouched:vn,isFieldValidating:vn,isFieldsValidating:vn,resetFields:vn,setFields:vn,setFieldValue:vn,setFieldsValue:vn,validateFields:vn,submit:vn,getInternalHooks:function(){return vn(),{dispatch:vn,initEntityValue:vn,registerField:vn,useSubscribe:vn,setInitialValues:vn,destroyForm:vn,setCallbacks:vn,registerWatch:vn,getFields:vn,setValidateMessages:vn,setPreserve:vn,getInitialValue:vn}}}),pf=b.createContext(null);function w_(e){return e==null?[]:Array.isArray(e)?e:[e]}function jQ(e){return e&&!!e._init}function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},za.apply(this,arguments)}function EQ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mf(e,t)}function S_(e){return S_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S_(e)}function mf(e,t){return mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mf(e,t)}function kQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zp(e,t,n){return kQ()?zp=Reflect.construct.bind():zp=function(i,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(i,a),c=new l;return s&&mf(c,s.prototype),c},zp.apply(null,arguments)}function OQ(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function C_(e){var t=typeof Map=="function"?new Map:void 0;return C_=function(r){if(r===null||!OQ(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return zp(r,arguments,S_(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),mf(i,r)},C_(e)}var MQ=/%[sdj%]/g,NQ=function(){};function T_(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function si(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var s=e.replace(MQ,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return a}});return s}return e}function PQ(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Yn(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||PQ(t)&&typeof e=="string"&&!e)}function AQ(e,t,n){var r=[],i=0,o=e.length;function s(a){r.push.apply(r,a||[]),i++,i===o&&n(r)}e.forEach(function(a){t(a,s)})}function BT(e,t,n){var r=0,i=e.length;function o(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<i?t(e[a],o):n([])}o([])}function RQ(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var WT=function(e){EQ(t,e);function t(n,r){var i;return i=e.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return t}(C_(Error));function $Q(e,t,n,r,i){if(t.first){var o=new Promise(function(h,m){var p=function(x){return r(x),x.length?m(new WT(x,T_(x))):h(i)},g=RQ(e);BT(g,n,p)});return o.catch(function(h){return h}),o}var s=t.firstFields===!0?Object.keys(e):t.firstFields||[],a=Object.keys(e),l=a.length,c=0,u=[],f=new Promise(function(h,m){var p=function(_){if(u.push.apply(u,_),c++,c===l)return r(u),u.length?m(new WT(u,T_(u))):h(i)};a.length||(r(u),h(i)),a.forEach(function(g){var _=e[g];s.indexOf(g)!==-1?BT(_,n,p):AQ(_,n,p)})});return f.catch(function(h){return h}),f}function IQ(e){return!!(e&&e.message!==void 0)}function DQ(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function HT(e,t){return function(n){var r;return e.fullFields?r=DQ(t,e.fullFields):r=t[n.field||e.fullField],IQ(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function qT(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=za({},e[n],r):e[n]=r}}return e}var mR=function(t,n,r,i,o,s){t.required&&(!r.hasOwnProperty(t.field)||Yn(n,s||t.type))&&i.push(si(o.messages.required,t.fullField))},LQ=function(t,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(si(o.messages.whitespace,t.fullField))},Xh,FQ=function(){if(Xh)return Xh;var e="[a-fA-F\\d:]",t=function(j){return j&&j.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),s=new RegExp("^"+n+"$"),a=new RegExp("^"+i+"$"),l=function(j){return j&&j.exact?o:new RegExp("(?:"+t(j)+n+t(j)+")|(?:"+t(j)+i+t(j)+")","g")};l.v4=function(C){return C&&C.exact?s:new RegExp(""+t(C)+n+t(C),"g")},l.v6=function(C){return C&&C.exact?a:new RegExp(""+t(C)+i+t(C),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,h=l.v6().source,m="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",_="(?::\\d{2,5})?",x='(?:[/?#][^\\s"]*)?',S="(?:"+c+"|www\\.)"+u+"(?:localhost|"+f+"|"+h+"|"+m+p+g+")"+_+x;return Xh=new RegExp("(?:^"+S+"$)","i"),Xh},VT={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},$d={integer:function(t){return $d.number(t)&&parseInt(t,10)===t},float:function(t){return $d.number(t)&&!$d.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!$d.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(VT.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(FQ())},hex:function(t){return typeof t=="string"&&!!t.match(VT.hex)}},zQ=function(t,n,r,i,o){if(t.required&&n===void 0){mR(t,n,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=t.type;s.indexOf(a)>-1?$d[a](n)||i.push(si(o.messages.types[a],t.fullField,t.type)):a&&typeof n!==t.type&&i.push(si(o.messages.types[a],t.fullField,t.type))},BQ=function(t,n,r,i,o){var s=typeof t.len=="number",a=typeof t.min=="number",l=typeof t.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,f=null,h=typeof n=="number",m=typeof n=="string",p=Array.isArray(n);if(h?f="number":m?f="string":p&&(f="array"),!f)return!1;p&&(u=n.length),m&&(u=n.replace(c,"_").length),s?u!==t.len&&i.push(si(o.messages[f].len,t.fullField,t.len)):a&&!l&&u<t.min?i.push(si(o.messages[f].min,t.fullField,t.min)):l&&!a&&u>t.max?i.push(si(o.messages[f].max,t.fullField,t.max)):a&&l&&(u<t.min||u>t.max)&&i.push(si(o.messages[f].range,t.fullField,t.min,t.max))},Ul="enum",WQ=function(t,n,r,i,o){t[Ul]=Array.isArray(t[Ul])?t[Ul]:[],t[Ul].indexOf(n)===-1&&i.push(si(o.messages[Ul],t.fullField,t[Ul].join(", ")))},HQ=function(t,n,r,i,o){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||i.push(si(o.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var s=new RegExp(t.pattern);s.test(n)||i.push(si(o.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},Jt={required:mR,whitespace:LQ,type:zQ,range:BQ,enum:WQ,pattern:HQ},qQ=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Yn(n,"string")&&!t.required)return r();Jt.required(t,n,i,s,o,"string"),Yn(n,"string")||(Jt.type(t,n,i,s,o),Jt.range(t,n,i,s,o),Jt.pattern(t,n,i,s,o),t.whitespace===!0&&Jt.whitespace(t,n,i,s,o))}r(s)},VQ=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Yn(n)&&!t.required)return r();Jt.required(t,n,i,s,o),n!==void 0&&Jt.type(t,n,i,s,o)}r(s)},UQ=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(n===""&&(n=void 0),Yn(n)&&!t.required)return r();Jt.required(t,n,i,s,o),n!==void 0&&(Jt.type(t,n,i,s,o),Jt.range(t,n,i,s,o))}r(s)},GQ=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Yn(n)&&!t.required)return r();Jt.required(t,n,i,s,o),n!==void 0&&Jt.type(t,n,i,s,o)}r(s)},KQ=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Yn(n)&&!t.required)return r();Jt.required(t,n,i,s,o),Yn(n)||Jt.type(t,n,i,s,o)}r(s)},YQ=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Yn(n)&&!t.required)return r();Jt.required(t,n,i,s,o),n!==void 0&&(Jt.type(t,n,i,s,o),Jt.range(t,n,i,s,o))}r(s)},ZQ=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Yn(n)&&!t.required)return r();Jt.required(t,n,i,s,o),n!==void 0&&(Jt.type(t,n,i,s,o),Jt.range(t,n,i,s,o))}r(s)},QQ=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(n==null&&!t.required)return r();Jt.required(t,n,i,s,o,"array"),n!=null&&(Jt.type(t,n,i,s,o),Jt.range(t,n,i,s,o))}r(s)},JQ=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Yn(n)&&!t.required)return r();Jt.required(t,n,i,s,o),n!==void 0&&Jt.type(t,n,i,s,o)}r(s)},XQ="enum",eJ=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Yn(n)&&!t.required)return r();Jt.required(t,n,i,s,o),n!==void 0&&Jt[XQ](t,n,i,s,o)}r(s)},tJ=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Yn(n,"string")&&!t.required)return r();Jt.required(t,n,i,s,o),Yn(n,"string")||Jt.pattern(t,n,i,s,o)}r(s)},nJ=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Yn(n,"date")&&!t.required)return r();if(Jt.required(t,n,i,s,o),!Yn(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),Jt.type(t,l,i,s,o),l&&Jt.range(t,l.getTime(),i,s,o)}}r(s)},rJ=function(t,n,r,i,o){var s=[],a=Array.isArray(n)?"array":typeof n;Jt.required(t,n,i,s,o,a),r(s)},sb=function(t,n,r,i,o){var s=t.type,a=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(Yn(n,s)&&!t.required)return r();Jt.required(t,n,i,a,o,s),Yn(n,s)||Jt.type(t,n,i,a,o)}r(a)},iJ=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Yn(n)&&!t.required)return r();Jt.required(t,n,i,s,o)}r(s)},Vd={string:qQ,method:VQ,number:UQ,boolean:GQ,regexp:KQ,integer:YQ,float:ZQ,array:QQ,object:JQ,enum:eJ,pattern:tJ,date:nJ,url:sb,hex:sb,email:sb,required:rJ,any:iJ};function j_(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var E_=j_(),eh=function(){function e(n){this.rules=null,this._messages=E_,this.define(n)}var t=e.prototype;return t.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var s=r[o];i.rules[o]=Array.isArray(s)?s:[s]})},t.messages=function(r){return r&&(this._messages=qT(j_(),r)),this._messages},t.validate=function(r,i,o){var s=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var a=r,l=i,c=o;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,a),Promise.resolve(a);function u(g){var _=[],x={};function S(j){if(Array.isArray(j)){var k;_=(k=_).concat.apply(k,j)}else _.push(j)}for(var C=0;C<g.length;C++)S(g[C]);_.length?(x=T_(_),c(_,x)):c(null,a)}if(l.messages){var f=this.messages();f===E_&&(f=j_()),qT(f,l.messages),l.messages=f}else l.messages=this.messages();var h={},m=l.keys||Object.keys(this.rules);m.forEach(function(g){var _=s.rules[g],x=a[g];_.forEach(function(S){var C=S;typeof C.transform=="function"&&(a===r&&(a=za({},a)),x=a[g]=C.transform(x)),typeof C=="function"?C={validator:C}:C=za({},C),C.validator=s.getValidationMethod(C),C.validator&&(C.field=g,C.fullField=C.fullField||g,C.type=s.getType(C),h[g]=h[g]||[],h[g].push({rule:C,value:x,source:a,field:g}))})});var p={};return $Q(h,l,function(g,_){var x=g.rule,S=(x.type==="object"||x.type==="array")&&(typeof x.fields=="object"||typeof x.defaultField=="object");S=S&&(x.required||!x.required&&g.value),x.field=g.field;function C(T,y){return za({},y,{fullField:x.fullField+"."+T,fullFields:x.fullFields?[].concat(x.fullFields,[T]):[T]})}function j(T){T===void 0&&(T=[]);var y=Array.isArray(T)?T:[T];!l.suppressWarning&&y.length&&e.warning("async-validator:",y),y.length&&x.message!==void 0&&(y=[].concat(x.message));var P=y.map(HT(x,a));if(l.first&&P.length)return p[x.field]=1,_(P);if(!S)_(P);else{if(x.required&&!g.value)return x.message!==void 0?P=[].concat(x.message).map(HT(x,a)):l.error&&(P=[l.error(x,si(l.messages.required,x.field))]),_(P);var A={};x.defaultField&&Object.keys(g.value).map(function(U){A[U]=x.defaultField}),A=za({},A,g.rule.fields);var $={};Object.keys(A).forEach(function(U){var F=A[U],H=Array.isArray(F)?F:[F];$[U]=H.map(C.bind(null,U))});var L=new e($);L.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),L.validate(g.value,g.rule.options||l,function(U){var F=[];P&&P.length&&F.push.apply(F,P),U&&U.length&&F.push.apply(F,U),_(F.length?F:null)})}}var k;if(x.asyncValidator)k=x.asyncValidator(x,g.value,j,g.source,l);else if(x.validator){try{k=x.validator(x,g.value,j,g.source,l)}catch(T){console.error==null||console.error(T),l.suppressValidatorError||setTimeout(function(){throw T},0),j(T.message)}k===!0?j():k===!1?j(typeof x.message=="function"?x.message(x.fullField||x.field):x.message||(x.fullField||x.field)+" fails"):k instanceof Array?j(k):k instanceof Error&&j(k.message)}k&&k.then&&k.then(function(){return j()},function(T){return j(T)})},function(g){u(g)},a)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Vd.hasOwnProperty(r.type))throw new Error(si("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?Vd.required:Vd[this.getType(r)]||void 0},e}();eh.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Vd[t]=n};eh.warning=NQ;eh.messages=E_;eh.validators=Vd;var Xr="'${name}' is not a valid ${type}",gR={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Xr,method:Xr,array:Xr,object:Xr,number:Xr,date:Xr,boolean:Xr,integer:Xr,float:Xr,regexp:Xr,email:Xr,url:Xr,hex:Xr},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},UT=eh;function oJ(e,t){return e.replace(/\$\{\w+\}/g,function(n){var r=n.slice(2,-1);return t[r]})}var GT="CODE_LOGIC_ERROR";function k_(e,t,n,r,i){return O_.apply(this,arguments)}function O_(){return O_=Kf(Oo().mark(function e(t,n,r,i,o){var s,a,l,c,u,f,h,m,p;return Oo().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return s=jt({},r),delete s.ruleIndex,UT.warning=function(){},s.validator&&(a=s.validator,s.validator=function(){try{return a.apply(void 0,arguments)}catch(x){return console.error(x),Promise.reject(GT)}}),l=null,s&&s.type==="array"&&s.defaultField&&(l=s.defaultField,delete s.defaultField),c=new UT(He({},t,[s])),u=Rd(gR,i.validateMessages),c.messages(u),f=[],_.prev=10,_.next=13,Promise.resolve(c.validate(He({},t,n),jt({},i)));case 13:_.next=18;break;case 15:_.prev=15,_.t0=_.catch(10),_.t0.errors&&(f=_.t0.errors.map(function(x,S){var C=x.message,j=C===GT?u.default:C;return b.isValidElement(j)?b.cloneElement(j,{key:"error_".concat(S)}):j}));case 18:if(!(!f.length&&l)){_.next=23;break}return _.next=21,Promise.all(n.map(function(x,S){return k_("".concat(t,".").concat(S),x,l,i,o)}));case 21:return h=_.sent,_.abrupt("return",h.reduce(function(x,S){return[].concat(At(x),At(S))},[]));case 23:return m=jt(jt({},r),{},{name:t,enum:(r.enum||[]).join(", ")},o),p=f.map(function(x){return typeof x=="string"?oJ(x,m):x}),_.abrupt("return",p);case 26:case"end":return _.stop()}},e,null,[[10,15]])})),O_.apply(this,arguments)}function sJ(e,t,n,r,i,o){var s=e.join("."),a=n.map(function(u,f){var h=u.validator,m=jt(jt({},u),{},{ruleIndex:f});return h&&(m.validator=function(p,g,_){var x=!1,S=function(){for(var k=arguments.length,T=new Array(k),y=0;y<k;y++)T[y]=arguments[y];Promise.resolve().then(function(){Ys(!x,"Your validator function has already return a promise. `callback` will be ignored."),x||_.apply(void 0,T)})},C=h(p,g,S);x=C&&typeof C.then=="function"&&typeof C.catch=="function",Ys(x,"`callback` is deprecated. Please return a promise instead."),x&&C.then(function(){_()}).catch(function(j){_(j||" ")})}),m}).sort(function(u,f){var h=u.warningOnly,m=u.ruleIndex,p=f.warningOnly,g=f.ruleIndex;return!!h==!!p?m-g:h?1:-1}),l;if(i===!0)l=new Promise(function(){var u=Kf(Oo().mark(function f(h,m){var p,g,_;return Oo().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:p=0;case 1:if(!(p<a.length)){S.next=12;break}return g=a[p],S.next=5,k_(s,t,g,r,o);case 5:if(_=S.sent,!_.length){S.next=9;break}return m([{errors:_,rule:g}]),S.abrupt("return");case 9:p+=1,S.next=1;break;case 12:h([]);case 13:case"end":return S.stop()}},f)}));return function(f,h){return u.apply(this,arguments)}}());else{var c=a.map(function(u){return k_(s,t,u,r,o).then(function(f){return{errors:f,rule:u}})});l=(i?lJ(c):aJ(c)).then(function(u){return Promise.reject(u)})}return l.catch(function(u){return u}),l}function aJ(e){return M_.apply(this,arguments)}function M_(){return M_=Kf(Oo().mark(function e(t){return Oo().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(t).then(function(i){var o,s=(o=[]).concat.apply(o,At(i));return s}));case 1:case"end":return r.stop()}},e)})),M_.apply(this,arguments)}function lJ(e){return N_.apply(this,arguments)}function N_(){return N_=Kf(Oo().mark(function e(t){var n;return Oo().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){t.forEach(function(s){s.then(function(a){a.errors.length&&o([a]),n+=1,n===t.length&&o([])})})}));case 2:case"end":return i.stop()}},e)})),N_.apply(this,arguments)}function Bn(e){return w_(e)}function KT(e,t){var n={};return t.forEach(function(r){var i=Ws(e,r);n=As(n,r,i)}),n}function Oc(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(r){return vR(t,r,n)})}function vR(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!n&&e.length!==t.length?!1:t.every(function(r,i){return e[i]===r})}function cJ(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||Ai(e)!=="object"||Ai(t)!=="object")return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(n,r));return At(i).every(function(o){var s=e[o],a=t[o];return typeof s=="function"&&typeof a=="function"?!0:s===a})}function uJ(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&Ai(t.target)==="object"&&e in t.target?t.target[e]:t}function YT(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat(At(e.slice(0,n)),[i],At(e.slice(n,t)),At(e.slice(t+1,r))):o<0?[].concat(At(e.slice(0,t)),At(e.slice(t+1,n+1)),[i],At(e.slice(n+1,r))):e}var dJ=["name"],xi=[];function ZT(e,t,n,r,i,o){return typeof e=="function"?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var J1=function(e){KV(n,e);var t=YV(n);function n(r){var i;if(W1(this,n),i=t.call(this,r),He(an(i),"state",{resetCount:0}),He(an(i),"cancelRegisterFunc",null),He(an(i),"mounted",!1),He(an(i),"touched",!1),He(an(i),"dirty",!1),He(an(i),"validatePromise",void 0),He(an(i),"prevValidating",void 0),He(an(i),"errors",xi),He(an(i),"warnings",xi),He(an(i),"cancelRegister",function(){var l=i.props,c=l.preserve,u=l.isListField,f=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(u,c,Bn(f)),i.cancelRegisterFunc=null}),He(an(i),"getNamePath",function(){var l=i.props,c=l.name,u=l.fieldContext,f=u.prefixName,h=f===void 0?[]:f;return c!==void 0?[].concat(At(h),At(c)):[]}),He(an(i),"getRules",function(){var l=i.props,c=l.rules,u=c===void 0?[]:c,f=l.fieldContext;return u.map(function(h){return typeof h=="function"?h(f):h})}),He(an(i),"refresh",function(){i.mounted&&i.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),He(an(i),"metaCache",null),He(an(i),"triggerMetaEvent",function(l){var c=i.props.onMetaChange;if(c){var u=jt(jt({},i.getMeta()),{},{destroy:l});ZV(i.metaCache,u)||c(u),i.metaCache=u}else i.metaCache=null}),He(an(i),"onStoreChange",function(l,c,u){var f=i.props,h=f.shouldUpdate,m=f.dependencies,p=m===void 0?[]:m,g=f.onReset,_=u.store,x=i.getNamePath(),S=i.getValue(l),C=i.getValue(_),j=c&&Oc(c,x);switch(u.type==="valueUpdate"&&u.source==="external"&&S!==C&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=xi,i.warnings=xi,i.triggerMetaEvent()),u.type){case"reset":if(!c||j){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=xi,i.warnings=xi,i.triggerMetaEvent(),g==null||g(),i.refresh();return}break;case"remove":{if(h){i.reRender();return}break}case"setField":{var k=u.data;if(j){"touched"in k&&(i.touched=k.touched),"validating"in k&&!("originRCField"in k)&&(i.validatePromise=k.validating?Promise.resolve([]):null),"errors"in k&&(i.errors=k.errors||xi),"warnings"in k&&(i.warnings=k.warnings||xi),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in k&&Oc(c,x,!0)){i.reRender();return}if(h&&!x.length&&ZT(h,l,_,S,C,u)){i.reRender();return}break}case"dependenciesUpdate":{var T=p.map(Bn);if(T.some(function(y){return Oc(u.relatedFields,y)})){i.reRender();return}break}default:if(j||(!p.length||x.length||h)&&ZT(h,l,_,S,C,u)){i.reRender();return}break}h===!0&&i.reRender()}),He(an(i),"validateRules",function(l){var c=i.getNamePath(),u=i.getValue(),f=l||{},h=f.triggerName,m=f.validateOnly,p=m===void 0?!1:m,g=Promise.resolve().then(Kf(Oo().mark(function _(){var x,S,C,j,k,T,y;return Oo().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(i.mounted){A.next=2;break}return A.abrupt("return",[]);case 2:if(x=i.props,S=x.validateFirst,C=S===void 0?!1:S,j=x.messageVariables,k=x.validateDebounce,T=i.getRules(),h&&(T=T.filter(function($){return $}).filter(function($){var L=$.validateTrigger;if(!L)return!0;var U=w_(L);return U.includes(h)})),!(k&&h)){A.next=10;break}return A.next=8,new Promise(function($){setTimeout($,k)});case 8:if(i.validatePromise===g){A.next=10;break}return A.abrupt("return",[]);case 10:return y=sJ(c,u,T,l,C,j),y.catch(function($){return $}).then(function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xi;if(i.validatePromise===g){var L;i.validatePromise=null;var U=[],F=[];(L=$.forEach)===null||L===void 0||L.call($,function(H){var q=H.rule.warningOnly,re=H.errors,G=re===void 0?xi:re;q?F.push.apply(F,At(G)):U.push.apply(U,At(G))}),i.errors=U,i.warnings=F,i.triggerMetaEvent(),i.reRender()}}),A.abrupt("return",y);case 13:case"end":return A.stop()}},_)})));return p||(i.validatePromise=g,i.dirty=!0,i.errors=xi,i.warnings=xi,i.triggerMetaEvent(),i.reRender()),g}),He(an(i),"isFieldValidating",function(){return!!i.validatePromise}),He(an(i),"isFieldTouched",function(){return i.touched}),He(an(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,c=l.getInternalHooks(Fa),u=c.getInitialValue;return u(i.getNamePath())!==void 0}),He(an(i),"getErrors",function(){return i.errors}),He(an(i),"getWarnings",function(){return i.warnings}),He(an(i),"isListField",function(){return i.props.isListField}),He(an(i),"isList",function(){return i.props.isList}),He(an(i),"isPreserve",function(){return i.props.preserve}),He(an(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),He(an(i),"getOnlyChild",function(l){if(typeof l=="function"){var c=i.getMeta();return jt(jt({},i.getOnlyChild(l(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var u=I3(l);return u.length!==1||!b.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),He(an(i),"getValue",function(l){var c=i.props.fieldContext.getFieldsValue,u=i.getNamePath();return Ws(l||c(!0),u)}),He(an(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,u=c.trigger,f=c.validateTrigger,h=c.getValueFromEvent,m=c.normalize,p=c.valuePropName,g=c.getValueProps,_=c.fieldContext,x=f!==void 0?f:_.validateTrigger,S=i.getNamePath(),C=_.getInternalHooks,j=_.getFieldsValue,k=C(Fa),T=k.dispatch,y=i.getValue(),P=g||function(U){return He({},p,U)},A=l[u],$=jt(jt({},l),P(y));$[u]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var U,F=arguments.length,H=new Array(F),q=0;q<F;q++)H[q]=arguments[q];h?U=h.apply(void 0,H):U=uJ.apply(void 0,[p].concat(H)),m&&(U=m(U,y,j(!0))),T({type:"updateValue",namePath:S,value:U}),A&&A.apply(void 0,H)};var L=w_(x||[]);return L.forEach(function(U){var F=$[U];$[U]=function(){F&&F.apply(void 0,arguments);var H=i.props.rules;H&&H.length&&T({type:"validateField",namePath:S,triggerName:U})}}),$}),r.fieldContext){var o=r.fieldContext.getInternalHooks,s=o(Fa),a=s.initEntityValue;a(an(i))}return i}return Qf(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,s=i.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,l=a(Fa),c=l.registerField;this.cancelRegisterFunc=c(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,o=this.props.children,s=this.getOnlyChild(o),a=s.child,l=s.isFunction,c;return l?c=a:b.isValidElement(a)?c=b.cloneElement(a,this.getControlled(a.props)):(Ys(!a,"`children` of Field is not validate ReactElement."),c=a),b.createElement(b.Fragment,{key:i},c)}}]),n}(b.Component);He(J1,"contextType",fl);He(J1,"defaultProps",{trigger:"onChange",valuePropName:"value"});function X1(e){var t=e.name,n=$n(e,dJ),r=b.useContext(fl),i=b.useContext(pf),o=t!==void 0?Bn(t):void 0,s="keep";return n.isListField||(s="_".concat((o||[]).join("_"))),b.createElement(J1,et({key:s,name:o,isListField:!!i},n,{fieldContext:r}))}function bR(e){var t=e.name,n=e.initialValue,r=e.children,i=e.rules,o=e.validateTrigger,s=e.isListField,a=b.useContext(fl),l=b.useContext(pf),c=b.useRef({keys:[],id:0}),u=c.current,f=b.useMemo(function(){var g=Bn(a.prefixName)||[];return[].concat(At(g),At(Bn(t)))},[a.prefixName,t]),h=b.useMemo(function(){return jt(jt({},a),{},{prefixName:f})},[a,f]),m=b.useMemo(function(){return{getKey:function(_){var x=f.length,S=_[x];return[u.keys[S],_.slice(x+1)]}}},[f]);if(typeof r!="function")return Ys(!1,"Form.List only accepts function as children."),null;var p=function(_,x,S){var C=S.source;return C==="internal"?!1:_!==x};return b.createElement(pf.Provider,{value:m},b.createElement(fl.Provider,{value:h},b.createElement(X1,{name:[],shouldUpdate:p,rules:i,validateTrigger:o,initialValue:n,isList:!0,isListField:s??!!l},function(g,_){var x=g.value,S=x===void 0?[]:x,C=g.onChange,j=a.getFieldValue,k=function(){var A=j(f||[]);return A||[]},T={add:function(A,$){var L=k();$>=0&&$<=L.length?(u.keys=[].concat(At(u.keys.slice(0,$)),[u.id],At(u.keys.slice($))),C([].concat(At(L.slice(0,$)),[A],At(L.slice($))))):(u.keys=[].concat(At(u.keys),[u.id]),C([].concat(At(L),[A]))),u.id+=1},remove:function(A){var $=k(),L=new Set(Array.isArray(A)?A:[A]);L.size<=0||(u.keys=u.keys.filter(function(U,F){return!L.has(F)}),C($.filter(function(U,F){return!L.has(F)})))},move:function(A,$){if(A!==$){var L=k();A<0||A>=L.length||$<0||$>=L.length||(u.keys=YT(u.keys,A,$),C(YT(L,A,$)))}}},y=S||[];return Array.isArray(y)||(y=[]),r(y.map(function(P,A){var $=u.keys[A];return $===void 0&&(u.keys[A]=u.id,$=u.keys[A],u.id+=1),{name:A,key:$,isListField:!0}}),T,_)})))}function fJ(e){var t=!1,n=e.length,r=[];return e.length?new Promise(function(i,o){e.forEach(function(s,a){s.catch(function(l){return t=!0,l}).then(function(l){n-=1,r[a]=l,!(n>0)&&(t&&o(r),i(r))})})}):Promise.resolve([])}var yR="__@field_split__";function ab(e){return e.map(function(t){return"".concat(Ai(t),":").concat(t)}).join(yR)}var Gl=function(){function e(){W1(this,e),He(this,"kvs",new Map)}return Qf(e,[{key:"set",value:function(n,r){this.kvs.set(ab(n),r)}},{key:"get",value:function(n){return this.kvs.get(ab(n))}},{key:"update",value:function(n,r){var i=this.get(n),o=r(i);o?this.set(n,o):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(ab(n))}},{key:"map",value:function(n){return At(this.kvs.entries()).map(function(r){var i=Gn(r,2),o=i[0],s=i[1],a=o.split(yR);return n({key:a.map(function(l){var c=l.match(/^([^:]*):(.*)$/),u=Gn(c,3),f=u[1],h=u[2];return f==="number"?Number(h):h}),value:s})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,o=r.value;return n[i.join(".")]=o,null}),n}}]),e}(),hJ=["name"],pJ=Qf(function e(t){var n=this;W1(this,e),He(this,"formHooked",!1),He(this,"forceRootUpdate",void 0),He(this,"subscribable",!0),He(this,"store",{}),He(this,"fieldEntities",[]),He(this,"initialValues",{}),He(this,"callbacks",{}),He(this,"validateMessages",null),He(this,"preserve",null),He(this,"lastValidatePromise",null),He(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),He(this,"getInternalHooks",function(r){return r===Fa?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Ys(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),He(this,"useSubscribe",function(r){n.subscribable=r}),He(this,"prevWithoutPreserves",null),He(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var o,s=Rd(r,n.store);(o=n.prevWithoutPreserves)===null||o===void 0||o.map(function(a){var l=a.key;s=As(s,l,Ws(r,l))}),n.prevWithoutPreserves=null,n.updateStore(s)}}),He(this,"destroyForm",function(){var r=new Gl;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||r.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=r}),He(this,"getInitialValue",function(r){var i=Ws(n.initialValues,r);return r.length?Rd(i):i}),He(this,"setCallbacks",function(r){n.callbacks=r}),He(this,"setValidateMessages",function(r){n.validateMessages=r}),He(this,"setPreserve",function(r){n.preserve=r}),He(this,"watchList",[]),He(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),He(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),o=n.getFieldsValue(!0);n.watchList.forEach(function(s){s(i,o,r)})}}),He(this,"timeoutId",null),He(this,"warningUnhooked",function(){}),He(this,"updateStore",function(r){n.store=r}),He(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),He(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new Gl;return n.getFieldEntities(r).forEach(function(o){var s=o.getNamePath();i.set(s,o)}),i}),He(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(o){var s=Bn(o);return i.get(s)||{INVALIDATE_NAME_PATH:Bn(o)}})}),He(this,"getFieldsValue",function(r,i){n.warningUnhooked();var o,s,a;if(r===!0||Array.isArray(r)?(o=r,s=i):r&&Ai(r)==="object"&&(a=r.strict,s=r.filter),o===!0&&!s)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),c=[];return l.forEach(function(u){var f,h,m="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(a){var p,g;if((p=(g=u).isList)!==null&&p!==void 0&&p.call(g))return}else if(!o&&(f=(h=u).isListField)!==null&&f!==void 0&&f.call(h))return;if(!s)c.push(m);else{var _="getMeta"in u?u.getMeta():null;s(_)&&c.push(m)}}),KT(n.store,c.map(Bn))}),He(this,"getFieldValue",function(r){n.warningUnhooked();var i=Bn(r);return Ws(n.store,i)}),He(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(o,s){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:Bn(r[s]),errors:[],warnings:[]}})}),He(this,"getFieldError",function(r){n.warningUnhooked();var i=Bn(r),o=n.getFieldsError([i])[0];return o.errors}),He(this,"getFieldWarning",function(r){n.warningUnhooked();var i=Bn(r),o=n.getFieldsError([i])[0];return o.warnings}),He(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i[0],a=i[1],l,c=!1;i.length===0?l=null:i.length===1?Array.isArray(s)?(l=s.map(Bn),c=!1):(l=null,c=s):(l=s.map(Bn),c=a);var u=n.getFieldEntities(!0),f=function(_){return _.isFieldTouched()};if(!l)return c?u.every(f):u.some(f);var h=new Gl;l.forEach(function(g){h.set(g,[])}),u.forEach(function(g){var _=g.getNamePath();l.forEach(function(x){x.every(function(S,C){return _[C]===S})&&h.update(x,function(S){return[].concat(At(S),[g])})})});var m=function(_){return _.some(f)},p=h.map(function(g){var _=g.value;return _});return c?p.every(m):p.some(m)}),He(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),He(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(s){return s.isFieldValidating()});var o=r.map(Bn);return i.some(function(s){var a=s.getNamePath();return Oc(o,a)&&s.isFieldValidating()})}),He(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),He(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new Gl,o=n.getFieldEntities(!0);o.forEach(function(l){var c=l.props.initialValue,u=l.getNamePath();if(c!==void 0){var f=i.get(u)||new Set;f.add({entity:l,value:c}),i.set(u,f)}});var s=function(c){c.forEach(function(u){var f=u.props.initialValue;if(f!==void 0){var h=u.getNamePath(),m=n.getInitialValue(h);if(m!==void 0)Ys(!1,"Form already set 'initialValues' with path '".concat(h.join("."),"'. Field can not overwrite it."));else{var p=i.get(h);if(p&&p.size>1)Ys(!1,"Multiple Field with path '".concat(h.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(p){var g=n.getFieldValue(h),_=u.isListField();!_&&(!r.skipExist||g===void 0)&&n.updateStore(As(n.store,h,At(p)[0].value))}}}})},a;r.entities?a=r.entities:r.namePathList?(a=[],r.namePathList.forEach(function(l){var c=i.get(l);if(c){var u;(u=a).push.apply(u,At(At(c).map(function(f){return f.entity})))}})):a=o,s(a)}),He(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(Rd(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var o=r.map(Bn);o.forEach(function(s){var a=n.getInitialValue(s);n.updateStore(As(n.store,s,a))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(i,o,{type:"reset"}),n.notifyWatch(o)}),He(this,"setFields",function(r){n.warningUnhooked();var i=n.store,o=[];r.forEach(function(s){var a=s.name,l=$n(s,hJ),c=Bn(a);o.push(c),"value"in l&&n.updateStore(As(n.store,c,l.value)),n.notifyObservers(i,[c],{type:"setField",data:s})}),n.notifyWatch(o)}),He(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(o){var s=o.getNamePath(),a=o.getMeta(),l=jt(jt({},a),{},{name:s,value:n.getFieldValue(s)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),He(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),s=Ws(n.store,o);s===void 0&&n.updateStore(As(n.store,o,i))}}),He(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),He(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var o=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(f){return f!==r}),!n.isMergedPreserve(a)&&(!s||l.length>1)){var c=s?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==c&&n.fieldEntities.every(function(f){return!vR(f.getNamePath(),i)})){var u=n.store;n.updateStore(As(u,i,c,!0)),n.notifyObservers(u,[i],{type:"remove"}),n.triggerDependenciesUpdate(u,i)}}n.notifyWatch([i])}}),He(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;n.updateValue(i,o);break}case"validateField":{var s=r.namePath,a=r.triggerName;n.validateFields([s],{triggerName:a});break}}}),He(this,"notifyObservers",function(r,i,o){if(n.subscribable){var s=jt(jt({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(a){var l=a.onStoreChange;l(r,i,s)})}else n.forceRootUpdate()}),He(this,"triggerDependenciesUpdate",function(r,i){var o=n.getDependencyChildrenFields(i);return o.length&&n.validateFields(o),n.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(At(o))}),o}),He(this,"updateValue",function(r,i){var o=Bn(r),s=n.store;n.updateStore(As(n.store,o,i)),n.notifyObservers(s,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var a=n.triggerDependenciesUpdate(s,o),l=n.callbacks.onValuesChange;if(l){var c=KT(n.store,[o]);l(c,n.getFieldsValue())}n.triggerOnFieldsChange([o].concat(At(a)))}),He(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var o=Rd(n.store,r);n.updateStore(o)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),He(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i}])}),He(this,"getDependencyChildrenFields",function(r){var i=new Set,o=[],s=new Gl;n.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(u){var f=Bn(u);s.update(f,function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return h.add(l),h})})});var a=function l(c){var u=s.get(c)||new Set;u.forEach(function(f){if(!i.has(f)){i.add(f);var h=f.getNamePath();f.isFieldDirty()&&h.length&&(o.push(h),l(h))}})};return a(r),o}),He(this,"triggerOnFieldsChange",function(r,i){var o=n.callbacks.onFieldsChange;if(o){var s=n.getFields();if(i){var a=new Gl;i.forEach(function(c){var u=c.name,f=c.errors;a.set(u,f)}),s.forEach(function(c){c.errors=a.get(c.name)||c.errors})}var l=s.filter(function(c){var u=c.name;return Oc(r,u)});l.length&&o(l,s)}}),He(this,"validateFields",function(r,i){n.warningUnhooked();var o,s;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(o=r,s=i):s=r;var a=!!o,l=a?o.map(Bn):[],c=[],u=String(Date.now()),f=new Set,h=s||{},m=h.recursive,p=h.dirty;n.getFieldEntities(!0).forEach(function(S){if(a||l.push(S.getNamePath()),!(!S.props.rules||!S.props.rules.length)&&!(p&&!S.isFieldDirty())){var C=S.getNamePath();if(f.add(C.join(u)),!a||Oc(l,C,m)){var j=S.validateRules(jt({validateMessages:jt(jt({},gR),n.validateMessages)},s));c.push(j.then(function(){return{name:C,errors:[],warnings:[]}}).catch(function(k){var T,y=[],P=[];return(T=k.forEach)===null||T===void 0||T.call(k,function(A){var $=A.rule.warningOnly,L=A.errors;$?P.push.apply(P,At(L)):y.push.apply(y,At(L))}),y.length?Promise.reject({name:C,errors:y,warnings:P}):{name:C,errors:y,warnings:P}}))}}});var g=fJ(c);n.lastValidatePromise=g,g.catch(function(S){return S}).then(function(S){var C=S.map(function(j){var k=j.name;return k});n.notifyObservers(n.store,C,{type:"validateFinish"}),n.triggerOnFieldsChange(C,S)});var _=g.then(function(){return n.lastValidatePromise===g?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(S){var C=S.filter(function(j){return j&&j.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:C,outOfDate:n.lastValidatePromise!==g})});_.catch(function(S){return S});var x=l.filter(function(S){return f.has(S.join(u))});return n.triggerOnFieldsChange(x),_}),He(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=t});function eS(e){var t=b.useRef(),n=b.useState({}),r=Gn(n,2),i=r[1];if(!t.current)if(e)t.current=e;else{var o=function(){i({})},s=new pJ(o);t.current=s.getForm()}return[t.current]}var P_=b.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),_R=function(t){var n=t.validateMessages,r=t.onFormChange,i=t.onFormFinish,o=t.children,s=b.useContext(P_),a=b.useRef({});return b.createElement(P_.Provider,{value:jt(jt({},s),{},{validateMessages:jt(jt({},s.validateMessages),n),triggerFormChange:function(c,u){r&&r(c,{changedFields:u,forms:a.current}),s.triggerFormChange(c,u)},triggerFormFinish:function(c,u){i&&i(c,{values:u,forms:a.current}),s.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(a.current=jt(jt({},a.current),{},He({},c,u))),s.registerForm(c,u)},unregisterForm:function(c){var u=jt({},a.current);delete u[c],a.current=u,s.unregisterForm(c)}})},o)},mJ=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],gJ=function(t,n){var r=t.name,i=t.initialValues,o=t.fields,s=t.form,a=t.preserve,l=t.children,c=t.component,u=c===void 0?"form":c,f=t.validateMessages,h=t.validateTrigger,m=h===void 0?"onChange":h,p=t.onValuesChange,g=t.onFieldsChange,_=t.onFinish,x=t.onFinishFailed,S=$n(t,mJ),C=b.useContext(P_),j=eS(s),k=Gn(j,1),T=k[0],y=T.getInternalHooks(Fa),P=y.useSubscribe,A=y.setInitialValues,$=y.setCallbacks,L=y.setValidateMessages,U=y.setPreserve,F=y.destroyForm;b.useImperativeHandle(n,function(){return T}),b.useEffect(function(){return C.registerForm(r,T),function(){C.unregisterForm(r)}},[C,T,r]),L(jt(jt({},C.validateMessages),f)),$({onValuesChange:p,onFieldsChange:function(Q){if(C.triggerFormChange(r,Q),g){for(var K=arguments.length,de=new Array(K>1?K-1:0),X=1;X<K;X++)de[X-1]=arguments[X];g.apply(void 0,[Q].concat(de))}},onFinish:function(Q){C.triggerFormFinish(r,Q),_&&_(Q)},onFinishFailed:x}),U(a);var H=b.useRef(null);A(i,!H.current),H.current||(H.current=!0),b.useEffect(function(){return F},[]);var q,re=typeof l=="function";if(re){var G=T.getFieldsValue(!0);q=l(G,T)}else q=l;P(!re);var Y=b.useRef();b.useEffect(function(){cJ(Y.current||[],o||[])||T.setFields(o||[]),Y.current=o},[o,T]);var te=b.useMemo(function(){return jt(jt({},T),{},{validateTrigger:m})},[T,m]),ne=b.createElement(pf.Provider,{value:null},b.createElement(fl.Provider,{value:te},q));return u===!1?ne:b.createElement(u,et({},S,{onSubmit:function(Q){Q.preventDefault(),Q.stopPropagation(),T.submit()},onReset:function(Q){var K;Q.preventDefault(),T.resetFields(),(K=S.onReset)===null||K===void 0||K.call(S,Q)}}),ne)};function QT(e){try{return JSON.stringify(e)}catch{return Math.random()}}function xR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=r===void 0?[]:r,o=t[1],s=o===void 0?{}:o,a=jQ(s)?{form:s}:s,l=a.form,c=b.useState(),u=Gn(c,2),f=u[0],h=u[1],m=b.useMemo(function(){return QT(f)},[f]),p=b.useRef(m);p.current=m;var g=b.useContext(fl),_=l||g,x=_&&_._init,S=Bn(i),C=b.useRef(S);return C.current=S,b.useEffect(function(){if(x){var j=_.getFieldsValue,k=_.getInternalHooks,T=k(Fa),y=T.registerWatch,P=y(function($,L){var U=Ws(a.preserve?L:$,C.current),F=QT(U);p.current!==F&&(p.current=F,h(U))}),A=Ws(a.preserve?j(!0):j(),C.current);return f!==A&&h(A),P}},[x]),f}var vJ=b.forwardRef(gJ),gu=vJ;gu.FormProvider=_R;gu.Field=X1;gu.List=bR;gu.useForm=eS;gu.useWatch=xR;const us=b.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),wR=b.createContext(null),SR=e=>{const t=jl(e,["prefixCls"]);return b.createElement(_R,Object.assign({},t))},tS=b.createContext({prefixCls:""}),Gi=b.createContext({}),JT=e=>{let{children:t,status:n,override:r}=e;const i=b.useContext(Gi),o=b.useMemo(()=>{const s=Object.assign({},i);return r&&delete s.isFormItemInput,n&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[n,r,i]);return b.createElement(Gi.Provider,{value:o},t)},bJ=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}});function Ud(e,t,n){return Se({[`${e}-status-success`]:t==="success",[`${e}-status-warning`]:t==="warning",[`${e}-status-error`]:t==="error",[`${e}-status-validating`]:t==="validating",[`${e}-has-feedback`]:n})}const CR=(e,t)=>t||e;var yJ=function(t,n){return b.createElement(Sl,et({},t,{ref:n,icon:$Z}))};const _J=b.forwardRef(yJ),gf=["xxl","xl","lg","md","sm","xs"],xJ=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),wJ=e=>{const t=e,n=[].concat(gf).reverse();return n.forEach((r,i)=>{const o=r.toUpperCase(),s=`screen${o}Min`,a=`screen${o}`;if(!(t[s]<=t[a]))throw new Error(`${s}<=${a} fails : !(${t[s]}<=${t[a]})`);if(i<n.length-1){const l=`screen${o}Max`;if(!(t[a]<=t[l]))throw new Error(`${a}<=${l} fails : !(${t[a]}<=${t[l]})`);const u=`screen${n[i+1].toUpperCase()}Min`;if(!(t[l]<=t[u]))throw new Error(`${l}<=${u} fails : !(${t[l]}<=${t[u]})`)}}),e};function SJ(){const[,e]=R3(),t=xJ(wJ(e));return Le.useMemo(()=>{const n=new Map;let r=-1,i={};return{matchHandlers:{},dispatch(o){return i=o,n.forEach(s=>s(i)),n.size>=1},subscribe(o){return n.size||this.register(),r+=1,n.set(r,o),o(i),r},unsubscribe(o){n.delete(o),n.size||this.unregister()},unregister(){Object.keys(t).forEach(o=>{const s=t[o],a=this.matchHandlers[s];a==null||a.mql.removeListener(a==null?void 0:a.listener)}),n.clear()},register(){Object.keys(t).forEach(o=>{const s=t[o],a=c=>{let{matches:u}=c;this.dispatch(Object.assign(Object.assign({},i),{[o]:u}))},l=window.matchMedia(s);l.addListener(a),this.matchHandlers[s]={mql:l,listener:a},a(l)})},responsiveMap:t}},[e])}var CJ=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],TJ=b.forwardRef(function(e,t){var n,r=e.prefixCls,i=r===void 0?"rc-checkbox":r,o=e.className,s=e.style,a=e.checked,l=e.disabled,c=e.defaultChecked,u=c===void 0?!1:c,f=e.type,h=f===void 0?"checkbox":f,m=e.title,p=e.onChange,g=$n(e,CJ),_=b.useRef(null),x=Hg(u,{value:a}),S=Gn(x,2),C=S[0],j=S[1];b.useImperativeHandle(t,function(){return{focus:function(){var P;(P=_.current)===null||P===void 0||P.focus()},blur:function(){var P;(P=_.current)===null||P===void 0||P.blur()},input:_.current}});var k=Se(i,o,(n={},He(n,"".concat(i,"-checked"),C),He(n,"".concat(i,"-disabled"),l),n)),T=function(P){l||("checked"in e||j(P.target.checked),p==null||p({target:jt(jt({},e),{},{type:h,checked:P.target.checked}),stopPropagation:function(){P.stopPropagation()},preventDefault:function(){P.preventDefault()},nativeEvent:P.nativeEvent}))};return b.createElement("span",{className:k,title:m,style:s},b.createElement("input",et({},g,{className:"".concat(i,"-input"),ref:_,onChange:T,disabled:l,checked:!!C,type:h})),b.createElement("span",{className:"".concat(i,"-inner")}))});const jJ=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),TR=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),A_=e=>({borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:e.activeBg}),jR=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},TR(ci(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),ER=e=>{const{paddingBlockLG:t,fontSizeLG:n,lineHeightLG:r,borderRadiusLG:i,paddingInlineLG:o}=e;return{padding:`${t}px ${o}px`,fontSize:n,lineHeight:r,borderRadius:i}},kR=e=>({padding:`${e.paddingBlockSM}px ${e.paddingInlineSM}px`,borderRadius:e.borderRadiusSM}),OR=(e,t)=>{const{componentCls:n,colorError:r,colorWarning:i,errorActiveShadow:o,warningActiveShadow:s,colorErrorBorderHover:a,colorWarningBorderHover:l}=e;return{[`&-status-error:not(${t}-disabled):not(${t}-borderless)${t}`]:{borderColor:r,"&:hover":{borderColor:a},"&:focus, &:focus-within":Object.assign({},A_(ci(e,{activeBorderColor:r,activeShadow:o}))),[`${n}-prefix, ${n}-suffix`]:{color:r}},[`&-status-warning:not(${t}-disabled):not(${t}-borderless)${t}`]:{borderColor:i,"&:hover":{borderColor:l},"&:focus, &:focus-within":Object.assign({},A_(ci(e,{activeBorderColor:i,activeShadow:s}))),[`${n}-prefix, ${n}-suffix`]:{color:i}}}},MR=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${e.paddingBlock}px ${e.paddingInline}px`,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,backgroundColor:e.colorBgContainer,backgroundImage:"none",borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:e.colorBorder,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},jJ(e.colorTextPlaceholder)),{"&:hover":Object.assign({},TR(e)),"&:focus, &:focus-within":Object.assign({},A_(e)),"&-disabled, &[disabled]":Object.assign({},jR(e)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},ER(e)),"&-sm":Object.assign({},kR(e)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),EJ=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},ER(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},kR(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${e.paddingInline}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,textAlign:"center",backgroundColor:e.addonBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`-${e.paddingBlock+1}px -${e.paddingInline}px`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${e.lineWidth}px ${e.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${n}-select-selector`]:{color:e.colorPrimary}}},[`${n}-cascader-picker`]:{margin:`-9px -${e.paddingInline}px`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${t}`]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},PG()),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${t}-affix-wrapper,
        & > ${t}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-e.lineWidth,borderInlineEndWidth:e.lineWidth},[`${t}`]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${t},
      & > ${n}-cascader-picker ${t},
      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${t},
      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${t},
      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:-e.lineWidth,[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},kJ=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:r}=e,o=(n-r*2-16)/2;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Zs(e)),MR(e)),OR(e,t)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},OJ=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${e.inputAffixPadding}px`}}}},MJ=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:s,iconCls:a}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},MR(e)),{display:"inline-flex",[`&:not(${t}-affix-wrapper-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${t}[disabled]`]:{background:"transparent"}},[`> input${t}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),OJ(e)),{[`${a}${t}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:s}}}),OR(e,`${t}-affix-wrapper`))}},NJ=e=>{const{componentCls:t,colorError:n,colorWarning:r,borderRadiusLG:i,borderRadiusSM:o}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},Zs(e)),EJ(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:i,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:o}},"&-status-error":{[`${t}-group-addon`]:{color:n,borderColor:n}},"&-status-warning":{[`${t}-group-addon`]:{color:r,borderColor:r}},"&-disabled":{[`${t}-group-addon`]:Object.assign({},jR(e))},[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}})}},PJ=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-search`;return{[r]:{[`${t}`]:{"&:hover, &:focus":{borderColor:e.colorPrimaryHover,[`+ ${t}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{borderRadius:0},[`${t}-lg`]:{lineHeight:e.lineHeightLG-2e-4},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${r}-button`]:{height:e.controlHeightLG},[`&-small ${r}-button`]:{height:e.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:-e.lineWidth,borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,
        > ${t},
        ${t}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},AJ=e=>{const{componentCls:t,paddingLG:n}=e,r=`${t}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:-e.fontSize*e.lineHeight,insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},"&-allow-clear":{[`> ${t}`]:{paddingInlineEnd:n}},[`&-affix-wrapper${r}-has-feedback`]:{[`${t}`]:{paddingInlineEnd:n}},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none","&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,insetBlockStart:e.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}},RJ=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}};function $J(e){return ci(e,{inputAffixPadding:e.paddingXXS})}const IJ=e=>{const{controlHeight:t,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:o,controlHeightLG:s,fontSizeLG:a,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:f,colorFillAlter:h,colorPrimaryHover:m,colorPrimary:p,controlOutlineWidth:g,controlOutline:_,colorErrorOutline:x,colorWarningOutline:S}=e;return{paddingBlock:Math.max(Math.round((t-n*r)/2*10)/10-i,0),paddingBlockSM:Math.max(Math.round((o-n*r)/2*10)/10-i,0),paddingBlockLG:Math.ceil((s-a*l)/2*10)/10-i,paddingInline:c-i,paddingInlineSM:u-i,paddingInlineLG:f-i,addonBg:h,activeBorderColor:p,hoverBorderColor:m,activeShadow:`0 0 0 ${g}px ${_}`,errorActiveShadow:`0 0 0 ${g}px ${x}`,warningActiveShadow:`0 0 0 ${g}px ${S}`,hoverBg:"",activeBg:""}},nS=Tl("Input",e=>{const t=ci(e,$J(e));return[kJ(t),AJ(t),MJ(t),NJ(t),PJ(t),RJ(t),pR(t)]},IJ);function DJ(e,t,n){var r=n||{},i=r.noTrailing,o=i===void 0?!1:i,s=r.noLeading,a=s===void 0?!1:s,l=r.debounceMode,c=l===void 0?void 0:l,u,f=!1,h=0;function m(){u&&clearTimeout(u)}function p(_){var x=_||{},S=x.upcomingOnly,C=S===void 0?!1:S;m(),f=!C}function g(){for(var _=arguments.length,x=new Array(_),S=0;S<_;S++)x[S]=arguments[S];var C=this,j=Date.now()-h;if(f)return;function k(){h=Date.now(),t.apply(C,x)}function T(){u=void 0}!a&&c&&!u&&k(),m(),c===void 0&&j>e?a?(h=Date.now(),o||(u=setTimeout(c?T:k,e))):k():o!==!0&&(u=setTimeout(c?T:k,c===void 0?e-j:e))}return g.cancel=p,g}function LJ(e,t,n){var r=n||{},i=r.atBegin,o=i===void 0?!1:i;return DJ(e,t,{debounceMode:o!==!1})}const FJ=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},Zs(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},Zs(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},Zs(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},AG(e))},[`${t}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:`${e.lineWidthBold}px solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function zJ(e,t){const n=ci(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[FJ(n)]}const NR=Tl("Checkbox",(e,t)=>{let{prefixCls:n}=t;return[zJ(n,e)]}),BJ=Le.createContext(null),PR=BJ;var WJ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const HJ=(e,t)=>{var n;const{prefixCls:r,className:i,rootClassName:o,children:s,indeterminate:a=!1,style:l,onMouseEnter:c,onMouseLeave:u,skipGroup:f=!1,disabled:h}=e,m=WJ(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:p,direction:g,checkbox:_}=b.useContext(jr),x=b.useContext(PR),{isFormItemInput:S}=b.useContext(Gi),C=b.useContext(Xf),j=(n=(x==null?void 0:x.disabled)||h)!==null&&n!==void 0?n:C,k=b.useRef(m.value);b.useEffect(()=>{x==null||x.registerValue(m.value)},[]),b.useEffect(()=>{if(!f)return m.value!==k.current&&(x==null||x.cancelValue(k.current),x==null||x.registerValue(m.value),k.current=m.value),()=>x==null?void 0:x.cancelValue(m.value)},[m.value]);const T=p("checkbox",r),[y,P]=NR(T),A=Object.assign({},m);x&&!f&&(A.onChange=function(){m.onChange&&m.onChange.apply(m,arguments),x.toggleOption&&x.toggleOption({label:s,value:m.value})},A.name=x.name,A.checked=x.value.includes(m.value));const $=Se(`${T}-wrapper`,{[`${T}-rtl`]:g==="rtl",[`${T}-wrapper-checked`]:A.checked,[`${T}-wrapper-disabled`]:j,[`${T}-wrapper-in-form-item`]:S},_==null?void 0:_.className,i,o,P),L=Se({[`${T}-indeterminate`]:a},IV,P),U=a?"mixed":void 0;return y(b.createElement(j3,{component:"Checkbox",disabled:j},b.createElement("label",{className:$,style:Object.assign(Object.assign({},_==null?void 0:_.style),l),onMouseEnter:c,onMouseLeave:u},b.createElement(TJ,Object.assign({"aria-checked":U},A,{prefixCls:T,className:L,disabled:j,ref:t})),s!==void 0&&b.createElement("span",null,s))))},qJ=b.forwardRef(HJ),AR=qJ;var VJ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const UJ=(e,t)=>{const{defaultValue:n,children:r,options:i=[],prefixCls:o,className:s,rootClassName:a,style:l,onChange:c}=e,u=VJ(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:f,direction:h}=b.useContext(jr),[m,p]=b.useState(u.value||n||[]),[g,_]=b.useState([]);b.useEffect(()=>{"value"in u&&p(u.value||[])},[u.value]);const x=b.useMemo(()=>i.map(F=>typeof F=="string"||typeof F=="number"?{label:F,value:F}:F),[i]),S=F=>{_(H=>H.filter(q=>q!==F))},C=F=>{_(H=>[].concat(At(H),[F]))},j=F=>{const H=m.indexOf(F.value),q=At(m);H===-1?q.push(F.value):q.splice(H,1),"value"in u||p(q),c==null||c(q.filter(re=>g.includes(re)).sort((re,G)=>{const Y=x.findIndex(ne=>ne.value===re),te=x.findIndex(ne=>ne.value===G);return Y-te}))},k=f("checkbox",o),T=`${k}-group`,[y,P]=NR(k),A=jl(u,["value","disabled"]),$=i.length?x.map(F=>b.createElement(AR,{prefixCls:k,key:F.value.toString(),disabled:"disabled"in F?F.disabled:u.disabled,value:F.value,checked:m.includes(F.value),onChange:F.onChange,className:`${T}-item`,style:F.style,title:F.title,id:F.id,required:F.required},F.label)):r,L={toggleOption:j,value:m,disabled:u.disabled,name:u.name,registerValue:C,cancelValue:S},U=Se(T,{[`${T}-rtl`]:h==="rtl"},s,a,P);return y(b.createElement("div",Object.assign({className:U,style:l},A,{ref:t}),b.createElement(PR.Provider,{value:L},$)))},GJ=b.forwardRef(UJ),KJ=b.memo(GJ),rS=AR;rS.Group=KJ;rS.__ANT_CHECKBOX=!0;const XT=rS,YJ=b.createContext({}),RR=YJ,ZJ=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},QJ=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},JJ=(e,t)=>{const{componentCls:n,gridColumns:r}=e,i={};for(let o=r;o>=0;o--)o===0?(i[`${n}${t}-${o}`]={display:"none"},i[`${n}-push-${o}`]={insetInlineStart:"auto"},i[`${n}-pull-${o}`]={insetInlineEnd:"auto"},i[`${n}${t}-push-${o}`]={insetInlineStart:"auto"},i[`${n}${t}-pull-${o}`]={insetInlineEnd:"auto"},i[`${n}${t}-offset-${o}`]={marginInlineStart:0},i[`${n}${t}-order-${o}`]={order:0}):(i[`${n}${t}-${o}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${o/r*100}%`,maxWidth:`${o/r*100}%`}],i[`${n}${t}-push-${o}`]={insetInlineStart:`${o/r*100}%`},i[`${n}${t}-pull-${o}`]={insetInlineEnd:`${o/r*100}%`},i[`${n}${t}-offset-${o}`]={marginInlineStart:`${o/r*100}%`},i[`${n}${t}-order-${o}`]={order:o});return i},R_=(e,t)=>JJ(e,t),XJ=(e,t,n)=>({[`@media (min-width: ${t}px)`]:Object.assign({},R_(e,n))}),eX=Tl("Grid",e=>[ZJ(e)]),tX=Tl("Grid",e=>{const t=ci(e,{gridColumns:24}),n={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[QJ(t),R_(t,""),R_(t,"-xs"),Object.keys(n).map(r=>XJ(t,n[r],r)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]});var nX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function rX(e){return typeof e=="number"?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const iX=["xs","sm","md","lg","xl","xxl"],oX=b.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=b.useContext(jr),{gutter:i,wrap:o}=b.useContext(RR),{prefixCls:s,span:a,order:l,offset:c,push:u,pull:f,className:h,children:m,flex:p,style:g}=e,_=nX(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),x=n("col",s),[S,C]=tX(x);let j={};iX.forEach(y=>{let P={};const A=e[y];typeof A=="number"?P.span=A:typeof A=="object"&&(P=A||{}),delete _[y],j=Object.assign(Object.assign({},j),{[`${x}-${y}-${P.span}`]:P.span!==void 0,[`${x}-${y}-order-${P.order}`]:P.order||P.order===0,[`${x}-${y}-offset-${P.offset}`]:P.offset||P.offset===0,[`${x}-${y}-push-${P.push}`]:P.push||P.push===0,[`${x}-${y}-pull-${P.pull}`]:P.pull||P.pull===0,[`${x}-${y}-flex-${P.flex}`]:P.flex||P.flex==="auto",[`${x}-rtl`]:r==="rtl"})});const k=Se(x,{[`${x}-${a}`]:a!==void 0,[`${x}-order-${l}`]:l,[`${x}-offset-${c}`]:c,[`${x}-push-${u}`]:u,[`${x}-pull-${f}`]:f},h,j,C),T={};if(i&&i[0]>0){const y=i[0]/2;T.paddingLeft=y,T.paddingRight=y}return p&&(T.flex=rX(p),o===!1&&!T.minWidth&&(T.minWidth=0)),S(b.createElement("div",Object.assign({},_,{style:Object.assign(Object.assign({},T),g),className:k,ref:t}),m))}),$R=oX;var sX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function ej(e,t){const[n,r]=b.useState(typeof e=="string"?e:""),i=()=>{if(typeof e=="string"&&r(e),typeof e=="object")for(let o=0;o<gf.length;o++){const s=gf[o];if(!t[s])continue;const a=e[s];if(a!==void 0){r(a);return}}};return b.useEffect(()=>{i()},[JSON.stringify(e),t]),n}const aX=b.forwardRef((e,t)=>{const{prefixCls:n,justify:r,align:i,className:o,style:s,children:a,gutter:l=0,wrap:c}=e,u=sX(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:f,direction:h}=b.useContext(jr),[m,p]=b.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[g,_]=b.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),x=ej(i,g),S=ej(r,g),C=b.useRef(l),j=SJ();b.useEffect(()=>{const re=j.subscribe(G=>{_(G);const Y=C.current||0;(!Array.isArray(Y)&&typeof Y=="object"||Array.isArray(Y)&&(typeof Y[0]=="object"||typeof Y[1]=="object"))&&p(G)});return()=>j.unsubscribe(re)},[]);const k=()=>{const re=[void 0,void 0];return(Array.isArray(l)?l:[l,void 0]).forEach((Y,te)=>{if(typeof Y=="object")for(let ne=0;ne<gf.length;ne++){const B=gf[ne];if(m[B]&&Y[B]!==void 0){re[te]=Y[B];break}}else re[te]=Y}),re},T=f("row",n),[y,P]=eX(T),A=k(),$=Se(T,{[`${T}-no-wrap`]:c===!1,[`${T}-${S}`]:S,[`${T}-${x}`]:x,[`${T}-rtl`]:h==="rtl"},o,P),L={},U=A[0]!=null&&A[0]>0?A[0]/-2:void 0;U&&(L.marginLeft=U,L.marginRight=U),[,L.rowGap]=A;const[F,H]=A,q=b.useMemo(()=>({gutter:[F,H],wrap:c}),[F,H,c]);return y(b.createElement(RR.Provider,{value:q},b.createElement("div",Object.assign({},u,{className:$,style:Object.assign(Object.assign({},L),s),ref:t}),a)))}),lX=aX;function Kl(e){return!!(e.addonBefore||e.addonAfter)}function lb(e){return!!(e.prefix||e.suffix||e.allowClear)}function hm(e,t,n,r){if(n){var i=t;if(t.type==="click"){var o=e.cloneNode(!0);i=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",n(i);return}if(r!==void 0){i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.type!=="file"&&(e.value=r),n(i);return}n(i)}}function cX(e,t){if(e){e.focus(t);var n=t||{},r=n.cursor;if(r){var i=e.value.length;switch(r){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(i,i);break;default:e.setSelectionRange(0,i)}}}}var IR=function(t){var n,r,i=t.inputElement,o=t.prefixCls,s=t.prefix,a=t.suffix,l=t.addonBefore,c=t.addonAfter,u=t.className,f=t.style,h=t.disabled,m=t.readOnly,p=t.focused,g=t.triggerFocus,_=t.allowClear,x=t.value,S=t.handleReset,C=t.hidden,j=t.classes,k=t.classNames,T=t.dataAttrs,y=t.styles,P=t.components,A=(P==null?void 0:P.affixWrapper)||"span",$=(P==null?void 0:P.groupWrapper)||"span",L=(P==null?void 0:P.wrapper)||"span",U=(P==null?void 0:P.groupAddon)||"span",F=b.useRef(null),H=function(J){var ue;(ue=F.current)!==null&&ue!==void 0&&ue.contains(J.target)&&(g==null||g())},q=function(){var J;if(!_)return null;var ue=!h&&!m&&x,xe="".concat(o,"-clear-icon"),_e=Ai(_)==="object"&&_!==null&&_!==void 0&&_.clearIcon?_.clearIcon:"✖";return Le.createElement("span",{onClick:S,onMouseDown:function(Z){return Z.preventDefault()},className:Se(xe,(J={},He(J,"".concat(xe,"-hidden"),!ue),He(J,"".concat(xe,"-has-suffix"),!!a),J)),role:"button",tabIndex:-1},_e)},re=b.cloneElement(i,{value:x,hidden:C,className:Se((n=i.props)===null||n===void 0?void 0:n.className,!lb(t)&&!Kl(t)&&u)||null,style:jt(jt({},(r=i.props)===null||r===void 0?void 0:r.style),!lb(t)&&!Kl(t)?f:{})});if(lb(t)){var G,Y="".concat(o,"-affix-wrapper"),te=Se(Y,(G={},He(G,"".concat(Y,"-disabled"),h),He(G,"".concat(Y,"-focused"),p),He(G,"".concat(Y,"-readonly"),m),He(G,"".concat(Y,"-input-with-clear-btn"),a&&_&&x),G),!Kl(t)&&u,j==null?void 0:j.affixWrapper,k==null?void 0:k.affixWrapper),ne=(a||_)&&Le.createElement("span",{className:Se("".concat(o,"-suffix"),k==null?void 0:k.suffix),style:y==null?void 0:y.suffix},q(),a);re=Le.createElement(A,et({className:te,style:jt(jt({},Kl(t)?void 0:f),y==null?void 0:y.affixWrapper),hidden:!Kl(t)&&C,onClick:H},T==null?void 0:T.affixWrapper,{ref:F}),s&&Le.createElement("span",{className:Se("".concat(o,"-prefix"),k==null?void 0:k.prefix),style:y==null?void 0:y.prefix},s),b.cloneElement(i,{value:x,hidden:null}),ne)}if(Kl(t)){var B="".concat(o,"-group"),Q="".concat(B,"-addon"),K=Se("".concat(o,"-wrapper"),B,j==null?void 0:j.wrapper),de=Se("".concat(o,"-group-wrapper"),u,j==null?void 0:j.group);return Le.createElement($,{className:de,style:f,hidden:C},Le.createElement(L,{className:K},l&&Le.createElement(U,{className:Q},l),b.cloneElement(re,{hidden:null}),c&&Le.createElement(U,{className:Q},c)))}return re},uX=["show"];function DR(e,t){return b.useMemo(function(){var n={};t&&(n.show=Ai(t)==="object"&&t.formatter?t.formatter:!!t),n=jt(jt({},n),e);var r=n,i=r.show,o=$n(r,uX);return jt(jt({},o),{},{show:!!i,showFormatter:typeof i=="function"?i:void 0,strategy:o.strategy||function(s){return s.length}})},[e,t])}var dX=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],fX=b.forwardRef(function(e,t){var n=e.autoComplete,r=e.onChange,i=e.onFocus,o=e.onBlur,s=e.onPressEnter,a=e.onKeyDown,l=e.prefixCls,c=l===void 0?"rc-input":l,u=e.disabled,f=e.htmlSize,h=e.className,m=e.maxLength,p=e.suffix,g=e.showCount,_=e.count,x=e.type,S=x===void 0?"text":x,C=e.classes,j=e.classNames,k=e.styles,T=e.onCompositionStart,y=e.onCompositionEnd,P=$n(e,dX),A=b.useState(!1),$=Gn(A,2),L=$[0],U=$[1],F=Le.useRef(!1),H=b.useRef(null),q=function($e){H.current&&cX(H.current,$e)},re=Hg(e.defaultValue,{value:e.value}),G=Gn(re,2),Y=G[0],te=G[1],ne=Y==null?"":String(Y),B=Le.useState(null),Q=Gn(B,2),K=Q[0],de=Q[1],X=DR(_,g),J=X.max||m,ue=X.strategy(ne),xe=!!J&&ue>J;b.useImperativeHandle(t,function(){return{focus:q,blur:function(){var $e;($e=H.current)===null||$e===void 0||$e.blur()},setSelectionRange:function($e,rt,Ve){var mt;(mt=H.current)===null||mt===void 0||mt.setSelectionRange($e,rt,Ve)},select:function(){var $e;($e=H.current)===null||$e===void 0||$e.select()},input:H.current}}),b.useEffect(function(){U(function(qe){return qe&&u?!1:qe})},[u]);var _e=function($e,rt){var Ve=rt;if(!F.current&&X.exceedFormatter&&X.max&&X.strategy(rt)>X.max&&(Ve=X.exceedFormatter(rt,{max:X.max}),rt!==Ve)){var mt,It;de([((mt=H.current)===null||mt===void 0?void 0:mt.selectionStart)||0,((It=H.current)===null||It===void 0?void 0:It.selectionEnd)||0])}te(Ve),H.current&&hm(H.current,$e,r,Ve)};Le.useEffect(function(){if(K){var qe;(qe=H.current)===null||qe===void 0||qe.setSelectionRange.apply(qe,At(K))}},[K]);var he=function($e){_e($e,$e.target.value)},Z=function($e){F.current=!1,_e($e,$e.currentTarget.value),y==null||y($e)},se=function($e){s&&$e.key==="Enter"&&s($e),a==null||a($e)},ie=function($e){U(!0),i==null||i($e)},be=function($e){U(!1),o==null||o($e)},Ne=function($e){te(""),q(),H.current&&hm(H.current,$e,r)},Pe=xe&&"".concat(c,"-out-of-range"),ze=function(){var $e=jl(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames"]);return Le.createElement("input",et({autoComplete:n},$e,{onChange:he,onFocus:ie,onBlur:be,onKeyDown:se,className:Se(c,He({},"".concat(c,"-disabled"),u),j==null?void 0:j.input),style:k==null?void 0:k.input,ref:H,size:f,type:S,onCompositionStart:function(Ve){F.current=!0,T==null||T(Ve)},onCompositionEnd:Z}))},Oe=function(){var $e=Number(J)>0;if(p||X.show){var rt=X.showFormatter?X.showFormatter({value:ne,count:ue,maxLength:J}):"".concat(ue).concat($e?" / ".concat(J):"");return Le.createElement(Le.Fragment,null,X.show&&Le.createElement("span",{className:Se("".concat(c,"-show-count-suffix"),He({},"".concat(c,"-show-count-has-suffix"),!!p),j==null?void 0:j.count),style:jt({},k==null?void 0:k.count)},rt),p)}return null};return Le.createElement(IR,et({},P,{prefixCls:c,className:Se(h,Pe),inputElement:ze(),handleReset:Ne,value:ne,focused:L,triggerFocus:q,suffix:Oe(),disabled:u,classes:C,classNames:j,styles:k}))});const hX=e=>{const{getPrefixCls:t,direction:n}=b.useContext(jr),{prefixCls:r,className:i}=e,o=t("input-group",r),s=t("input"),[a,l]=nS(s),c=Se(o,{[`${o}-lg`]:e.size==="large",[`${o}-sm`]:e.size==="small",[`${o}-compact`]:e.compact,[`${o}-rtl`]:n==="rtl"},l,i),u=b.useContext(Gi),f=b.useMemo(()=>Object.assign(Object.assign({},u),{isFormItemInput:!1}),[u]);return a(b.createElement("span",{className:c,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},b.createElement(Gi.Provider,{value:f},e.children)))},pX=hX;function LR(e,t){const n=b.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var i,o,s,a;!((i=e.current)===null||i===void 0)&&i.input&&((o=e.current)===null||o===void 0?void 0:o.input.getAttribute("type"))==="password"&&(!((s=e.current)===null||s===void 0)&&s.input.hasAttribute("value"))&&((a=e.current)===null||a===void 0||a.input.removeAttribute("value"))}))};return b.useEffect(()=>(t&&r(),()=>n.current.forEach(i=>{i&&clearTimeout(i)})),[]),r}function mX(e){return!!(e.prefix||e.suffix||e.allowClear)}var gX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function vX(e,t){if(!e)return;e.focus(t);const{cursor:n}=t||{};if(n){const r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r);break}}}const bX=b.forwardRef((e,t)=>{var n;const{prefixCls:r,bordered:i=!0,status:o,size:s,disabled:a,onBlur:l,onFocus:c,suffix:u,allowClear:f,addonAfter:h,addonBefore:m,className:p,style:g,styles:_,rootClassName:x,onChange:S,classNames:C}=e,j=gX(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames"]),{getPrefixCls:k,direction:T,input:y}=Le.useContext(jr),P=k("input",r),A=b.useRef(null),[$,L]=nS(P),{compactSize:U,compactItemClassnames:F}=G1(P,T),H=Yf(xe=>{var _e;return(_e=s??U)!==null&&_e!==void 0?_e:xe}),q=Le.useContext(Xf),re=a??q,{status:G,hasFeedback:Y,feedbackIcon:te}=b.useContext(Gi),ne=CR(G,o),B=mX(e)||!!Y;b.useRef(B);const Q=LR(A,!0),K=xe=>{Q(),l==null||l(xe)},de=xe=>{Q(),c==null||c(xe)},X=xe=>{Q(),S==null||S(xe)},J=(Y||u)&&Le.createElement(Le.Fragment,null,u,Y&&te);let ue;return typeof f=="object"&&(f!=null&&f.clearIcon)?ue=f:f&&(ue={clearIcon:Le.createElement(K1,null)}),$(Le.createElement(fX,Object.assign({ref:Zf(t,A),prefixCls:P,autoComplete:y==null?void 0:y.autoComplete},j,{disabled:re,onBlur:K,onFocus:de,style:Object.assign(Object.assign({},y==null?void 0:y.style),g),styles:Object.assign(Object.assign({},y==null?void 0:y.styles),_),suffix:J,allowClear:ue,className:Se(p,x,F,y==null?void 0:y.className),onChange:X,addonAfter:h&&Le.createElement(CT,null,Le.createElement(JT,{override:!0,status:!0},h)),addonBefore:m&&Le.createElement(CT,null,Le.createElement(JT,{override:!0,status:!0},m)),classNames:Object.assign(Object.assign(Object.assign({},C),y==null?void 0:y.classNames),{input:Se({[`${P}-sm`]:H==="small",[`${P}-lg`]:H==="large",[`${P}-rtl`]:T==="rtl",[`${P}-borderless`]:!i},!B&&Ud(P,ne),C==null?void 0:C.input,(n=y==null?void 0:y.classNames)===null||n===void 0?void 0:n.input,L)}),classes:{affixWrapper:Se({[`${P}-affix-wrapper-sm`]:H==="small",[`${P}-affix-wrapper-lg`]:H==="large",[`${P}-affix-wrapper-rtl`]:T==="rtl",[`${P}-affix-wrapper-borderless`]:!i},Ud(`${P}-affix-wrapper`,ne,Y),L),wrapper:Se({[`${P}-group-rtl`]:T==="rtl"},L),group:Se({[`${P}-group-wrapper-sm`]:H==="small",[`${P}-group-wrapper-lg`]:H==="large",[`${P}-group-wrapper-rtl`]:T==="rtl",[`${P}-group-wrapper-disabled`]:re},Ud(`${P}-group-wrapper`,ne,Y),L)}})))}),iS=bX;var yX=function(t,n){return b.createElement(Sl,et({},t,{ref:n,icon:NZ}))};const _X=b.forwardRef(yX);var xX=function(t,n){return b.createElement(Sl,et({},t,{ref:n,icon:AZ}))};const wX=b.forwardRef(xX);var SX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const CX=e=>e?b.createElement(wX,null):b.createElement(_X,null),TX={click:"onClick",hover:"onMouseOver"},jX=b.forwardRef((e,t)=>{const{visibilityToggle:n=!0}=e,r=typeof n=="object"&&n.visible!==void 0,[i,o]=b.useState(()=>r?n.visible:!1),s=b.useRef(null);b.useEffect(()=>{r&&o(n.visible)},[r,n]);const a=LR(s),l=()=>{const{disabled:k}=e;k||(i&&a(),o(T=>{var y;const P=!T;return typeof n=="object"&&((y=n.onVisibleChange)===null||y===void 0||y.call(n,P)),P}))},c=k=>{const{action:T="click",iconRender:y=CX}=e,P=TX[T]||"",A=y(i),$={[P]:l,className:`${k}-icon`,key:"passwordIcon",onMouseDown:L=>{L.preventDefault()},onMouseUp:L=>{L.preventDefault()}};return b.cloneElement(b.isValidElement(A)?A:b.createElement("span",null,A),$)},{className:u,prefixCls:f,inputPrefixCls:h,size:m}=e,p=SX(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:g}=b.useContext(jr),_=g("input",h),x=g("input-password",f),S=n&&c(x),C=Se(x,u,{[`${x}-${m}`]:!!m}),j=Object.assign(Object.assign({},jl(p,["suffix","iconRender","visibilityToggle"])),{type:i?"text":"password",className:C,prefixCls:_,suffix:S});return m&&(j.size=m),b.createElement(iS,Object.assign({ref:Zf(t,s)},j))}),EX=jX;var kX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const OX=b.forwardRef((e,t)=>{const{prefixCls:n,inputPrefixCls:r,className:i,size:o,suffix:s,enterButton:a=!1,addonAfter:l,loading:c,disabled:u,onSearch:f,onChange:h,onCompositionStart:m,onCompositionEnd:p}=e,g=kX(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:_,direction:x}=b.useContext(jr),S=b.useRef(!1),C=_("input-search",n),j=_("input",r),{compactSize:k}=G1(C,x),T=Yf(ne=>{var B;return(B=o??k)!==null&&B!==void 0?B:ne}),y=b.useRef(null),P=ne=>{ne&&ne.target&&ne.type==="click"&&f&&f(ne.target.value,ne,{source:"clear"}),h&&h(ne)},A=ne=>{var B;document.activeElement===((B=y.current)===null||B===void 0?void 0:B.input)&&ne.preventDefault()},$=ne=>{var B,Q;f&&f((Q=(B=y.current)===null||B===void 0?void 0:B.input)===null||Q===void 0?void 0:Q.value,ne,{source:"input"})},L=ne=>{S.current||c||$(ne)},U=typeof a=="boolean"?b.createElement(_J,null):null,F=`${C}-button`;let H;const q=a||{},re=q.type&&q.type.__ANT_BUTTON===!0;re||q.type==="button"?H=Wc(q,Object.assign({onMouseDown:A,onClick:ne=>{var B,Q;(Q=(B=q==null?void 0:q.props)===null||B===void 0?void 0:B.onClick)===null||Q===void 0||Q.call(B,ne),$(ne)},key:"enterButton"},re?{className:F,size:T}:{})):H=b.createElement(TQ,{className:F,type:a?"primary":void 0,size:T,disabled:u,key:"enterButton",onMouseDown:A,onClick:$,loading:c,icon:U},a),l&&(H=[H,Wc(l,{key:"addonAfter"})]);const G=Se(C,{[`${C}-rtl`]:x==="rtl",[`${C}-${T}`]:!!T,[`${C}-with-button`]:!!a},i),Y=ne=>{S.current=!0,m==null||m(ne)},te=ne=>{S.current=!1,p==null||p(ne)};return b.createElement(iS,Object.assign({ref:Zf(y,t),onPressEnter:L},g,{size:T,onCompositionStart:Y,onCompositionEnd:te,prefixCls:j,addonAfter:H,suffix:s,onChange:P,className:G,disabled:u}))}),MX=OX;var NX=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,PX=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],cb={},wi;function AX(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&cb[n])return cb[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),s=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),a=PX.map(function(c){return"".concat(c,":").concat(r.getPropertyValue(c))}).join(";"),l={sizingStyle:a,paddingSize:o,borderSize:s,boxSizing:i};return t&&n&&(cb[n]=l),l}function RX(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;wi||(wi=document.createElement("textarea"),wi.setAttribute("tab-index","-1"),wi.setAttribute("aria-hidden","true"),document.body.appendChild(wi)),e.getAttribute("wrap")?wi.setAttribute("wrap",e.getAttribute("wrap")):wi.removeAttribute("wrap");var i=AX(e,t),o=i.paddingSize,s=i.borderSize,a=i.boxSizing,l=i.sizingStyle;wi.setAttribute("style","".concat(l,";").concat(NX)),wi.value=e.value||e.placeholder||"";var c=void 0,u=void 0,f,h=wi.scrollHeight;if(a==="border-box"?h+=s:a==="content-box"&&(h-=o),n!==null||r!==null){wi.value=" ";var m=wi.scrollHeight-o;n!==null&&(c=m*n,a==="border-box"&&(c=c+o+s),h=Math.max(c,h)),r!==null&&(u=m*r,a==="border-box"&&(u=u+o+s),f=h>u?"":"hidden",h=Math.min(u,h))}var p={height:h,overflowY:f,resize:"none"};return c&&(p.minHeight=c),u&&(p.maxHeight=u),p}var $X=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],ub=0,db=1,fb=2,IX=b.forwardRef(function(e,t){var n=e,r=n.prefixCls;n.onPressEnter;var i=n.defaultValue,o=n.value,s=n.autoSize,a=n.onResize,l=n.className,c=n.style,u=n.disabled,f=n.onChange;n.onInternalAutoSize;var h=$n(n,$X),m=Hg(i,{value:o,postState:function(de){return de??""}}),p=Gn(m,2),g=p[0],_=p[1],x=function(de){_(de.target.value),f==null||f(de)},S=b.useRef();b.useImperativeHandle(t,function(){return{textArea:S.current}});var C=b.useMemo(function(){return s&&Ai(s)==="object"?[s.minRows,s.maxRows]:[]},[s]),j=Gn(C,2),k=j[0],T=j[1],y=!!s,P=function(){try{if(document.activeElement===S.current){var de=S.current,X=de.selectionStart,J=de.selectionEnd,ue=de.scrollTop;S.current.setSelectionRange(X,J),S.current.scrollTop=ue}}catch{}},A=b.useState(fb),$=Gn(A,2),L=$[0],U=$[1],F=b.useState(),H=Gn(F,2),q=H[0],re=H[1],G=function(){U(ub)};v_(function(){y&&G()},[o,k,T,y]),v_(function(){if(L===ub)U(db);else if(L===db){var K=RX(S.current,!1,k,T);U(fb),re(K)}else P()},[L]);var Y=b.useRef(),te=function(){um.cancel(Y.current)},ne=function(de){L===fb&&(a==null||a(de),s&&(te(),Y.current=um(function(){G()})))};b.useEffect(function(){return te},[]);var B=y?q:null,Q=jt(jt({},c),B);return(L===ub||L===db)&&(Q.overflowY="hidden",Q.overflowX="hidden"),b.createElement(RG,{onResize:ne,disabled:!(s||a)},b.createElement("textarea",et({},h,{ref:S,style:Q,className:Se(r,l,He({},"".concat(r,"-disabled"),u)),disabled:u,value:g,onChange:x})))}),DX=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","count","className","style","disabled","hidden","classNames","styles","onResize"],LX=Le.forwardRef(function(e,t){var n,r,i=e.defaultValue,o=e.value,s=e.onFocus,a=e.onBlur,l=e.onChange,c=e.allowClear,u=e.maxLength,f=e.onCompositionStart,h=e.onCompositionEnd,m=e.suffix,p=e.prefixCls,g=p===void 0?"rc-textarea":p,_=e.classes,x=e.showCount,S=e.count,C=e.className,j=e.style,k=e.disabled,T=e.hidden,y=e.classNames,P=e.styles,A=e.onResize,$=$n(e,DX),L=Hg(i,{value:o,defaultValue:i}),U=Gn(L,2),F=U[0],H=U[1],q=F==null?"":String(F),re=Le.useState(!1),G=Gn(re,2),Y=G[0],te=G[1],ne=Le.useRef(!1),B=Le.useState(null),Q=Gn(B,2),K=Q[0],de=Q[1],X=b.useRef(null),J=function(){var at;return(at=X.current)===null||at===void 0?void 0:at.textArea},ue=function(){J().focus()};b.useImperativeHandle(t,function(){return{resizableTextArea:X.current,focus:ue,blur:function(){J().blur()}}}),b.useEffect(function(){te(function(We){return!k&&We})},[k]);var xe=Le.useState(null),_e=Gn(xe,2),he=_e[0],Z=_e[1];Le.useEffect(function(){if(he){var We;(We=J()).setSelectionRange.apply(We,At(he))}},[he]);var se=DR(S,x),ie=(n=se.max)!==null&&n!==void 0?n:u,be=Number(ie)>0,Ne=se.strategy(q),Pe=!!ie&&Ne>ie,ze=function(at,st){var $t=st;!ne.current&&se.exceedFormatter&&se.max&&se.strategy(st)>se.max&&($t=se.exceedFormatter(st,{max:se.max}),st!==$t&&Z([J().selectionStart||0,J().selectionEnd||0])),H($t),hm(at.currentTarget,at,l,$t)},Oe=function(at){ne.current=!0,f==null||f(at)},qe=function(at){ne.current=!1,ze(at,at.currentTarget.value),h==null||h(at)},$e=function(at){ze(at,at.target.value)},rt=function(at){var st=$.onPressEnter,$t=$.onKeyDown;at.key==="Enter"&&st&&st(at),$t==null||$t(at)},Ve=function(at){te(!0),s==null||s(at)},mt=function(at){te(!1),a==null||a(at)},It=function(at){H(""),ue(),hm(J(),at,l)},Ze=m,dt;se.show&&(se.showFormatter?dt=se.showFormatter({value:q,count:Ne,maxLength:ie}):dt="".concat(Ne).concat(be?" / ".concat(ie):""),Ze=Le.createElement(Le.Fragment,null,Ze,Le.createElement("span",{className:Se("".concat(g,"-data-count"),y==null?void 0:y.count),style:P==null?void 0:P.count},dt)));var tt=function(at){var st;A==null||A(at),(st=J())!==null&&st!==void 0&&st.style.height&&de(!0)},St=!$.autoSize&&!x&&!c,Re=Le.createElement(IR,{value:q,allowClear:c,handleReset:It,suffix:Ze,prefixCls:g,classes:{affixWrapper:Se(_==null?void 0:_.affixWrapper,(r={},He(r,"".concat(g,"-show-count"),x),He(r,"".concat(g,"-textarea-allow-clear"),c),r))},disabled:k,focused:Y,className:Se(C,Pe&&"".concat(g,"-out-of-range")),style:jt(jt({},j),K&&!St?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof dt=="string"?dt:void 0}},hidden:T,inputElement:Le.createElement(IX,et({},$,{maxLength:u,onKeyDown:rt,onChange:$e,onFocus:Ve,onBlur:mt,onCompositionStart:Oe,onCompositionEnd:qe,className:Se(y==null?void 0:y.textarea),style:jt(jt({},P==null?void 0:P.textarea),{},{resize:j==null?void 0:j.resize}),disabled:k,prefixCls:g,onResize:tt,ref:X}))});return Re}),FX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const zX=b.forwardRef((e,t)=>{var n;const{prefixCls:r,bordered:i=!0,size:o,disabled:s,status:a,allowClear:l,classNames:c,rootClassName:u,className:f}=e,h=FX(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className"]),{getPrefixCls:m,direction:p}=b.useContext(jr),g=Yf(o),_=b.useContext(Xf),x=s??_,{status:S,hasFeedback:C,feedbackIcon:j}=b.useContext(Gi),k=CR(S,a),T=b.useRef(null);b.useImperativeHandle(t,()=>{var L;return{resizableTextArea:(L=T.current)===null||L===void 0?void 0:L.resizableTextArea,focus:U=>{var F,H;vX((H=(F=T.current)===null||F===void 0?void 0:F.resizableTextArea)===null||H===void 0?void 0:H.textArea,U)},blur:()=>{var U;return(U=T.current)===null||U===void 0?void 0:U.blur()}}});const y=m("input",r);let P;typeof l=="object"&&(l!=null&&l.clearIcon)?P=l:l&&(P={clearIcon:b.createElement(K1,null)});const[A,$]=nS(y);return A(b.createElement(LX,Object.assign({},h,{disabled:x,allowClear:P,className:Se(f,u),classes:{affixWrapper:Se(`${y}-textarea-affix-wrapper`,{[`${y}-affix-wrapper-rtl`]:p==="rtl",[`${y}-affix-wrapper-borderless`]:!i,[`${y}-affix-wrapper-sm`]:g==="small",[`${y}-affix-wrapper-lg`]:g==="large",[`${y}-textarea-show-count`]:e.showCount||((n=e.count)===null||n===void 0?void 0:n.show)},Ud(`${y}-affix-wrapper`,k),$)},classNames:Object.assign(Object.assign({},c),{textarea:Se({[`${y}-borderless`]:!i,[`${y}-sm`]:g==="small",[`${y}-lg`]:g==="large"},Ud(y,k),$,c==null?void 0:c.textarea)}),prefixCls:y,suffix:C&&b.createElement("span",{className:`${y}-textarea-suffix`},j),ref:T})))}),BX=zX,th=iS;th.Group=pX;th.Search=MX;th.TextArea=BX;th.Password=EX;const WX=th;function pm(e){const[t,n]=b.useState(e);return b.useEffect(()=>{const r=setTimeout(()=>{n(e)},e.length?0:10);return()=>{clearTimeout(r)}},[e]),t}const HX=e=>{const{componentCls:t}=e,n=`${t}-show-help`,r=`${t}-show-help-item`;return{[n]:{transition:`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${e.motionDurationSlow} ${e.motionEaseInOut},
                     opacity ${e.motionDurationSlow} ${e.motionEaseInOut},
                     transform ${e.motionDurationSlow} ${e.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},qX=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},label:{fontSize:e.fontSize},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),tj=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},VX=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},Zs(e)),qX(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},tj(e,e.controlHeightSM)),"&-large":Object.assign({},tj(e,e.controlHeightLG))})}},UX=e=>{const{formItemCls:t,iconCls:n,componentCls:r,rootPrefixCls:i,labelRequiredMarkColor:o,labelColor:s,labelFontSize:a,labelHeight:l,labelColonMarginInlineStart:c,labelColonMarginInlineEnd:u,itemMarginBottom:f}=e;return{[t]:Object.assign(Object.assign({},Zs(e)),{marginBottom:f,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden.${i}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:`${e.lineHeight} - 0.25em`,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:l,color:s,fontSize:a,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required:not(${t}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:e.marginXXS,color:o,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${r}-hide-required-mark &`]:{display:"none"}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`${r}-hide-required-mark &`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:c,marginInlineEnd:u},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${i}-col-'"]):not([class*="' ${i}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[t]:{"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:D3,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},GX=e=>{const{componentCls:t,formItemCls:n}=e;return{[`${t}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},KX=e=>{const{componentCls:t,formItemCls:n}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:0,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,
        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},uc=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),YX=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:uc(e),[`${t}:not(${t}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},ZX=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${t}-vertical`]:{[n]:{"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"},[`${t}-item-control`]:{width:"100%"}}},[`${t}-vertical ${n}-label,
      .${r}-col-24${n}-label,
      .${r}-col-xl-24${n}-label`]:uc(e),[`@media (max-width: ${e.screenXSMax}px)`]:[YX(e),{[t]:{[`.${r}-col-xs-24${n}-label`]:uc(e)}}],[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{[`.${r}-col-sm-24${n}-label`]:uc(e)}},[`@media (max-width: ${e.screenMDMax}px)`]:{[t]:{[`.${r}-col-md-24${n}-label`]:uc(e)}},[`@media (max-width: ${e.screenLGMax}px)`]:{[t]:{[`.${r}-col-lg-24${n}-label`]:uc(e)}}}},FR=(e,t)=>ci(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),oS=Tl("Form",(e,t)=>{let{rootPrefixCls:n}=t;const r=FR(e,n);return[VX(r),UX(r),HX(r),GX(r),KX(r),ZX(r),bJ(r),D3]},e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0}),{order:-1e3}),nj=[];function hb(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof e=="string"?e:`${t}-${r}`,error:e,errorStatus:n}}const QX=e=>{let{help:t,helpStatus:n,errors:r=nj,warnings:i=nj,className:o,fieldId:s,onVisibleChanged:a}=e;const{prefixCls:l}=b.useContext(tS),c=`${l}-item-explain`,[,u]=oS(l),f=b.useMemo(()=>TT(l),[l]),h=pm(r),m=pm(i),p=b.useMemo(()=>t!=null?[hb(t,"help",n)]:[].concat(At(h.map((_,x)=>hb(_,"error","error",x))),At(m.map((_,x)=>hb(_,"warning","warning",x)))),[t,n,h,m]),g={};return s&&(g.id=`${s}_help`),b.createElement(E3,{motionDeadline:f.motionDeadline,motionName:`${l}-show-help`,visible:!!p.length,onVisibleChanged:a},_=>{const{className:x,style:S}=_;return b.createElement("div",Object.assign({},g,{className:Se(c,x,o,u),style:S,role:"alert"}),b.createElement(QV,Object.assign({keys:p},TT(l),{motionName:`${l}-show-help-item`,component:!1}),C=>{const{key:j,error:k,errorStatus:T,className:y,style:P}=C;return b.createElement("div",{key:j,className:Se(y,{[`${c}-${T}`]:T}),style:P},k)}))})},zR=QX,JX=["parentNode"],XX="form_item";function Gd(e){return e===void 0||e===!1?[]:Array.isArray(e)?e:[e]}function BR(e,t){if(!e.length)return;const n=e.join("_");return t?`${t}_${n}`:JX.includes(n)?`${XX}_${n}`:n}function WR(e,t,n,r,i,o){let s=r;return o!==void 0?s=o:n.validating?s="validating":e.length?s="error":t.length?s="warning":(n.touched||i&&n.validated)&&(s="success"),s}function rj(e){return Gd(e).join("_")}function HR(e){const[t]=eS(),n=b.useRef({}),r=b.useMemo(()=>e??Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:i=>o=>{const s=rj(i);o?n.current[s]=o:delete n.current[s]}},scrollToField:function(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=Gd(i),a=BR(s,r.__INTERNAL__.name),l=a?document.getElementById(a):null;l&&UZ(l,Object.assign({scrollMode:"if-needed",block:"nearest"},o))},getFieldInstance:i=>{const o=rj(i);return n.current[o]}}),[e,t]);return[r]}var eee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const tee=(e,t)=>{const n=b.useContext(Xf),{getPrefixCls:r,direction:i,form:o}=b.useContext(jr),{prefixCls:s,className:a,rootClassName:l,size:c,disabled:u=n,form:f,colon:h,labelAlign:m,labelWrap:p,labelCol:g,wrapperCol:_,hideRequiredMark:x,layout:S="horizontal",scrollToFirstError:C,requiredMark:j,onFinishFailed:k,name:T,style:y,feedbackIcons:P}=e,A=eee(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons"]),$=Yf(c),L=b.useContext($G),U=b.useMemo(()=>j!==void 0?j:o&&o.requiredMark!==void 0?o.requiredMark:!x,[x,j,o]),F=h??(o==null?void 0:o.colon),H=r("form",s),[q,re]=oS(H),G=Se(H,`${H}-${S}`,{[`${H}-hide-required-mark`]:U===!1,[`${H}-rtl`]:i==="rtl",[`${H}-${$}`]:$},re,o==null?void 0:o.className,a,l),[Y]=HR(f),{__INTERNAL__:te}=Y;te.name=T;const ne=b.useMemo(()=>({name:T,labelAlign:m,labelCol:g,labelWrap:p,wrapperCol:_,vertical:S==="vertical",colon:F,requiredMark:U,itemRef:te.itemRef,form:Y,feedbackIcons:P}),[T,m,g,_,S,F,U,Y,P]);b.useImperativeHandle(t,()=>Y);const B=(K,de)=>{if(K){let X={block:"nearest"};typeof K=="object"&&(X=K),Y.scrollToField(de,X)}},Q=K=>{if(k==null||k(K),K.errorFields.length){const de=K.errorFields[0].name;if(C!==void 0){B(C,de);return}o&&o.scrollToFirstError!==void 0&&B(o.scrollToFirstError,de)}};return q(b.createElement(IG,{disabled:u},b.createElement(DG.Provider,{value:$},b.createElement(SR,{validateMessages:L},b.createElement(us.Provider,{value:ne},b.createElement(gu,Object.assign({id:T},A,{name:T,onFinishFailed:Q,form:Y,style:Object.assign(Object.assign({},o==null?void 0:o.style),y),className:G})))))))},nee=b.forwardRef(tee),ree=nee;function iee(e){if(typeof e=="function")return e;const t=I3(e);return t.length<=1?t[0]:t}const qR=()=>{const{status:e,errors:t=[],warnings:n=[]}=b.useContext(Gi);return{status:e,errors:t,warnings:n}};qR.Context=Gi;const oee=qR;function see(e){const[t,n]=b.useState(e),r=b.useRef(null),i=b.useRef([]),o=b.useRef(!1);b.useEffect(()=>(o.current=!1,()=>{o.current=!0,um.cancel(r.current),r.current=null}),[]);function s(a){o.current||(r.current===null&&(i.current=[],r.current=um(()=>{r.current=null,n(l=>{let c=l;return i.current.forEach(u=>{c=u(c)}),c})})),i.current.push(a))}return[t,s]}function aee(){const{itemRef:e}=b.useContext(us),t=b.useRef({});function n(r,i){const o=i&&typeof i=="object"&&i.ref,s=r.join("_");return(t.current.name!==s||t.current.originRef!==o)&&(t.current.name=s,t.current.originRef=o,t.current.ref=Zf(e(r),o)),t.current.ref}return n}const lee=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},cee=$3(["Form","item-item"],(e,t)=>{let{rootPrefixCls:n}=t;const r=FR(e,n);return[lee(r)]}),uee=e=>{const{prefixCls:t,status:n,wrapperCol:r,children:i,errors:o,warnings:s,_internalItemRender:a,extra:l,help:c,fieldId:u,marginBottom:f,onErrorVisibleChanged:h}=e,m=`${t}-item`,p=b.useContext(us),g=r||p.wrapperCol||{},_=Se(`${m}-control`,g.className),x=b.useMemo(()=>Object.assign({},p),[p]);delete x.labelCol,delete x.wrapperCol;const S=b.createElement("div",{className:`${m}-control-input`},b.createElement("div",{className:`${m}-control-input-content`},i)),C=b.useMemo(()=>({prefixCls:t,status:n}),[t,n]),j=f!==null||o.length||s.length?b.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},b.createElement(tS.Provider,{value:C},b.createElement(zR,{fieldId:u,errors:o,warnings:s,help:c,helpStatus:n,className:`${m}-explain-connected`,onVisibleChanged:h})),!!f&&b.createElement("div",{style:{width:0,height:f}})):null,k={};u&&(k.id=`${u}_extra`);const T=l?b.createElement("div",Object.assign({},k,{className:`${m}-extra`}),l):null,y=a&&a.mark==="pro_table_render"&&a.render?a.render(e,{input:S,errorList:j,extra:T}):b.createElement(b.Fragment,null,S,j,T);return b.createElement(us.Provider,{value:x},b.createElement($R,Object.assign({},g,{className:_}),y),b.createElement(cee,{prefixCls:t}))},dee=uee;var fee=function(t,n){return b.createElement(Sl,et({},t,{ref:n,icon:Gz}))};const hee=b.forwardRef(fee);var pee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function mee(e){return e?typeof e=="object"&&!b.isValidElement(e)?e:{title:e}:null}const gee=e=>{let{prefixCls:t,label:n,htmlFor:r,labelCol:i,labelAlign:o,colon:s,required:a,requiredMark:l,tooltip:c}=e;var u;const[f]=LZ("Form"),{vertical:h,labelAlign:m,labelCol:p,labelWrap:g,colon:_}=b.useContext(us);if(!n)return null;const x=i||p||{},S=o||m,C=`${t}-item-label`,j=Se(C,S==="left"&&`${C}-left`,x.className,{[`${C}-wrap`]:!!g});let k=n;const T=s===!0||_!==!1&&s!==!1;T&&!h&&typeof n=="string"&&n.trim()!==""&&(k=n.replace(/[:|：]\s*$/,""));const P=mee(c);if(P){const{icon:U=b.createElement(hee,null)}=P,F=pee(P,["icon"]),H=b.createElement(rs,Object.assign({},F),b.cloneElement(U,{className:`${t}-item-tooltip`,title:""}));k=b.createElement(b.Fragment,null,k,H)}const A=l==="optional",$=typeof l=="function";$?k=l(k,{required:!!a}):A&&!a&&(k=b.createElement(b.Fragment,null,k,b.createElement("span",{className:`${t}-item-optional`,title:""},(f==null?void 0:f.optional)||((u=b_.Form)===null||u===void 0?void 0:u.optional))));const L=Se({[`${t}-item-required`]:a,[`${t}-item-required-mark-optional`]:A||$,[`${t}-item-no-colon`]:!T});return b.createElement($R,Object.assign({},x,{className:j}),b.createElement("label",{htmlFor:r,className:L,title:typeof n=="string"?n:""},k))},vee=gee,bee={success:zZ,warning:HZ,error:K1,validating:T3};function VR(e){let{children:t,errors:n,warnings:r,hasFeedback:i,validateStatus:o,prefixCls:s,meta:a,noStyle:l}=e;const c=`${s}-item`,{feedbackIcons:u}=b.useContext(us),f=WR(n,r,a,null,!!i,o),{isFormItemInput:h,status:m,hasFeedback:p,feedbackIcon:g}=b.useContext(Gi),_=b.useMemo(()=>{var x;let S;if(i){const j=i!==!0&&i.icons||u,k=f&&((x=j==null?void 0:j({status:f,errors:n,warnings:r}))===null||x===void 0?void 0:x[f]),T=f&&bee[f];S=k!==!1&&T?b.createElement("span",{className:Se(`${c}-feedback-icon`,`${c}-feedback-icon-${f}`)},k||b.createElement(T,null)):null}const C={status:f||"",errors:n,warnings:r,hasFeedback:!!i,feedbackIcon:S,isFormItemInput:!0};return l&&(C.status=(f??m)||"",C.isFormItemInput=h,C.hasFeedback=!!(i??p),C.feedbackIcon=i!==void 0?C.feedbackIcon:g),C},[f,i,l,h,m]);return b.createElement(Gi.Provider,{value:_},t)}var yee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function _ee(e){const{prefixCls:t,className:n,rootClassName:r,style:i,help:o,errors:s,warnings:a,validateStatus:l,meta:c,hasFeedback:u,hidden:f,children:h,fieldId:m,required:p,isRequired:g,onSubItemMetaChange:_}=e,x=yee(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange"]),S=`${t}-item`,{requiredMark:C}=b.useContext(us),j=b.useRef(null),k=pm(s),T=pm(a),y=o!=null,P=!!(y||s.length||a.length),A=!!j.current&&JV(j.current),[$,L]=b.useState(null);v_(()=>{if(P&&j.current){const re=getComputedStyle(j.current);L(parseInt(re.marginBottom,10))}},[P,A]);const U=re=>{re||L(null)},H=function(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const G=re?k:c.errors,Y=re?T:c.warnings;return WR(G,Y,c,"",!!u,l)}(),q=Se(S,n,r,{[`${S}-with-help`]:y||k.length||T.length,[`${S}-has-feedback`]:H&&u,[`${S}-has-success`]:H==="success",[`${S}-has-warning`]:H==="warning",[`${S}-has-error`]:H==="error",[`${S}-is-validating`]:H==="validating",[`${S}-hidden`]:f});return b.createElement("div",{className:q,style:i,ref:j},b.createElement(lX,Object.assign({className:`${S}-row`},jl(x,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),b.createElement(vee,Object.assign({htmlFor:m},e,{requiredMark:C,required:p??g,prefixCls:t})),b.createElement(dee,Object.assign({},e,c,{errors:k,warnings:T,prefixCls:t,status:H,help:o,marginBottom:$,onErrorVisibleChanged:U}),b.createElement(wR.Provider,{value:_},b.createElement(VR,{prefixCls:t,meta:c,errors:c.errors,warnings:c.warnings,hasFeedback:u,validateStatus:H},h)))),!!$&&b.createElement("div",{className:`${S}-margin-offset`,style:{marginBottom:-$}}))}const xee="__SPLIT__",wee=b.memo(e=>{let{children:t}=e;return t},(e,t)=>e.value===t.value&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((n,r)=>n===t.childProps[r]));function ij(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function See(e){const{name:t,noStyle:n,className:r,dependencies:i,prefixCls:o,shouldUpdate:s,rules:a,children:l,required:c,label:u,messageVariables:f,trigger:h="onChange",validateTrigger:m,hidden:p,help:g}=e,{getPrefixCls:_}=b.useContext(jr),{name:x}=b.useContext(us),S=iee(l),C=typeof S=="function",j=b.useContext(wR),{validateTrigger:k}=b.useContext(fl),T=m!==void 0?m:k,y=t!=null,P=_("form",o),[A,$]=oS(P);LG();const L=b.useContext(pf),U=b.useRef(),[F,H]=see({}),[q,re]=XV(()=>ij()),G=de=>{const X=L==null?void 0:L.getKey(de.name);if(re(de.destroy?ij():de,!0),n&&g!==!1&&j){let J=de.name;if(de.destroy)J=U.current||J;else if(X!==void 0){const[ue,xe]=X;J=[ue].concat(At(xe)),U.current=J}j(de,J)}},Y=(de,X)=>{H(J=>{const ue=Object.assign({},J),_e=[].concat(At(de.name.slice(0,-1)),At(X)).join(xee);return de.destroy?delete ue[_e]:ue[_e]=de,ue})},[te,ne]=b.useMemo(()=>{const de=At(q.errors),X=At(q.warnings);return Object.values(F).forEach(J=>{de.push.apply(de,At(J.errors||[])),X.push.apply(X,At(J.warnings||[]))}),[de,X]},[F,q.errors,q.warnings]),B=aee();function Q(de,X,J){return n&&!p?b.createElement(VR,{prefixCls:P,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:q,errors:te,warnings:ne,noStyle:!0},de):b.createElement(_ee,Object.assign({key:"row"},e,{className:Se(r,$),prefixCls:P,fieldId:X,isRequired:J,errors:te,warnings:ne,meta:q,onSubItemMetaChange:Y}),de)}if(!y&&!C&&!i)return A(Q(S));let K={};return typeof u=="string"?K.label=u:t&&(K.label=String(t)),f&&(K=Object.assign(Object.assign({},K),f)),A(b.createElement(X1,Object.assign({},e,{messageVariables:K,trigger:h,validateTrigger:T,onMetaChange:G}),(de,X,J)=>{const ue=Gd(t).length&&X?X.name:[],xe=BR(ue,x),_e=c!==void 0?c:!!(a&&a.some(se=>{if(se&&typeof se=="object"&&se.required&&!se.warningOnly)return!0;if(typeof se=="function"){const ie=se(J);return ie&&ie.required&&!ie.warningOnly}return!1})),he=Object.assign({},de);let Z=null;if(Array.isArray(S)&&y)Z=S;else if(!(C&&(!(s||i)||y))){if(!(i&&!C&&!y))if(y_(S)){const se=Object.assign(Object.assign({},S.props),he);if(se.id||(se.id=xe),g||te.length>0||ne.length>0||e.extra){const Ne=[];(g||te.length>0)&&Ne.push(`${xe}_help`),e.extra&&Ne.push(`${xe}_extra`),se["aria-describedby"]=Ne.join(" ")}te.length>0&&(se["aria-invalid"]="true"),_e&&(se["aria-required"]="true"),eU(S)&&(se.ref=B(ue,S)),new Set([].concat(At(Gd(h)),At(Gd(T)))).forEach(Ne=>{se[Ne]=function(){for(var Pe,ze,Oe,qe,$e,rt=arguments.length,Ve=new Array(rt),mt=0;mt<rt;mt++)Ve[mt]=arguments[mt];(Oe=he[Ne])===null||Oe===void 0||(Pe=Oe).call.apply(Pe,[he].concat(Ve)),($e=(qe=S.props)[Ne])===null||$e===void 0||(ze=$e).call.apply(ze,[qe].concat(Ve))}});const be=[se["aria-required"],se["aria-invalid"],se["aria-describedby"]];Z=b.createElement(wee,{value:he[e.valuePropName||"value"],update:S,childProps:be},Wc(S,se))}else C&&(s||i)&&!y?Z=S(J):Z=S}return Q(Z,xe,_e)}))}const UR=See;UR.useStatus=oee;const Cee=UR;var Tee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const jee=e=>{var{prefixCls:t,children:n}=e,r=Tee(e,["prefixCls","children"]);const{getPrefixCls:i}=b.useContext(jr),o=i("form",t),s=b.useMemo(()=>({prefixCls:o,status:"error"}),[o]);return b.createElement(bR,Object.assign({},r),(a,l,c)=>b.createElement(tS.Provider,{value:s},n(a.map(u=>Object.assign(Object.assign({},u),{fieldKey:u.key})),l,{errors:c.errors,warnings:c.warnings})))},Eee=jee;function kee(){const{form:e}=b.useContext(us);return e}const hs=ree;hs.Item=Cee;hs.List=Eee;hs.ErrorList=zR;hs.useForm=HR;hs.useFormInstance=kee;hs.useWatch=xR;hs.Provider=SR;hs.create=()=>{};const pb=hs,Oee=new L3("antSpinMove",{to:{opacity:1}}),Mee=new L3("antRotate",{to:{transform:"rotate(405deg)"}}),Nee=e=>(e.dotSize-e.fontSize)/2+2,Pee=e=>({[`${e.componentCls}`]:Object.assign(Object.assign({},Zs(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},[`${e.componentCls}-text`]:{fontSize:e.fontSize,paddingTop:Nee(e)},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",pointerEvents:"none",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[`${e.componentCls}-dot ${e.componentCls}-dot-item`]:{backgroundColor:e.colorWhite},[`${e.componentCls}-text`]:{color:e.colorTextLightSolid}},"&-nested-loading":{position:"relative",[`> div > ${e.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${e.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-e.dotSize/2},[`${e.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.dotSize/2)-10},"&-sm":{[`${e.componentCls}-dot`]:{margin:-e.dotSizeSM/2},[`${e.componentCls}-text`]:{paddingTop:(e.dotSizeSM-e.fontSize)/2+2},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.dotSizeSM/2)-10}},"&-lg":{[`${e.componentCls}-dot`]:{margin:-(e.dotSizeLG/2)},[`${e.componentCls}-text`]:{paddingTop:(e.dotSizeLG-e.fontSize)/2+2},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.dotSizeLG/2)-10}}},[`${e.componentCls}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${e.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(e.dotSize-e.marginXXS/2)/2,height:(e.dotSize-e.marginXXS/2)/2,backgroundColor:e.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:Oee,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:Mee,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${e.componentCls}-dot`]:{fontSize:e.dotSizeSM,i:{width:(e.dotSizeSM-e.marginXXS/2)/2,height:(e.dotSizeSM-e.marginXXS/2)/2}},[`&-lg ${e.componentCls}-dot`]:{fontSize:e.dotSizeLG,i:{width:(e.dotSizeLG-e.marginXXS)/2,height:(e.dotSizeLG-e.marginXXS)/2}},[`&${e.componentCls}-show-text ${e.componentCls}-text`]:{display:"block"}})}),Aee=Tl("Spin",e=>{const t=ci(e,{spinDotDefault:e.colorTextDescription});return[Pee(t)]},e=>({contentHeight:400,dotSize:e.controlHeightLG/2,dotSizeSM:e.controlHeightLG*.35,dotSizeLG:e.controlHeight}));var Ree=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let Bp=null;function $ee(e,t){const{indicator:n}=t,r=`${e}-dot`;return n===null?null:y_(n)?Wc(n,{className:Se(n.props.className,r)}):y_(Bp)?Wc(Bp,{className:Se(Bp.props.className,r)}):b.createElement("span",{className:Se(r,`${e}-dot-spin`)},b.createElement("i",{className:`${e}-dot-item`,key:1}),b.createElement("i",{className:`${e}-dot-item`,key:2}),b.createElement("i",{className:`${e}-dot-item`,key:3}),b.createElement("i",{className:`${e}-dot-item`,key:4}))}function Iee(e,t){return!!e&&!!t&&!isNaN(Number(t))}const Dee=e=>{const{spinPrefixCls:t,spinning:n=!0,delay:r=0,className:i,rootClassName:o,size:s="default",tip:a,wrapperClassName:l,style:c,children:u,hashId:f,fullscreen:h}=e,m=Ree(e,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId","fullscreen"]),[p,g]=b.useState(()=>n&&!Iee(n,r));b.useEffect(()=>{if(n){const P=LJ(r,()=>{g(!0)});return P(),()=>{var A;(A=P==null?void 0:P.cancel)===null||A===void 0||A.call(P)}}g(!1)},[r,n]);const _=b.useMemo(()=>typeof u<"u"&&!h,[u,h]),{direction:x,spin:S}=b.useContext(jr),C=Se(t,S==null?void 0:S.className,{[`${t}-sm`]:s==="small",[`${t}-lg`]:s==="large",[`${t}-spinning`]:p,[`${t}-show-text`]:!!a,[`${t}-fullscreen`]:h,[`${t}-fullscreen-show`]:h&&p,[`${t}-rtl`]:x==="rtl"},i,o,f),j=Se(`${t}-container`,{[`${t}-blur`]:p}),k=jl(m,["indicator","prefixCls"]),T=Object.assign(Object.assign({},S==null?void 0:S.style),c),y=b.createElement("div",Object.assign({},k,{style:T,className:C,"aria-live":"polite","aria-busy":p}),$ee(t,e),a&&(_||h)?b.createElement("div",{className:`${t}-text`},a):null);return _?b.createElement("div",Object.assign({},k,{className:Se(`${t}-nested-loading`,l,f)}),p&&b.createElement("div",{key:"loading"},y),b.createElement("div",{className:j,key:"container"},u)):y},GR=e=>{const{prefixCls:t}=e,{getPrefixCls:n}=b.useContext(jr),r=n("spin",t),[i,o]=Aee(r),s=Object.assign(Object.assign({},e),{spinPrefixCls:r,hashId:o});return i(b.createElement(Dee,Object.assign({},s)))};GR.setDefaultIndicator=e=>{Bp=e};const Lee=GR;function Fee(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"}))}const zee=b.forwardRef(Fee),Bee=zee;function Wee(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"}))}const Hee=b.forwardRef(Wee),qee=Hee;function Vee(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"}))}const Uee=b.forwardRef(Vee),Gee=Uee;function Kee(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"}))}const Yee=b.forwardRef(Kee),Zee=Yee;function Qee(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))}const Jee=b.forwardRef(Qee),Xee=Jee;function ete(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"}))}const tte=b.forwardRef(ete),nte=tte;function rte(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"}))}const ite=b.forwardRef(rte),ote=ite;function ste(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"}))}const ate=b.forwardRef(ste),lte=ate;function cte(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}))}const ute=b.forwardRef(cte),dte=ute;function fte(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"}))}const hte=b.forwardRef(fte),pte=hte;function mte(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"}))}const gte=b.forwardRef(mte),vte=gte;function bte(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"}))}const yte=b.forwardRef(bte),_te=yte;function xte(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"}))}const wte=b.forwardRef(xte),Ste=wte;function Cte(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16l2.879-2.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const Tte=b.forwardRef(Cte),jte=Tte;function Ete(e,t){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"}))}const kte=b.forwardRef(Ete),Ote=kte,oj={disabled:!1},KR=Le.createContext(null);var Mte=function(t){return t.scrollTop},Id="unmounted",Ta="exited",ja="entering",dc="entered",$_="exiting",ps=function(e){$1(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Ta,o.appearStatus=ja):l=dc:r.unmountOnExit||r.mountOnEnter?l=Id:l=Ta,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Id?{status:Ta}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==ja&&s!==dc&&(o=ja):(s===ja||s===dc)&&(o=$_)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===ja){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Ad.findDOMNode(this);s&&Mte(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ta&&this.setState({status:Id})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ad.findDOMNode(this),a],c=l[0],u=l[1],f=this.getTimeouts(),h=a?f.appear:f.enter;if(!i&&!s||oj.disabled){this.safeSetState({status:dc},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:ja},function(){o.props.onEntering(c,u),o.onTransitionEnd(h,function(){o.safeSetState({status:dc},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Ad.findDOMNode(this);if(!o||oj.disabled){this.safeSetState({status:Ta},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:$_},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Ta},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Ad.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Id)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=k3(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Le.createElement(KR.Provider,{value:null},typeof s=="function"?s(i,a):Le.cloneElement(Le.Children.only(s),a))},t}(Le.Component);ps.contextType=KR;ps.propTypes={};function Yl(){}ps.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yl,onEntering:Yl,onEntered:Yl,onExit:Yl,onExiting:Yl,onExited:Yl};ps.UNMOUNTED=Id;ps.EXITED=Ta;ps.ENTERING=ja;ps.ENTERED=dc;ps.EXITING=$_;const sS=ps;var Nte=function(e){return(e+1)%1e6};function Pte(){var e=b.useReducer(Nte,0),t=e[1];return t}function mb(e,t){return typeof e=="function"?e.length?e(t):e():e}function Ate(e){e===void 0&&(e=[]);var t=b.useRef(mb(e)),n=Pte(),r=b.useMemo(function(){var i={set:function(o){t.current=mb(o,t.current),n()},push:function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];o.length&&r.set(function(a){return a.concat(o)})},updateAt:function(o,s){r.set(function(a){var l=a.slice();return l[o]=s,l})},insertAt:function(o,s){r.set(function(a){var l=a.slice();return o>l.length?l[o]=s:l.splice(o,0,s),l})},update:function(o,s){r.set(function(a){return a.map(function(l){return o(l,s)?s:l})})},updateFirst:function(o,s){var a=t.current.findIndex(function(l){return o(l,s)});a>=0&&r.updateAt(a,s)},upsert:function(o,s){var a=t.current.findIndex(function(l){return o(l,s)});a>=0?r.updateAt(a,s):r.push(s)},sort:function(o){r.set(function(s){return s.slice().sort(o)})},filter:function(o,s){r.set(function(a){return a.slice().filter(o,s)})},removeAt:function(o){r.set(function(s){var a=s.slice();return a.splice(o,1),a})},clear:function(){r.set([])},reset:function(){r.set(mb(e).slice())}};return i.remove=i.removeAt,i},[]);return[t.current,r]}const Rte=Object.freeze(Object.defineProperty({__proto__:null,default:G9},Symbol.toStringTag,{value:"Module"})),$te=e=>d.jsx(sr,{value:e.session,children:d.jsx(Bz,{...e})}),Ite=Object.freeze(Object.defineProperty({__proto__:null,default:$te},Symbol.toStringTag,{value:"Module"})),Dte=ut.array(YW);function Lte(e){return Rn.get(`${Zn}/organizations/${e}/blueprint_projects`).then(t=>du(t.data,Dte))}function YR({organizationId:e}){const t=li({queryKey:e,queryFn:n=>Lte(n),delay:!0,onQueryKeyChange:"reloadIfLoadedOrFailed"});switch(t.status){case"not_loaded":case"loading":return"load"in t&&t.load(),d.jsx("div",{className:Se("tw-w-full tw-h-80","tw-flex tw-items-center tw-justify-center"),children:d.jsx(fn,{className:Se("tw-w-16 tw-h-16")})});case"failure":return d.jsx("div",{className:Se("tw-w-full tw-h-80","tw-flex tw-items-center tw-justify-center"),children:d.jsx("h2",{className:"tw-text-red-500",children:"Error loading blueprint projects. Please let us know if this persists."})});case"loaded":{if(t.data.length===0)return null;const n=Io(),r=[n.accessor(i=>i.name,{header:"Name",minSize:700}),n.accessor(i=>i.id,{header:"ID",minSize:400})];return d.jsxs("div",{className:"tw-pt-20",children:[d.jsx("h2",{children:"Blueprint projects"}),d.jsx($o,{data:t.data,columns:r,ToolbarComponent:()=>null})]})}default:Lt()}}const Fte=Object.freeze(Object.defineProperty({__proto__:null,default:YR},Symbol.toStringTag,{value:"Module"}));function ZR({item:e,newItemLabels:t,setNewItemLabels:n,itemsHiddenForDelivery:r,setItemsHiddenForDelivery:i}){const o=()=>{const f=new Set(r);f.delete(e.id),i(f)},s=()=>{const f=new Set(r);f.add(e.id),i(f)},a=f=>{n({...t,[e.id]:f})},l=()=>{n({...t,[e.id]:cW(e.text||"")})},c=r.has(e.id),u=!c&&(!Object.keys(t).includes(e.id)||t[e.id]==="");return d.jsxs("div",{className:Se("tw-border tw-border-black-10 tw-p-4 tw-rounded-md tw-my-2",{"tw-bg-red-200":u,"tw-bg-gray-200":c}),children:[d.jsx("div",{className:Se("tw-pb-2",{"tw-opacity-40":c}),children:d.jsx("div",{dangerouslySetInnerHTML:{__html:Da(e.text||"")}})}),!c&&d.jsxs("div",{className:"tw-pb-2",children:[d.jsx("b",{children:"Column name for display: "}),d.jsx(Do,{onChange:f=>{a(f.target.value)},value:t[e.id]||""})]}),u&&d.jsx("p",{className:"tw-text-red-900 tw-pb-2",children:"Please provide a column name or hide this item from delivery."}),d.jsx("div",{children:c?d.jsx(yt,{buttonSize:"sm",onClick:o,children:"Show for delivery"}):d.jsxs(d.Fragment,{children:[d.jsx(yt,{buttonSize:"sm",variant:"positive",onClick:s,children:"Hide for delivery"}),d.jsx(yt,{className:"tw-ml-2",buttonSize:"sm",variant:"outline",onClick:l,children:"Copy existing question text"})]})})]})}const zte=Object.freeze(Object.defineProperty({__proto__:null,default:ZR},Symbol.toStringTag,{value:"Module"}));function QR({projectId:e,dataFields:t}){const[n,r]=b.useState([]),[i,o]=b.useState(!1),[s,a]=b.useState(!1),l=(u,f)=>{r(f?h=>[...h,u]:h=>h.filter(m=>m!==u))},c=()=>{a(!0),K9(e,n).then(()=>{a(!1),window.location.href=`/projects/${e}`})};return d.jsxs(d.Fragment,{children:[d.jsx(Eo,{text:`Are you sure you want to delete the following fields?: ${n.join(", ")}`,confirmBtnText:"Let's do it!",onConfirmed:c,isOpen:i,setIsOpen:o,showLoadingIcon:s}),t.map((u,f)=>d.jsx(ii,{id:u,label:u,onChange:h=>l(u,h==null?void 0:h.currentTarget.checked)},f)),d.jsx(yt,{onClick:()=>o(!0),children:"Delete"})]})}const Bte=Object.freeze(Object.defineProperty({__proto__:null,default:QR},Symbol.toStringTag,{value:"Module"}));function cn({Icon:e,onClick:t,innerRef:n,tooltip:r}){const[i,o]=b.useState(null);return b.useEffect(()=>{n==null||n(i)},[i,n]),d.jsx(yn,{reference:i,content:r,children:d.jsx("button",{ref:o,onClick:t,className:Se("tw-flex tw-items-center tw-justify-center","tw-h-10","tw-w-10","tw-text-gray-400"),type:"button",children:d.jsx("div",{style:{pointerEvents:"none"},children:d.jsx(e,{})})})})}const Wte=Object.freeze(Object.defineProperty({__proto__:null,default:cn},Symbol.toStringTag,{value:"Module"}));function Hte(e,t,n="mousedown"){ns(n,r=>{e.some(o=>o&&(o==r.target||o.contains(r.target)))||t(r)})}const qte=[["rgb(166, 28, 0)","rgb(204, 0, 0)","rgb(230, 145, 56)","rgb(241, 194, 50)","rgb(106, 168, 79)","rgb(69, 129, 142)","rgb(60, 120, 216)","rgb(61, 133, 198)","rgb(103, 78, 167)","rgb(166, 77, 121)"],["rgb(204, 65, 37)","rgb(224, 102, 102)","rgb(246, 178, 107)","rgb(255, 217, 102)","rgb(147, 196, 125)","rgb(118, 165, 175)","rgb(109, 158, 235)","rgb(111, 168, 220)","rgb(142, 124, 195)","rgb(194, 123, 160)"],["rgb(242, 170, 170)","rgb(250, 194, 194)","rgb(255, 208, 160)","rgb(255, 225, 134)","rgb(191, 222, 177)","rgb(179, 202, 207)","rgb(165, 198, 250)","rgb(182, 209, 242)","rgb(181, 171, 209)","rgb(209, 171, 190)"]];function I_({setColor:e,Icon:t,tooltip:n,color:r}){const[i,o]=b.useState(!1),[s,a]=b.useState(null),[l,c]=b.useState(null),u=[{name:"offset",options:{offset:[0,7]}}],{styles:f,attributes:h}=uW(s,l,{placement:"top",modifiers:u}),m=b.useCallback(()=>{o(!1)},[]);return Hte([s,l],m),d.jsxs("div",{className:"picker",children:[d.jsx(cn,{tooltip:n,Icon:t,onClick:()=>o(!0),innerRef:a}),i&&d.jsxs("div",{ref:c,style:f.popper,...h.popper,className:Se("tw-bg-white-100 tw-shadow-sm","tw-flex tw-items-center"),children:[d.jsx("div",{className:Se("tw-p-2","tw-flex tw-flex-col tw-gap-2"),children:qte.map((p,g)=>d.jsx("div",{className:Se("tw-flex tw-flex-no-wrap tw-gap-2"),children:p.map((_,x)=>d.jsx("button",{className:Se("tw-w-6 tw-h-6","tw-rounded-full"),style:{backgroundColor:_},onClick:()=>e(_)},x))},g))}),r&&d.jsx(yt,{variant:"primary",buttonSize:"sm",className:Se("tw-mr-2"),onClick:()=>e(null),children:d.jsx("span",{style:{color:"black !important"},children:"Reset"})})]})]})}const Vte=Object.freeze(Object.defineProperty({__proto__:null,default:I_},Symbol.toStringTag,{value:"Module"}));var sj;function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D_.apply(this,arguments)}var Ute=function(t){return b.createElement("svg",D_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 16 16"},t),sj||(sj=b.createElement("path",{fillRule:"evenodd",d:"M2 1.75C2 .784 2.784 0 3.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 12.25 15h-7a.75.75 0 0 1 0-1.5h7a.25.25 0 0 0 .25-.25V6H9.75A1.75 1.75 0 0 1 8 4.25V1.5H3.75a.25.25 0 0 0-.25.25V4.5a.75.75 0 0 1-1.5 0zm7.5-.188V4.25c0 .138.112.25.25.25h2.688a.252.252 0 0 0-.011-.013L9.513 1.573a.248.248 0 0 0-.013-.011m-8 10.675a2.25 2.25 0 0 1 2.262-2.25L4 9.99v1.938c0 .218.26.331.42.183l2.883-2.677a.25.25 0 0 0 0-.366L4.42 6.39a.25.25 0 0 0-.42.183V8.49l-.23-.001A3.75 3.75 0 0 0 0 12.238v1.012a.75.75 0 0 0 1.5 0z"})))};function aS({editor:e}){const t=b.useCallback(()=>{const n=window.prompt("URL to embed: ");n&&e.chain().focus().setIframe({src:n}).run()},[e]);return d.jsx(cn,{tooltip:"Embed another website",Icon:()=>d.jsx(Ute,{className:"tw-w-5 tw-h-5"}),onClick:t})}const Gte=Object.freeze(Object.defineProperty({__proto__:null,default:aS},Symbol.toStringTag,{value:"Module"}));var aj,lj,cj,uj,dj;function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L_.apply(this,arguments)}var Kte=function(t){return b.createElement("svg",L_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"photo_svg__icon photo_svg__icon-tabler photo_svg__icon-tabler-photo",viewBox:"0 0 24 24"},t),aj||(aj=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),lj||(lj=b.createElement("path",{d:"M15 8h.01"})),cj||(cj=b.createElement("rect",{width:16,height:16,x:4,y:4,rx:3})),uj||(uj=b.createElement("path",{d:"m4 15 4-4a3 5 0 0 1 3 0l5 5"})),dj||(dj=b.createElement("path",{d:"m14 14 1-1a3 5 0 0 1 3 0l2 2"})))};const ui=b.createContext(null);function JR(e,t){var r;const n=(r=e.match(/\{\{(.*?)\}\}/))==null?void 0:r[1];return!n||t.includes(n)?!0:window.confirm(`Column ${n} doesn't exist in your project's CSV. Do you still want to continue?`)}function lS({editor:e}){const t=b.useContext(ui),n=b.useCallback(()=>{const r=window.prompt("URL");if(r){if(!JR(r,(t==null?void 0:t.dataKeys)||[]))return;e.chain().focus().setImage({src:r,alt:r}).run()}},[e,t==null?void 0:t.dataKeys]);return d.jsx(cn,{tooltip:"Add image",Icon:()=>d.jsx(Kte,{className:"tw-w-5 tw-h-5"}),onClick:n})}const Yte=Object.freeze(Object.defineProperty({__proto__:null,default:lS,isValidKey:JR},Symbol.toStringTag,{value:"Module"}));var fj,hj;function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F_.apply(this,arguments)}var Zte=function(t){return b.createElement("svg",F_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"table-plus_svg__icon table-plus_svg__icon-tabler table-plus_svg__icon-tabler-table-plus",viewBox:"0 0 24 24"},t),fj||(fj=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),hj||(hj=b.createElement("path",{d:"M12.5 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v7.5M3 10h18M10 3v18M16 19h6M19 16v6"})))},pj,mj;function z_(){return z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z_.apply(this,arguments)}var Qte=function(t){return b.createElement("svg",z_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"table-minus_svg__icon table-minus_svg__icon-tabler table-minus_svg__icon-tabler-table-minus",viewBox:"0 0 24 24"},t),pj||(pj=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),mj||(mj=b.createElement("path",{d:"M12.5 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10M3 10h18M10 3v18M16 19h6"})))};function cS({editor:e}){const t=e.isActive("table")?Qte:Zte;return d.jsx(cn,{tooltip:e.isActive("table")?"Delete Table":"Insert Table",Icon:t,onClick:()=>{if(e.isActive("table"))return e.commands.deleteTable();e.commands.insertTable({rows:3,cols:3})}})}const Jte=Object.freeze(Object.defineProperty({__proto__:null,default:cS},Symbol.toStringTag,{value:"Module"}));var gj,vj;function B_(){return B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B_.apply(this,arguments)}var XR=function(t){return b.createElement("svg",B_({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"bulletlist_svg__icon bulletlist_svg__icon-tabler bulletlist_svg__icon-tabler-list",viewBox:"0 0 24 24",width:"1em",height:"1em"},t),gj||(gj=b.createElement("path",{fill:"none",stroke:"none",d:"M0 0h24v24H0z"})),vj||(vj=b.createElement("path",{d:"M9 6h11M9 12h11M9 18h11M5 6v.01M5 12v.01M5 18v.01"})))},bj,yj;function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W_.apply(this,arguments)}var e$=function(t){return b.createElement("svg",W_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"numberedlist_svg__icon numberedlist_svg__icon-tabler numberedlist_svg__icon-tabler-list-numbers",viewBox:"0 0 24 24"},t),bj||(bj=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),yj||(yj=b.createElement("path",{d:"M11 6h9M11 12h9M12 18h8M4 16a2 2 0 1 1 4 0c0 .591-.5 1-1 1.5L4 20h4M6 10V4L4 6"})))},_j,xj;function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H_.apply(this,arguments)}var t$=function(t){return b.createElement("svg",H_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"blockquote_svg__icon blockquote_svg__icon-tabler blockquote_svg__icon-tabler-quote",viewBox:"0 0 24 24"},t),_j||(_j=b.createElement("path",{fill:"none",stroke:"none",d:"M0 0h24v24H0z"})),xj||(xj=b.createElement("path",{d:"M10 11H6a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v6c0 2.667-1.333 4.333-4 5M19 11h-4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v6c0 2.667-1.333 4.333-4 5"})))};function n$({editor:e}){return d.jsxs("div",{className:"tw-flex tw-flex-nowrap tw--mt-3",children:[d.jsx(cn,{tooltip:"Heading 1",Icon:()=>d.jsx(d.Fragment,{children:"H1"}),onClick:()=>e.chain().focus().toggleHeading({level:1}).run()}),d.jsx(cn,{tooltip:"Heading 2",Icon:()=>d.jsx(d.Fragment,{children:"H2"}),onClick:()=>e.chain().focus().toggleHeading({level:2}).run()}),d.jsx(cn,{tooltip:"Heading 3",Icon:()=>d.jsx(d.Fragment,{children:"H3"}),onClick:()=>e.chain().focus().toggleHeading({level:3}).run()}),d.jsx(aS,{editor:e}),d.jsx(lS,{editor:e}),d.jsx(cn,{tooltip:"Blockquote",Icon:()=>d.jsx(t$,{className:"tw-w-6 tw-h-6"}),onClick:()=>e.chain().focus().toggleBlockquote().run()}),d.jsx(cn,{tooltip:"Bullet list",Icon:()=>d.jsx(XR,{className:"tw-w-6 tw-h-6"}),onClick:()=>e.chain().focus().toggleBulletList().run()}),d.jsx(cn,{tooltip:"Number list",Icon:()=>d.jsx(e$,{className:"tw-w-6 tw-h-6"}),onClick:()=>e.chain().focus().toggleOrderedList().run()}),d.jsx(cn,{tooltip:"Monospace (usually for code)",Icon:()=>d.jsx(d.Fragment,{children:"<>"}),onClick:()=>e.chain().focus().toggleCode().run()}),d.jsx(cS,{editor:e})]})}const Xte=Object.freeze(Object.defineProperty({__proto__:null,default:n$},Symbol.toStringTag,{value:"Module"}));function r$({editor:e}){const t=b.useCallback(()=>{const n=e.getAttributes("link").href,r=window.prompt("URL",n);if(r!==null){if(r===""){e.chain().focus().extendMarkRange("link").unsetLink().run();return}e.chain().focus().extendMarkRange("link").setLink({href:r}).run()}},[e]);return d.jsx(cn,{tooltip:"Set/edit link",Icon:()=>d.jsx(eq,{className:"tw-w-5 tw-h-5"}),onClick:t})}const ene=Object.freeze(Object.defineProperty({__proto__:null,default:r$},Symbol.toStringTag,{value:"Module"}));var wj,Sj;function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q_.apply(this,arguments)}var tne=function(t){return b.createElement("svg",q_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"row-insert-bottom_svg__icon row-insert-bottom_svg__icon-tabler row-insert-bottom_svg__icon-tabler-row-insert-bottom",viewBox:"0 0 24 24"},t),wj||(wj=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),Sj||(Sj=b.createElement("path",{d:"M20 6v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1M12 15v4M14 17h-4"})))},Cj,Tj;function V_(){return V_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V_.apply(this,arguments)}var nne=function(t){return b.createElement("svg",V_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"row-insert-top_svg__icon row-insert-top_svg__icon-tabler row-insert-top_svg__icon-tabler-row-insert-top",viewBox:"0 0 24 24"},t),Cj||(Cj=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),Tj||(Tj=b.createElement("path",{d:"M4 18v-4a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1M12 9V5M10 7h4"})))},jj,Ej;function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U_.apply(this,arguments)}var rne=function(t){return b.createElement("svg",U_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"column-insert-left_svg__icon column-insert-left_svg__icon-tabler column-insert-left_svg__icon-tabler-column-insert-left",viewBox:"0 0 24 24"},t),jj||(jj=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),Ej||(Ej=b.createElement("path",{d:"M14 4h4a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1M5 12h4M7 10v4"})))},kj,Oj;function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G_.apply(this,arguments)}var ine=function(t){return b.createElement("svg",G_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"column-insert-right_svg__icon column-insert-right_svg__icon-tabler column-insert-right_svg__icon-tabler-column-insert-right",viewBox:"0 0 24 24"},t),kj||(kj=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),Oj||(Oj=b.createElement("path",{d:"M6 4h4a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1M15 12h4M17 10v4"})))},Mj,Nj,Pj;function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K_.apply(this,arguments)}var one=function(t){return b.createElement("svg",K_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"arrows-join_svg__icon arrows-join_svg__icon-tabler arrows-join_svg__icon-tabler-arrows-join",viewBox:"0 0 24 24"},t),Mj||(Mj=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),Nj||(Nj=b.createElement("path",{d:"M3 7h5l3.5 5H21M3 17h5l3.495-5"})),Pj||(Pj=b.createElement("path",{d:"m18 15 3-3-3-3"})))},Aj,Rj,$j;function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y_.apply(this,arguments)}var sne=function(t){return b.createElement("svg",Y_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"arrows-split_svg__icon arrows-split_svg__icon-tabler arrows-split_svg__icon-tabler-arrows-split",viewBox:"0 0 24 24"},t),Aj||(Aj=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),Rj||(Rj=b.createElement("path",{d:"M21 17h-8l-3.5-5H3M21 7h-8l-3.495 5"})),$j||($j=b.createElement("path",{d:"m18 10 3-3-3-3M18 20l3-3-3-3"})))},Ij,Dj;function Z_(){return Z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z_.apply(this,arguments)}var ane=function(t){return b.createElement("svg",Z_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"layout-navbar_svg__icon layout-navbar_svg__icon-tabler layout-navbar_svg__icon-tabler-layout-navbar",viewBox:"0 0 24 24"},t),Ij||(Ij=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),Dj||(Dj=b.createElement("path",{d:"M4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zM4 9h16"})))},Lj,Fj;function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q_.apply(this,arguments)}var lne=function(t){return b.createElement("svg",Q_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"freeze-column_svg__icon freeze-column_svg__icon-tabler freeze-column_svg__icon-tabler-freeze-column",viewBox:"0 0 24 24"},t),Lj||(Lj=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),Fj||(Fj=b.createElement("path",{d:"m9 9.5-6 6M9 4l-6 6M9 15l-5 5M9 3v18M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})))},zj,Bj;function J_(){return J_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J_.apply(this,arguments)}var cne=function(t){return b.createElement("svg",J_({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"freeze-row_svg__icon freeze-row_svg__icon-tabler freeze-row_svg__icon-tabler-freeze-row",viewBox:"0 0 24 24"},t),zj||(zj=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),Bj||(Bj=b.createElement("path",{d:"M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zM21 9H3M15 3 9 9M9.5 3l-6 6M20 3.5 14.5 9"})))};function i$({editor:e}){return e.isActive("table")?d.jsxs("div",{className:"tw-flex tw-flex-nowrap",children:[d.jsx(cn,{tooltip:"Insert Row Before",Icon:nne,onClick:()=>e.commands.addRowBefore()}),d.jsx(cn,{tooltip:"Insert Row After",Icon:tne,onClick:()=>e.commands.addRowAfter()}),d.jsx(cn,{tooltip:"Insert Column Before",Icon:rne,onClick:()=>e.commands.addColumnBefore()}),d.jsx(cn,{tooltip:"Insert Column After",Icon:ine,onClick:()=>e.commands.addColumnAfter()}),d.jsx(cn,{tooltip:"Merge Cells",Icon:one,onClick:()=>e.commands.mergeCells()}),d.jsx(cn,{tooltip:"Split Cells",Icon:sne,onClick:()=>e.commands.splitCell()}),d.jsx(cn,{tooltip:"Make Header",Icon:ane,onClick:()=>e.commands.toggleHeaderCell()}),d.jsx(cn,{tooltip:"Delete Row",Icon:cne,onClick:()=>e.commands.deleteRow()}),d.jsx(cn,{tooltip:"Delete Column",Icon:lne,onClick:()=>e.commands.deleteColumn()})]}):null}const une=Object.freeze(Object.defineProperty({__proto__:null,default:i$},Symbol.toStringTag,{value:"Module"}));function fr(e){this.content=e}fr.prototype={constructor:fr,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new fr(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new fr(n)},addToStart:function(e,t){return new fr([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new fr(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(o==-1?i.length:o,0,t,n),new fr(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=fr.from(e),e.size?new fr(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=fr.from(e),e.size?new fr(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=fr.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};fr.from=function(e){if(e instanceof fr)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new fr(t)};function o$(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=o$(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function s$(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=e.child(--i),a=t.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=s$(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class Ge{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>t&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",s=!0;return this.nodesBetween(t,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new Ge(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>t&&((s<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,t-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new Ge(r,i)}cutByIndex(t,n){return t==n?Ge.empty:t==0&&n==this.content.length?this:new Ge(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new Ge(i,o)}addToStart(t){return new Ge([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Ge(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return o$(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return s$(this,t,n,r)}findIndex(t,n=-1){if(t==0)return ep(0,t);if(t==this.size)return ep(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=t)return s==t||n>0?ep(r+1,s):ep(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Ge.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ge(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Ge.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Ge(n||t,r)}static from(t){if(!t)return Ge.empty;if(t instanceof Ge)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Ge([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ge.empty=new Ge([],0);const gb={index:0,offset:0};function ep(e,t){return gb.index=e,gb.offset=t,gb}function mm(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!mm(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!mm(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let bn=class X_{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&mm(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return X_.none;if(t instanceof X_)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};bn.none=[];class gm extends Error{}class it{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=l$(this.content,t+this.openStart,n);return r&&new it(r,this.openStart,this.openEnd)}removeBetween(t,n){return new it(a$(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return it.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new it(Ge.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new it(t,r,i)}}it.empty=new it(Ge.empty,0,0);function a$(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(i==t||o.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(a$(o.content,t-i-1,n-i-1)))}function l$(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),s=e.maybeChild(i);if(o==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=l$(s.content,t-o-1,n);return a&&e.replaceChild(i,s.copy(a))}function dne(e,t,n){if(n.openStart>e.depth)throw new gm("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new gm("Inconsistent open depths");return c$(e,t,n,0)}function c$(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=c$(e,t,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,a=s.content;return tl(s,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:s,end:a}=fne(n,e);return tl(o,d$(e,s,a,t,r))}else return tl(o,vm(e,t,r))}function u$(e,t){if(!t.type.compatibleContent(e.type))throw new gm("Cannot join "+t.type.name+" onto "+e.type.name)}function ex(e,t,n){let r=e.node(n);return u$(r,t.node(n)),r}function el(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Kd(e,t,n,r){let i=(t||e).node(n),o=0,s=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(el(e.nodeAfter,r),o++));for(let a=o;a<s;a++)el(i.child(a),r);t&&t.depth==n&&t.textOffset&&el(t.nodeBefore,r)}function tl(e,t){return e.type.checkContent(t),e.copy(t)}function d$(e,t,n,r,i){let o=e.depth>i&&ex(e,t,i+1),s=r.depth>i&&ex(n,r,i+1),a=[];return Kd(null,e,i,a),o&&s&&t.index(i)==n.index(i)?(u$(o,s),el(tl(o,d$(e,t,n,r,i+1)),a)):(o&&el(tl(o,vm(e,t,i+1)),a),Kd(t,n,i,a),s&&el(tl(s,vm(n,r,i+1)),a)),Kd(r,null,i,a),new Ge(a)}function vm(e,t,n){let r=[];if(Kd(null,e,n,r),e.depth>n){let i=ex(e,t,n+1);el(tl(i,vm(e,t,n+1)),r)}return Kd(t,null,n,r),new Ge(r)}function fne(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(Ge.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class vf{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return bn.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new bm(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=t;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new vf(n,r,o)}static resolveCached(t,n){for(let i=0;i<vb.length;i++){let o=vb[i];if(o.pos==n&&o.doc==t)return o}let r=vb[bb]=vf.resolve(t,n);return bb=(bb+1)%hne,r}}let vb=[],bb=0,hne=12;class bm{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const pne=Object.create(null);let nl=class tx{constructor(t,n,r,i=bn.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||Ge.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&mm(this.attrs,n||t.defaultAttrs||pne)&&bn.sameSet(this.marks,r||bn.none)}copy(t=null){return t==this.content?this:new tx(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new tx(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return it.empty;let i=this.resolve(t),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new it(c,i.depth-s,o.depth-s)}replace(t,n,r){return dne(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return vf.resolveCached(this,t)}resolveNoCache(t){return vf.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),f$(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Ge.empty,i=0,o=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=bn.none;for(let n=0;n<this.marks.length;n++)t=this.marks[n].addToSet(t);if(!bn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=Ge.fromJSON(t,n.content);return t.nodeType(n.type).create(n.attrs,i,r)}};nl.prototype.text=void 0;class ym extends nl{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):f$(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new ym(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new ym(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function f$(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class hl{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new mne(t,n);if(r.next==null)return hl.empty;let i=h$(r);r.next&&r.err("Unexpected trailing text");let o=wne(xne(i));return Sne(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(t,r);if(l&&(!n||l.validEnd))return Ge.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:f}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let h=o(f,a.concat(u));if(h)return h}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return o}).join(`
`)}}hl.empty=new hl(!0);class mne{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function h$(e){let t=[];do t.push(gne(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function gne(e){let t=[];do t.push(vne(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function vne(e){let t=_ne(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=bne(e,t);else break;return t}function Wj(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function bne(e,t){let n=Wj(e),r=n;return e.eat(",")&&(e.next!="}"?r=Wj(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function yne(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(t)>-1&&i.push(s)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function _ne(e){if(e.eat("(")){let t=h$(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=yne(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function xne(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(s,a,l){let c={term:l,to:a};return t[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function p$(e,t){return t-e}function Hj(e,t){let n=[];return r(t),n.sort(p$);function r(i){let o=e[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function wne(e){let t=Object.create(null);return n(Hj(e,0));function n(r){let i=[];r.forEach(s=>{e[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);Hj(e,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=t[r.join(",")]=new hl(r.indexOf(e.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(p$);o.next.push({type:i[s][0],next:t[a.join(",")]||n(a)})}return o}}function Sne(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function m$(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function g$(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let o=e[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function v$(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new Cne(e[n]);return t}let qj=class b${constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=v$(r.attrs),this.defaultAttrs=m$(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==hl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:g$(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new nl(this,this.computeAttrs(t),Ge.from(n),bn.setFrom(r))}createChecked(t=null,n,r){return n=Ge.from(n),this.checkContent(n),new nl(this,this.computeAttrs(t),n,bn.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Ge.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(Ge.empty,!0);return o?new nl(this,t,n.append(o),bn.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:bn.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,s)=>r[o]=new b$(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class Cne{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class Vg{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=v$(i.attrs),this.excluded=null;let o=m$(this.attrs);this.instance=o?new bn(this,o):null}create(t=null){return!t&&this.instance?this.instance:new bn(this,g$(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((o,s)=>r[o]=new Vg(o,i++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}excludes(t){return this.excluded.indexOf(t)>-1}}class Tne{constructor(t){this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=fr.from(t.nodes),n.marks=fr.from(t.marks||{}),this.nodes=qj.compile(this.spec.nodes,this),this.marks=Vg.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;o.contentMatch=r[s]||(r[s]=hl.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=a=="_"?null:a?Vj(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:Vj(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof qj){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new ym(r,r.defaultAttrs,t,bn.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return nl.fromJSON(this,t)}markFromJSON(t){return bn.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function Vj(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],s=o;if(o)n.push(o);else for(let a in e.marks){let l=e.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function jne(e){return e.tag!=null}function Ene(e){return e.style!=null}class Hc{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{jne(r)?this.tags.push(r):Ene(r)&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=t.nodes[r.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new Gj(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new Gj(this,n,!0);return r.addAll(t,n.from,n.to),it.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Mne(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(t);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(t){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Kj(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Kj(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Hc(t,Hc.schemaRules(t)))}}const y$={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},kne={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},_$={ol:!0,ul:!0},_m=1,xm=2,Yd=4;function Uj(e,t,n){return t!=null?(t?_m:0)|(t==="full"?xm:0):e&&e.whitespace=="pre"?_m|xm:n&~Yd}class tp{constructor(t,n,r,i,o,s,a){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=a,this.content=[],this.activeMarks=bn.none,this.stashMarks=[],this.match=s||(a&Yd?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Ge.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&_m)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=Ge.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Ge.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):Pne(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!y$.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class Gj{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=Uj(null,n.preserveWhitespace,0)|(r?Yd:0);i?o=new tp(i.type,i.attrs,bn.none,bn.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new tp(null,null,bn.none,bn.none,!0,null,s):o=new tp(t.schema.topNodeType,null,bn.none,bn.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){t.nodeType==3?this.addTextNode(t):t.nodeType==1&&this.addElement(t)}withStyleRules(t,n){let r=t.getAttribute("style");if(!r)return n();let i=this.readStyles(Nne(r));if(!i)return;let[o,s]=i,a=this.top;for(let l=0;l<s.length;l++)this.removePendingMark(s[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l]);n();for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<s.length;l++)this.addPendingMark(s[l])}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&xm||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&_m)r.options&xm?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=t.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),i;_$.hasOwnProperty(r)&&this.parser.normalizeLists&&One(t);let o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));if(o?o.ignore:kne.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);let s,a=this.top,l=this.needsBlock;if(y$.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),s=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}o&&o.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),s&&this.sync(a),this.needsBlock=l}else this.withStyleRules(t,()=>{this.addElementByRule(t,o,o.consuming===!1?i:void 0)})}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=bn.none,r=bn.none;for(let i=0;i<t.length;i+=2)for(let o=void 0;;){let s=this.parser.matchStyle(t[i],t[i+1],this,o);if(!s)break;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(a=>{s.clearMark(a)&&(r=a.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,r]}addElementByRule(t,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(t):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,s&&this.removePendingMark(s,a)}addAll(t,n,r){let i=n||0;for(let o=n?t.childNodes[n]:t.firstChild,s=r==null?null:t.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o);this.findAtPoint(t,i)}findPlace(t){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(t);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let i=0;i<t.marks.length;i++)(!n.type||n.type.allowsMarkType(t.marks[i].type))&&(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let i=this.findPlace(t.create(n));return i&&this.enterInner(t,n,!0,r),i}enterInner(t,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t);let s=Uj(t,i,o.options);o.options&Yd&&o.content.length==0&&(s|=Yd),this.nodes.push(new tp(t,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=Ane(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let s=i.popFromStashMark(t);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function One(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&_$.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function Mne(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Nne(e){let t=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=t.exec(e);)r.push(n[1],n[2].trim());return r}function Kj(e){let t={};for(let n in e)t[n]=e[n];return t}function Pne(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==t||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}function Ane(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class _o{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=yb(n).createDocumentFragment());let i=r,o=[];return t.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=_o.renderSpec(yb(n),this.nodes[t.type.name](t));if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&_o.renderSpec(yb(r),i(t,n))}static renderSpec(t,n,r=null){if(typeof n=="string")return{dom:t.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,a=r?t.createElementNS(r,i):t.createElement(i),l=n[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(let u in l)if(l[u]!=null){let f=u.indexOf(" ");f>0?a.setAttributeNS(u.slice(0,f),u.slice(f+1),l[u]):a.setAttribute(u,l[u])}}for(let u=c;u<n.length;u++){let f=n[u];if(f===0){if(u<n.length-1||u>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:h,contentDOM:m}=_o.renderSpec(t,f,r);if(a.appendChild(h),m){if(s)throw new RangeError("Multiple content holes");s=m}}}return{dom:a,contentDOM:s}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new _o(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=Yj(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return Yj(t.marks)}}function Yj(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function yb(e){return e.document||window.document}const x$=65535,w$=Math.pow(2,16);function Rne(e,t){return e+t*w$}function Zj(e){return e&x$}function $ne(e){return(e-(e&x$))/w$}const S$=1,C$=2,Wp=4,T$=8;class nx{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&T$)>0}get deletedBefore(){return(this.delInfo&(S$|Wp))>0}get deletedAfter(){return(this.delInfo&(C$|Wp))>0}get deletedAcross(){return(this.delInfo&Wp)>0}}class oi{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&oi.empty)return oi.empty}recover(t){let n=0,r=Zj(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+$ne(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[a+o],u=this.ranges[a+s],f=l+c;if(t<=f){let h=c?t==l?-1:t==f?1:n:n,m=l+i+(h<0?0:u);if(r)return m;let p=t==(n<0?l:f)?null:Rne(a/3,t-l),g=t==l?C$:t==f?S$:Wp;return(n<0?t!=l:t!=f)&&(g|=T$),new nx(m,g,p)}i+=u-c}return r?t+i:new nx(t+i,0,null)}touches(t,n){let r=0,i=Zj(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+o],u=l+c;if(t<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];t(a,a+c,l,l+u),o+=u-c}}invert(){return new oi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?oi.empty:new oi(t<0?[0,-t,0]:[0,0,t])}}oi.empty=new oi([]);class Mc{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new Mc(this.maps,this.mirror,t,n)}copy(){return new Mc(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new Mc;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new nx(t,i,null)}}const _b=Object.create(null);let Er=class{getMap(){return oi.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=_b[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in _b)throw new RangeError("Duplicate use of step JSON ID "+t);return _b[t]=n,n.prototype.jsonID=t,n}};class qn{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new qn(t,null)}static fail(t){return new qn(null,t)}static fromReplace(t,n,r,i){try{return qn.ok(t.replace(n,r,i))}catch(o){if(o instanceof gm)return qn.fail(o.message);throw o}}}function uS(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(uS(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return Ge.fromArray(r)}class Hs extends Er{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new it(uS(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return qn.fromReplace(t,this.from,this.to,o)}invert(){return new xo(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Hs(n.pos,r.pos,this.mark)}merge(t){return t instanceof Hs&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Hs(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Hs(n.from,n.to,t.markFromJSON(n.mark))}}Er.jsonID("addMark",Hs);class xo extends Er{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new it(uS(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return qn.fromReplace(t,this.from,this.to,r)}invert(){return new Hs(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new xo(n.pos,r.pos,this.mark)}merge(t){return t instanceof xo&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new xo(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new xo(n.from,n.to,t.markFromJSON(n.mark))}}Er.jsonID("removeMark",xo);class qs extends Er{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return qn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return qn.fromReplace(t,this.pos,this.pos+1,new it(Ge.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new qs(this.pos,n.marks[i]);return new qs(this.pos,this.mark)}}return new qc(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new qs(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new qs(n.pos,t.markFromJSON(n.mark))}}Er.jsonID("addNodeMark",qs);class qc extends Er{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return qn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return qn.fromReplace(t,this.pos,this.pos+1,new it(Ge.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new qs(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new qc(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new qc(n.pos,t.markFromJSON(n.mark))}}Er.jsonID("removeNodeMark",qc);class er extends Er{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&rx(t,this.from,this.to)?qn.fail("Structure replace would overwrite content"):qn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new oi([this.from,this.to-this.from,this.slice.size])}invert(t){return new er(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new er(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof er)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?it.empty:new it(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new er(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?it.empty:new it(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new er(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new er(n.from,n.to,it.fromJSON(t,n.slice),!!n.structure)}}Er.jsonID("replace",er);class nr extends Er{constructor(t,n,r,i,o,s,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(t){if(this.structure&&(rx(t,this.from,this.gapFrom)||rx(t,this.gapTo,this.to)))return qn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return qn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?qn.fromReplace(t,this.from,this.to,r):qn.fail("Content does not fit in gap")}getMap(){return new oi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new nr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new nr(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new nr(n.from,n.to,n.gapFrom,n.gapTo,it.fromJSON(t,n.slice),n.insert,!!n.structure)}}Er.jsonID("replaceAround",nr);function rx(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function Ine(e,t,n,r){let i=[],o=[],s,a;e.doc.nodesBetween(t,n,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,t),m=Math.min(c+l.nodeSize,n),p=r.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(p)||(s&&s.to==h&&s.mark.eq(f[g])?s.to=m:i.push(s=new xo(h,m,f[g])));a&&a.to==h?a.to=m:o.push(a=new Hs(h,m,r))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function Dne(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof Vg){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let f=l[u],h;for(let m=0;m<i.length;m++){let p=i[m];p.step==o-1&&f.eq(i[m].style)&&(h=p)}h?(h.to=c,h.step=o):i.push({style:f,from:Math.max(a,t),to:c,step:o})}}}),i.forEach(s=>e.step(new xo(s.from,s.to,s.style)))}function Lne(e,t,n,r=n.contentMatch){let i=e.doc.nodeAt(t),o=[],s=t+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),c=s+l.nodeSize,u=r.matchType(l.type);if(!u)o.push(new er(s,c,it.empty));else{r=u;for(let f=0;f<l.marks.length;f++)n.allowsMarkType(l.marks[f].type)||e.step(new xo(s,c,l.marks[f]));if(l.isText&&!n.spec.code){let f,h=/\r?\n|\r/g,m;for(;f=h.exec(l.text);)m||(m=new it(Ge.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),o.push(new er(s+f.index,s+f.index+f[0].length,m))}}s=c}if(!r.validEnd){let a=r.fillBefore(Ge.empty,!0);e.replace(s,s,new it(a,0,0))}for(let a=o.length-1;a>=0;a--)e.step(o[a])}function Fne(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function vu(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),o=e.$from.index(r),s=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!Fne(i,o,s))break}return null}function zne(e,t,n){let{$from:r,$to:i,depth:o}=t,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=Ge.empty,f=0;for(let p=o,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=Ge.from(r.node(p).copy(u)),f++):l--;let h=Ge.empty,m=0;for(let p=o,g=!1;p>n;p--)g||i.after(p+1)<i.end(p)?(g=!0,h=Ge.from(i.node(p).copy(h)),m++):c++;e.step(new nr(l,c,s,a,new it(u.append(h),f,m),u.size-f,!0))}function dS(e,t,n=null,r=e){let i=Bne(e,t),o=i&&Wne(r,t);return o?i.map(Qj).concat({type:t,attrs:n}).concat(o.map(Qj)):null}function Qj(e){return{type:e,attrs:null}}function Bne(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return n.canReplaceWith(r,i,s)?o:null}function Wne(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:t).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function Hne(e,t,n){let r=Ge.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ge.from(n[s].type.create(n[s].attrs,r))}let i=t.start,o=t.end;e.step(new nr(i,o,i,o,new it(r,0,0),n.length,!0))}function qne(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(s,a)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&Vne(e.doc,e.mapping.slice(o).map(a),r)){e.clearIncompatible(e.mapping.slice(o).map(a,1),r);let l=e.mapping.slice(o),c=l.map(a,1),u=l.map(a+s.nodeSize,1);return e.step(new nr(c,u,c+1,u-1,new it(Ge.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function Vne(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Une(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new nr(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new it(Ge.from(s),0,0),1,!0))}function Nc(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let f=i.node(c),h=i.index(c);if(f.type.spec.isolating)return!1;let m=f.content.cutByIndex(h,f.childCount),p=r&&r[u+1];p&&(m=m.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||f;if(!f.canReplace(h+1,f.childCount)||!g.type.validContent(m))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function Gne(e,t,n=1,r){let i=e.doc.resolve(t),o=Ge.empty,s=Ge.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=Ge.from(i.node(a).copy(o));let u=r&&r[c];s=Ge.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}e.step(new er(t,t,new it(o.append(s),n,n),!0))}function ca(e,t){let n=e.resolve(t),r=n.index();return j$(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function j$(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function Ug(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&j$(o,s)&&r.node(i).canReplace(a,a+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function Kne(e,t,n){let r=new er(t-n,t+n,it.empty,!0);e.step(r)}function Yne(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function E$(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=f&&c.canReplaceWith(l,l,f[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function Gg(e,t,n=t,r=it.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return k$(i,o,r)?new er(t,n,r):new Zne(i,o,r).fit()}function k$(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class Zne{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Ge.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=Ge.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new it(o,s,a);return t>-1?new nr(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new er(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=xb(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,f=null;if(n==1&&(s?c.matchType(s.type)||(f=c.fillBefore(Ge.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:f};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=xb(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new it(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=xb(t,n);if(i.childCount<=1&&n>0){let o=t.size-n<=n+i.size;this.unplaced=new it(Dd(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new it(Dd(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-t,c=0,u=[],{match:f,type:h}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));f=f.matchFragment(i)}let m=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),_=f.matchType(g.type);if(!_)break;c++,(c>1||l==0||g.content.size)&&(f=_,u.push(O$(g.mark(h.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?m:-1)))}let p=c==a.childCount;p||(m=-1),this.placed=Ld(this.placed,n,Ge.from(u)),this.frontier[n].match=f,p&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,_=a;g<m;g++){let x=_.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),_=x.content}this.unplaced=p?t==0?it.empty:new it(Dd(s.content,t-1,1),t-1,m<0?s.openEnd:t-1):new it(Dd(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!wb(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=wb(t,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=wb(t,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ld(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=Ld(this.placed,this.depth,Ge.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Ge.empty,!0);n.childCount&&(this.placed=Ld(this.placed,this.frontier.length,n))}}function Dd(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Dd(e.firstChild.content,t-1,n)))}function Ld(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Ld(e.lastChild.content,t-1,n)))}function xb(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function O$(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,O$(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Ge.empty,!0)))),e.copy(r)}function wb(e,t,n,r,i){let o=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!Qne(n,o.content,s)?a:null}function Qne(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function Jne(e){return e.spec.defining||e.spec.definingForContent}function Xne(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(k$(i,o,r))return e.step(new er(t,n,r));let s=N$(i,e.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let h=i.depth,m=i.pos-1;h>0;h--,m--){let p=i.node(h).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(h)>-1?a=h:i.before(h)==m&&s.splice(1,0,-h)}let l=s.indexOf(a),c=[],u=r.openStart;for(let h=r.content,m=0;;m++){let p=h.firstChild;if(c.push(p),m==r.openStart)break;h=p.content}for(let h=u-1;h>=0;h--){let m=c[h],p=Jne(m.type);if(p&&!m.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(p||!m.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let m=(h+u+1)%(r.openStart+1),p=c[m];if(p)for(let g=0;g<s.length;g++){let _=s[(g+l)%s.length],x=!0;_<0&&(x=!1,_=-_);let S=i.node(_-1),C=i.index(_-1);if(S.canReplaceWith(C,C,p.type,p.marks))return e.replace(i.before(_),x?o.after(_):n,new it(M$(r.content,0,r.openStart,m),m,r.openEnd))}}let f=e.steps.length;for(let h=s.length-1;h>=0&&(e.replace(t,n,r),!(e.steps.length>f));h--){let m=s[h];m<0||(t=i.before(m),n=o.after(m))}}function M$(e,t,n,r,i){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(M$(o.content,t+1,n,r,o)))}if(t>r){let o=i.contentMatchAt(0),s=o.fillBefore(e).append(e);e=s.append(o.matchFragment(s).fillBefore(Ge.empty,!0))}return e}function ere(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=Yne(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new it(Ge.from(r),0,0))}function tre(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=N$(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return e.delete(r.before(s),n);e.delete(t,n)}function N$(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}class Pc extends Er{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return qn.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return qn.fromReplace(t,this.pos,this.pos+1,new it(Ge.from(i),0,n.isLeaf?0:1))}getMap(){return oi.empty}invert(t){return new Pc(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Pc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Pc(n.pos,n.attr,n.value)}}Er.jsonID("attr",Pc);class bf extends Er{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return qn.ok(r)}getMap(){return oi.empty}invert(t){return new bf(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new bf(n.attr,n.value)}}Er.jsonID("docAttr",bf);let Vc=class extends Error{};Vc=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Vc.prototype=Object.create(Error.prototype);Vc.prototype.constructor=Vc;Vc.prototype.name="TransformError";class fS{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Mc}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Vc(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=it.empty){let i=Gg(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new it(Ge.from(r),0,0))}delete(t,n){return this.replace(t,n,it.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return Xne(this,t,n,r),this}replaceRangeWith(t,n,r){return ere(this,t,n,r),this}deleteRange(t,n){return tre(this,t,n),this}lift(t,n){return zne(this,t,n),this}join(t,n=1){return Kne(this,t,n),this}wrap(t,n){return Hne(this,t,n),this}setBlockType(t,n=t,r,i=null){return qne(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return Une(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Pc(t,n,r)),this}setDocAttribute(t,n){return this.step(new bf(t,n)),this}addNodeMark(t,n){return this.step(new qs(t,n)),this}removeNodeMark(t,n){if(!(n instanceof bn)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new qc(t,n)),this}split(t,n=1,r){return Gne(this,t,n,r),this}addMark(t,n,r){return Ine(this,t,n,r),this}removeMark(t,n,r){return Dne(this,t,n,r),this}clearIncompatible(t,n,r){return Lne(this,t,n,r),this}}const Sb=Object.create(null);class Nt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new P$(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=it.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=t.mapping.slice(o);t.replaceRange(u.map(l.pos),u.map(c.pos),a?it.empty:n),a==0&&eE(t,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=t.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),eE(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Et(t):fc(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let s=n<0?fc(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):fc(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Vi(t.node(0))}static atStart(t){return fc(t,t,0,0,1)||new Vi(t)}static atEnd(t){return fc(t,t,t.content.size,t.childCount,-1)||new Vi(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Sb[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Sb)throw new RangeError("Duplicate use of selection JSON ID "+t);return Sb[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Et.between(this.$anchor,this.$head).getBookmark()}}Nt.prototype.visible=!0;class P${constructor(t,n){this.$from=t,this.$to=n}}let Jj=!1;function Xj(e){!Jj&&!e.parent.inlineContent&&(Jj=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Et extends Nt{constructor(t,n=t){Xj(t),Xj(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Nt.near(r);let i=t.resolve(n.map(this.anchor));return new Et(i.parent.inlineContent?i:r,r)}replace(t,n=it.empty){if(super.replace(t,n),n==it.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Et&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Kg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Et(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Nt.findFrom(n,r,!0)||Nt.findFrom(n,-r,!0);if(o)n=o.$head;else return Nt.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Nt.findFrom(t,-r,!0)||Nt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Et(t,n)}}Nt.jsonID("text",Et);class Kg{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Kg(t.map(this.anchor),t.map(this.head))}resolve(t){return Et.between(t.resolve(this.anchor),t.resolve(this.head))}}class wt extends Nt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?Nt.near(o):new wt(o)}content(){return new it(Ge.from(this.node),0,0)}eq(t){return t instanceof wt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new hS(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new wt(t.resolve(n.anchor))}static create(t,n){return new wt(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}wt.prototype.visible=!1;Nt.jsonID("node",wt);class hS{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Kg(r,r):new hS(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&wt.isSelectable(r)?new wt(n):Nt.near(n)}}class Vi extends Nt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=it.empty){if(n==it.empty){t.delete(0,t.doc.content.size);let r=Nt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Vi(t)}map(t){return new Vi(t)}eq(t){return t instanceof Vi}getBookmark(){return nre}}Nt.jsonID("all",Vi);const nre={map(){return this},resolve(e){return new Vi(e)}};function fc(e,t,n,r,i,o=!1){if(t.inlineContent)return Et.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let a=t.child(s);if(a.isAtom){if(!o&&wt.isSelectable(a))return wt.create(e,n-(i<0?a.nodeSize:0))}else{let l=fc(e,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function eE(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof er||i instanceof nr))return;let o=e.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),e.setSelection(Nt.near(e.doc.resolve(s),n))}const tE=1,np=2,nE=4;class rre extends fS{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|tE)&~np,this.storedMarks=null,this}get selectionSet(){return(this.updated&tE)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=np,this}ensureMarks(t){return bn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&np)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~np,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||bn.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),this.selection.empty||this.setSelection(Nt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=nE,this}get scrolledIntoView(){return(this.updated&nE)>0}}function rE(e,t){return!t||!e?e:e.bind(t)}class Fd{constructor(t,n,r){this.name=t,this.init=rE(n.init,r),this.apply=rE(n.apply,r)}}const ire=[new Fd("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Fd("selection",{init(e,t){return e.selection||Nt.atStart(t.doc)},apply(e){return e.selection}}),new Fd("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Fd("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Cb{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ire.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Fd(r.key,r.spec.state,r))})}}class bc{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",t),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new bc(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new rre(this)}static create(t){let n=new Cb(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new bc(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new Cb(this.schema,t.plugins),r=n.fields,i=new bc(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new Cb(t.schema,t.plugins),o=new bc(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=nl.fromJSON(t.schema,n.doc);else if(s.name=="selection")o.selection=Nt.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=c.fromJSON.call(l,t,n[a],o);return}}o[s.name]=s.init(t,o)}}),o}}function A$(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=A$(i,t,{})),n[r]=i}return n}class Qn{constructor(t){this.spec=t,this.props={},t.props&&A$(t.props,this,this.props),this.key=t.key?t.key.key:R$("plugin")}getState(t){return t[this.key]}}const Tb=Object.create(null);function R$(e){return e in Tb?e+"$"+ ++Tb[e]:(Tb[e]=0,e+"$")}class pr{constructor(t="key"){this.key=R$(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const hr=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},yf=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let ix=null;const es=function(e,t,n){let r=ix||(ix=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},ore=function(){ix=null},pl=function(e,t,n,r){return n&&(iE(e,t,n,r,-1)||iE(e,t,n,r,1))},sre=/^(img|br|input|textarea|hr)$/i;function iE(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:bo(e))){let o=e.parentNode;if(!o||o.nodeType!=1||nh(e)||sre.test(e.nodeName)||e.contentEditable=="false")return!1;t=hr(e)+(i<0?0:1),e=o}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?bo(e):0}else return!1}}function bo(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function are(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=bo(e)}else if(e.parentNode&&!nh(e))t=hr(e),e=e.parentNode;else return null}}function lre(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!nh(e))t=hr(e)+1,e=e.parentNode;else return null}}function cre(e,t,n){for(let r=t==0,i=t==bo(e);r||i;){if(e==n)return!0;let o=hr(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,i=i&&o==bo(e)}}function nh(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Yg=function(e){return e.focusNode&&pl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Na(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function ure(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function dre(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Mo=typeof navigator<"u"?navigator:null,oE=typeof document<"u"?document:null,ua=Mo&&Mo.userAgent||"",ox=/Edge\/(\d+)/.exec(ua),$$=/MSIE \d/.exec(ua),sx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ua),Yr=!!($$||sx||ox),Qs=$$?document.documentMode:sx?+sx[1]:ox?+ox[1]:0,Ki=!Yr&&/gecko\/(\d+)/i.test(ua);Ki&&+(/Firefox\/(\d+)/.exec(ua)||[0,0])[1];const ax=!Yr&&/Chrome\/(\d+)/.exec(ua),Pr=!!ax,fre=ax?+ax[1]:0,Ir=!Yr&&!!Mo&&/Apple Computer/.test(Mo.vendor),Uc=Ir&&(/Mobile\/\w+/.test(ua)||!!Mo&&Mo.maxTouchPoints>2),Ci=Uc||(Mo?/Mac/.test(Mo.platform):!1),hre=Mo?/Win/.test(Mo.platform):!1,Fi=/Android \d/.test(ua),rh=!!oE&&"webkitFontSmoothing"in oE.documentElement.style,pre=rh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function mre(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Zo(e,t){return typeof e=="number"?e:e[t]}function gre(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function sE(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let s=n||e.dom;s;s=yf(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,c=l?mre(o):gre(a),u=0,f=0;if(t.top<c.top+Zo(r,"top")?f=-(c.top-t.top+Zo(i,"top")):t.bottom>c.bottom-Zo(r,"bottom")&&(f=t.bottom-t.top>c.bottom-c.top?t.top+Zo(i,"top")-c.top:t.bottom-c.bottom+Zo(i,"bottom")),t.left<c.left+Zo(r,"left")?u=-(c.left-t.left+Zo(i,"left")):t.right>c.right-Zo(r,"right")&&(u=t.right-c.right+Zo(i,"right")),u||f)if(l)o.defaultView.scrollBy(u,f);else{let h=a.scrollLeft,m=a.scrollTop;f&&(a.scrollTop+=f),u&&(a.scrollLeft+=u);let p=a.scrollLeft-h,g=a.scrollTop-m;t={left:t.left-p,top:t.top-g,right:t.right-p,bottom:t.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function vre(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let o=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let a=e.root.elementFromPoint(o,s);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:I$(e.dom)}}function I$(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=yf(r));return t}function bre({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;D$(n,r==0?0:r-t)}function D$(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Zl=null;function yre(e){if(e.setActive)return e.setActive();if(Zl)return e.focus(Zl);let t=I$(e);e.focus(Zl==null?{get preventScroll(){return Zl={preventScroll:!0},!0}}:void 0),Zl||(Zl=!1,D$(t,0))}function L$(e,t){let n,r=2e8,i,o=0,s=t.top,a=t.top,l,c;for(let u=e.firstChild,f=0;u;u=u.nextSibling,f++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=es(u).getClientRects();else continue;for(let m=0;m<h.length;m++){let p=h[m];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);let g=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,u.nodeType==1&&g&&(o=f+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!l&&p.left<=t.left&&p.right>=t.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(o=f+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?_re(n,i):!n||r&&n.nodeType==1?{node:e,offset:o}:L$(n,i)}function _re(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let o=Rs(r,1);if(o.top!=o.bottom&&pS(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function pS(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function xre(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function wre(e,t,n){let{node:r,offset:i}=L$(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}function Sre(e,t,n,r){let i=-1;for(let o=t,s=!1;o!=e.dom;){let a=e.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent&&!s||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&!s&&(s=!0,l.left>r.left||l.top>r.top?i=a.posBefore:(l.right<r.left||l.bottom<r.top)&&(i=a.posAfter)),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function F$(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=e.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(pS(t,c))return F$(s,t,c)}}if((o=(o+1)%r)==i)break}return e}function Cre(e,t){let n=e.dom.ownerDocument,r,i=0,o=dre(n,t.left,t.top);o&&({node:r,offset:i}=o);let s=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!s||!e.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=e.dom.getBoundingClientRect();if(!pS(t,c)||(s=F$(e.dom,t,c),!s))return null}if(Ir)for(let c=s;r&&c;c=yf(c))c.draggable&&(r=void 0);if(s=xre(s,t),r){if(Ki&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}let c;rh&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=Sre(e,r,i,t))}a==null&&(a=wre(e,s,t));let l=e.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function aE(e){return e.top<e.bottom||e.left<e.right}function Rs(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(aE(r))return r}return Array.prototype.find.call(n,aE)||e.getBoundingClientRect()}const Tre=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function z$(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),s=rh||Ki;if(r.nodeType==3)if(s&&(Tre.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Rs(es(r,i,i),n);if(Ki&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Rs(es(r,i-1,i-1),-1);if(c.top==l.top){let u=Rs(es(r,i,i+1),-1);if(u.top!=l.top)return fd(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,fd(Rs(es(r,l,c),u),u<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==bo(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return jb(l.getBoundingClientRect(),!1)}if(o==null&&i<bo(r)){let l=r.childNodes[i];if(l.nodeType==1)return jb(l.getBoundingClientRect(),!0)}return jb(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==bo(r))){let l=r.childNodes[i-1],c=l.nodeType==3?es(l,bo(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return fd(Rs(c,1),!1)}if(o==null&&i<bo(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?es(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return fd(Rs(c,-1),!0)}return fd(Rs(r.nodeType==3?es(r):r,-n),n>=0)}function fd(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function jb(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function B$(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function jre(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return B$(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=z$(e,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=es(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const Ere=/[\u0590-\u08ac]/;function kre(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=e.domSelection();return!Ere.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:B$(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:f}=e.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let m=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:p,focusOffset:g}=e.domSelectionRange(),_=p&&!m.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{a.collapse(u,f),l&&(l!=u||c!=f)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),_})}let lE=null,cE=null,uE=!1;function Ore(e,t,n){return lE==t&&cE==n?uE:(lE=t,cE=n,uE=n=="up"||n=="down"?jre(e,t,n):kre(e,t,n))}const Pi=0,dE=1,Ba=2,No=3;class ih{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Pi,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,s;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>hr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>t||s instanceof H$){i=t-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof W$&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?hr(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?hr(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&t<=c){let u=s+l.border;if(t>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,u);t=s;for(let f=a;f>0;f--){let h=this.children[f-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=hr(h.dom)+1;break}t-=h.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=hr(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let o=Math.min(t,n),s=Math.max(t,n);for(let h=0,m=0;h<this.children.length;h++){let p=this.children[h],g=m+p.size;if(o>m&&s<g)return p.setSelection(t-m-p.border,n-m-p.border,r,i);m=g}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((Ki||Ir)&&t==n){let{node:h,offset:m}=a;if(h.nodeType==3){if(u=!!(m&&h.nodeValue[m-1]==`
`),u&&m==h.nodeValue.length)for(let p=h,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:hr(g)+1});break}let _=p.pmViewDesc;if(_&&_.node&&_.node.isBlock)break}}else{let p=h.childNodes[m-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Ki&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||u&&Ir)&&pl(a.node,a.offset,c.anchorNode,c.anchorOffset)&&pl(l.node,l.offset,c.focusNode,c.focusOffset))return;let f=!1;if((c.extend||t==n)&&!u){c.collapse(a.node,a.offset);try{t!=n&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(t>n){let m=a;a=l,l=m}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let a=r+o.border,l=s-o.border;if(t>=a&&n<=l){this.dirty=t==r||n==s?Ba:dE,t==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=No:o.markDirty(t-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Ba:No}r=s}this.dirty=Ba}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Ba:dE;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class W$ extends ih{constructor(t,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==Pi&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Mre extends ih{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class ml extends ih{constructor(t,n,r,i){super(t,[],r,i),this.mark=n}static create(t,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=_o.renderSpec(document,n.type.spec.toDOM(n,r))),new ml(t,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&No||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=No&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Pi){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Pi}}slice(t,n,r){let i=ml.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=ux(o,n,s,r)),t>0&&(o=ux(o,0,t,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class Js extends ih{constructor(t,n,r,i,o,s,a,l,c){super(t,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,c=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,f=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=_o.renderSpec(document,n.type.spec.toDOM(n)));!f&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let h=u;return u=U$(u,r,n),c?l=new Nre(t,n,r,i,u,f||null,h,c,o,s+1):n.isText?new Zg(t,n,r,i,u,h,o):new Js(t,n,r,i,u,f||null,h,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Ge.empty)}return t}matchesNode(t,n,r){return this.dirty==Pi&&t.eq(this.node)&&cx(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Are(this,s&&s.node,t);Ire(this.node,this.innerDeco,(c,u,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!f&&l.syncToMarks(u==this.node.childCount?bn.none:this.node.child(u).marks,r,t),l.placeWidget(c,t,i)},(c,u,f,h)=>{l.syncToMarks(c.marks,r,t);let m;l.findNodeMatch(c,u,f,h)||a&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(m=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,f,m,t)||l.updateNextNode(c,u,f,t,h,i)||l.addNode(c,u,f,t,i),i+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ba)&&(s&&this.protectLocalComposition(t,s),q$(this.contentDOM,this.children,t),Uc&&Dre(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Et)||r<n||i>n+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=Lre(this.node.content,s,r-n,i-n);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new Mre(this,o,n,i);t.input.compositionNodes.push(s),this.children=ux(this.children,r,r+i.length,t,s)}update(t,n,r,i){return this.dirty==No||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Pi}updateOuterDeco(t){if(cx(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=V$(this.dom,this.nodeDOM,lx(this.outerDeco,this.node,n),lx(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function fE(e,t,n,r,i){U$(r,t,e);let o=new Js(void 0,e,t,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Zg extends Js{constructor(t,n,r,i,o,s,a){super(t,n,r,i,o,null,s,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==No||this.dirty!=Pi&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Pi||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Pi,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new Zg(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=No)}get domAtom(){return!1}isText(t){return this.node.text==t}}class H$ extends ih{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Pi&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Nre extends Js{constructor(t,n,r,i,o,s,a,l,c,u){super(t,n,r,i,o,s,a,c,u),this.spec=l}update(t,n,r,i){if(this.dirty==No)return!1;if(this.spec.update){let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function q$(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let s=t[o],a=s.dom;if(a.parentNode==e){for(;a!=r;)r=hE(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(s instanceof ml){let l=r?r.previousSibling:e.lastChild;q$(s.contentDOM,s.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=hE(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Zd=function(e){e&&(this.nodeName=e)};Zd.prototype=Object.create(null);const Wa=[new Zd];function lx(e,t,n){if(e.length==0)return Wa;let r=n?Wa[0]:new Zd,i=[r];for(let o=0;o<e.length;o++){let s=e[o].type.attrs;if(s){s.nodeName&&i.push(r=new Zd(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new Zd(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function V$(e,t,n,r){if(n==Wa&&r==Wa)return t;let i=t;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Wa[0]),i=l}Pre(i,a||Wa[0],s)}return i}function Pre(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&e.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function U$(e,t,n){return V$(e,e,Wa,lx(t,n,e.nodeType!=1))}function cx(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function hE(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Are{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Rre(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,t.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Pi,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=ml.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,i,o){let s=this.top.children[i];return s.dirty==No&&s.dom==s.contentDOM&&(s.dirty=Ba),s.update(t,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Js){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,f,h=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=No&&cx(n,l.outerDeco));if(!h&&l.update(t,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(f=this.recreateWrapper(l,t,n,r,i,s)))return this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Ba,f.updateChildren(i,s+1),f.dirty=Pi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,o,s){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let a=Js.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,i,o){let s=Js.create(this.top,t,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new W$(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof ml;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Zg)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Ir||Pr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new H$(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Rre(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof ml)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function $re(e,t){return e.type.side-t.type.side}function Ire(e,t,n,r){let i=t.locals(e),o=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);r(u,i,t.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,f;for(;s<i.length&&i[s].to==o;){let _=i[s++];_.widget&&(u?(f||(f=[u])).push(_):u=_)}if(u)if(f){f.sort($re);for(let _=0;_<f.length;_++)n(f[_],c,!!l)}else n(u,c,!!l);let h,m;if(l)m=-1,h=l,l=null;else if(c<e.childCount)m=c,h=e.child(c++);else break;for(let _=0;_<a.length;_++)a[_].to<=o&&a.splice(_--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let p=o+h.nodeSize;if(h.isText){let _=p;s<i.length&&i[s].from<_&&(_=i[s].from);for(let x=0;x<a.length;x++)a[x].to<_&&(_=a[x].to);_<p&&(l=h.cut(_-o),h=h.cut(0,_-o),p=_,m=-1)}else for(;s<i.length&&i[s].to<p;)s++;let g=h.isInline&&!h.isLeaf?a.filter(_=>!_.inline):a.slice();r(h,g,t.forChild(o,h),m),o=p}}function Dre(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Lre(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let s=e.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<e.childCount;){let c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let c=a<r?l.lastIndexOf(t,r-a-1):-1;if(c>=0&&c+t.length+a>=n)return a+c;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function ux(e,t,n,r,i){let o=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,u=a+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function mS(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(Yg(n)){for(l=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&wt.isSelectable(u)&&i.parent&&!(u.isInline&&cre(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;c=new wt(s==f?a:r.resolve(f))}}else{let u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;l=r.resolve(u)}if(!c){let u=t=="pointer"||e.state.selection.head<a.pos&&!o?1:-1;c=gS(e,l,a,u)}return c}function G$(e){return e.editable?e.hasFocus():Y$(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function ls(e,t=!1){let n=e.state.selection;if(K$(e,n),!!G$(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Pr){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&pl(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)zre(e);else{let{anchor:r,head:i}=n,o,s;pE&&!(n instanceof Et)&&(n.$from.parent.inlineContent||(o=mE(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=mE(e,n.to))),e.docView.setSelection(r,i,e.root,t),pE&&(o&&gE(o),s&&gE(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Fre(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const pE=Ir||Pr&&fre<63;function mE(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Ir&&i&&i.contentEditable=="false")return Eb(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Eb(i);if(o)return Eb(o)}}function Eb(e){return e.contentEditable="true",Ir&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function gE(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Fre(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!G$(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function zre(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,hr(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&Yr&&Qs<=11&&(r.disabled=!0,r.disabled=!1)}function K$(e,t){if(t instanceof wt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(vE(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else vE(e)}function vE(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function gS(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Et.between(t,n,r)}function bE(e){return e.editable&&!e.hasFocus()?!1:Y$(e)}function Y$(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Bre(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return pl(t.node,t.offset,n.anchorNode,n.anchorOffset)}function dx(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&Nt.findFrom(o,t)}function Is(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function yE(e,t,n){let r=e.state.selection;if(r instanceof Et)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return Is(e,new Et(r.$anchor,s))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=dx(e.state,t);return i&&i instanceof wt?Is(e,i):!1}else if(!(Ci&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=e.docView.descAt(a))&&!s.contentDOM?wt.isSelectable(o)?Is(e,new wt(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):rh?Is(e,new Et(e.state.doc.resolve(t<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof wt&&r.node.isInline)return Is(e,new Et(t>0?r.$to:r.$from));{let i=dx(e.state,t);return i?Is(e,i):!1}}}function wm(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Qd(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Ql(e,t){return t<0?Wre(e):Hre(e)}function Wre(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,s=!1;for(Ki&&n.nodeType==1&&r<wm(n)&&Qd(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Qd(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(Z$(n))break;{let a=n.previousSibling;for(;a&&Qd(a,-1);)i=n.parentNode,o=hr(a),a=a.previousSibling;if(a)n=a,r=wm(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?fx(e,n,r):i&&fx(e,i,o)}function Hre(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=wm(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Qd(a,1))o=n,s=++r;else break}else{if(Z$(n))break;{let a=n.nextSibling;for(;a&&Qd(a,1);)o=a.parentNode,s=hr(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=wm(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}o&&fx(e,o,s)}function Z$(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function qre(e,t){for(;e&&t==e.childNodes.length&&!nh(e);)t=hr(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function Vre(e,t){for(;e&&!t&&!nh(e);)t=hr(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function fx(e,t,n){if(t.nodeType!=3){let o,s;(s=qre(t,n))?(t=s,n=0):(o=Vre(t,n))&&(t=o,n=o.nodeValue.length)}let r=e.domSelection();if(Yg(r)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&ls(e)},50)}function _E(e,t){let n=e.state.doc.resolve(t);if(!(Pr||hre)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let o=e.coordsAtPos(t-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<n.end()){let o=e.coordsAtPos(t+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function xE(e,t,n){let r=e.state.selection;if(r instanceof Et&&!r.empty||n.indexOf("s")>-1||Ci&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=dx(e.state,t);if(s&&s instanceof wt)return Is(e,s)}if(!i.parent.inlineContent){let s=t<0?i:o,a=r instanceof Vi?Nt.near(s,t):Nt.findFrom(s,t);return a?Is(e,a):!1}return!1}function wE(e,t){if(!(e.state.selection instanceof Et))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=e.state.tr;return t<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),e.dispatch(s),!0}return!1}function SE(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Ure(e){if(!Ir||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;SE(e,r,"true"),setTimeout(()=>SE(e,r,"false"),20)}return!1}function Gre(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Kre(e,t){let n=t.keyCode,r=Gre(t);if(n==8||Ci&&n==72&&r=="c")return wE(e,-1)||Ql(e,-1);if(n==46&&!t.shiftKey||Ci&&n==68&&r=="c")return wE(e,1)||Ql(e,1);if(n==13||n==27)return!0;if(n==37||Ci&&n==66&&r=="c"){let i=n==37?_E(e,e.state.selection.from)=="ltr"?-1:1:-1;return yE(e,i,r)||Ql(e,i)}else if(n==39||Ci&&n==70&&r=="c"){let i=n==39?_E(e,e.state.selection.from)=="ltr"?1:-1:1;return yE(e,i,r)||Ql(e,i)}else{if(n==38||Ci&&n==80&&r=="c")return xE(e,-1,r)||Ql(e,-1);if(n==40||Ci&&n==78&&r=="c")return Ure(e)||xE(e,1,r)||Ql(e,1);if(r==(Ci?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Q$(e,t){e.someProp("transformCopied",m=>{t=m(t,e)});let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let m=r.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),r=m.content}let s=e.someProp("clipboardSerializer")||_o.fromSchema(e.state.schema),a=rI(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=nI[c.nodeName.toLowerCase()]);){for(let m=u.length-1;m>=0;m--){let p=a.createElement(u[m]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let h=e.someProp("clipboardTextSerializer",m=>m(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:h}}function J$(e,t,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!t)return null;let l=t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",h=>{t=h(t,o||r,e)}),o)return t?new it(Ge.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):it.empty;let f=e.someProp("clipboardTextParser",h=>h(t,i,r,e));if(f)a=f;else{let h=i.marks(),{schema:m}=e.state,p=_o.fromSchema(m);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let _=s.appendChild(document.createElement("p"));g&&_.appendChild(p.serializeNode(m.text(g,h)))})}}else e.someProp("transformPastedHTML",f=>{n=f(n,e)}),s=Qre(n),rh&&Jre(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let h=s.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;s=h}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||Hc.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!Yre.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=Xre(CE(a,+u[1],+u[2]),u[4]);else if(a=it.maxOpen(Zre(a.content,i),!0),a.openStart||a.openEnd){let f=0,h=0;for(let m=a.content.firstChild;f<a.openStart&&!m.type.spec.isolating;f++,m=m.firstChild);for(let m=a.content.lastChild;h<a.openEnd&&!m.type.spec.isolating;h++,m=m.lastChild);a=CE(a,f,h)}return e.someProp("transformPasted",f=>{a=f(a,e)}),a}const Yre=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Zre(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),o,s=[];if(e.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&eI(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=tI(s[s.length-1],o.length));let u=X$(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return Ge.from(s)}return e}function X$(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Ge.from(e));return e}function eI(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=eI(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Ge.from(X$(n,e,i+1))))}}function tI(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,tI(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Ge.empty,!0);return e.copy(n.append(r))}function hx(e,t,n,r,i,o){let s=t<0?e.firstChild:e.lastChild,a=s.content;return e.childCount>1&&(o=0),i<r-1&&(a=hx(a,t,n,r,i+1,o)),i>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Ge.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function CE(e,t,n){return t<e.openStart&&(e=new it(hx(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new it(hx(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const nI={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let TE=null;function rI(){return TE||(TE=document.implementation.createHTMLDocument("title"))}function Qre(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=rI().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&nI[r[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=e,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function Jre(e){let t=e.querySelectorAll(Pr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function Xre(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:s}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=Ge.from(l.create(r[a+1],i)),o++,s++}return new it(i,o,s)}const Dr={},Lr={},eie={touchstart:!0,touchmove:!0};class tie{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function nie(e){for(let t in Dr){let n=Dr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{iie(e,r)&&!vS(e,r)&&(e.editable||!(r.type in Lr))&&n(e,r)},eie[t]?{passive:!0}:void 0)}Ir&&e.dom.addEventListener("input",()=>null),px(e)}function Vs(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function rie(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function px(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>vS(e,r))})}function vS(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function iie(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function oie(e,t){!vS(e,t)&&Dr[t.type]&&(e.editable||!(t.type in Lr))&&Dr[t.type](e,t)}Lr.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!oI(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Fi&&Pr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Uc&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Na(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||Kre(e,n)?n.preventDefault():Vs(e,"key")};Lr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Lr.keypress=(e,t)=>{let n=t;if(oI(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ci&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Et)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",o=>o(e,r.$from.pos,r.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Qg(e){return{left:e.clientX,top:e.clientY}}function sie(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function bS(e,t,n,r,i){if(r==-1)return!1;let o=e.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(e.someProp(t,a=>s>o.depth?a(e,n,o.nodeAfter,o.before(s),i,!0):a(e,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Ac(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);n=="pointer"&&r.setMeta("pointer",!0),e.dispatch(r)}function aie(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&wt.isSelectable(r)?(Ac(e,new wt(n),"pointer"),!0):!1}function lie(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof wt&&(r=n.node);let o=e.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(wt.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Ac(e,wt.create(e.state.doc,i),"pointer"),!0):!1}function cie(e,t,n,r,i){return bS(e,"handleClickOn",t,n,r)||e.someProp("handleClick",o=>o(e,t,r))||(i?lie(e,n):aie(e,n))}function uie(e,t,n,r){return bS(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function die(e,t,n,r){return bS(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||fie(e,n,r)}function fie(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Ac(e,Et.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Ac(e,Et.create(r,a+1,a+1+s.content.size),"pointer");else if(wt.isSelectable(s))Ac(e,wt.create(r,a),"pointer");else continue;return!0}}function yS(e){return Sm(e)}const iI=Ci?"metaKey":"ctrlKey";Dr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=yS(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&sie(n,e.input.lastClick)&&!n[iI]&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=e.posAtCoords(Qg(n));s&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new hie(e,s,n,!!r)):(o=="doubleClick"?uie:die)(e,s.pos,s.inside,n)?n.preventDefault():Vs(e,"pointer"))};class hie{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[iI],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),s=n.inside;else{let u=t.state.doc.resolve(n.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof wt&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ki&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Vs(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ls(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Qg(t))),this.updateAllowDefault(t),this.allowDefault||!n?Vs(this.view,"pointer"):cie(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Ir&&this.mightDrag&&!this.mightDrag.node.isAtom||Pr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ac(this.view,Nt.near(this.view.state.doc.resolve(n.pos)),"pointer"),t.preventDefault()):Vs(this.view,"pointer")}move(t){this.updateAllowDefault(t),Vs(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Dr.touchstart=e=>{e.input.lastTouch=Date.now(),yS(e),Vs(e,"pointer")};Dr.touchmove=e=>{e.input.lastTouch=Date.now(),Vs(e,"pointer")};Dr.contextmenu=e=>yS(e);function oI(e,t){return e.composing?!0:Ir&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const pie=Fi?5e3:-1;Lr.compositionstart=Lr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Sm(e,!0),e.markCursor=null;else if(Sm(e),Ki&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){e.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}e.input.composing=!0}sI(e,pie)};Lr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,sI(e,20))};function sI(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Sm(e),t))}function aI(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=gie());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function mie(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=are(t.focusNode,t.focusOffset),r=lre(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n}function gie(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Sm(e,t=!1){if(!(Fi&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),aI(e),t||e.docView&&e.docView.dirty){let n=mS(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function vie(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const _f=Yr&&Qs<15||Uc&&pre<604;Dr.copy=Lr.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let o=_f?null:n.clipboardData,s=r.content(),{dom:a,text:l}=Q$(e,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):vie(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function bie(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function yie(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?xf(e,r.value,null,i,t):xf(e,r.textContent,r.innerHTML,i,t)},50)}function xf(e,t,n,r,i){let o=J$(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||it.empty)))return!0;if(!o)return!1;let s=bie(o),a=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(o);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function lI(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Lr.paste=(e,t)=>{let n=t;if(e.composing&&!Fi)return;let r=_f?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&xf(e,lI(r),r.getData("text/html"),i,n)?n.preventDefault():yie(e,n)};class cI{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const uI=Ci?"altKey":"ctrlKey";Dr.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(Qg(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof wt?i.to-1:i.to))){if(r&&r.mightDrag)s=wt.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let u=e.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=e.docView&&(s=wt.create(e.state.doc,u.posBefore))}}let a=(s||e.state.selection).content(),{dom:l,text:c}=Q$(e,a);n.dataTransfer.clearData(),n.dataTransfer.setData(_f?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",_f||n.dataTransfer.setData("text/plain",c),e.dragging=new cI(a,!n[uI],s)};Dr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Lr.dragover=Lr.dragenter=(e,t)=>t.preventDefault();Lr.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(Qg(n));if(!i)return;let o=e.state.doc.resolve(i.pos),s=r&&r.slice;s?e.someProp("transformPasted",p=>{s=p(s,e)}):s=J$(e,lI(n.dataTransfer),_f?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[uI]);if(e.someProp("handleDrop",p=>p(e,n,s||it.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?E$(e.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=e.state.tr;if(a){let{node:p}=r;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,h=c.doc;if(f?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(h))return;let m=c.doc.resolve(u);if(f&&wt.isSelectable(s.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new wt(m));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,_,x,S)=>p=S),c.setSelection(gS(e,m,c.doc.resolve(p)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};Dr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&ls(e)},20))};Dr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Dr.beforeinput=(e,t)=>{if(Pr&&Fi&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,Na(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in Lr)Dr[e]=Lr[e];function wf(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Cm{constructor(t,n){this.toDOM=t,this.spec=n||rl,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:s}=t.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Ar(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Cm&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&wf(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Xs{constructor(t,n){this.attrs=t,this.spec=n||rl}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Ar(o,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Xs&&wf(this.attrs,t.attrs)&&wf(this.spec,t.spec)}static is(t){return t.type instanceof Xs}destroy(){}}class _S{constructor(t,n){this.attrs=t,this.spec=n||rl}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let s=t.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Ar(o.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(t){return this==t||t instanceof _S&&wf(this.attrs,t.attrs)&&wf(this.spec,t.spec)}destroy(){}}class Ar{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Ar(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Ar(t,t,new Cm(n,r))}static inline(t,n,r,i){return new Ar(t,n,new Xs(r,i))}static node(t,n,r,i){return new Ar(t,n,new _S(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xs}get widget(){return this.type instanceof Cm}}const hc=[],rl={};class An{constructor(t,n){this.local=t.length?t:hc,this.children=n.length?n:hc}static create(t,n){return n.length?Tm(n,t,0,rl):wr}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=t&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let a=this.children[s]+1;this.children[s+2].findInner(t-a,n-a,r,i+a,o)}}map(t,n,r){return this==wr||t.maps.length==0?this:this.mapInner(t,n,0,0,r||rl)}mapInner(t,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?_ie(this.children,s||[],t,n,r,i,o):s?new An(s.sort(il),hc):wr}add(t,n){return n.length?this==wr?An.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((a,l)=>{let c=l+r,u;if(u=fI(n,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,Tm(u,a,c+1,rl)),o+=3}});let s=dI(o?hI(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new An(s.length?this.local.concat(s).sort(il):this.local,i||this.children)}remove(t){return t.length==0||this==wr?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let u=0,f;u<t.length;u++)(f=t[u])&&f.from>a&&f.to<l&&(t[u]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=wr?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<t.length;o++)if(s=t[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new An(i,r):wr}forChild(t,n){if(this==wr)return this;if(n.isLeaf)return An.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let o=t+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof Xs){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new An(i.sort(il),hc);return r?new Fs([a,r]):a}return r||wr}eq(t){if(this==t)return!0;if(!(t instanceof An)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return xS(this.localsInner(t))}localsInner(t){if(this==wr)return hc;if(t.inlineContent||!this.local.some(Xs.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xs||n.push(this.local[r]);return n}}An.empty=new An([],[]);An.removeOverlap=xS;const wr=An.empty;class Fs{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,rl));return Fs.from(r)}forChild(t,n){if(n.isLeaf)return An.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=wr&&(o instanceof Fs?r=r.concat(o.members):r.push(o))}return Fs.from(r)}eq(t){if(!(t instanceof Fs)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?xS(r?n:n.sort(il)):hc}static from(t){switch(t.length){case 0:return wr;case 1:return t[0];default:return new Fs(t.every(n=>n instanceof An)?t:t.reduce((n,r)=>n.concat(r instanceof An?r:r.members),[]))}}}function _ie(e,t,n,r,i,o,s){let a=e.slice();for(let c=0,u=o;c<n.maps.length;c++){let f=0;n.maps[c].forEach((h,m,p,g)=>{let _=g-p-(m-h);for(let x=0;x<a.length;x+=3){let S=a[x+1];if(S<0||h>S+u-f)continue;let C=a[x]+u-f;m>=C?a[x+1]=h<=C?-2:-1:h>=u&&_&&(a[x]+=_,a[x+1]+=_)}f+=_}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(e[c]+o),f=u-i;if(f<0||f>=r.content.size){l=!0;continue}let h=n.map(e[c+1]+o,-1),m=h-i,{index:p,offset:g}=r.content.findIndex(f),_=r.maybeChild(p);if(_&&g==f&&g+_.nodeSize==m){let x=a[c+2].mapInner(n,_,u+1,e[c]+o+1,s);x!=wr?(a[c]=f,a[c+1]=m,a[c+2]=x):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=xie(a,e,t,n,i,o,s),u=Tm(c,r,0,s);t=u.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,h=0;f<u.children.length;f+=3){let m=u.children[f];for(;h<a.length&&a[h]<m;)h+=3;a.splice(h,0,u.children[f],u.children[f+1],u.children[f+2])}}return new An(t.sort(il),a)}function dI(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Ar(i.from+t,i.to+t,i.type))}return n}function xie(e,t,n,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(r,i,c);f?n.push(f):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+o+1);return n}function fI(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o=0,s;o<e.length;o++)(s=e[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),e[o]=null);return i}function hI(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Tm(e,t,n,r){let i=[],o=!1;t.forEach((a,l)=>{let c=fI(e,a,l+n);if(c){o=!0;let u=Tm(c,a,n+l+1,r);u!=wr&&i.push(l,l+a.nodeSize,u)}});let s=dI(o?hI(e):e,-n).sort(il);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new An(s,i):wr}function il(e,t){return e.from-t.from||e.to-t.to}function xS(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),jE(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),jE(t,i,r.copy(o.from,r.to)));break}}}return t}function jE(e,t,n){for(;t<e.length&&il(n,e[t])>0;)t++;e.splice(t,0,n)}function kb(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=wr&&t.push(r)}),e.cursorWrapper&&t.push(An.create(e.state.doc,[e.cursorWrapper.deco])),Fs.from(t)}const wie={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Sie=Yr&&Qs<=11;class Cie{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Tie{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Cie,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Yr&&Qs<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Sie&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,wie)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(bE(this.view)){if(this.suppressingSelectionUpdates)return ls(this.view);if(Yr&&Qs<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&pl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let o=t.focusNode;o;o=yf(o))n.add(o);for(let o=t.anchorNode;o;o=yf(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&bE(t)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(t.editable)for(let u=0;u<n.length;u++){let f=this.registerMutation(n[u],l);f&&(o=o<0?f.from:Math.min(f.from,o),s=s<0?f.to:Math.max(f.to,s),f.typeOver&&(a=!0))}if(Ki&&l.length>1){let u=l.filter(f=>f.nodeName=="BR");if(u.length==2){let f=u[0],h=u[1];f.parentNode&&f.parentNode.parentNode==h.parentNode?h.remove():f.remove()}}let c=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Yg(r)&&(c=mS(t))&&c.eq(Nt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,ls(t),this.currentSelection.set(r),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,s),jie(t)),this.handleDOMChange(o,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||ls(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++)n.push(t.addedNodes[u]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,o=t.nextSibling;if(Yr&&Qs<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:f,nextSibling:h}=t.addedNodes[u];(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f),(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(o=h)}let s=i&&i.parentNode==t.target?hr(i)+1:0,a=r.localPosFromDOM(t.target,s,-1),l=o&&o.parentNode==t.target?hr(o):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let EE=new WeakMap,kE=!1;function jie(e){if(!EE.has(e)&&(EE.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Ki,kE)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),kE=!0}}function OE(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return pl(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function Eie(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return OE(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?OE(e,n):null}function kie(e,t,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Yg(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Pr&&e.input.lastKeyCode===8)for(let _=o;_>i;_--){let x=r.childNodes[_-1],S=x.pmViewDesc;if(x.nodeName=="BR"&&!S){o=_;break}if(!S||S.size)break}let f=e.state.doc,h=e.someProp("domParser")||Hc.fromSchema(e.state.schema),m=f.resolve(s),p=null,g=h.parse(r,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:o,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Oie,context:m});if(c&&c[0].pos!=null){let _=c[0].pos,x=c[1]&&c[1].pos;x==null&&(x=_),p={anchor:_+s,head:x+s}}return{doc:g,sel:p,from:s,to:a}}function Oie(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Ir&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Ir&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Mie=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Nie(e,t,n,r,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let A=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,$=mS(e,A);if($&&!e.state.selection.eq($)){if(Pr&&Fi&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",U=>U(e,Na(13,"Enter"))))return;let L=e.state.tr.setSelection($);A=="pointer"?L.setMeta("pointer",!0):A=="key"&&L.scrollIntoView(),o&&L.setMeta("composition",o),e.dispatch(L)}return}let s=e.state.doc.resolve(t),a=s.sharedDepth(n);t=s.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,c=kie(e,t,n),u=e.state.doc,f=u.slice(c.from,c.to),h,m;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(h=e.state.selection.to,m="end"):(h=e.state.selection.from,m="start"),e.input.lastKeyCode=null;let p=Rie(f.content,c.doc.content,c.from,h,m);if((Uc&&e.input.lastIOSEnter>Date.now()-225||Fi)&&i.some(A=>A.nodeType==1&&!Mie.test(A.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",A=>A(e,Na(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof Et&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let A=ME(e,e.state.doc,c.sel);if(A&&!A.eq(e.state.selection)){let $=e.state.tr.setSelection(A);o&&$.setMeta("composition",o),e.dispatch($)}}return}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof Et&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),Yr&&Qs<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),_=c.doc.resolveNoCache(p.endB-c.from),x=u.resolve(p.start),S=g.sameParent(_)&&g.parent.inlineContent&&x.end()>=p.endA,C;if((Uc&&e.input.lastIOSEnter>Date.now()-225&&(!S||i.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!S&&g.pos<c.doc.content.size&&!g.sameParent(_)&&(C=Nt.findFrom(c.doc.resolve(g.pos+1),1,!0))&&C.head==_.pos)&&e.someProp("handleKeyDown",A=>A(e,Na(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&Aie(u,p.start,p.endA,g,_)&&e.someProp("handleKeyDown",A=>A(e,Na(8,"Backspace")))){Fi&&Pr&&e.domObserver.suppressSelectionUpdates();return}Pr&&Fi&&p.endB==p.start&&(e.input.lastAndroidDelete=Date.now()),Fi&&!S&&g.start()!=_.start()&&_.parentOffset==0&&g.depth==_.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,_=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(A){return A(e,Na(13,"Enter"))})},20));let j=p.start,k=p.endA,T,y,P;if(S){if(g.pos==_.pos)Yr&&Qs<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>ls(e),20)),T=e.state.tr.delete(j,k),y=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(P=Pie(g.parent.content.cut(g.parentOffset,_.parentOffset),x.parent.content.cut(x.parentOffset,p.endA-x.start()))))T=e.state.tr,P.type=="add"?T.addMark(j,k,P.mark):T.removeMark(j,k,P.mark);else if(g.parent.child(g.index()).isText&&g.index()==_.index()-(_.textOffset?0:1)){let A=g.parent.textBetween(g.parentOffset,_.parentOffset);if(e.someProp("handleTextInput",$=>$(e,j,k,A)))return;T=e.state.tr.insertText(A,j,k)}}if(T||(T=e.state.tr.replace(j,k,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let A=ME(e,T.doc,c.sel);A&&!(Pr&&Fi&&e.composing&&A.empty&&(p.start!=p.endB||e.input.lastAndroidDelete<Date.now()-100)&&(A.head==j||A.head==T.mapping.map(k)-1)||Yr&&A.empty&&A.head==j)&&T.setSelection(A)}y&&T.ensureMarks(y),o&&T.setMeta("composition",o),e.dispatch(T.scrollIntoView())}function ME(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:gS(e,t.resolve(n.anchor),t.resolve(n.head))}function Pie(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,o=r,s,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(Ge.from(c).eq(e))return{mark:a,type:s}}function Aie(e,t,n,r,i){if(n-t<=i.pos-r.pos||Ob(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&n==t+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=e.resolve(Ob(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Ob(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Ob(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let o=e.node(r).maybeChild(e.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Rie(e,t,n,r,i){let o=e.findDiffStart(t,n);if(o==null)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&e.size<t.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<t.size&&NE(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<e.size&&NE(e.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function NE(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class $ie{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new tie,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(IE),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=RE(this),AE(this),this.nodeViews=$E(this),this.docView=fE(this.state.doc,PE(this),kb(this),this.dom,this),this.domObserver=new Tie(this,(r,i,o,s)=>Nie(this,r,i,o,s)),this.domObserver.start(),nie(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&px(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(IE),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,o=!1,s=!1;t.storedMarks&&this.composing&&(aI(this),s=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let m=$E(this);Die(m,this.nodeViews)&&(this.nodeViews=m,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&px(this),this.editable=RE(this),AE(this);let l=kb(this),c=PE(this),u=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(t.doc,c,l);(f||!t.selection.eq(i.selection))&&(s=!0);let h=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&vre(this);if(s){this.domObserver.stop();let m=f&&(Yr||Pr)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&Iie(i.selection,t.selection);if(f){let p=Pr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=mie(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=fE(t.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Bre(this))?ls(this,m):(K$(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&bre(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof wt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&sE(this,n.getBoundingClientRect(),t)}else sE(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new cI(t.slice,t.move,i<0?void 0:wt.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[t];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[t];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Yr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&yre(this.dom),ls(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Cre(this,t)}coordsAtPos(t,n=1){return z$(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return Ore(this,n||this.state,t)}pasteHTML(t,n){return xf(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return xf(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(rie(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],kb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,ore())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return oie(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return Ir&&this.root.nodeType===11&&ure(this.dom.ownerDocument)==this.dom&&Eie(this,t)||t}domSelection(){return this.root.getSelection()}}function PE(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Ar.node(0,e.state.doc.content.size,t)]}function AE(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Ar.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function RE(e){return!e.someProp("editable",t=>t(e.state)===!1)}function Iie(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function $E(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Die(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function IE(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const Lie=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Fie(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Lie?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function zie(e){let t=Object.create(null);for(let n in e)t[Fie(n)]=e[n];return t}function Mb(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function Bie(e){return new Qn({props:{handleKeyDown:wS(e)}})}function wS(e){let t=zie(e);return function(n,r){let i=Kz(r),o,s=t[Mb(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[Mb(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=Yz[r.keyCode])&&o!=i){let a=t[Mb(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const Wie=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function pI(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const Hie=(e,t,n)=>{let r=pI(e,n);if(!r)return!1;let i=SS(r);if(!i){let s=r.blockRange(),a=s&&vu(s);return a==null?!1:(t&&t(e.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&bI(e,i,t))return!0;if(r.parent.content.size==0&&(Gc(o,"end")||wt.isSelectable(o))){let s=Gg(e.doc,r.before(),r.after(),it.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=e.tr.step(s);a.setSelection(Gc(o,"end")?Nt.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):wt.create(a.doc,i.pos-o.nodeSize)),t(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},qie=(e,t,n)=>{let r=pI(e,n);if(!r)return!1;let i=SS(r);return i?mI(e,i,t):!1},Vie=(e,t,n)=>{let r=gI(e,n);if(!r)return!1;let i=CS(r);return i?mI(e,i,t):!1};function mI(e,t,n){let r=t.nodeBefore,i=r,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let s=t.nodeAfter,a=s,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Gg(e.doc,o,l,it.empty);if(!c||c.from!=o||c instanceof er&&c.slice.size>=l-o)return!1;if(n){let u=e.tr.step(c);u.setSelection(Et.create(u.doc,o)),n(u.scrollIntoView())}return!0}function Gc(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Uie=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=SS(r)}let s=o&&o.nodeBefore;return!s||!wt.isSelectable(s)?!1:(t&&t(e.tr.setSelection(wt.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function SS(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function gI(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const Gie=(e,t,n)=>{let r=gI(e,n);if(!r)return!1;let i=CS(r);if(!i)return!1;let o=i.nodeAfter;if(bI(e,i,t))return!0;if(r.parent.content.size==0&&(Gc(o,"start")||wt.isSelectable(o))){let s=Gg(e.doc,r.before(),r.after(),it.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=e.tr.step(s);a.setSelection(Gc(o,"start")?Nt.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):wt.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},Kie=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=CS(r)}let s=o&&o.nodeAfter;return!s||!wt.isSelectable(s)?!1:(t&&t(e.tr.setSelection(wt.create(e.doc,o.pos)).scrollIntoView()),!0)};function CS(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Yie=(e,t)=>{let n=e.selection,r=n instanceof wt,i;if(r){if(n.node.isTextblock||!ca(e.doc,n.from))return!1;i=n.from}else if(i=Ug(e.doc,n.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);r&&o.setSelection(wt.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},Zie=(e,t)=>{let n=e.selection,r;if(n instanceof wt){if(n.node.isTextblock||!ca(e.doc,n.to))return!1;r=n.to}else if(r=Ug(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},Qie=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&vu(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},Jie=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function vI(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Xie=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=vI(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Nt.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},eoe=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Vi||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=vI(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(s,o.createAndFill());a.setSelection(Et.create(a.doc,s+1)),t(a.scrollIntoView())}return!0},toe=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Nc(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&vu(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)},noe=(e,t)=>{let{$from:n,to:r}=e.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),t&&t(e.tr.setSelection(wt.create(e.doc,i))),!0)};function roe(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||ca(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function bI(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(roe(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let f=t.pos+i.nodeSize,h=Ge.empty;for(let g=o.length-1;g>=0;g--)h=Ge.from(o[g].create(null,h));h=Ge.from(r.copy(h));let m=e.tr.step(new nr(t.pos-1,f,t.pos,f,new it(h,1,0),o.length,!0)),p=f+2*o.length;ca(m.doc,p)&&m.join(p),n(m.scrollIntoView())}return!0}let l=Nt.findFrom(t,1),c=l&&l.$from.blockRange(l.$to),u=c&&vu(c);if(u!=null&&u>=t.depth)return n&&n(e.tr.lift(c,u).scrollIntoView()),!0;if(a&&Gc(i,"start",!0)&&Gc(r,"end")){let f=r,h=[];for(;h.push(f),!f.isTextblock;)f=f.lastChild;let m=i,p=1;for(;!m.isTextblock;m=m.firstChild)p++;if(f.canReplace(f.childCount,f.childCount,m.content)){if(n){let g=Ge.empty;for(let x=h.length-1;x>=0;x--)g=Ge.from(h[x].copy(g));let _=e.tr.step(new nr(t.pos-h.length,t.pos+i.nodeSize,t.pos+p,t.pos+i.nodeSize-p,new it(g,h.length,0),0,!0));n(_.scrollIntoView())}return!0}}return!1}function yI(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(t.tr.setSelection(Et.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const ioe=yI(-1),ooe=yI(1);function soe(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&dS(s,e,t);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function DE(e,t=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let u=n.doc.resolve(c),f=u.index();i=u.parent.canReplaceWith(f,f+1,e)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,e,t)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function aoe(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(e)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let u=n.doc.resolve(s.start-2);l=new bm(u,u,s.depth),s.endIndex<s.parent.childCount&&(s=new bm(i,n.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let c=dS(l,e,t,s);return c?(r&&r(loe(n.tr,s,c,a,e).scrollIntoView()),!0):!1}}function loe(e,t,n,r,i){let o=Ge.empty;for(let u=n.length-1;u>=0;u--)o=Ge.from(n[u].type.create(n[u].attrs,o));e.step(new nr(t.start-(r?2:0),t.end,t.start,t.end,new it(o,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==i&&(s=u+1);let a=n.length-s,l=t.start+n.length-(r?2:0),c=t.parent;for(let u=t.startIndex,f=t.endIndex,h=!0;u<f;u++,h=!1)!h&&Nc(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return e}function coe(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==e);return o?n?r.node(o.depth-1).type==e?uoe(t,n,e,o):doe(t,n,o):!0:!1}}function uoe(e,t,n,r){let i=e.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new nr(o-1,s,o,s,new it(Ge.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new bm(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=vu(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return ca(i.doc,l)&&i.join(l),t(i.scrollIntoView()),!0}function doe(e,t,n){let r=e.tr,i=n.parent;for(let m=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)m-=i.child(p).nodeSize,r.delete(m-1,m+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?Ge.empty:Ge.from(i))))return!1;let f=o.pos,h=f+s.nodeSize;return r.step(new nr(f-(a?1:0),h+(l?1:0),f+1,h-1,new it((a?Ge.empty:Ge.from(i.copy(Ge.empty))).append(l?Ge.empty:Ge.from(i.copy(Ge.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}function foe(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=e)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=Ge.from(c?e.create():null),f=new it(Ge.from(e.create(null,Ge.from(a.type.create(null,u)))),c?3:1,0),h=o.start,m=o.end;n(t.tr.step(new nr(h-(c?3:1),m,h,m,f,1,!0)).scrollIntoView())}return!0}}function Jg(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class Xg{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...u)=>{const f=l(...u)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!t,c=t||o.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(h=>h===!0)),f={...Object.fromEntries(Object.entries(r).map(([h,m])=>[h,(...g)=>{const _=this.buildProps(c,n),x=m(...g)(_);return a.push(x),f}])),run:u};return f}createCan(t){const{rawCommands:n,state:r}=this,i=!1,o=t||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(t,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:t,editor:i,view:s,state:Jg({state:o,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class hoe{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function pt(e,t,n){return e.config[t]===void 0&&e.parent?pt(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?pt(e.parent,t,n):null}):e.config[t]}function ev(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function _I(e){const t=[],{nodeExtensions:n,markExtensions:r}=ev(e),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=pt(s,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([h,m])=>{t.push({type:f,name:h,attribute:{...o,...m}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=pt(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,f])=>{const h={...o,...f};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,t.push({type:s.name,name:u,attribute:h})})}),t}function ir(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function on(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?o.split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function mx(e,t){return t.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>on(n,r),{})}function xI(e){return typeof e=="function"}function qt(e,t=void 0,...n){return xI(e)?t?e.bind(t)(...n):e(...n):e}function poe(e={}){return Object.keys(e).length===0&&e.constructor===Object}function moe(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function LE(e,t){return e.style?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):moe(n.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function FE(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&poe(n)?!1:n!=null))}function goe(e,t){var n;const r=_I(e),{nodeExtensions:i,markExtensions:o}=ev(e),s=(n=i.find(c=>pt(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(x=>x.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},h=e.reduce((x,S)=>{const C=pt(S,"extendNodeSchema",f);return{...x,...C?C(c):{}}},{}),m=FE({...h,content:qt(pt(c,"content",f)),marks:qt(pt(c,"marks",f)),group:qt(pt(c,"group",f)),inline:qt(pt(c,"inline",f)),atom:qt(pt(c,"atom",f)),selectable:qt(pt(c,"selectable",f)),draggable:qt(pt(c,"draggable",f)),code:qt(pt(c,"code",f)),defining:qt(pt(c,"defining",f)),isolating:qt(pt(c,"isolating",f)),attrs:Object.fromEntries(u.map(x=>{var S;return[x.name,{default:(S=x==null?void 0:x.attribute)===null||S===void 0?void 0:S.default}]}))}),p=qt(pt(c,"parseHTML",f));p&&(m.parseDOM=p.map(x=>LE(x,u)));const g=pt(c,"renderHTML",f);g&&(m.toDOM=x=>g({node:x,HTMLAttributes:mx(x,u)}));const _=pt(c,"renderText",f);return _&&(m.toText=_),[c.name,m]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(_=>_.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},h=e.reduce((_,x)=>{const S=pt(x,"extendMarkSchema",f);return{..._,...S?S(c):{}}},{}),m=FE({...h,inclusive:qt(pt(c,"inclusive",f)),excludes:qt(pt(c,"excludes",f)),group:qt(pt(c,"group",f)),spanning:qt(pt(c,"spanning",f)),code:qt(pt(c,"code",f)),attrs:Object.fromEntries(u.map(_=>{var x;return[_.name,{default:(x=_==null?void 0:_.attribute)===null||x===void 0?void 0:x.default}]}))}),p=qt(pt(c,"parseHTML",f));p&&(m.parseDOM=p.map(_=>LE(_,u)));const g=pt(c,"renderHTML",f);return g&&(m.toDOM=_=>g({mark:_,HTMLAttributes:mx(_,u)})),[c.name,m]}));return new Tne({topNode:s,nodes:a,marks:l})}function Nb(e,t){return t.nodes[e]||t.marks[e]||null}function zE(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}const voe=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,o,s,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";n+=u.slice(0,Math.max(0,r-o))}),n};function TS(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class tv{constructor(t){this.find=t.find,this.handler=t.handler}}const boe=(e,t)=>{if(TS(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Pb(e){var t;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((t=c.nodeBefore||c.nodeAfter)===null||t===void 0)&&t.marks.find(h=>h.type.spec.code))return!1;let u=!1;const f=voe(c)+o;return s.forEach(h=>{if(u)return;const m=boe(f,h.find);if(!m)return;const p=l.state.tr,g=Jg({state:l.state,transaction:p}),_={from:r-(m[0].length-o.length),to:i},{commands:x,chain:S,can:C}=new Xg({editor:n,state:g});h.handler({state:g,range:_,match:m,commands:x,chain:S,can:C})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:r,to:i,text:o}),l.dispatch(p),u=!0)}),u}function yoe(e){const{editor:t,rules:n}=e,r=new Qn({state:{init(){return null},apply(i,o){const s=i.getMeta(r);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,a){return Pb({editor:t,from:o,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Pb({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Pb({editor:t,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function _oe(e){return typeof e=="number"}class wI{constructor(t){this.find=t.find,this.handler=t.handler}}const xoe=(e,t,n)=>{if(TS(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function woe(e){const{editor:t,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=e,{commands:l,chain:c,can:u}=new Xg({editor:t,state:n}),f=[];return n.doc.nodesBetween(r,i,(m,p)=>{if(!m.isTextblock||m.type.spec.code)return;const g=Math.max(r,p),_=Math.min(i,p+m.content.size),x=m.textBetween(g-p,_-p,void 0,"￼");xoe(x,o.find,s).forEach(C=>{if(C.index===void 0)return;const j=g+C.index+1,k=j+C[0].length,T={from:n.tr.mapping.map(j),to:n.tr.mapping.map(k)},y=o.handler({state:n,range:T,match:C,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});f.push(y)})}),f.every(m=>m!==null)}function Soe(e){const{editor:t,rules:n}=e;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;return n.map(c=>new Qn({view(u){const f=h=>{var m;r=!((m=u.dom.parentElement)===null||m===void 0)&&m.contains(h.target)?u.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(u,f)=>(o=r===u.dom.parentElement,a=f,!1),paste:(u,f)=>{var h;const m=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return s=f,i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(u,f,h)=>{const m=u[0],p=m.getMeta("uiEvent")==="paste"&&!i,g=m.getMeta("uiEvent")==="drop"&&!o;if(!p&&!g)return;const _=f.doc.content.findDiffStart(h.doc.content),x=f.doc.content.findDiffEnd(h.doc.content);if(!_oe(_)||!x||_===x.b)return;const S=h.tr,C=Jg({state:h,transaction:S});if(!(!woe({editor:t,state:C,from:Math.max(_-1,0),to:x.b-1,rule:c,pasteEvent:s,dropEvent:a})||!S.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}}))}function Coe(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return[...new Set(t)]}class yc{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=yc.resolve(t),this.schema=goe(this.extensions,n),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Nb(r.name,this.schema)};r.type==="mark"&&(!((i=qt(pt(r,"keepOnSplit",o)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const s=pt(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const a=pt(r,"onCreate",o);a&&this.editor.on("create",a);const l=pt(r,"onUpdate",o);l&&this.editor.on("update",l);const c=pt(r,"onSelectionUpdate",o);c&&this.editor.on("selectionUpdate",c);const u=pt(r,"onTransaction",o);u&&this.editor.on("transaction",u);const f=pt(r,"onFocus",o);f&&this.editor.on("focus",f);const h=pt(r,"onBlur",o);h&&this.editor.on("blur",h);const m=pt(r,"onDestroy",o);m&&this.editor.on("destroy",m)})}static resolve(t){const n=yc.sort(yc.flatten(t)),r=Coe(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=pt(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(t){return t.sort((r,i)=>{const o=pt(r,"priority")||100,s=pt(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Nb(n.name,this.schema)},i=pt(n,"addCommands",r);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this,n=yc.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:t,type:Nb(s.name,this.schema)},l=[],c=pt(s,"addKeyboardShortcuts",a);let u={};if(s.type==="mark"&&s.config.exitable&&(u.ArrowRight=()=>Zr.handleExit({editor:t,mark:s})),c){const g=Object.fromEntries(Object.entries(c()).map(([_,x])=>[_,()=>x({editor:t})]));u={...u,...g}}const f=Bie(u);l.push(f);const h=pt(s,"addInputRules",a);zE(s,t.options.enableInputRules)&&h&&r.push(...h());const m=pt(s,"addPasteRules",a);zE(s,t.options.enablePasteRules)&&m&&i.push(...m());const p=pt(s,"addProseMirrorPlugins",a);if(p){const g=p();l.push(...g)}return l}).flat();return[yoe({editor:t,rules:r}),...Soe({editor:t,rules:i}),...o]}get attributes(){return _I(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=ev(this.extensions);return Object.fromEntries(n.filter(r=>!!pt(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:t,type:ir(r.name,this.schema)},s=pt(r,"addNodeView",o);if(!s)return[];const a=(l,c,u,f)=>{const h=mx(l,i);return s()({editor:t,node:l,getPos:u,decorations:f,HTMLAttributes:h,extension:r})};return[r.name,a]}))}}function Toe(e){return Object.prototype.toString.call(e).slice(8,-1)}function Ab(e){return Toe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function nv(e,t){const n={...e};return Ab(e)&&Ab(t)&&Object.keys(t).forEach(r=>{Ab(t[r])?r in e?n[r]=nv(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}class Fr{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=qt(pt(this,"addOptions",{name:this.name}))),this.storage=qt(pt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Fr(t)}configure(t={}){const n=this.extend();return n.options=nv(this.options,t),n.storage=qt(pt(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new Fr({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=qt(pt(n,"addOptions",{name:n.name})),n.storage=qt(pt(n,"addStorage",{name:n.name,options:n.options})),n}}function SI(e,t,n){const{from:r,to:i}=t,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="",l=!0;return e.nodesBetween(r,i,(c,u,f,h)=>{var m;const p=s==null?void 0:s[c.type.name];p?(c.isBlock&&!l&&(a+=o,l=!0),f&&(a+=p({node:c,pos:u,parent:f,index:h,range:t}))):c.isText?(a+=(m=c==null?void 0:c.text)===null||m===void 0?void 0:m.slice(Math.max(r,u)-u,i-u),l=!1):c.isBlock&&!l&&(a+=o,l=!0)}),a}function CI(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const joe=Fr.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Qn({key:new pr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,s=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=CI(n);return SI(r,{from:s,to:a},{textSerializers:l})}}})]}}),Eoe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),koe=(e=!1)=>({commands:t})=>t.setContent("",e),Ooe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{e.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=t,f=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),m=f.blockRange(h);if(!m)return;const p=vu(m);if(a.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());t.setNodeMarkup(m.start,g)}(p||p===0)&&t.lift(m,p)})}),!0},Moe=e=>t=>e(t),Noe=()=>({state:e,dispatch:t})=>eoe(e,t),Poe=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const s=r.mapping.map(t);return r.insert(s,o.content),r.setSelection(new Et(r.doc.resolve(s-1))),!0},Aoe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(t){const a=i.before(o),l=i.after(o);e.delete(a,l).scrollIntoView()}return!0}return!1},Roe=e=>({tr:t,state:n,dispatch:r})=>{const i=ir(e,n.schema),o=t.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),c=o.after(s);t.delete(l,c).scrollIntoView()}return!0}return!1},$oe=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},Ioe=()=>({state:e,dispatch:t})=>Wie(e,t),Doe=()=>({commands:e})=>e.keyboardShortcut("Enter"),Loe=()=>({state:e,dispatch:t})=>Xie(e,t);function jm(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:TS(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function gx(e,t,n={}){return e.find(r=>r.type===t&&jm(r.attrs,n))}function Foe(e,t,n={}){return!!gx(e,t,n)}function jS(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&r.offset!==0&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const i=gx([...r.node.marks],t,n);if(!i)return;let o=r.index,s=e.start()+r.offset,a=o+1,l=s+r.node.nodeSize;for(gx([...r.node.marks],t,n);o>0&&i.isInSet(e.parent.child(o-1).marks);)o-=1,s-=e.parent.child(o).nodeSize;for(;a<e.parent.childCount&&Foe([...e.parent.child(a).marks],t,n);)l+=e.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function da(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const zoe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const o=da(e,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const f=jS(l,o,t);if(f&&f.from<=c&&f.to>=u){const h=Et.create(s,f.from,f.to);n.setSelection(h)}}return!0},Boe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function ES(e){return e instanceof Et}function is(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function TI(e,t=null){if(!t)return null;const n=Nt.atStart(e),r=Nt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,o=r.to;return t==="all"?Et.create(e,is(0,i,o),is(e.content.size,i,o)):Et.create(e,is(t,i,o),is(t,i,o))}function rv(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Woe=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const s=()=>{rv()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!ES(n.state.selection))return s(),!0;const a=TI(i.doc,e)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},Hoe=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),qoe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),jI=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&jI(r)}return e};function BE(e){const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return jI(n)}function Em(e,t,n){if(n={slice:!0,parseOptions:{},...n},typeof e=="object"&&e!==null)try{return Array.isArray(e)&&e.length>0?Ge.fromArray(e.map(r=>t.nodeFromJSON(r))):t.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),Em("",t,n)}if(typeof e=="string"){const r=Hc.fromSchema(t);return n.slice?r.parseSlice(BE(e),n.parseOptions).content:r.parse(BE(e),n.parseOptions)}return Em("",t,n)}function Voe(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof er||i instanceof nr))return;const o=e.mapping.maps[r];let s=0;o.forEach((a,l,c,u)=>{s===0&&(s=u)}),e.setSelection(Nt.near(e.doc.resolve(s),n))}const Uoe=e=>e.toString().startsWith("<"),Goe=(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const s=Em(t,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:a,to:l}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},c=!0,u=!0;if((Uoe(s)?s:[s]).forEach(h=>{h.check(),c=c?h.isText&&h.marks.length===0:!1,u=u?h.isBlock:!1}),a===l&&u){const{parent:h}=r.doc.resolve(a);h.isTextblock&&!h.type.spec.code&&!h.childCount&&(a-=1,l+=1)}c?Array.isArray(t)?r.insertText(t.map(h=>h.text||"").join(""),a,l):typeof t=="object"&&t&&t.text?r.insertText(t.text,a,l):r.insertText(t,a,l):r.replaceWith(a,l,s),n.updateSelection&&Voe(r,r.steps.length-1,-1)}return!0},Koe=()=>({state:e,dispatch:t})=>Yie(e,t),Yoe=()=>({state:e,dispatch:t})=>Zie(e,t),Zoe=()=>({state:e,dispatch:t})=>Hie(e,t),Qoe=()=>({state:e,dispatch:t})=>Gie(e,t),Joe=()=>({tr:e,state:t,dispatch:n})=>{try{const r=Ug(t.doc,t.selection.$from.pos,-1);return r==null?!1:(e.join(r,2),n&&n(e),!0)}catch{return!1}},Xoe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Ug(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},ese=()=>({state:e,dispatch:t})=>qie(e,t),tse=()=>({state:e,dispatch:t})=>Vie(e,t);function EI(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function nse(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<t.length-1;a+=1){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))rv()||EI()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const rse=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=nse(e).split(/-(?!$)/),s=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Sf(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,s=t?ir(t,e.schema):null,a=[];e.doc.nodesBetween(r,i,(f,h)=>{if(f.isText)return;const m=Math.max(r,h),p=Math.min(i,h+f.nodeSize);a.push({node:f,from:m,to:p})});const l=i-r,c=a.filter(f=>s?s.name===f.node.type.name:!0).filter(f=>jm(f.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((f,h)=>f+h.to-h.from,0)>=l}const ise=(e,t={})=>({state:n,dispatch:r})=>{const i=ir(e,n.schema);return Sf(n,i,t)?Qie(n,r):!1},ose=()=>({state:e,dispatch:t})=>toe(e,t),sse=e=>({state:t,dispatch:n})=>{const r=ir(e,t.schema);return coe(r)(t,n)},ase=()=>({state:e,dispatch:t})=>Jie(e,t);function iv(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function WE(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}const lse=(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=iv(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(o=ir(e,r.schema)),a==="mark"&&(s=da(e,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&n.setNodeMarkup(u,void 0,WE(c.attrs,t)),s&&c.marks.length&&c.marks.forEach(f=>{s===f.type&&n.addMark(u,u+c.nodeSize,s.create(WE(f.attrs,t)))})})}),!0):!1},cse=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),use=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),dse=()=>({state:e,dispatch:t})=>Uie(e,t),fse=()=>({state:e,dispatch:t})=>Kie(e,t),hse=()=>({state:e,dispatch:t})=>noe(e,t),pse=()=>({state:e,dispatch:t})=>ooe(e,t),mse=()=>({state:e,dispatch:t})=>ioe(e,t);function kI(e,t,n={}){return Em(e,t,{slice:!1,parseOptions:n})}const gse=(e,t=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,a=kI(e,i.schema,n);return o&&r.replaceWith(0,s.content.size,a).setMeta("preventUpdate",!t),!0};function oh(e,t){const n=da(t,e.schema),{from:r,to:i,empty:o}=e.selection,s=[];o?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function vse(e,t){const n=new fS(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function bse(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function yse(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function OI(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function kS(e){return t=>OI(t.$from,e)}function _se(e,t){const n=_o.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function xse(e,t){const n={from:0,to:e.content.size};return SI(e,n,t)}function wse(e,t){const n=ir(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function MI(e,t){const n=iv(typeof t=="string"?t:t.name,e.schema);return n==="node"?wse(e,t):n==="mark"?oh(e,t):{}}function Sse(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function Cse(e){const t=Sse(e);return t.length===1?t:t.filter((n,r)=>!t.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function Tse(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=n[o];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const c=t.slice(o).map(a,-1),u=t.slice(o).map(l),f=t.invert().map(c,-1),h=t.invert().map(u);r.push({oldRange:{from:f,to:h},newRange:{from:c,to:u}})})}),Cse(r)}function km(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const o=n.resolve(e-1),s=jS(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(e,t,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function Hp(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(o=>o.type===t&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function vx(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?da(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(f=>o?o.name===f.type.name:!0).find(f=>jm(f.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:f,$to:h})=>{const m=f.pos,p=h.pos;e.doc.nodesBetween(m,p,(g,_)=>{if(!g.isText&&!g.marks.length)return;const x=Math.max(m,_),S=Math.min(p,_+g.nodeSize),C=S-x;s+=C,a.push(...g.marks.map(j=>({mark:j,from:x,to:S})))})}),s===0)return!1;const l=a.filter(f=>o?o.name===f.mark.type.name:!0).filter(f=>jm(f.mark.attrs,n,{strict:!1})).reduce((f,h)=>f+h.to-h.from,0),c=a.filter(f=>o?f.mark.type!==o&&f.mark.type.excludes(o):!0).reduce((f,h)=>f+h.to-h.from,0);return(l>0?l+c:l)>=s}function jse(e,t,n={}){if(!t)return Sf(e,null,n)||vx(e,null,n);const r=iv(t,e.schema);return r==="node"?Sf(e,t,n):r==="mark"?vx(e,t,n):!1}function HE(e,t){const{nodeExtensions:n}=ev(t),r=n.find(s=>s.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=qt(pt(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Ese(e){var t;const n=(t=e.type.createAndFill())===null||t===void 0?void 0:t.toJSON(),r=e.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function kse(e){return e instanceof wt}function Ose(e,t,n){const i=e.state.doc.content.size,o=is(t,0,i),s=is(n,0,i),a=e.coordsAtPos(o),l=e.coordsAtPos(s,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),f=Math.min(a.left,l.left),h=Math.max(a.right,l.right),m=h-f,p=u-c,x={top:c,bottom:u,left:f,right:h,width:m,height:p,x:f,y:c};return{...x,toJSON:()=>x}}function Mse(e,t,n){var r;const{selection:i}=t;let o=null;if(ES(i)&&(o=i.$cursor),o){const a=(r=e.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(a.pos,l.pos,(u,f,h)=>{if(c)return!1;if(u.isInline){const m=!h||h.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=m&&p}return!c}),c})}const Nse=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=da(e,r.schema);if(i)if(s){const c=oh(r,l);n.addStoredMark(l.create({...c,...t}))}else a.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;r.doc.nodesBetween(u,f,(h,m)=>{const p=Math.max(m,u),g=Math.min(m+h.nodeSize,f);h.marks.find(x=>x.type===l)?h.marks.forEach(x=>{l===x.type&&n.addMark(p,g,l.create({...x.attrs,...t}))}):n.addMark(p,g,l.create(t))})});return Mse(r,n,l)},Pse=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),Ase=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=ir(e,n.schema);return o.isTextblock?i().command(({commands:s})=>DE(o,t)(n)?!0:s.clearNodes()).command(({state:s})=>DE(o,t)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Rse=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=is(e,0,r.content.size),o=wt.create(r,i);t.setSelection(o)}return!0},$se=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,s=Et.atStart(r).from,a=Et.atEnd(r).to,l=is(i,s,a),c=is(o,s,a),u=Et.create(r,l,c);t.setSelection(u)}return!0},Ise=e=>({state:t,dispatch:n})=>{const r=ir(e,t.schema);return foe(r)(t,n)};function qE(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(r)}}const Dse=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=t,{$from:a,$to:l}=o,c=i.extensionManager.attributes,u=Hp(c,a.node().type.name,a.node().attrs);if(o instanceof wt&&o.node.isBlock)return!a.parentOffset||!Nc(s,a.pos)?!1:(r&&(e&&qE(n,i.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const f=l.parentOffset===l.parent.content.size;o instanceof Et&&t.deleteSelection();const h=a.depth===0?void 0:bse(a.node(-1).contentMatchAt(a.indexAfter(-1)));let m=f&&h?[{type:h,attrs:u}]:void 0,p=Nc(t.doc,t.mapping.map(a.pos),1,m);if(!m&&!p&&Nc(t.doc,t.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(p=!0,m=h?[{type:h,attrs:u}]:void 0),p&&(t.split(t.mapping.map(a.pos),1,m),h&&!f&&!a.parentOffset&&a.parent.type!==h)){const g=t.mapping.map(a.before()),_=t.doc.resolve(g);a.node(-1).canReplaceWith(_.index(),_.index()+1,h)&&t.setNodeMarkup(t.mapping.map(a.before()),h)}e&&qE(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return!0},Lse=e=>({tr:t,state:n,dispatch:r,editor:i})=>{var o;const s=ir(e,n.schema),{$from:a,$to:l}=n.selection,c=n.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(l))return!1;const u=a.node(-1);if(u.type!==s)return!1;const f=i.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==s||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let _=Ge.empty;const x=a.index(-1)?1:a.index(-2)?2:3;for(let y=a.depth-x;y>=a.depth-3;y-=1)_=Ge.from(a.node(y).copy(_));const S=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,C=Hp(f,a.node().type.name,a.node().attrs),j=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(C))||void 0;_=_.append(Ge.from(s.createAndFill(null,j)||void 0));const k=a.before(a.depth-(x-1));t.replace(k,a.after(-S),new it(_,4-x,0));let T=-1;t.doc.nodesBetween(k,t.doc.content.size,(y,P)=>{if(T>-1)return!1;y.isTextblock&&y.content.size===0&&(T=P+1)}),T>-1&&t.setSelection(Et.near(t.doc.resolve(T))),t.scrollIntoView()}return!0}const h=l.pos===a.end()?u.contentMatchAt(0).defaultType:null,m=Hp(f,u.type.name,u.attrs),p=Hp(f,a.node().type.name,a.node().attrs);t.delete(a.pos,l.pos);const g=h?[{type:s,attrs:m},{type:h,attrs:p}]:[{type:s,attrs:m}];if(!Nc(t.doc,a.pos,2))return!1;if(r){const{selection:_,storedMarks:x}=n,{splittableMarks:S}=i.extensionManager,C=x||_.$to.parentOffset&&_.$from.marks();if(t.split(a.pos,2,g).scrollIntoView(),!C||!r)return!0;const j=C.filter(k=>S.includes(k.type.name));t.ensureMarks(j)}return!0},Rb=(e,t)=>{const n=kS(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ca(e.doc,n.pos)&&e.join(n.pos),!0},$b=(e,t)=>{const n=kS(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ca(e.doc,r)&&e.join(r),!0},Fse=(e,t,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:f,splittableMarks:h}=i.extensionManager,m=ir(e,s.schema),p=ir(t,s.schema),{selection:g,storedMarks:_}=s,{$from:x,$to:S}=g,C=x.blockRange(S),j=_||g.$to.parentOffset&&g.$from.marks();if(!C)return!1;const k=kS(T=>HE(T.type.name,f))(g);if(C.depth>=1&&k&&C.depth-k.depth<=1){if(k.node.type===m)return c.liftListItem(p);if(HE(k.node.type.name,f)&&m.validContent(k.node.content)&&a)return l().command(()=>(o.setNodeMarkup(k.pos,m),!0)).command(()=>Rb(o,m)).command(()=>$b(o,m)).run()}return!n||!j||!a?l().command(()=>u().wrapInList(m,r)?!0:c.clearNodes()).wrapInList(m,r).command(()=>Rb(o,m)).command(()=>$b(o,m)).run():l().command(()=>{const T=u().wrapInList(m,r),y=j.filter(P=>h.includes(P.type.name));return o.ensureMarks(y),T?!0:c.clearNodes()}).wrapInList(m,r).command(()=>Rb(o,m)).command(()=>$b(o,m)).run()},zse=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=da(e,r.schema);return vx(r,s,t)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,t)},Bse=(e,t,n={})=>({state:r,commands:i})=>{const o=ir(e,r.schema),s=ir(t,r.schema);return Sf(r,o,n)?i.setNode(s):i.setNode(o,n)},Wse=(e,t={})=>({state:n,commands:r})=>{const i=ir(e,n.schema);return Sf(n,i,t)?r.lift(i):r.wrapIn(i,t)},Hse=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const s=e.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},qse=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},Vse=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=t,{selection:a}=n,l=da(e,r.schema),{$from:c,empty:u,ranges:f}=a;if(!i)return!0;if(u&&s){let{from:h,to:m}=a;const p=(o=c.marks().find(_=>_.type===l))===null||o===void 0?void 0:o.attrs,g=jS(c,l,p);g&&(h=g.from,m=g.to),n.removeMark(h,m,l)}else f.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},Use=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=iv(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(o=ir(e,r.schema)),a==="mark"&&(s=da(e,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(f,h)=>{o&&o===f.type&&n.setNodeMarkup(h,void 0,{...f.attrs,...t}),s&&f.marks.length&&f.marks.forEach(m=>{if(s===m.type){const p=Math.max(h,c),g=Math.min(h+f.nodeSize,u);n.addMark(p,g,s.create({...m.attrs,...t}))}})})}),!0):!1},Gse=(e,t={})=>({state:n,dispatch:r})=>{const i=ir(e,n.schema);return soe(i,t)(n,r)},Kse=(e,t={})=>({state:n,dispatch:r})=>{const i=ir(e,n.schema);return aoe(i,t)(n,r)};var Yse=Object.freeze({__proto__:null,blur:Eoe,clearContent:koe,clearNodes:Ooe,command:Moe,createParagraphNear:Noe,cut:Poe,deleteCurrentNode:Aoe,deleteNode:Roe,deleteRange:$oe,deleteSelection:Ioe,enter:Doe,exitCode:Loe,extendMarkRange:zoe,first:Boe,focus:Woe,forEach:Hoe,insertContent:qoe,insertContentAt:Goe,joinUp:Koe,joinDown:Yoe,joinBackward:Zoe,joinForward:Qoe,joinItemBackward:Joe,joinItemForward:Xoe,joinTextblockBackward:ese,joinTextblockForward:tse,keyboardShortcut:rse,lift:ise,liftEmptyBlock:ose,liftListItem:sse,newlineInCode:ase,resetAttributes:lse,scrollIntoView:cse,selectAll:use,selectNodeBackward:dse,selectNodeForward:fse,selectParentNode:hse,selectTextblockEnd:pse,selectTextblockStart:mse,setContent:gse,setMark:Nse,setMeta:Pse,setNode:Ase,setNodeSelection:Rse,setTextSelection:$se,sinkListItem:Ise,splitBlock:Dse,splitListItem:Lse,toggleList:Fse,toggleMark:zse,toggleNode:Bse,toggleWrap:Wse,undoInputRule:Hse,unsetAllMarks:qse,unsetMark:Vse,updateAttributes:Use,wrapIn:Gse,wrapInList:Kse});const Zse=Fr.create({name:"commands",addCommands(){return{...Yse}}}),Qse=Fr.create({name:"editable",addProseMirrorPlugins(){return[new Qn({key:new pr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Jse=Fr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Qn({key:new pr("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),Xse=Fr.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:f}=l,{pos:h,parent:m}=f,p=f.parent.isTextblock?a.doc.resolve(h-1):f,g=p.parent.type.spec.isolating,_=f.pos-f.parentOffset,x=g&&p.parent.childCount===1?_===f.pos:Nt.atStart(c).from===h;return!u||!x||!m.type.isTextblock||m.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return rv()||EI()?o:i},addProseMirrorPlugins(){return[new Qn({key:new pr("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some(p=>p.docChanged)&&!t.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=t.selection,a=Nt.atStart(t.doc).from,l=Nt.atEnd(t.doc).to;if(i||!(o===a&&s===l)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const f=n.tr,h=Jg({state:n,transaction:f}),{commands:m}=new Xg({editor:this.editor,state:h});if(m.clearNodes(),!!f.steps.length)return f}})]}}),eae=Fr.create({name:"tabindex",addProseMirrorPlugins(){return[new Qn({key:new pr("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var tae=Object.freeze({__proto__:null,ClipboardTextSerializer:joe,Commands:Zse,Editable:Qse,FocusEvents:Jse,Keymap:Xse,Tabindex:eae});class Pa{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Pa(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Pa(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Pa(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=this.pos+r+(i?0:1),s=this.resolvedPos.doc.resolve(o);if(!i&&s.depth<=this.depth)return;const a=new Pa(s,this.editor,i,i?n:null);i&&(a.actualDepth=this.depth+1),t.push(new Pa(s,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const o=i.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(o[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];return this.isBlock||!this.children||this.children.length===0||this.children.forEach(o=>{if(o.node.type.name===t){if(Object.keys(n).length>0){const s=o.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const c=a[l];if(s[c]!==n[c])return}}if(i.push(o),r)return}i=i.concat(o.querySelectorAll(t))}),i}setAttribute(t){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,t).setTextSelection(n.from).run()}}const nae=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function rae(e,t,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}let iae=class extends hoe{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=rae(nae,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const r=xI(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(t){if(this.isDestroyed)return;const n=typeof t=="string"?`${t}$`:t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(tae):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new yc(n,this)}createCommandManager(){this.commandManager=new Xg({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=kI(this.options.content,this.schema,this.options.parseOptions),n=TI(t,this.options.autofocus);this.view=new $ie(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:bc.create({doc:t,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(t),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const i=t.getMeta("focus"),o=t.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return MI(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,i=typeof t=="string"?n:t;return jse(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return _se(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return xse(this.state.doc,{blockSeparator:n,textSerializers:{...CI(this.schema),...r}})}get isEmpty(){return Ese(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(t,n))||null}$nodes(t,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new Pa(n,this)}get $doc(){return this.$pos(0)}};function gl(e){return new tv({find:e.find,handler:({state:t,range:n,match:r})=>{const i=qt(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(km(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(g=>g===e.type&&g!==m.mark.type)).filter(m=>m.to>c).length)return null;u<n.to&&o.delete(u,n.to),c>n.from&&o.delete(n.from+l,c);const h=n.from+l+s.length;o.addMark(n.from+l,h,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function OS(e){return new tv({find:e.find,handler:({state:t,range:n,match:r})=>{const i=qt(e.getAttributes,void 0,r)||{},{tr:o}=t,s=n.from;let a=n.to;const l=e.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=s+c;u>a?u=a:a=u+r[1].length;const f=r[0][r[0].length-1];o.insertText(f,s+r[0].length-1),o.replaceWith(u,a,l)}else r[0]&&o.insert(s-1,e.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a));o.scrollIntoView()}})}function bx(e){return new tv({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),o=qt(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})}function Cf(e){return new tv({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const o=qt(e.getAttributes,void 0,r)||{},s=t.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),c=l&&dS(l,e.type,o);if(!c)return null;if(s.wrap(l,c),e.keepMarks&&e.editor){const{selection:f,storedMarks:h}=t,{splittableMarks:m}=e.editor.extensionManager,p=h||f.$to.parentOffset&&f.$from.marks();if(p){const g=p.filter(_=>m.includes(_.type.name));s.ensureMarks(g)}}if(e.keepAttributes){const f=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,o).run()}const u=s.doc.resolve(n.from-1).nodeBefore;u&&u.type===e.type&&ca(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,u))&&s.join(n.from-1)}})}class Zr{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=qt(pt(this,"addOptions",{name:this.name}))),this.storage=qt(pt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Zr(t)}configure(t={}){const n=this.extend();return n.options=nv(this.options,t),n.storage=qt(pt(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new Zr({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=qt(pt(n,"addOptions",{name:n.name})),n.storage=qt(pt(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}}let Wn=class yx{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=qt(pt(this,"addOptions",{name:this.name}))),this.storage=qt(pt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new yx(t)}configure(t={}){const n=this.extend();return n.options=nv(this.options,t),n.storage=qt(pt(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new yx({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=qt(pt(n,"addOptions",{name:n.name})),n.storage=qt(pt(n,"addStorage",{name:n.name,options:n.options})),n}};function oae(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class sae{constructor(t,n,r){this.isDragging=!1,this.component=t,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var n,r,i,o,s,a,l;const{view:c}=this.editor,u=t.target,f=u.nodeType===3?(n=u.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):u.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(u)||!f)return;let h=0,m=0;if(this.dom!==f){const _=this.dom.getBoundingClientRect(),x=f.getBoundingClientRect(),S=(i=t.offsetX)!==null&&i!==void 0?i:(o=t.nativeEvent)===null||o===void 0?void 0:o.offsetX,C=(s=t.offsetY)!==null&&s!==void 0?s:(a=t.nativeEvent)===null||a===void 0?void 0:a.offsetY;h=x.x-_.x+S,m=x.y-_.y+C}(l=t.dataTransfer)===null||l===void 0||l.setDragImage(this.dom,h,m);const p=wt.create(c.state.doc,this.getPos()),g=c.state.tr.setSelection(p);c.dispatch(g)}stopEvent(t){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const r=t.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const o=t.type.startsWith("drag"),s=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!s&&!o)return!0;const{isEditable:l}=this.editor,{isDragging:c}=this,u=!!this.node.type.spec.draggable,f=wt.isSelectable(this.node),h=t.type==="copy",m=t.type==="paste",p=t.type==="cut",g=t.type==="mousedown";if(!u&&f&&o&&t.preventDefault(),u&&o&&!c)return t.preventDefault(),!1;if(u&&l&&!c&&g){const _=r.closest("[data-drag-handle]");_&&(this.dom===_||this.dom.contains(_))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(c||s||h||m||p||g&&f)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&(rv()||oae())&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,{...this.node.attrs,...t}),!0})}deleteNode(){const t=this.getPos(),n=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:n})}}function na(e){return new wI({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const o=qt(e.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=t,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),f=n.from+l.indexOf(a),h=f+a.length;if(km(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(_=>_===e.type&&_!==p.mark.type)).filter(p=>p.to>f).length)return null;h<n.to&&s.delete(h,n.to),f>n.from&&s.delete(n.from+u,f),c=n.from+u+a.length,s.addMark(n.from+u,c,e.type.create(o||{})),s.removeStoredMark(e.type)}}})}function aae(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function lae(e){return new wI({find:e.find,handler({match:t,chain:n,range:r,pasteEvent:i}){const o=qt(e.getAttributes,void 0,t,i);if(o===!1||o===null)return null;t.input&&n().deleteRange(r).insertContentAt(r.from,{type:e.type.name,attrs:o})}})}class cae{constructor({editor:t,element:n,view:r,tippyOptions:i={},updateDelay:o=250,shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:a,state:l,from:c,to:u})=>{const{doc:f,selection:h}=l,{empty:m}=h,p=!f.textBetween(c,u).length&&ES(l.selection),g=this.element.contains(document.activeElement);return!(!(a.hasFocus()||g)||m||p||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var l;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&(!((l=this.element.parentNode)===null||l===void 0)&&l.contains(a.relatedTarget))||this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.handleDebouncedUpdate=(a,l)=>{const c=!(l!=null&&l.selection.eq(a.state.selection)),u=!(l!=null&&l.doc.eq(a.state.doc));!c&&!u||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(a,c,u,l)},this.updateDelay))},this.updateHandler=(a,l,c,u)=>{var f,h,m;const{state:p,composing:g}=a,{selection:_}=p;if(g||!l&&!c)return;this.createTooltip();const{ranges:S}=_,C=Math.min(...S.map(T=>T.$from.pos)),j=Math.max(...S.map(T=>T.$to.pos));if(!((f=this.shouldShow)===null||f===void 0?void 0:f.call(this,{editor:this.editor,view:a,state:p,oldState:u,from:C,to:j}))){this.hide();return}(h=this.tippy)===null||h===void 0||h.setProps({getReferenceClientRect:((m=this.tippyOptions)===null||m===void 0?void 0:m.getReferenceClientRect)||(()=>{if(kse(p.selection)){let T=a.nodeDOM(C);const y=T.dataset.nodeViewWrapper?T:T.querySelector("[data-node-view-wrapper]");if(y&&(T=y.firstChild),T)return T.getBoundingClientRect()}return Ose(a,C,j)})}),this.show()},this.editor=t,this.element=n,this.view=r,this.updateDelay=o,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,n=!!t.parentElement;this.tippy||!n||(this.tippy=f3(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,n){const{state:r}=t,i=r.selection.$from.pos!==r.selection.$to.pos;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(t,n);return}const o=!(n!=null&&n.selection.eq(t.state.selection)),s=!(n!=null&&n.doc.eq(t.state.doc));this.updateHandler(t,o,s,n)}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,n;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const NI=e=>new Qn({key:typeof e.pluginKey=="string"?new pr(e.pluginKey):e.pluginKey,view:t=>new cae({view:t,...e})});Fr.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[NI({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});const uae=e=>{const[t,n]=b.useState(null);return b.useEffect(()=>{if(!t||e.editor.isDestroyed)return;const{pluginKey:r="bubbleMenu",editor:i,tippyOptions:o={},updateDelay:s,shouldShow:a=null}=e,l=NI({updateDelay:s,editor:i,element:t,pluginKey:r,shouldShow:a,tippyOptions:o});return i.registerPlugin(l),()=>i.unregisterPlugin(r)},[e.editor,t]),Le.createElement("div",{ref:n,className:e.className,style:{visibility:"hidden"}},e.children)};let dae=class extends iae{constructor(){super(...arguments),this.contentComponent=null}};const fae=({renderers:e})=>Le.createElement(Le.Fragment,null,Object.entries(e).map(([t,n])=>Ad.createPortal(n.reactElement,n.element,t)));class hae extends Le.Component{constructor(t){super(t),this.editorContentRef=Le.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:t}=this.props;if(t&&t.options.element){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.options.element.childNodes),t.setOptions({element:n}),t.contentComponent=this,t.createNodeViews(),this.initialized=!0}}maybeFlushSync(t){this.initialized?pu.flushSync(t):t()}setRenderer(t,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[t]:n}}))})}removeRenderer(t){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[t],{renderers:r}})})}componentWillUnmount(){const{editor:t}=this.props;if(!t||(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),t.contentComponent=null,!t.options.element.firstChild))return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){const{editor:t,...n}=this.props;return Le.createElement(Le.Fragment,null,Le.createElement("div",{ref:this.editorContentRef,...n}),Le.createElement(fae,{renderers:this.state.renderers}))}}const pae=Le.memo(hae),PI=b.createContext({onDragStart:void 0}),mae=()=>b.useContext(PI),gae=Le.forwardRef((e,t)=>{const{onDragStart:n}=mae(),r=e.as||"div";return Le.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});function vae(e){return!!(typeof e=="function"&&e.prototype&&e.prototype.isReactComponent)}function bae(e){var t;return typeof e=="object"&&((t=e.$$typeof)===null||t===void 0?void 0:t.toString())==="Symbol(react.forward_ref)"}class AI{constructor(t,{editor:n,props:r={},as:i="div",className:o="",attrs:s}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=t,this.editor=n,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),s&&Object.keys(s).forEach(a=>{this.element.setAttribute(a,s[a])}),this.render()}render(){var t,n;const r=this.component,i=this.props;(vae(r)||bae(r))&&(i.ref=o=>{this.ref=o}),this.reactElement=Le.createElement(r,{...i}),(n=(t=this.editor)===null||t===void 0?void 0:t.contentComponent)===null||n===void 0||n.setRenderer(this.id,this)}updateProps(t={}){this.props={...this.props,...t},this.render()}destroy(){var t,n;(n=(t=this.editor)===null||t===void 0?void 0:t.contentComponent)===null||n===void 0||n.removeRenderer(this.id)}}class yae extends sae{mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(o={})=>this.updateAttributes(o),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const o=s=>s.charAt(0).toUpperCase()+s.substring(1);this.component.displayName=o(this.extension.name)}const n=o=>{const s=this.component,a=this.onDragStart.bind(this),l=c=>{c&&this.contentDOMElement&&c.firstChild!==this.contentDOMElement&&c.appendChild(this.contentDOMElement)};return Le.createElement(Le.Fragment,null,Le.createElement(PI.Provider,{value:{onDragStart:a,nodeViewContentRef:l}},Le.createElement(s,{...o})))};n.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let r=this.node.isInline?"span":"div";this.options.as&&(r=this.options.as);const{className:i=""}=this.options;this.renderer=new AI(n,{editor:this.editor,props:t,as:r,className:`node-${this.node.type.name} ${i}`.trim(),attrs:this.options.attrs})}get dom(){var t;if(this.renderer.element.firstElementChild&&!(!((t=this.renderer.element.firstElementChild)===null||t===void 0)&&t.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(t,n){const r=i=>{this.renderer.updateProps(i)};if(t.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,o=this.decorations;return this.node=t,this.decorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:t,newDecorations:n,updateProps:()=>r({node:t,decorations:n})})}return t===this.node&&this.decorations===n||(this.node=t,this.decorations=n,r({node:t,decorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function _ae(e,t){return n=>n.editor.contentComponent?new yae(e,n,t):{}}function xae(){const[,e]=b.useState(0);return()=>e(t=>t+1)}const wae=(e={},t=[])=>{const[n,r]=b.useState(null),i=xae(),{onBeforeCreate:o,onBlur:s,onCreate:a,onDestroy:l,onFocus:c,onSelectionUpdate:u,onTransaction:f,onUpdate:h}=e,m=b.useRef(o),p=b.useRef(s),g=b.useRef(a),_=b.useRef(l),x=b.useRef(c),S=b.useRef(u),C=b.useRef(f),j=b.useRef(h);return b.useEffect(()=>{n&&(o&&(n.off("beforeCreate",m.current),n.on("beforeCreate",o),m.current=o),s&&(n.off("blur",p.current),n.on("blur",s),p.current=s),a&&(n.off("create",g.current),n.on("create",a),g.current=a),l&&(n.off("destroy",_.current),n.on("destroy",l),_.current=l),c&&(n.off("focus",x.current),n.on("focus",c),x.current=c),u&&(n.off("selectionUpdate",S.current),n.on("selectionUpdate",u),S.current=u),f&&(n.off("transaction",C.current),n.on("transaction",f),C.current=f),h&&(n.off("update",j.current),n.on("update",h),j.current=h))},[o,s,a,l,c,u,f,h,n]),b.useEffect(()=>{let k=!0;const T=new dae(e);return r(T),T.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{k&&i()})})}),()=>{T.destroy(),k=!1}},t),n};var VE,UE;function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_x.apply(this,arguments)}var Sae=function(t){return b.createElement("svg",_x({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"highlight_svg__icon highlight_svg__icon-tabler highlight_svg__icon-tabler-highlight",viewBox:"0 0 24 24"},t),VE||(VE=b.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),UE||(UE=b.createElement("path",{d:"M3 19h4L17.5 8.5a2.828 2.828 0 1 0-4-4L3 15zM12.5 5.5l4 4M4.5 13.5l4 4M21 15v4h-8l4-4z"})))};function RI({editor:e}){const t=b.useMemo(()=>({duration:100}),[]);return d.jsxs(uae,{editor:e,tippyOptions:t,children:[d.jsxs("div",{className:"tw-flex tw-flex-nowrap",children:[d.jsx(cn,{tooltip:"Bold",Icon:()=>d.jsx("div",{style:{pointerEvents:"none"},children:"B"}),onClick:()=>e.chain().focus().toggleBold().run()}),d.jsx(cn,{tooltip:"Italics",Icon:()=>d.jsx("span",{className:"tw-italic",children:"I"}),onClick:()=>e.chain().focus().toggleItalic().run()}),d.jsx(cn,{tooltip:"Underline",Icon:()=>d.jsx("u",{children:"U"}),onClick:()=>e.chain().focus().toggleUnderline().run()}),d.jsx(cn,{tooltip:"Heading 1",Icon:()=>d.jsx(d.Fragment,{children:"H1"}),onClick:()=>e.chain().focus().toggleHeading({level:1}).run()}),d.jsx(cn,{tooltip:"Heading 2",Icon:()=>d.jsx(d.Fragment,{children:"H2"}),onClick:()=>e.chain().focus().toggleHeading({level:2}).run()}),d.jsx(cn,{tooltip:"Heading 3",Icon:()=>d.jsx(d.Fragment,{children:"H3"}),onClick:()=>e.chain().focus().toggleHeading({level:3}).run()}),d.jsx(I_,{tooltip:"Color",color:e.getAttributes("textStyle").color,setColor:n=>{n?e.chain().focus().setColor(n).run():e.chain().focus().unsetColor().run()},Icon:()=>d.jsxs("div",{className:"tw-flex tw-flex-col tw-items-stretch",children:[d.jsx("div",{children:"A"}),d.jsx("div",{className:"tw-h-1 tw-w-6 tw-bg-gradient-to-r tw-from-green-400 tw-to-blue-500"})]})}),d.jsx(I_,{color:e.getAttributes("highlight").color,tooltip:"Highlight",setColor:n=>{{const r=e.chain().focus();n?r.setHighlight({color:n}).run():r.unsetHighlight().run()}},Icon:Sae}),d.jsx(r$,{editor:e}),d.jsx(aS,{editor:e}),d.jsx(lS,{editor:e}),d.jsx(cn,{tooltip:"Blockquote",Icon:()=>d.jsx(t$,{className:"tw-w-6 tw-h-6"}),onClick:()=>e.chain().focus().toggleBlockquote().run()}),d.jsx(cn,{tooltip:"Bullet list",Icon:()=>d.jsx(XR,{className:"tw-w-6 tw-h-6"}),onClick:()=>e.chain().focus().toggleBulletList().run()}),d.jsx(cn,{tooltip:"Number list",Icon:()=>d.jsx(e$,{className:"tw-w-6 tw-h-6"}),onClick:()=>e.chain().focus().toggleOrderedList().run()}),d.jsx(cn,{tooltip:"Monospace (usually for code)",Icon:()=>d.jsx(d.Fragment,{children:"<>"}),onClick:()=>e.chain().focus().toggleCode().run()}),d.jsx(cS,{editor:e})]}),d.jsx(i$,{editor:e})]})}const Cae=Object.freeze(Object.defineProperty({__proto__:null,default:RI},Symbol.toStringTag,{value:"Module"})),Tae=b.forwardRef(function(t,n){const{availableVariables:r}=ai(ui),i=t.query.replaceAll(/^ +/g,"").replaceAll(/ *}*$/g,""),o=b.useMemo(()=>r.filter(p=>p.toLowerCase().startsWith(i.toLowerCase())).slice(0,5),[r,i]),[s,a]=b.useState(0),l=p=>{const g=o[p];g&&t.command({id:g})},c=()=>{a((s+o.length-1)%o.length)},u=()=>{a((s+1)%o.length)},f=()=>{l(s)};b.useEffect(()=>a(0),[o]),b.useImperativeHandle(n,()=>({onKeyDown:({event:p})=>p.key==="ArrowUp"?(c(),!0):p.key==="ArrowDown"?(u(),!0):p.key==="Enter"?(f(),!0):!1}));const h="tw-bg-gray-700",m="tw-py-1 tw-px-2";return d.jsx("div",{className:"tw-bg-gray-900 tw-text-gray-300 tw-text-center tw-flex tw-flex-col",children:o.length>0?o.map((p,g)=>d.jsx("button",{onClick:()=>l(g),className:`tw-cursor-pointer ${m} hover:${h} ${s===g?h:""}`,children:p},g)):d.jsx("div",{className:`tw-italic ${m}`,children:"No results"})})}),$I={char:"{{",allowSpaces:!0,decorationClass:"tw-bg-green-200",command:({editor:e,range:t,props:n})=>{e.chain().focus().insertContentAt(t,[{type:"templateVar",attrs:{name:n.id}}]).run()},allow:({state:e,range:{from:t,to:n}})=>{const r=e.doc.textBetween(t,n," ");return!/[|}]/.test(r)},render:()=>{let e=null,t;return{onStart:n=>{e=new AI(Tae,{props:n,editor:n.editor}),n.clientRect&&(t=f3("body",{getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start",theme:"suggestion"}))},onUpdate(n){e==null||e.updateProps(n),n.clientRect&&(t==null||t[0].setProps({getReferenceClientRect:n.clientRect}))},onKeyDown(n){var r;return n.event.key==="Escape"?(t==null||t[0].hide(),!0):((r=e==null?void 0:e.ref)==null?void 0:r.onKeyDown(n))||!1},onExit(){t==null||t[0].destroy(),e==null||e.destroy()}}}},jae=Object.freeze(Object.defineProperty({__proto__:null,default:$I},Symbol.toStringTag,{value:"Module"}));function Eae(e){var t;const{char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:s}=e,a=aae(n),l=new RegExp(`\\s${a}$`),c=o?"^":"",u=r?new RegExp(`${c}${a}.*?(?=\\s${a}|$)`,"gm"):new RegExp(`${c}(?:^)?${a}[^\\s${a}]*`,"gm"),f=((t=s.nodeBefore)===null||t===void 0?void 0:t.isText)&&s.nodeBefore.text;if(!f)return null;const h=s.pos-f.length,m=Array.from(f.matchAll(u)).pop();if(!m||m.input===void 0||m.index===void 0)return null;const p=m.input.slice(Math.max(0,m.index-1),m.index),g=new RegExp(`^[${i==null?void 0:i.join("")}\0]?$`).test(p);if(i!==null&&!g)return null;const _=h+m.index;let x=_+m[0].length;return r&&l.test(f.slice(x-1,x+1))&&(m[0]+=" ",x+=1),_<s.pos&&x>=s.pos?{range:{from:_,to:x},query:m[0].slice(n.length),text:m[0]}:null}const kae=new pr("suggestion");function Oae({pluginKey:e=kae,editor:t,char:n="@",allowSpaces:r=!1,allowedPrefixes:i=[" "],startOfLine:o=!1,decorationTag:s="span",decorationClass:a="suggestion",command:l=()=>null,items:c=()=>[],render:u=()=>({}),allow:f=()=>!0,findSuggestionMatch:h=Eae}){let m;const p=u==null?void 0:u(),g=new Qn({key:e,view(){return{update:async(_,x)=>{var S,C,j,k,T,y,P;const A=(S=this.key)===null||S===void 0?void 0:S.getState(x),$=(C=this.key)===null||C===void 0?void 0:C.getState(_.state),L=A.active&&$.active&&A.range.from!==$.range.from,U=!A.active&&$.active,F=A.active&&!$.active,H=!U&&!F&&A.query!==$.query,q=U||L,re=H&&!L,G=F||L;if(!q&&!re&&!G)return;const Y=G&&!q?A:$,te=_.dom.querySelector(`[data-decoration-id="${Y.decorationId}"]`);m={editor:t,range:Y.range,query:Y.query,text:Y.text,items:[],command:ne=>l({editor:t,range:Y.range,props:ne}),decorationNode:te,clientRect:te?()=>{var ne;const{decorationId:B}=(ne=this.key)===null||ne===void 0?void 0:ne.getState(t.state),Q=_.dom.querySelector(`[data-decoration-id="${B}"]`);return(Q==null?void 0:Q.getBoundingClientRect())||null}:null},q&&((j=p==null?void 0:p.onBeforeStart)===null||j===void 0||j.call(p,m)),re&&((k=p==null?void 0:p.onBeforeUpdate)===null||k===void 0||k.call(p,m)),(re||q)&&(m.items=await c({editor:t,query:Y.query})),G&&((T=p==null?void 0:p.onExit)===null||T===void 0||T.call(p,m)),re&&((y=p==null?void 0:p.onUpdate)===null||y===void 0||y.call(p,m)),q&&((P=p==null?void 0:p.onStart)===null||P===void 0||P.call(p,m))},destroy:()=>{var _;m&&((_=p==null?void 0:p.onExit)===null||_===void 0||_.call(p,m))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(_,x,S,C){const{isEditable:j}=t,{composing:k}=t.view,{selection:T}=_,{empty:y,from:P}=T,A={...x};if(A.composing=k,j&&(y||t.view.composing)){(P<x.range.from||P>x.range.to)&&!k&&!x.composing&&(A.active=!1);const $=h({char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:T.$from}),L=`id_${Math.floor(Math.random()*4294967295)}`;$&&f({editor:t,state:C,range:$.range})?(A.active=!0,A.decorationId=x.decorationId?x.decorationId:L,A.range=$.range,A.query=$.query,A.text=$.text):A.active=!1}else A.active=!1;return A.active||(A.decorationId=null,A.range={from:0,to:0},A.query=null,A.text=null),A}},props:{handleKeyDown(_,x){var S;const{active:C,range:j}=g.getState(_.state);return C&&((S=p==null?void 0:p.onKeyDown)===null||S===void 0?void 0:S.call(p,{view:_,event:x,range:j}))||!1},decorations(_){const{active:x,range:S,decorationId:C}=g.getState(_);return x?An.create(_.doc,[Ar.inline(S.from,S.to,{nodeName:s,class:a,"data-decoration-id":C})]):null}}});return g}const Mae=new pr("mention"),Nae=Wn.create({name:"mention",addOptions(){return{HTMLAttributes:{},renderText({options:e,node:t}){var n;return`${e.suggestion.char}${(n=t.attrs.label)!==null&&n!==void 0?n:t.attrs.id}`},deleteTriggerWithBackspace:!1,renderHTML({options:e,node:t}){var n;return["span",on(this.HTMLAttributes,e.HTMLAttributes),`${e.suggestion.char}${(n=t.attrs.label)!==null&&n!==void 0?n:t.attrs.id}`]},suggestion:{char:"@",pluginKey:Mae,command:({editor:e,range:t,props:n})=>{var r,i;const o=e.view.state.selection.$to.nodeAfter;((r=o==null?void 0:o.text)===null||r===void 0?void 0:r.startsWith(" "))&&(t.to+=1),e.chain().focus().insertContentAt(t,[{type:this.name,attrs:n},{type:"text",text:" "}]).run(),(i=window.getSelection())===null||i===void 0||i.collapseToEnd()},allow:({state:e,range:t})=>{const n=e.doc.resolve(t.from),r=e.schema.nodes[this.name];return!!n.parent.type.contentMatch.matchType(r)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}}}},parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:e,HTMLAttributes:t}){if(this.options.renderLabel!==void 0)return console.warn("renderLabel is deprecated use renderText and renderHTML instead"),["span",on({"data-type":this.name},this.options.HTMLAttributes,t),this.options.renderLabel({options:this.options,node:e})];const n={...this.options};n.HTMLAttributes=on({"data-type":this.name},this.options.HTMLAttributes,t);const r=this.options.renderHTML({options:n,node:e});return typeof r=="string"?["span",on({"data-type":this.name},this.options.HTMLAttributes,t),r]:r},renderText({node:e}){return this.options.renderLabel!==void 0?(console.warn("renderLabel is deprecated use renderText and renderHTML instead"),this.options.renderLabel({options:this.options,node:e})):this.options.renderText({options:this.options,node:e})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:e,state:t})=>{let n=!1;const{selection:r}=t,{empty:i,anchor:o}=r;return i?(t.doc.nodesBetween(o-1,o,(s,a)=>{if(s.type.name===this.name)return n=!0,e.insertText(this.options.deleteTriggerWithBackspace?"":this.options.suggestion.char||"",a,a+s.nodeSize),!1}),n):!1})}},addProseMirrorPlugins(){return[Oae({editor:this.editor,...this.options.suggestion})]}}),Pae={control:()=>"tw-min-h-0 tw-text-sm",dropdownIndicator:()=>"tw-p-0",valueContainer:()=>"tw-py-0",menu:()=>"tw-text-black-90",option:({isFocused:e,isSelected:t})=>Se("tw-text-sm tw-py-1 tw-text-black",{"tw-bg-primary-light-5":e||t})};function Aae(e){const{availableVariables:t}=ai(ui),{name:n}=e.node.attrs,r=u=>{e.updateAttributes({name:u})},i=t.map(u=>({value:u,label:u})),o=t.includes(n),s=e.selected?"blue":o?"green":"red",a=`tw-inline-flex tw-items-center tw-rounded-md tw-bg-${s}-50 tw-px-1 tw-py-1 selection:tw-text-current tw-ring-1 tw-ring-inset tw-ring-${s}-600/20 tw-cursor-pointer`,l=d.jsxs(d.Fragment,{children:["{{"," "]}),c=d.jsxs(d.Fragment,{children:[" ","}}"]});return d.jsx(gae,{className:"react-component",as:"span",children:d.jsx("span",{onClick:u=>u.stopPropagation(),children:d.jsxs("span",{className:a,children:[l,e.selected?d.jsx(ul,{autoFocus:!o,defaultInputValue:n,defaultMenuIsOpen:!0,isMulti:!1,isClearable:!0,options:i,onChange:u=>r((u==null?void 0:u.value)||""),className:"tw-min-w-96",classNames:Pae}):n,c]})})})}const II=Wn.create({name:"templateVar",group:"inline",inline:!0,atom:!0,addAttributes(){return{name:{default:""}}},parseHTML(){return[{tag:"template-var"}]},renderHTML({HTMLAttributes:e,node:t}){return["template-var",on(e),`{{ ${t.attrs.name} }}`]},addNodeView(){return _ae(Aae,{contentDOMElementTag:"span"})},addInputRules(){return[OS({find:/({{ *([^|}]*?) *}})$/g,type:this.type,getAttributes:e=>({name:e[2]})})]},addPasteRules(){return[lae({find:/({{ *([^|}]*?) *}})/g,type:this.type,getAttributes:e=>({name:e[2]})})]}}),DI=Nae.configure({HTMLAttributes:{class:"tw-bg-green-300"},suggestion:$I}),Rae=Object.freeze(Object.defineProperty({__proto__:null,MentionTemplateVar:DI,default:II},Symbol.toStringTag,{value:"Module"})),$ae=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Iae=Wn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",on(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[OS({find:$ae,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),Dae=Zr.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",on(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Lae=Wn.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",on(this.options.HTMLAttributes,e),0]}}),Fae=Wn.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",on(this.options.HTMLAttributes,e),0]}}),zae=Wn.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",on(this.options.HTMLAttributes,e),0]}});var xx,wx;if(typeof WeakMap<"u"){let e=new WeakMap;xx=t=>e.get(t),wx=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;xx=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},wx=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var Ln=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let o=r+1,s=i+1;for(let a=1;o<this.width&&this.map[t+a]==n;a++)o++;for(let a=1;s<this.height&&this.map[t+this.width*a]==n;a++)s++;return{left:r,top:i,right:o,bottom:s}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:o,bottom:s}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:s==this.height)?null:this.map[r+this.width*(n<0?o-1:s)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:o}=this.findCell(e),{left:s,right:a,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,s),top:Math.min(i,l),right:Math.max(r,a),bottom:Math.max(o,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const o=r*this.width+i,s=this.map[o];n[s]||(n[s]=!0,!(i==e.left&&i&&this.map[o-1]==s||r==e.top&&r&&this.map[o-this.width]==s)&&t.push(s))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==e){let s=t+e*this.width;const a=(e+1)*this.width;for(;s<a&&this.map[s]<i;)s++;return s==a?o-1:this.map[s]}i=o}}static get(e){return xx(e)||wx(e,Bae(e))}};function Bae(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=Wae(e),n=e.childCount,r=[];let i=0,o=null;const s=[];for(let c=0,u=t*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const f=e.child(c);u++;for(let p=0;;p++){for(;i<r.length&&r[i]!=0;)i++;if(p==f.childCount)break;const g=f.child(p),{colspan:_,rowspan:x,colwidth:S}=g.attrs;for(let C=0;C<x;C++){if(C+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:x-C});break}const j=i+C*t;for(let k=0;k<_;k++){r[j+k]==0?r[j+k]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:_-k});const T=S&&S[k];if(T){const y=(j+k)%t*2,P=s[y];P==null||P!=T&&s[y+1]==1?(s[y]=T,s[y+1]=1):P==T&&s[y+1]++}}}i+=_,u+=g.nodeSize}const h=(c+1)*t;let m=0;for(;i<h;)r[i++]==0&&m++;m&&(o||(o=[])).push({type:"missing",row:c,n:m}),u++}const a=new Ln(t,n,r,o);let l=!1;for(let c=0;!l&&c<s.length;c+=2)s[c]!=null&&s[c+1]<n&&(l=!0);return l&&Hae(a,s,e),a}function Wae(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let o=0;if(n)for(let s=0;s<r;s++){const a=e.child(s);for(let l=0;l<a.childCount;l++){const c=a.child(l);s+c.attrs.rowspan>r&&(o+=c.attrs.colspan)}}for(let s=0;s<i.childCount;s++){const a=i.child(s);o+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}t==-1?t=o:t!=o&&(t=Math.max(t,o))}return t}function Hae(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const o=e.map[i];if(r[o])continue;r[o]=!0;const s=n.nodeAt(o);if(!s)throw new RangeError(`No cell with offset ${o} found`);let a=null;const l=s.attrs;for(let c=0;c<l.colspan;c++){const u=(i+c)%e.width,f=t[u*2];f!=null&&(!l.colwidth||l.colwidth[c]!=f)&&((a||(a=qae(l)))[c]=f)}a&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}function qae(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function Tr(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}var zs=new pr("selectingCells");function bu(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function Vae(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function Qi(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function ov(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=bu(t.$head)||Uae(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function Uae(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function Sx(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function Gae(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function MS(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function LI(e,t,n){const r=e.node(-1),i=Ln.get(r),o=e.start(-1),s=i.nextCell(e.pos-o,t,n);return s==null?null:e.node(0).resolve(o+s)}function vl(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function FI(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function Kae(e,t,n){const r=Tr(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var Sn=class Qo extends Nt{constructor(t,n=t){const r=t.node(-1),i=Ln.get(r),o=t.start(-1),s=i.rectBetween(t.pos-o,n.pos-o),a=t.node(0),l=i.cellsInRect(s).filter(u=>u!=n.pos-o);l.unshift(n.pos-o);const c=l.map(u=>{const f=r.nodeAt(u);if(!f)throw RangeError(`No cell with offset ${u} found`);const h=o+u+1;return new P$(a.resolve(h),a.resolve(h+f.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(Sx(r)&&Sx(i)&&MS(r,i)){const o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?Qo.rowSelection(r,i):o&&this.isColSelection()?Qo.colSelection(r,i):new Qo(r,i)}return Et.between(r,i)}content(){const t=this.$anchorCell.node(-1),n=Ln.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},s=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let u=l*n.width+i.left,f=i.left;f<i.right;f++,u++){const h=n.map[u];if(o[h])continue;o[h]=!0;const m=n.findCell(h);let p=t.nodeAt(h);if(!p)throw RangeError(`No cell with offset ${h} found`);const g=i.left-m.left,_=m.right-i.right;if(g>0||_>0){let x=p.attrs;if(g>0&&(x=vl(x,0,g)),_>0&&(x=vl(x,x.colspan-_,_)),m.left<i.left){if(p=p.type.createAndFill(x),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(x)}`)}else p=p.type.create(x,p.content)}if(m.top<i.top||m.bottom>i.bottom){const x={...p.attrs,rowspan:Math.min(m.bottom,i.bottom)-Math.max(m.top,i.top)};m.top<i.top?p=p.type.createAndFill(x):p=p.type.create(x,p.content)}c.push(p)}s.push(t.child(l).copy(Ge.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?t:s;return new it(Ge.from(a),1,1)}replace(t,n=it.empty){const r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){const{$from:a,$to:l}=i[s],c=t.mapping.slice(r);t.replace(c.map(a.pos),c.map(l.pos),s?it.empty:n)}const o=Nt.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);o&&t.setSelection(o)}replaceWith(t,n){this.replace(t,new it(Ge.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=Ln.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let s=0;s<o.length;s++)t(n.nodeAt(o[s]),i+o[s])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=Ln.get(r),o=t.start(-1),s=i.findCell(t.pos-o),a=i.findCell(n.pos-o),l=t.node(0);return s.top<=a.top?(s.top>0&&(t=l.resolve(o+i.map[s.left])),a.bottom<i.height&&(n=l.resolve(o+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(o+i.map[a.left])),s.bottom<i.height&&(t=l.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))),new Qo(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=Ln.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),o=n.colCount(this.$headCell.pos-r);if(Math.min(i,o)>0)return!1;const s=i+this.$anchorCell.nodeAfter.attrs.colspan,a=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,a)==n.width}eq(t){return t instanceof Qo&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=Ln.get(r),o=t.start(-1),s=i.findCell(t.pos-o),a=i.findCell(n.pos-o),l=t.node(0);return s.left<=a.left?(s.left>0&&(t=l.resolve(o+i.map[s.top*i.width])),a.right<i.width&&(n=l.resolve(o+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(o+i.map[a.top*i.width])),s.right<i.width&&(t=l.resolve(o+i.map[i.width*(s.top+1)-1]))),new Qo(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new Qo(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new Qo(t.resolve(n),t.resolve(r))}getBookmark(){return new Yae(this.$anchorCell.pos,this.$headCell.pos)}};Sn.prototype.visible=!1;Nt.jsonID("cell",Sn);var Yae=class zI{constructor(t,n){this.anchor=t,this.head=n}map(t){return new zI(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&MS(n,r)?new Sn(n,r):Nt.near(r,1)}};function Zae(e){if(!(e.selection instanceof Sn))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(Ar.node(r,r+n.nodeSize,{class:"selectedCell"}))}),An.create(e.doc,t)}function Qae({$from:e,$to:t}){if(e.pos==t.pos||e.pos<e.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let o=t.depth;o>=0&&!(t.before(o+1)>t.start(o));o--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function Jae({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&t.parentOffset===0}function Xae(e,t,n){const r=(t||e).selection,i=(t||e).doc;let o,s;if(r instanceof wt&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")o=Sn.create(i,r.from);else if(s=="row"){const a=i.resolve(r.from+1);o=Sn.rowSelection(a,a)}else if(!n){const a=Ln.get(r.node),l=r.from+1,c=l+a.map[a.width*a.height-1];o=Sn.create(i,l+1,c)}}else r instanceof Et&&Qae(r)?o=Et.create(i,r.from):r instanceof Et&&Jae(r)&&(o=Et.create(i,r.$from.start(),r.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}var ele=new pr("fix-tables");function BI(e,t,n,r){const i=e.childCount,o=t.childCount;e:for(let s=0,a=0;s<o;s++){const l=t.child(s);for(let c=a,u=Math.min(i,s+3);c<u;c++)if(e.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<i&&e.child(a).sameMarkup(l)?BI(e.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function WI(e,t){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=tle(e,i,o,n))};return t?t.doc!=e.doc&&BI(t.doc,e.doc,0,r):e.doc.descendants(r),n}function tle(e,t,n,r){const i=Ln.get(t);if(!i.problems)return r;r||(r=e.tr);const o=[];for(let l=0;l<i.height;l++)o.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const u=t.nodeAt(c.pos);if(!u)continue;const f=u.attrs;for(let h=0;h<f.rowspan;h++)o[c.row+h]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,vl(f,f.colspan-c.n,c.n))}else if(c.type=="missing")o[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=t.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=t.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}}let s,a;for(let l=0;l<o.length;l++)o[l]&&(s==null&&(s=l),a=l);for(let l=0,c=n+1;l<i.height;l++){const u=t.child(l),f=c+u.nodeSize,h=o[l];if(h>0){let m="cell";u.firstChild&&(m=u.firstChild.type.spec.tableRole);const p=[];for(let _=0;_<h;_++){const x=Tr(e.schema)[m].createAndFill();x&&p.push(x)}const g=(l==0||s==l-1)&&a==l?c+1:f-1;r.insert(r.mapping.map(g),p)}c=f}return r.setMeta(ele,{fixTables:!0})}function nle(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),o=i.type.spec.tableRole,s=i.type.schema,a=[];if(o=="row")for(let l=0;l<t.childCount;l++){let c=t.child(l).content;const u=l?0:Math.max(0,n-1),f=l<t.childCount-1?0:Math.max(0,r-1);(u||f)&&(c=Cx(Tr(s).row,new it(c,u,f)).content),a.push(c)}else if(o=="cell"||o=="header_cell")a.push(n||r?Cx(Tr(s).row,new it(t,n,r)).content:t);else return null;return rle(s,a)}function rle(e,t){const n=[];for(let i=0;i<t.length;i++){const o=t[i];for(let s=o.childCount-1;s>=0;s--){const{rowspan:a,colspan:l}=o.child(s).attrs;for(let c=i;c<i+a;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(Ge.empty),n[i]<r){const o=Tr(e).cell.createAndFill(),s=[];for(let a=n[i];a<r;a++)s.push(o);t[i]=t[i].append(Ge.from(s))}return{height:t.length,width:r,rows:t}}function Cx(e,t){const n=e.createAndFill();return new fS(n).replace(0,n.content.size,t).doc}function ile({width:e,height:t,rows:n},r,i){if(e!=r){const o=[],s=[];for(let a=0;a<n.length;a++){const l=n[a],c=[];for(let u=o[a]||0,f=0;u<r;f++){let h=l.child(f%l.childCount);u+h.attrs.colspan>r&&(h=h.type.createChecked(vl(h.attrs,h.attrs.colspan,u+h.attrs.colspan-r),h.content)),c.push(h),u+=h.attrs.colspan;for(let m=1;m<h.attrs.rowspan;m++)o[a+m]=(o[a+m]||0)+h.attrs.colspan}s.push(Ge.from(c))}n=s,e=r}if(t!=i){const o=[];for(let s=0,a=0;s<i;s++,a++){const l=[],c=n[a%t];for(let u=0;u<c.childCount;u++){let f=c.child(u);s+f.attrs.rowspan>i&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,i-f.attrs.rowspan)},f.content)),l.push(f)}o.push(Ge.from(l))}n=o,t=i}return{width:e,height:t,rows:n}}function ole(e,t,n,r,i,o,s){const a=e.doc.type.schema,l=Tr(a);let c,u;if(i>t.width)for(let f=0,h=0;f<t.height;f++){const m=n.child(f);h+=m.nodeSize;const p=[];let g;m.lastChild==null||m.lastChild.type==l.cell?g=c||(c=l.cell.createAndFill()):g=u||(u=l.header_cell.createAndFill());for(let _=t.width;_<i;_++)p.push(g);e.insert(e.mapping.slice(s).map(h-1+r),p)}if(o>t.height){const f=[];for(let p=0,g=(t.height-1)*t.width;p<Math.max(t.width,i);p++){const _=p>=t.width?!1:n.nodeAt(t.map[g+p]).type==l.header_cell;f.push(_?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const h=l.row.create(null,Ge.from(f)),m=[];for(let p=t.height;p<o;p++)m.push(h);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),m)}return!!(c||u)}function GE(e,t,n,r,i,o,s,a){if(s==0||s==t.height)return!1;let l=!1;for(let c=i;c<o;c++){const u=s*t.width+c,f=t.map[u];if(t.map[u-t.width]==f){l=!0;const h=n.nodeAt(f),{top:m,left:p}=t.findCell(f);e.setNodeMarkup(e.mapping.slice(a).map(f+r),null,{...h.attrs,rowspan:s-m}),e.insert(e.mapping.slice(a).map(t.positionAt(s,p,n)),h.type.createAndFill({...h.attrs,rowspan:m+h.attrs.rowspan-s})),c+=h.attrs.colspan-1}}return l}function KE(e,t,n,r,i,o,s,a){if(s==0||s==t.width)return!1;let l=!1;for(let c=i;c<o;c++){const u=c*t.width+s,f=t.map[u];if(t.map[u-1]==f){l=!0;const h=n.nodeAt(f),m=t.colCount(f),p=e.mapping.slice(a).map(f+r);e.setNodeMarkup(p,null,vl(h.attrs,s-m,h.attrs.colspan-(s-m))),e.insert(p+h.nodeSize,h.type.createAndFill(vl(h.attrs,0,s-m))),c+=h.attrs.rowspan-1}}return l}function YE(e,t,n,r,i){let o=n?e.doc.nodeAt(n-1):e.doc;if(!o)throw new Error("No table found");let s=Ln.get(o);const{top:a,left:l}=r,c=l+i.width,u=a+i.height,f=e.tr;let h=0;function m(){if(o=n?f.doc.nodeAt(n-1):f.doc,!o)throw new Error("No table found");s=Ln.get(o),h=f.mapping.maps.length}ole(f,s,o,n,c,u,h)&&m(),GE(f,s,o,n,l,c,a,h)&&m(),GE(f,s,o,n,l,c,u,h)&&m(),KE(f,s,o,n,a,u,l,h)&&m(),KE(f,s,o,n,a,u,c,h)&&m();for(let p=a;p<u;p++){const g=s.positionAt(p,l,o),_=s.positionAt(p,c,o);f.replace(f.mapping.slice(h).map(g+n),f.mapping.slice(h).map(_+n),new it(i.rows[p-a],0,0))}m(),f.setSelection(new Sn(f.doc.resolve(n+s.positionAt(a,l,o)),f.doc.resolve(n+s.positionAt(u-1,c-1,o)))),t(f)}var sle=wS({ArrowLeft:rp("horiz",-1),ArrowRight:rp("horiz",1),ArrowUp:rp("vert",-1),ArrowDown:rp("vert",1),"Shift-ArrowLeft":ip("horiz",-1),"Shift-ArrowRight":ip("horiz",1),"Shift-ArrowUp":ip("vert",-1),"Shift-ArrowDown":ip("vert",1),Backspace:op,"Mod-Backspace":op,Delete:op,"Mod-Delete":op});function qp(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function rp(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof Sn)return qp(n,r,Nt.near(o.$headCell,t));if(e!="horiz"&&!o.empty)return!1;const s=HI(i,e,t);if(s==null)return!1;if(e=="horiz")return qp(n,r,Nt.near(n.doc.resolve(o.head+t),t));{const a=n.doc.resolve(s),l=LI(a,e,t);let c;return l?c=Nt.near(l,1):t<0?c=Nt.near(n.doc.resolve(a.before(-1)),-1):c=Nt.near(n.doc.resolve(a.after(-1)),1),qp(n,r,c)}}}function ip(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let s;if(o instanceof Sn)s=o;else{const l=HI(i,e,t);if(l==null)return!1;s=new Sn(n.doc.resolve(l))}const a=LI(s.$headCell,e,t);return a?qp(n,r,new Sn(s.$anchorCell,a)):!1}}function op(e,t){const n=e.selection;if(!(n instanceof Sn))return!1;if(t){const r=e.tr,i=Tr(e.schema).cell.createAndFill().content;n.forEachCell((o,s)=>{o.content.eq(i)||r.replace(r.mapping.map(s+1),r.mapping.map(s+o.nodeSize-1),new it(i,0,0))}),r.docChanged&&t(r)}return!0}function ale(e,t){const n=e.state.doc,r=bu(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new Sn(r))),!0):!1}function lle(e,t,n){if(!Qi(e.state))return!1;let r=nle(n);const i=e.state.selection;if(i instanceof Sn){r||(r={width:1,height:1,rows:[Ge.from(Cx(Tr(e.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),a=Ln.get(o).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return r=ile(r,a.right-a.left,a.bottom-a.top),YE(e.state,e.dispatch,s,a,r),!0}else if(r){const o=ov(e.state),s=o.start(-1);return YE(e.state,e.dispatch,s,Ln.get(o.node(-1)).findCell(o.pos-s),r),!0}else return!1}function cle(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=ZE(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof Sn)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=bu(e.state.selection.$anchor))!=null&&((n=Ib(e,t))==null?void 0:n.pos)!=i.pos)o(i,t),t.preventDefault();else if(!r)return;function o(l,c){let u=Ib(e,c);const f=zs.getState(e.state)==null;if(!u||!MS(l,u))if(f)u=l;else return;const h=new Sn(l,u);if(f||!e.state.selection.eq(h)){const m=e.state.tr.setSelection(h);f&&m.setMeta(zs,l.pos),e.dispatch(m)}}function s(){e.root.removeEventListener("mouseup",s),e.root.removeEventListener("dragstart",s),e.root.removeEventListener("mousemove",a),zs.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(zs,-1))}function a(l){const c=l,u=zs.getState(e.state);let f;if(u!=null)f=e.state.doc.resolve(u);else if(ZE(e,c.target)!=r&&(f=Ib(e,t),!f))return s();f&&o(f,c)}e.root.addEventListener("mouseup",s),e.root.addEventListener("dragstart",s),e.root.addEventListener("mousemove",a)}function HI(e,t,n){if(!(e.state.selection instanceof Et))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const a=r.before(i),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?a:null}}return null}function ZE(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function Ib(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?bu(e.state.doc.resolve(n.pos)):null}var ule=class{constructor(t,n){this.node=t,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Tx(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,Tx(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function Tx(e,t,n,r,i,o){var s;let a=0,l=!0,c=t.firstChild;const u=e.firstChild;if(u){for(let f=0,h=0;f<u.childCount;f++){const{colspan:m,colwidth:p}=u.child(f).attrs;for(let g=0;g<m;g++,h++){const _=i==h?o:p&&p[g],x=_?_+"px":"";a+=_||r,_||(l=!1),c?(c.style.width!=x&&(c.style.width=x),c=c.nextSibling):t.appendChild(document.createElement("col")).style.width=x}}for(;c;){const f=c.nextSibling;(s=c.parentNode)==null||s.removeChild(c),c=f}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}var Ei=new pr("tableColumnResizing");function dle({handleWidth:e=5,cellMinWidth:t=25,View:n=ule,lastColumnResizable:r=!0}={}){const i=new Qn({key:Ei,state:{init(o,s){return i.spec.props.nodeViews[Tr(s.schema).table.name]=(a,l)=>new n(a,t,l),new fle(-1,!1)},apply(o,s){return s.apply(o)}},props:{attributes:o=>{const s=Ei.getState(o);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,s)=>{hle(o,s,e,t,r)},mouseleave:o=>{ple(o)},mousedown:(o,s)=>{mle(o,s,t)}},decorations:o=>{const s=Ei.getState(o);if(s&&s.activeHandle>-1)return xle(o,s.activeHandle)},nodeViews:{}}});return i}var fle=class Vp{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(Ei);if(r&&r.setHandle!=null)return new Vp(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Vp(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return Sx(t.doc.resolve(i))||(i=-1),new Vp(i,n.dragging)}return n}};function hle(e,t,n,r,i){const o=Ei.getState(e.state);if(o&&!o.dragging){const s=vle(t.target);let a=-1;if(s){const{left:l,right:c}=s.getBoundingClientRect();t.clientX-l<=n?a=QE(e,t,"left",n):c-t.clientX<=n&&(a=QE(e,t,"right",n))}if(a!=o.activeHandle){if(!i&&a!==-1){const l=e.state.doc.resolve(a),c=l.node(-1),u=Ln.get(c),f=l.start(-1);if(u.colCount(l.pos-f)+l.nodeAfter.attrs.colspan-1==u.width-1)return}qI(e,a)}}}function ple(e){const t=Ei.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&qI(e,-1)}function mle(e,t,n){var r;const i=(r=e.dom.ownerDocument.defaultView)!=null?r:window,o=Ei.getState(e.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const s=e.state.doc.nodeAt(o.activeHandle),a=gle(e,o.activeHandle,s.attrs);e.dispatch(e.state.tr.setMeta(Ei,{setDragging:{startX:t.clientX,startWidth:a}}));function l(u){i.removeEventListener("mouseup",l),i.removeEventListener("mousemove",c);const f=Ei.getState(e.state);f!=null&&f.dragging&&(ble(e,f.activeHandle,JE(f.dragging,u,n)),e.dispatch(e.state.tr.setMeta(Ei,{setDragging:null})))}function c(u){if(!u.which)return l(u);const f=Ei.getState(e.state);if(f&&f.dragging){const h=JE(f.dragging,u,n);yle(e,f.activeHandle,h,n)}}return i.addEventListener("mouseup",l),i.addEventListener("mousemove",c),t.preventDefault(),!0}function gle(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=e.domAtPos(t);let a=o.node.childNodes[o.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(a-=r[c],l--);return a/l}function vle(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function QE(e,t,n,r){const i=n=="right"?-r:r,o=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!o)return-1;const{pos:s}=o,a=bu(e.state.doc.resolve(s));if(!a)return-1;if(n=="right")return a.pos;const l=Ln.get(a.node(-1)),c=a.start(-1),u=l.map.indexOf(a.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function JE(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function qI(e,t){e.dispatch(e.state.tr.setMeta(Ei,{setHandle:t}))}function ble(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),o=Ln.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let c=0;c<o.height;c++){const u=c*o.width+a;if(c&&o.map[u]==o.map[u-o.width])continue;const f=o.map[u],h=i.nodeAt(f).attrs,m=h.colspan==1?0:a-o.colCount(f);if(h.colwidth&&h.colwidth[m]==n)continue;const p=h.colwidth?h.colwidth.slice():_le(h.colspan);p[m]=n,l.setNodeMarkup(s+f,null,{...h,colwidth:p})}l.docChanged&&e.dispatch(l)}function yle(e,t,n,r){const i=e.state.doc.resolve(t),o=i.node(-1),s=i.start(-1),a=Ln.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;let l=e.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&Tx(o,l.firstChild,l,r,a,n)}function _le(e){return Array(e).fill(0)}function xle(e,t){const n=[],r=e.doc.resolve(t),i=r.node(-1);if(!i)return An.empty;const o=Ln.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan;for(let l=0;l<o.height;l++){const c=a+l*o.width-1;if((a==o.width||o.map[c]!=o.map[c+1])&&(l==0||o.map[c]!=o.map[c-o.width])){const u=o.map[c],f=s+u+i.nodeAt(u).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",n.push(Ar.widget(f,h))}}return An.create(e.doc,n)}function Lo(e){const t=e.selection,n=ov(e),r=n.node(-1),i=n.start(-1),o=Ln.get(r);return{...t instanceof Sn?o.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function VI(e,{map:t,tableStart:n,table:r},i){let o=i>0?-1:0;Kae(t,r,i+o)&&(o=i==0||i==t.width?null:0);for(let s=0;s<t.height;s++){const a=s*t.width+i;if(i>0&&i<t.width&&t.map[a-1]==t.map[a]){const l=t.map[a],c=r.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),null,FI(c.attrs,i-t.colCount(l))),s+=c.attrs.rowspan-1}else{const l=o==null?Tr(r.type.schema).cell:r.nodeAt(t.map[a+o]).type,c=t.positionAt(s,i,r);e.insert(e.mapping.map(n+c),l.createAndFill())}}return e}function wle(e,t){if(!Qi(e))return!1;if(t){const n=Lo(e);t(VI(e.tr,n,n.left))}return!0}function Sle(e,t){if(!Qi(e))return!1;if(t){const n=Lo(e);t(VI(e.tr,n,n.right))}return!0}function Cle(e,{map:t,table:n,tableStart:r},i){const o=e.mapping.maps.length;for(let s=0;s<t.height;){const a=s*t.width+i,l=t.map[a],c=n.nodeAt(l),u=c.attrs;if(i>0&&t.map[a-1]==l||i<t.width-1&&t.map[a+1]==l)e.setNodeMarkup(e.mapping.slice(o).map(r+l),null,vl(u,i-t.colCount(l)));else{const f=e.mapping.slice(o).map(r+l);e.delete(f,f+c.nodeSize)}s+=u.rowspan}}function Tle(e,t){if(!Qi(e))return!1;if(t){const n=Lo(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;Cle(r,n,i),i!=n.left;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=Ln.get(o)}t(r)}return!0}function jle(e,t,n){var r;const i=Tr(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if(((r=t.nodeAt(e.map[o+n*e.width]))==null?void 0:r.type)!=i)return!1;return!0}function UI(e,{map:t,tableStart:n,table:r},i){var o;let s=n;for(let c=0;c<i;c++)s+=r.child(c).nodeSize;const a=[];let l=i>0?-1:0;jle(t,r,i+l)&&(l=i==0||i==t.height?null:0);for(let c=0,u=t.width*i;c<t.width;c++,u++)if(i>0&&i<t.height&&t.map[u]==t.map[u-t.width]){const f=t.map[u],h=r.nodeAt(f).attrs;e.setNodeMarkup(n+f,null,{...h,rowspan:h.rowspan+1}),c+=h.colspan-1}else{const f=l==null?Tr(r.type.schema).cell:(o=r.nodeAt(t.map[u+l*t.width]))==null?void 0:o.type,h=f==null?void 0:f.createAndFill();h&&a.push(h)}return e.insert(s,Tr(r.type.schema).row.create(null,a)),e}function Ele(e,t){if(!Qi(e))return!1;if(t){const n=Lo(e);t(UI(e.tr,n,n.top))}return!0}function kle(e,t){if(!Qi(e))return!1;if(t){const n=Lo(e);t(UI(e.tr,n,n.bottom))}return!0}function Ole(e,{map:t,table:n,tableStart:r},i){let o=0;for(let c=0;c<i;c++)o+=n.child(c).nodeSize;const s=o+n.child(i).nodeSize,a=e.mapping.maps.length;e.delete(o+r,s+r);const l=new Set;for(let c=0,u=i*t.width;c<t.width;c++,u++){const f=t.map[u];if(!l.has(f)){if(l.add(f),i>0&&f==t.map[u-t.width]){const h=n.nodeAt(f).attrs;e.setNodeMarkup(e.mapping.slice(a).map(f+r),null,{...h,rowspan:h.rowspan-1}),c+=h.colspan-1}else if(i<t.height&&f==t.map[u+t.width]){const h=n.nodeAt(f),m=h.attrs,p=h.type.create({...m,rowspan:h.attrs.rowspan-1},h.content),g=t.positionAt(i+1,c,n);e.insert(e.mapping.slice(a).map(r+g),p),c+=m.colspan-1}}}}function Mle(e,t){if(!Qi(e))return!1;if(t){const n=Lo(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;Ole(r,n,i),i!=n.top;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=Ln.get(n.table)}t(r)}return!0}function XE(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function Nle({width:e,height:t,map:n},r){let i=r.top*e+r.left,o=i,s=(r.bottom-1)*e+r.left,a=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[o]==n[o-1]||r.right<e&&n[a]==n[a+1])return!0;o+=e,a+=e}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[s]==n[s+e])return!0;i++,s++}return!1}function ek(e,t){const n=e.selection;if(!(n instanceof Sn)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Lo(e),{map:i}=r;if(Nle(i,r))return!1;if(t){const o=e.tr,s={};let a=Ge.empty,l,c;for(let u=r.top;u<r.bottom;u++)for(let f=r.left;f<r.right;f++){const h=i.map[u*i.width+f],m=r.table.nodeAt(h);if(!(s[h]||!m))if(s[h]=!0,l==null)l=h,c=m;else{XE(m)||(a=a.append(m.content));const p=o.mapping.map(h+r.tableStart);o.delete(p,p+m.nodeSize)}}if(l==null||c==null)return!0;if(o.setNodeMarkup(l+r.tableStart,null,{...FI(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),a.size){const u=l+1+c.content.size,f=XE(c)?l+1:u;o.replaceWith(f+r.tableStart,u+r.tableStart,a)}o.setSelection(new Sn(o.doc.resolve(l+r.tableStart))),t(o)}return!0}function tk(e,t){const n=Tr(e.schema);return Ple(({node:r})=>n[r.type.spec.tableRole])(e,t)}function Ple(e){return(t,n)=>{var r;const i=t.selection;let o,s;if(i instanceof Sn){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,s=i.$anchorCell.pos}else{if(o=Vae(i.$from),!o)return!1;s=(r=bu(i.$from))==null?void 0:r.pos}if(o==null||s==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){let a=o.attrs;const l=[],c=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const u=Lo(t),f=t.tr;for(let m=0;m<u.right-u.left;m++)l.push(c?{...a,colwidth:c&&c[m]?[c[m]]:null}:a);let h;for(let m=u.top;m<u.bottom;m++){let p=u.map.positionAt(m,u.left,u.table);m==u.top&&(p+=o.nodeSize);for(let g=u.left,_=0;g<u.right;g++,_++)g==u.left&&m==u.top||f.insert(h=f.mapping.map(p+u.tableStart,1),e({node:o,row:m,col:g}).createAndFill(l[_]))}f.setNodeMarkup(s,e({node:o,row:u.top,col:u.left}),l[0]),i instanceof Sn&&f.setSelection(new Sn(f.doc.resolve(i.$anchorCell.pos),h?f.doc.resolve(h):void 0)),n(f)}return!0}}function Ale(e,t){return function(n,r){if(!Qi(n))return!1;const i=ov(n);if(i.nodeAfter.attrs[e]===t)return!1;if(r){const o=n.tr;n.selection instanceof Sn?n.selection.forEachCell((s,a)=>{s.attrs[e]!==t&&o.setNodeMarkup(a,null,{...s.attrs,[e]:t})}):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[e]:t}),r(o)}return!0}}function Rle(e){return function(t,n){if(!Qi(t))return!1;if(n){const r=Tr(t.schema),i=Lo(t),o=t.tr,s=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=s.map(l=>i.table.nodeAt(l));for(let l=0;l<s.length;l++)a[l].type==r.header_cell&&o.setNodeMarkup(i.tableStart+s[l],r.cell,a[l].attrs);if(o.steps.length==0)for(let l=0;l<s.length;l++)o.setNodeMarkup(i.tableStart+s[l],r.header_cell,a[l].attrs);n(o)}return!0}}function nk(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const o=t.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function Tf(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?Rle(e):function(n,r){if(!Qi(n))return!1;if(r){const i=Tr(n.schema),o=Lo(n),s=n.tr,a=nk("row",o,i),l=nk("column",o,i),u=(e==="column"?a:e==="row"?l:!1)?1:0,f=e=="column"?{left:0,top:u,right:1,bottom:o.map.height}:e=="row"?{left:u,top:0,right:o.map.width,bottom:1}:o,h=e=="column"?l?i.cell:i.header_cell:e=="row"?a?i.cell:i.header_cell:i.cell;o.map.cellsInRect(f).forEach(m=>{const p=m+o.tableStart,g=s.doc.nodeAt(p);g&&s.setNodeMarkup(p,h,g.attrs)}),r(s)}return!0}}Tf("row",{useDeprecatedLogic:!0});Tf("column",{useDeprecatedLogic:!0});var $le=Tf("cell",{useDeprecatedLogic:!0});function Ile(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,i=e.before();r>=0;r--){const o=e.node(-1).child(r),s=o.lastChild;if(s)return i-1-s.nodeSize;i-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),i=e.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function rk(e){return function(t,n){if(!Qi(t))return!1;const r=Ile(ov(t),e);if(r==null)return!1;if(n){const i=t.doc.resolve(r);n(t.tr.setSelection(Et.between(i,Gae(i))).scrollIntoView())}return!0}}function Dle(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function Lle({allowTableNodeSelection:e=!1}={}){return new Qn({key:zs,state:{init(){return null},apply(t,n){const r=t.getMeta(zs);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:o}=t.mapping.mapResult(n);return i?null:o}},props:{decorations:Zae,handleDOMEvents:{mousedown:cle},createSelectionBetween(t){return zs.getState(t.state)!=null?t.state.selection:null},handleTripleClick:ale,handleKeyDown:sle,handlePaste:lle},appendTransaction(t,n,r){return Xae(r,WI(r,n),e)}})}function ik(e,t,n,r,i,o){let s=0,a=!0,l=t.firstChild;const c=e.firstChild;for(let u=0,f=0;u<c.childCount;u+=1){const{colspan:h,colwidth:m}=c.child(u).attrs;for(let p=0;p<h;p+=1,f+=1){const g=i===f?o:m&&m[p],_=g?`${g}px`:"";s+=g||r,g||(a=!1),l?(l.style.width!==_&&(l.style.width=_),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=_}}for(;l;){const u=l.nextSibling;l.parentNode.removeChild(l),l=u}a?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}class Fle{constructor(t,n){this.node=t,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),ik(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,ik(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type==="attributes"&&(t.target===this.table||this.colgroup.contains(t.target))}}function ok(e,t){return t?e.createChecked(null,t):e.createAndFill()}function zle(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function Ble(e,t,n,r,i){const o=zle(e),s=[],a=[];for(let c=0;c<n;c+=1){const u=ok(o.cell,i);if(u&&a.push(u),r){const f=ok(o.header_cell,i);f&&s.push(f)}}const l=[];for(let c=0;c<t;c+=1)l.push(o.row.createChecked(null,r&&c===0?s:a));return o.table.createChecked(null,l)}function Wle(e){return e instanceof Sn}const sp=({editor:e})=>{const{selection:t}=e.state;if(!Wle(t))return!1;let n=0;const r=OI(t.ranges[0].$from,o=>o.type.name==="table");return r==null||r.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},Hle=Wn.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:Fle,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:e}){return["table",on(this.options.HTMLAttributes,e),["tbody",0]]},addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:o})=>{const s=Ble(o.schema,e,t,n);if(i){const a=r.selection.anchor+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(Et.near(r.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>wle(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>Sle(e,t),deleteColumn:()=>({state:e,dispatch:t})=>Tle(e,t),addRowBefore:()=>({state:e,dispatch:t})=>Ele(e,t),addRowAfter:()=>({state:e,dispatch:t})=>kle(e,t),deleteRow:()=>({state:e,dispatch:t})=>Mle(e,t),deleteTable:()=>({state:e,dispatch:t})=>Dle(e,t),mergeCells:()=>({state:e,dispatch:t})=>ek(e,t),splitCell:()=>({state:e,dispatch:t})=>tk(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>Tf("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>Tf("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>$le(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>ek(e,t)?!0:tk(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>Ale(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>rk(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>rk(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&WI(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const r=Sn.create(t.doc,e.anchorCell,e.headCell);t.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:sp,"Mod-Backspace":sp,Delete:sp,"Mod-Delete":sp}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[dle({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Lle({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:qt(pt(e,"tableRole",t))}}}),qle=Zr.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",on(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=oh(e,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:t.unsetMark(this.name)}}}}),Vle=Fr.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return(t=e.style.color)===null||t===void 0?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Ule=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,Gle=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,Kle=Zr.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",on(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[gl({find:Ule,type:this.type})]},addPasteRules(){return[na({find:Gle,type:this.type})]}}),Yle=/^\s*>\s$/,Zle=Wn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",on(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Cf({find:Yle,type:this.type})]}}),Qle=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,Jle=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,Xle=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,ece=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,tce=Zr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",on(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[gl({find:Qle,type:this.type}),gl({find:Xle,type:this.type})]},addPasteRules(){return[na({find:Jle,type:this.type}),na({find:ece,type:this.type})]}}),nce=Wn.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",on(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),sk=Zr.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",on(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=oh(e,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:t.unsetMark(this.name)}}}}),ak=/^\s*([-+*])\s$/,rce=Wn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",on(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(nce.name,this.editor.getAttributes(sk.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Cf({find:ak,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Cf({find:ak,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(sk.name),editor:this.editor})),[e]}}),ice=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,oce=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,sce=Zr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",on(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[gl({find:ice,type:this.type})]},addPasteRules(){return[na({find:oce,type:this.type})]}}),ace=/^```([a-z]+)?[\s\n]$/,lce=/^~~~([a-z]+)?[\s\n]$/,cce=Wn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,o=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",on(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:e.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0||r.nodeAt(a)?!1:e.commands.exitCode()}}},addInputRules(){return[bx({find:ace,type:this.type,getAttributes:e=>({language:e[1]})}),bx({find:lce,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Qn({key:new pr("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=e.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(Et.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),uce=Wn.create({name:"doc",topNode:!0,content:"block+"});function dce(e={}){return new Qn({view(t){return new fce(t,e)}})}class fce{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return t.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r;if(n){let a=t.nodeBefore,l=t.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),f=a?u.bottom:u.top;a&&l&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let a=i.getBoundingClientRect();o=a.left-i.scrollLeft,s=a.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=E$(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}const hce=Fr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dce(this.options)]}});class Dn extends Nt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Dn.valid(r)?new Dn(r):Nt.near(r)}content(){return it.empty}eq(t){return t instanceof Dn&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Dn(t.resolve(n.pos))}getBookmark(){return new NS(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!pce(t)||!mce(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Dn.valid(t))return t;let i=t.pos,o=null;for(let s=t.depth;;s--){let a=t.node(s);if(n>0?t.indexAfter(s)<a.childCount:t.index(s)>0){o=a.child(n>0?t.indexAfter(s):t.index(s)-1);break}else if(s==0)return null;i+=n;let l=t.doc.resolve(i);if(Dn.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!wt.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=t.doc.resolve(i);if(Dn.valid(a))return a}return null}}}Dn.prototype.visible=!1;Dn.findFrom=Dn.findGapCursorFrom;Nt.jsonID("gapcursor",Dn);class NS{constructor(t){this.pos=t}map(t){return new NS(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Dn.valid(n)?new Dn(n):Nt.near(n)}}function pce(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function mce(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function gce(){return new Qn({props:{decorations:_ce,createSelectionBetween(e,t,n){return t.pos==n.pos&&Dn.valid(n)?new Dn(n):null},handleClick:bce,handleKeyDown:vce,handleDOMEvents:{beforeinput:yce}}})}const vce=wS({ArrowLeft:ap("horiz",-1),ArrowRight:ap("horiz",1),ArrowUp:ap("vert",-1),ArrowDown:ap("vert",1)});function ap(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){let s=r.selection,a=t>0?s.$to:s.$from,l=s.empty;if(s instanceof Et){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let c=Dn.findGapCursorFrom(a,t,l);return c?(i&&i(r.tr.setSelection(new Dn(c))),!0):!1}}function bce(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Dn.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&wt.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Dn(r))),!0)}function yce(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Dn))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Ge.empty;for(let s=r.length-1;s>=0;s--)i=Ge.from(r[s].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new it(i,0,0));return o.setSelection(Et.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function _ce(e){if(!(e.selection instanceof Dn))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",An.create(e.doc,[Ar.widget(e.selection.head,t,{key:"gapcursor"})])}const xce=Fr.create({name:"gapCursor",addProseMirrorPlugins(){return[gce()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=qt(pt(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}}),wce=Wn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",on(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&s){const f=l.filter(h=>a.includes(h.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Sce=Wn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,on(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>bx({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});var Om=200,rr=function(){};rr.prototype.append=function(t){return t.length?(t=rr.from(t),!this.length&&t||t.length<Om&&this.leafAppend(t)||this.length<Om&&t.leafPrepend(this)||this.appendInner(t)):this};rr.prototype.prepend=function(t){return t.length?rr.from(t).append(this):this};rr.prototype.appendInner=function(t){return new Cce(this,t)};rr.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?rr.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};rr.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};rr.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};rr.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(t(o,s))},n,r),i};rr.from=function(t){return t instanceof rr?t:t&&t.length?new GI(t):rr.empty};var GI=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=Om)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=Om)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(rr);rr.empty=new GI([]);var Cce=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(rr);const Tce=500;class Wi{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=t.tr,a,l,c=[],u=[];return this.items.forEach((f,h)=>{if(!f.step){i||(i=this.remapping(r,h+1),o=i.maps.length),o--,u.push(f);return}if(i){u.push(new ks(f.map));let m=f.step.map(i.slice(o)),p;m&&s.maybeStep(m).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],c.push(new ks(p,void 0,void 0,c.length+u.length))),o--,p&&i.appendMap(p,o)}else s.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(o)):f.selection,l=new Wi(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(t,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<t.steps.length;u++){let f=t.steps[u].invert(t.docs[u]),h=new ks(t.mapping.maps[u],f,n),m;(m=l&&l.merge(h))&&(h=m,u?o.pop():a=a.slice(0,a.length-1)),o.push(h),n&&(s++,n=void 0),i||(l=h)}let c=s-r.depth;return c>Ece&&(a=jce(a,c),s-=c),new Wi(a.append(o),s)}remapping(t,n){let r=new Mc;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},t,n),r}addMaps(t){return this.eventCount==0?this:new Wi(this.items.append(t.map(n=>new ks(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,s=t.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=n;this.items.forEach(h=>{let m=o.getMirror(--l);if(m==null)return;s=Math.min(s,m);let p=o.maps[m];if(h.step){let g=t.steps[m].invert(t.docs[m]),_=h.selection&&h.selection.map(o.slice(l+1,m));_&&a++,r.push(new ks(p,g,_))}else r.push(new ks(p))},i);let c=[];for(let h=n;h<s;h++)c.push(new ks(o.maps[h]));let u=this.items.slice(0,i).append(c).append(r),f=new Wi(u,a);return f.emptyItemCount()>Tce&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=t)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=s.selection&&s.selection.map(n.slice(r));u&&o++;let f=new ks(c.invert(),l,u),h,m=i.length-1;(h=i.length&&i[m].merge(f))?i[m]=h:i.push(f)}}else s.map&&r--},this.items.length,0),new Wi(rr.from(i.reverse()),o)}}Wi.empty=new Wi(rr.empty,0);function jce(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}let ks=class KI{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new KI(n.getMap().invert(),n,this.selection)}}};class Ds{constructor(t,n,r,i,o){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const Ece=20;function kce(e,t,n,r){let i=n.getMeta(ol),o;if(i)return i.historyState;n.getMeta(Nce)&&(e=new Ds(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta(ol))return s.getMeta(ol).redo?new Ds(e.done.addTransform(n,void 0,r,Up(t)),e.undone,lk(n.mapping.maps[n.steps.length-1]),e.prevTime,e.prevComposition):new Ds(e.done,e.undone.addTransform(n,void 0,r,Up(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!s&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!Oce(n,e.prevRanges)),c=s?Db(e.prevRanges,n.mapping):lk(n.mapping.maps[n.steps.length-1]);return new Ds(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,Up(t)),Wi.empty,c,n.time,a??e.prevComposition)}else return(o=n.getMeta("rebased"))?new Ds(e.done.rebased(n,o),e.undone.rebased(n,o),Db(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Ds(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Db(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function Oce(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<t.length;o+=2)r<=t[o+1]&&i>=t[o]&&(n=!0)}),n}function lk(e){let t=[];return e.forEach((n,r,i,o)=>t.push(i,o)),t}function Db(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function Mce(e,t,n){let r=Up(t),i=ol.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),i,r),l=new Ds(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(ol,{redo:n,historyState:l})}let Lb=!1,ck=null;function Up(e){let t=e.plugins;if(ck!=t){Lb=!1,ck=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Lb=!0;break}}return Lb}const ol=new pr("history"),Nce=new pr("closeHistory");function Pce(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Qn({key:ol,state:{init(){return new Ds(Wi.empty,Wi.empty,null,0,-1)},apply(t,n,r){return kce(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?ZI:r=="historyRedo"?QI:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function YI(e,t){return(n,r)=>{let i=ol.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let o=Mce(i,n,e);o&&r(t?o.scrollIntoView():o)}return!0}}const ZI=YI(!1,!0),QI=YI(!0,!0),Ace=Fr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>ZI(e,t),redo:()=>({state:e,dispatch:t})=>QI(e,t)}},addProseMirrorPlugins(){return[Pce(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Rce=Wn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",on(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e})=>e().insertContent({type:this.name}).command(({tr:t,dispatch:n})=>{var r;if(n){const{$to:i}=t.selection,o=i.end();if(i.nodeAfter)t.setSelection(Et.create(t.doc,i.pos));else{const s=(r=i.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();s&&(t.insert(o,s),t.setSelection(Et.create(t.doc,o)))}t.scrollIntoView()}return!0}).run()}},addInputRules(){return[OS({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),$ce=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,Ice=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,Dce=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,Lce=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,Fce=Zr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",on(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[gl({find:$ce,type:this.type}),gl({find:Dce,type:this.type})]},addPasteRules(){return[na({find:Ice,type:this.type}),na({find:Lce,type:this.type})]}}),zce=Wn.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",on(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Bce=Wn.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",on(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),uk=Zr.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",on(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=oh(e,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:t.unsetMark(this.name)}}}}),dk=/^(\d+)\.\s$/,Wce=Wn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",on(this.options.HTMLAttributes,n),0]:["ol",on(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Bce.name,this.editor.getAttributes(uk.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Cf({find:dk,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Cf({find:dk,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(uk.name)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),Hce=Wn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",on(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),qce=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,Vce=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,Uce=Zr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",on(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[gl({find:qce,type:this.type})]},addPasteRules(){return[na({find:Vce,type:this.type})]}}),Gce=Wn.create({name:"text",group:"inline"}),Kce=Fr.create({name:"starterKit",addExtensions(){var e,t,n,r,i,o,s,a,l,c,u,f,h,m,p,g,_,x;const S=[];return this.options.blockquote!==!1&&S.push(Zle.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bold!==!1&&S.push(tce.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.bulletList!==!1&&S.push(rce.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&S.push(sce.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&S.push(cce.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&S.push(uce.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&S.push(hce.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&S.push(xce.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&S.push(wce.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&S.push(Sce.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&S.push(Ace.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&S.push(Rce.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&S.push(Fce.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&S.push(zce.configure((m=this.options)===null||m===void 0?void 0:m.listItem)),this.options.orderedList!==!1&&S.push(Wce.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&S.push(Hce.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&S.push(Uce.configure((_=this.options)===null||_===void 0?void 0:_.strike)),this.options.text!==!1&&S.push(Gce.configure((x=this.options)===null||x===void 0?void 0:x.text)),S}}),Yce="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Zce="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Kc=(e,t)=>{for(const n in t)e[n]=t[n];return e},jx="numeric",Ex="ascii",kx="alpha",Gp="asciinumeric",lp="alphanumeric",Ox="domain",JI="emoji",Qce="scheme",Jce="slashscheme",fk="whitespace";function Xce(e,t){return e in t||(t[e]=[]),t[e]}function Ha(e,t,n){t[jx]&&(t[Gp]=!0,t[lp]=!0),t[Ex]&&(t[Gp]=!0,t[kx]=!0),t[Gp]&&(t[lp]=!0),t[kx]&&(t[lp]=!0),t[lp]&&(t[Ox]=!0),t[JI]&&(t[Ox]=!0);for(const r in t){const i=Xce(r,n);i.indexOf(e)<0&&i.push(e)}}function eue(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Ur(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}Ur.groups={};Ur.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],o=t.jr[r][1];if(o&&i.test(e))return o}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||Ur.groups;let i;return t&&t.j?i=t:(i=new Ur(t),n&&r&&Ha(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const o=e.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(e[s]);return i.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||Ur.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let s,a=i.go(e);if(a?(s=new Ur,Kc(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new Ur,o){if(r)if(s.t&&typeof s.t=="string"){const l=Kc(eue(s.t,r),n);Ha(o,l,r)}else n&&Ha(o,n,r);s.t=o}return i.j[e]=s,s}};const _t=(e,t,n,r,i)=>e.ta(t,n,r,i),Si=(e,t,n,r,i)=>e.tr(t,n,r,i),hk=(e,t,n,r,i)=>e.ts(t,n,r,i),Xe=(e,t,n,r,i)=>e.tt(t,n,r,i),Jo="WORD",Mx="UWORD",jf="LOCALHOST",Nx="TLD",Px="UTLD",Kp="SCHEME",pc="SLASH_SCHEME",PS="NUM",XI="WS",AS="NL",_c="OPENBRACE",Jd="OPENBRACKET",Xd="OPENANGLEBRACKET",ef="OPENPAREN",Aa="CLOSEBRACE",xc="CLOSEBRACKET",wc="CLOSEANGLEBRACKET",Ra="CLOSEPAREN",Mm="AMPERSAND",Nm="APOSTROPHE",Pm="ASTERISK",Ls="AT",Am="BACKSLASH",Rm="BACKTICK",$m="CARET",Bs="COLON",RS="COMMA",Im="DOLLAR",po="DOT",Dm="EQUALS",$S="EXCLAMATION",mo="HYPHEN",Lm="PERCENT",Fm="PIPE",zm="PLUS",Bm="POUND",Wm="QUERY",IS="QUOTE",DS="SEMI",go="SLASH",tf="TILDE",Hm="UNDERSCORE",e5="EMOJI",qm="SYM";var t5=Object.freeze({__proto__:null,WORD:Jo,UWORD:Mx,LOCALHOST:jf,TLD:Nx,UTLD:Px,SCHEME:Kp,SLASH_SCHEME:pc,NUM:PS,WS:XI,NL:AS,OPENBRACE:_c,OPENBRACKET:Jd,OPENANGLEBRACKET:Xd,OPENPAREN:ef,CLOSEBRACE:Aa,CLOSEBRACKET:xc,CLOSEANGLEBRACKET:wc,CLOSEPAREN:Ra,AMPERSAND:Mm,APOSTROPHE:Nm,ASTERISK:Pm,AT:Ls,BACKSLASH:Am,BACKTICK:Rm,CARET:$m,COLON:Bs,COMMA:RS,DOLLAR:Im,DOT:po,EQUALS:Dm,EXCLAMATION:$S,HYPHEN:mo,PERCENT:Lm,PIPE:Fm,PLUS:zm,POUND:Bm,QUERY:Wm,QUOTE:IS,SEMI:DS,SLASH:go,TILDE:tf,UNDERSCORE:Hm,EMOJI:e5,SYM:qm});const Jl=/[a-z]/,Fb=new RegExp("\\p{L}","u"),zb=new RegExp("\\p{Emoji}","u"),Bb=/\d/,pk=/\s/,mk=`
`,tue="️",nue="‍";let cp=null,up=null;function rue(e){e===void 0&&(e=[]);const t={};Ur.groups=t;const n=new Ur;cp==null&&(cp=gk(Yce)),up==null&&(up=gk(Zce)),Xe(n,"'",Nm),Xe(n,"{",_c),Xe(n,"[",Jd),Xe(n,"<",Xd),Xe(n,"(",ef),Xe(n,"}",Aa),Xe(n,"]",xc),Xe(n,">",wc),Xe(n,")",Ra),Xe(n,"&",Mm),Xe(n,"*",Pm),Xe(n,"@",Ls),Xe(n,"`",Rm),Xe(n,"^",$m),Xe(n,":",Bs),Xe(n,",",RS),Xe(n,"$",Im),Xe(n,".",po),Xe(n,"=",Dm),Xe(n,"!",$S),Xe(n,"-",mo),Xe(n,"%",Lm),Xe(n,"|",Fm),Xe(n,"+",zm),Xe(n,"#",Bm),Xe(n,"?",Wm),Xe(n,'"',IS),Xe(n,"/",go),Xe(n,";",DS),Xe(n,"~",tf),Xe(n,"_",Hm),Xe(n,"\\",Am);const r=Si(n,Bb,PS,{[jx]:!0});Si(r,Bb,r);const i=Si(n,Jl,Jo,{[Ex]:!0});Si(i,Jl,i);const o=Si(n,Fb,Mx,{[kx]:!0});Si(o,Jl),Si(o,Fb,o);const s=Si(n,pk,XI,{[fk]:!0});Xe(n,mk,AS,{[fk]:!0}),Xe(s,mk),Si(s,pk,s);const a=Si(n,zb,e5,{[JI]:!0});Si(a,zb,a),Xe(a,tue,a);const l=Xe(a,nue);Si(l,zb,a);const c=[[Jl,i]],u=[[Jl,null],[Fb,o]];for(let f=0;f<cp.length;f++)Os(n,cp[f],Nx,Jo,c);for(let f=0;f<up.length;f++)Os(n,up[f],Px,Mx,u);Ha(Nx,{tld:!0,ascii:!0},t),Ha(Px,{utld:!0,alpha:!0},t),Os(n,"file",Kp,Jo,c),Os(n,"mailto",Kp,Jo,c),Os(n,"http",pc,Jo,c),Os(n,"https",pc,Jo,c),Os(n,"ftp",pc,Jo,c),Os(n,"ftps",pc,Jo,c),Ha(Kp,{scheme:!0,ascii:!0},t),Ha(pc,{slashscheme:!0,ascii:!0},t),e=e.sort((f,h)=>f[0]>h[0]?1:-1);for(let f=0;f<e.length;f++){const h=e[f][0],p=e[f][1]?{[Qce]:!0}:{[Jce]:!0};h.indexOf("-")>=0?p[Ox]=!0:Jl.test(h)?Bb.test(h)?p[Gp]=!0:p[Ex]=!0:p[jx]=!0,hk(n,h,h,p)}return hk(n,"localhost",jf,{ascii:!0}),n.jd=new Ur(qm),{start:n,tokens:Kc({groups:t},t5)}}function iue(e,t){const n=oue(t.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let o=0,s=0;for(;s<r;){let a=e,l=null,c=0,u=null,f=-1,h=-1;for(;s<r&&(l=a.go(n[s]));)a=l,a.accepts()?(f=0,h=0,u=a):f>=0&&(f+=n[s].length,h++),c+=n[s].length,o+=n[s].length,s++;o-=f,s-=h,c-=f,i.push({t:u.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}function oue(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),o,s=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}function Os(e,t,n,r,i){let o;const s=t.length;for(let a=0;a<s-1;a++){const l=t[a];e.j[l]?o=e.j[l]:(o=new Ur(r),o.jr=i.slice(),e.j[l]=o),e=o}return o=new Ur(n),o.jr=i.slice(),e.j[t[s-1]]=o,o}function gk(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let o=0;for(;i.indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let s=parseInt(e.substring(r,r+o),10);s>0;s--)n.pop();r+=o}else n.push(e[r]),r++}return t}const Ef={defaultProtocol:"http",events:null,format:vk,formatHref:vk,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function LS(e,t){t===void 0&&(t=null);let n=Kc({},Ef);e&&(n=Kc(n,e instanceof LS?e.o:e));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}LS.prototype={o:Ef,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Ef[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function vk(e){return e}function n5(e,t){this.t="token",this.v=e,this.tk=t}n5.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=Ef.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),o=this.toFormattedString(e),s={},a=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),f=e.getObj("events",n,t);return s.href=r,a&&(s.class=a),l&&(s.target=l),c&&(s.rel=c),u&&Kc(s,u),{tagName:i,attributes:s,content:o,eventListeners:f}}};function sv(e,t){class n extends n5{constructor(i,o){super(i,o),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const bk=sv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),yk=sv("text"),sue=sv("nl"),Sa=sv("url",{isLink:!0,toHref(e){return e===void 0&&(e=Ef.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==jf&&e[1].t===Bs}}),Xn=e=>new Ur(e);function aue(e){let{groups:t}=e;const n=t.domain.concat([Mm,Pm,Ls,Am,Rm,$m,Im,Dm,mo,PS,Lm,Fm,zm,Bm,go,qm,tf,Hm]),r=[Nm,wc,Aa,xc,Ra,Bs,RS,po,$S,Xd,_c,Jd,ef,Wm,IS,DS],i=[Mm,Nm,Pm,Am,Rm,$m,Aa,Im,Dm,mo,_c,Lm,Fm,zm,Bm,Wm,go,qm,tf,Hm],o=Xn(),s=Xe(o,tf);_t(s,i,s),_t(s,t.domain,s);const a=Xn(),l=Xn(),c=Xn();_t(o,t.domain,a),_t(o,t.scheme,l),_t(o,t.slashscheme,c),_t(a,i,s),_t(a,t.domain,a);const u=Xe(a,Ls);Xe(s,Ls,u),Xe(l,Ls,u),Xe(c,Ls,u);const f=Xe(s,po);_t(f,i,s),_t(f,t.domain,s);const h=Xn();_t(u,t.domain,h),_t(h,t.domain,h);const m=Xe(h,po);_t(m,t.domain,h);const p=Xn(bk);_t(m,t.tld,p),_t(m,t.utld,p),Xe(u,jf,p);const g=Xe(h,mo);_t(g,t.domain,h),_t(p,t.domain,h),Xe(p,po,m),Xe(p,mo,g);const _=Xe(p,Bs);_t(_,t.numeric,bk);const x=Xe(a,mo),S=Xe(a,po);_t(x,t.domain,a),_t(S,i,s),_t(S,t.domain,a);const C=Xn(Sa);_t(S,t.tld,C),_t(S,t.utld,C),_t(C,t.domain,a),_t(C,i,s),Xe(C,po,S),Xe(C,mo,x),Xe(C,Ls,u);const j=Xe(C,Bs),k=Xn(Sa);_t(j,t.numeric,k);const T=Xn(Sa),y=Xn();_t(T,n,T),_t(T,r,y),_t(y,n,T),_t(y,r,y),Xe(C,go,T),Xe(k,go,T);const P=Xe(l,Bs),A=Xe(c,Bs),$=Xe(A,go),L=Xe($,go);_t(l,t.domain,a),Xe(l,po,S),Xe(l,mo,x),_t(c,t.domain,a),Xe(c,po,S),Xe(c,mo,x),_t(P,t.domain,T),Xe(P,go,T),_t(L,t.domain,T),_t(L,n,T),Xe(L,go,T);const U=Xe(T,_c),F=Xe(T,Jd),H=Xe(T,Xd),q=Xe(T,ef);Xe(y,_c,U),Xe(y,Jd,F),Xe(y,Xd,H),Xe(y,ef,q),Xe(U,Aa,T),Xe(F,xc,T),Xe(H,wc,T),Xe(q,Ra,T),Xe(U,Aa,T);const re=Xn(Sa),G=Xn(Sa),Y=Xn(Sa),te=Xn(Sa);_t(U,n,re),_t(F,n,G),_t(H,n,Y),_t(q,n,te);const ne=Xn(),B=Xn(),Q=Xn(),K=Xn();return _t(U,r),_t(F,r),_t(H,r),_t(q,r),_t(re,n,re),_t(G,n,G),_t(Y,n,Y),_t(te,n,te),_t(re,r,re),_t(G,r,G),_t(Y,r,Y),_t(te,r,te),_t(ne,n,ne),_t(B,n,G),_t(Q,n,Y),_t(K,n,te),_t(ne,r,ne),_t(B,r,B),_t(Q,r,Q),_t(K,r,K),Xe(G,xc,T),Xe(Y,wc,T),Xe(te,Ra,T),Xe(re,Aa,T),Xe(B,xc,T),Xe(Q,wc,T),Xe(K,Ra,T),Xe(ne,Ra,T),Xe(o,jf,C),Xe(o,AS,sue),{start:o,tokens:t5}}function lue(e,t,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let a=e,l=null,c=null,u=0,f=null,h=-1;for(;i<r&&!(l=a.go(n[i].t));)s.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(h=0,f=a):h>=0&&h++,i++,u++;if(h<0)i-=u,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(Wb(yk,t,s)),s=[]),i-=h,u-=h;const m=f.t,p=n.slice(i-u,i);o.push(Wb(m,t,p))}}return s.length>0&&o.push(Wb(yk,t,s)),o}function Wb(e,t,n){const r=n[0].s,i=n[n.length-1].e,o=t.slice(r,i);return new e(o,n)}const cue=typeof console<"u"&&console&&console.warn||(()=>{}),uue="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Pn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function due(){Ur.groups={},Pn.scanner=null,Pn.parser=null,Pn.tokenQueue=[],Pn.pluginQueue=[],Pn.customSchemes=[],Pn.initialized=!1}function _k(e,t){if(t===void 0&&(t=!1),Pn.initialized&&cue(`linkifyjs: already initialized - will not register custom scheme "${e}" ${uue}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);Pn.customSchemes.push([e,t])}function fue(){Pn.scanner=rue(Pn.customSchemes);for(let e=0;e<Pn.tokenQueue.length;e++)Pn.tokenQueue[e][1]({scanner:Pn.scanner});Pn.parser=aue(Pn.scanner.tokens);for(let e=0;e<Pn.pluginQueue.length;e++)Pn.pluginQueue[e][1]({scanner:Pn.scanner,parser:Pn.parser});Pn.initialized=!0}function r5(e){return Pn.initialized||fue(),lue(Pn.parser.start,e,iue(Pn.scanner.start,e))}function FS(e,t,n){if(t===void 0&&(t=null),n===void 0&&(n=null),t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new LS(n),i=r5(e),o=[];for(let s=0;s<i.length;s++){const a=i[s];a.isLink&&(!t||a.t===t)&&o.push(a.toFormattedObject(r))}return o}function xk(e,t){t===void 0&&(t=null);const n=r5(e);return n.length===1&&n[0].isLink&&(!t||n[0].t===t)}function hue(e){return new Qn({key:new pr("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(u=>u.docChanged)&&!n.doc.eq(r.doc),o=t.some(u=>u.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,a=vse(n.doc,[...t]),{mapping:l}=a;if(Tse(a).forEach(({oldRange:u,newRange:f})=>{km(u.from,u.to,n.doc).filter(g=>g.mark.type===e.type).forEach(g=>{const _=l.map(g.from),x=l.map(g.to),S=km(_,x,r.doc).filter(P=>P.mark.type===e.type);if(!S.length)return;const C=S[0],j=n.doc.textBetween(g.from,g.to,void 0," "),k=r.doc.textBetween(C.from,C.to,void 0," "),T=xk(j),y=xk(k);T&&!y&&s.removeMark(C.from,C.to,e.type)});const h=yse(r.doc,f,g=>g.isTextblock);let m,p;if(h.length>1?(m=h[0],p=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ")):h.length&&r.doc.textBetween(f.from,f.to," "," ").endsWith(" ")&&(m=h[0],p=r.doc.textBetween(m.pos,f.to,void 0," ")),m&&p){const g=p.split(" ").filter(S=>S!=="");if(g.length<=0)return!1;const _=g[g.length-1],x=m.pos+p.lastIndexOf(_);if(!_)return!1;FS(_).filter(S=>S.isLink).filter(S=>e.validate?e.validate(S.value):!0).map(S=>({...S,from:x+S.start+1,to:x+S.end+1})).forEach(S=>{s.addMark(S.from,S.to,e.type.create({href:S.href}))})}}),!!s.steps.length)return s}})}function pue(e){return new Qn({key:new pr("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,o,s;if(r.button!==0)return!1;const a=MI(t.state,e.type.name),l=(i=r.target)===null||i===void 0?void 0:i.closest("a"),c=(o=l==null?void 0:l.href)!==null&&o!==void 0?o:a.href,u=(s=l==null?void 0:l.target)!==null&&s!==void 0?s:a.target;return l&&c?(window.open(c,u),!0):!1}}})}function mue(e){return new Qn({key:new pr("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:i}=t,{selection:o}=i,{empty:s}=o;if(s)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=FS(a).find(c=>c.isLink&&c.value===a);return!a||!l?!1:(e.editor.commands.setMark(e.type,{href:l.href}),!0)}}})}const gue=Zr.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(e=>{if(typeof e=="string"){_k(e);return}_k(e.scheme,e.optionalSlashes)})},onDestroy(){due()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:e}){return["a",on(this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[na({find:e=>FS(e).filter(t=>this.options.validate?this.options.validate(t.value):!0).filter(t=>t.isLink).map(t=>({text:t.value,index:t.start,data:t})),type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)===null||t===void 0?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];return this.options.autolink&&e.push(hue({type:this.type,validate:this.options.validate})),this.options.openOnClick&&e.push(pue({type:this.type})),this.options.linkOnPaste&&e.push(mue({editor:this.editor,type:this.type})),e}}),vue=Wn.create({name:"iframe",group:"block",atom:!0,addOptions(){return{allowFullscreen:!0,HTMLAttributes:{class:"iframe-wrapper"}}},addAttributes(){return{src:{default:null},frameborder:{default:0},style:{default:"height: 800px; width: 500px"},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:()=>this.options.allowFullscreen}}},parseHTML(){return[{tag:"iframe"}]},renderHTML({HTMLAttributes:e}){return["div",this.options.HTMLAttributes,["iframe",e]]},addCommands(){return{setIframe:e=>({tr:t,dispatch:n})=>{const{selection:r}=t,i=this.type.create(e);return n&&t.replaceRangeWith(r.from,r.to,i),!0}}}});function bue(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e},[e]),b.useCallback(function(...n){if(!t.current)throw Error();return t.current(...n)},[t])}function i5({setContent:e,content:t,editorRef:n,additionalControls:r}){const i=bue(({editor:a})=>{const l=a.getHTML();e(l)}),o=b.useMemo(()=>[Kce,Kle.configure({multicolor:!0,HTMLAttributes:{style:"background-clip: content-box"}}),qle,Vle,gue.configure({openOnClick:!1}),vue,Iae.configure({HTMLAttributes:{style:"max-width: 50%"}}),Dae,zae,Lae,Fae,Hle.configure({resizable:!0}),II,DI],[]),s=wae({onUpdate:i,extensions:o,content:t},[i,o]);return b.useEffect(()=>(n&&(n.current=s),()=>{n&&(n.current=null)}),[s,n]),d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"tw-flex",children:[s&&d.jsx(n$,{editor:s}),d.jsx("div",{className:"tw-flex-grow"}),r]}),d.jsxs("div",{className:"surge-wysiwyg tw-bg-gray-50 tw-px-2 tw-py-4 tw-rounded-md",children:[s&&d.jsx(RI,{editor:s}),d.jsx(pae,{editor:s})]})]})}const yue=Object.freeze(Object.defineProperty({__proto__:null,default:i5},Symbol.toStringTag,{value:"Module"}));/*!
 * is-whitespace <https://github.com/jonschlinkert/is-whitespace>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var wk,_ue=function(t){return typeof t=="string"&&xue().test(t)};function xue(){return wk||(wk=new RegExp(`^[\\s	
\v\f\r   ᠎             　\u2028\u2029\uFEFF"]+$`))}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var wue=function(t){return typeof t<"u"&&t!==null&&(typeof t=="object"||typeof t=="function")},Sk=wue,o5=function(t){Sk(t)||(t={});for(var n=arguments.length,r=1;r<n;r++){var i=arguments[r];Sk(i)&&Sue(t,i)}return t};function Sue(e,t){for(var n in t)Cue(t,n)&&(e[n]=t[n])}function Cue(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Tue=RV,jue=Object.prototype.toString,Eue=function(t){if(typeof t>"u")return"undefined";if(t===null)return"null";if(t===!0||t===!1||t instanceof Boolean)return"boolean";if(typeof t=="string"||t instanceof String)return"string";if(typeof t=="number"||t instanceof Number)return"number";if(typeof t=="function"||t instanceof Function)return"function";if(typeof Array.isArray<"u"&&Array.isArray(t))return"array";if(t instanceof RegExp)return"regexp";if(t instanceof Date)return"date";var n=jue.call(t);return n==="[object RegExp]"?"regexp":n==="[object Date]"?"date":n==="[object Arguments]"?"arguments":n==="[object Error]"?"error":Tue(t)?"buffer":n==="[object Set]"?"set":n==="[object WeakSet]"?"weakset":n==="[object Map]"?"map":n==="[object WeakMap]"?"weakmap":n==="[object Symbol]"?"symbol":n==="[object Int8Array]"?"int8array":n==="[object Uint8Array]"?"uint8array":n==="[object Uint8ClampedArray]"?"uint8clampedarray":n==="[object Int16Array]"?"int16array":n==="[object Uint16Array]"?"uint16array":n==="[object Int32Array]"?"int32array":n==="[object Uint32Array]"?"uint32array":n==="[object Float32Array]"?"float32array":n==="[object Float64Array]"?"float64array":"object"};/*!
 * condense-newlines <https://github.com/jonschlinkert/condense-newlines>
 *
 * Copyright (c) 2014 Jon Schlinkert, contributors.
 * Licensed under the MIT License
 */var kue=_ue,Oue=o5,Mue=Eue,Nue=function(e,t){var n=Oue({},t),r=n.sep||`

`,i=n.min,o;return typeof i=="number"&&i!==2&&(o=new RegExp("(\\r\\n|\\n|\\u2424) {"+i+",}")),typeof o>"u"&&(o=n.regex||/(\r\n|\n|\u2424){2,}/g),n.keepWhitespace!==!0&&(e=e.split(`
`).map(function(s){return kue(s)?s.trim():s}).join(`
`)),e=Pue(e,n),e.replace(o,r)};function Pue(e,t){var n=t.trailingNewline;if(n===!1)return e;switch(Mue(n)){case"string":e=e.replace(/\s+$/,t.trailingNewline);break;case"function":e=t.trailingNewline(e);break;case"undefined":case"boolean":default:{e=e.replace(/\s+$/,`
`);break}}return e}/*!
 * pretty <https://github.com/jonschlinkert/pretty>
 *
 * Copyright (c) 2013-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Aue=Qq,Rue=Nue,$ue=o5,Iue={unformatted:["code","pre","em","strong","span"],indent_inner_html:!0,indent_char:" ",indent_size:2,sep:`
`},Due=function(t,n){var r=$ue({},Iue,n);return t=Aue.html(t,r),r.ocd===!0?(r.newlines&&(r.sep=r.newlines),Lue(t,r)):t};function Lue(e,t){return Rue(e,t).replace(/^\s+/g,"").replace(/\s+$/g,`
`).replace(/(\s*<!--)/g,`
$1`).replace(/>(\s*)(?=<!--\s*\/)/g,"> ")}const Fue=zr(Due);function zS({title:e,content:t,setContent:n,className:r,editorRef:i,editingRaw:o,setEditingRaw:s}){const a=b.useRef(null);i=i||a;const l=b.useCallback(f=>{f&&n(Fue(t||"",{ocd:!0})),s(f)},[t,n,s]),c=b.useMemo(()=>d.jsxs("div",{className:"tw-flex tw-pr-2",style:{marginTop:"-.5em"},children:[d.jsx(ko,{enabled:o,setEnabled:l}),d.jsx("div",{className:"tw-pl-1",children:"Edit raw HTML"})]}),[o,l]),u=b.useMemo(()=>o?d.jsx(yn,{content:d.jsxs("div",{children:[d.jsx("div",{children:d.jsx("b",{children:"Warning"})}),d.jsx("div",{children:"The WYSIWYG editor does not support every feature of HTML. If you switch back, changes to the raw HTML may be overwritten."})]}),children:c}):c,[o,c]);return d.jsxs("div",{className:Se("tw-flex tw-flex-col"),children:[d.jsx("div",{className:Se("tw-flex tw-justify-between tw-items-center"),children:d.jsx("div",{children:e})}),d.jsx("div",{onClick:()=>{var f;(f=i==null?void 0:i.current)==null||f.commands.focus()},className:Se({"tw-bg-black-5":!r||(r==null?void 0:r.indexOf("tw-bg-"))===-1},"tw-border tw-border-black-10","tw-pt-4","tw-rounded-md",r),children:o?d.jsxs("div",{children:[d.jsxs("div",{className:"tw-flex tw-pb-2",children:[d.jsx("div",{className:"tw-flex-grow"}),u]}),d.jsx(tq,{content:t,setContent:n,height:200})]}):d.jsx(i5,{content:t,setContent:n,editorRef:i,additionalControls:c})})]})}function sh({title:e,content:t,setContent:n,className:r,editorRef:i}){const[o,s]=b.useState(!1);return d.jsx(zS,{editingRaw:o,setEditingRaw:s,title:e,content:t,setContent:n,className:r,editorRef:i})}const zue=Object.freeze(Object.defineProperty({__proto__:null,ControlledEditor:zS,default:sh},Symbol.toStringTag,{value:"Module"}));class Bue extends Le.Component{componentDidMount(){throw new Error("Something went wrong in component")}render(){return null}}const Wue=Cl(Bue),Hue=Object.freeze(Object.defineProperty({__proto__:null,default:Wue},Symbol.toStringTag,{value:"Module"})),que=[{text:"Go back home",link:"/projects"}];function s5(e){const t=e.buttons.length===0?que:e.buttons;return d.jsx("main",{className:"tw-grid tw-min-h-full tw-place-items-center tw-bg-white tw-px-6 tw-py-24 sm:tw-py-32 lg:tw-px-8",children:d.jsxs("div",{className:"tw-text-center",children:[e.icon,d.jsx("h1",{className:"tw-mt-4 tw-text-3xl tw-font-bold tw-tracking-tight tw-text-gray-900 sm:tw-text-5xl",children:e.title}),d.jsx("p",{className:"tw-mt-4 tw-text-base tw-leading-7 tw-text-gray-600",children:e.description}),d.jsx("div",{className:"tw-mt-6 tw-flex tw-items-center tw-justify-center tw-gap-x-6",children:t.map((n,r)=>d.jsx("a",{href:n.link,className:"tw-rounded-md tw-bg-primary-default tw-px-3.5 tw-py-2.5 tw-text-sm tw-font-semibold tw-text-white tw-shadow-sm hover:tw-bg-primary-dark focus-visible:tw-outline focus-visible:tw-outline-2 focus-visible:tw-outline-offset-2 focus-visible:tw-outline-primary-dark",children:n.text},r))})]})})}const Vue=Object.freeze(Object.defineProperty({__proto__:null,default:s5},Symbol.toStringTag,{value:"Module"}));function Sr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function rn(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function nn(e){rn(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ai(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Uue(e,t){rn(2,arguments);var n=nn(e),r=Sr(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Gue(e,t){rn(2,arguments);var n=nn(e),r=Sr(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function hd(e,t){if(rn(2,arguments),!t||Ai(t)!=="object")return new Date(NaN);var n=t.years?Sr(t.years):0,r=t.months?Sr(t.months):0,i=t.weeks?Sr(t.weeks):0,o=t.days?Sr(t.days):0,s=t.hours?Sr(t.hours):0,a=t.minutes?Sr(t.minutes):0,l=t.seconds?Sr(t.seconds):0,c=nn(e),u=r||n?Gue(c,r+n*12):c,f=o||i?Uue(u,o+i*7):u,h=a+s*60,m=l+h*60,p=m*1e3,g=new Date(f.getTime()+p);return g}function Kue(e,t){rn(2,arguments);var n=nn(e).getTime(),r=Sr(t);return new Date(n+r)}var Yue={};function av(){return Yue}function Ax(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Ck(e){rn(1,arguments);var t=nn(e);return t.setHours(0,0,0,0),t}var Zue=864e5;function Que(e,t){rn(2,arguments);var n=Ck(e),r=Ck(t),i=n.getTime()-Ax(n),o=r.getTime()-Ax(r);return Math.round((i-o)/Zue)}function Rc(e,t){rn(2,arguments);var n=nn(e),r=nn(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var Jue=6e4,Xue=36e5;function ede(e){return rn(1,arguments),e instanceof Date||Ai(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function tde(e){if(rn(1,arguments),!ede(e)&&typeof e!="number")return!1;var t=nn(e);return!isNaN(Number(t))}function nde(e,t){rn(2,arguments);var n=nn(e),r=nn(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function rde(e,t){rn(2,arguments);var n=nn(e),r=nn(t);return n.getFullYear()-r.getFullYear()}function Tk(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function ide(e,t){rn(2,arguments);var n=nn(e),r=nn(t),i=Tk(n,r),o=Math.abs(Que(n,r));n.setDate(n.getDate()-i*o);var s=+(Tk(n,r)===-i),a=i*(o-s);return a===0?0:a}function BS(e,t){return rn(2,arguments),nn(e).getTime()-nn(t).getTime()}var jk={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},ode="trunc";function WS(e){return e?jk[e]:jk[ode]}function sde(e,t,n){rn(2,arguments);var r=BS(e,t)/Xue;return WS(n==null?void 0:n.roundingMethod)(r)}function ade(e,t,n){rn(2,arguments);var r=BS(e,t)/Jue;return WS(n==null?void 0:n.roundingMethod)(r)}function lde(e){rn(1,arguments);var t=nn(e);return t.setHours(23,59,59,999),t}function cde(e){rn(1,arguments);var t=nn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ude(e){rn(1,arguments);var t=nn(e);return lde(t).getTime()===cde(t).getTime()}function dde(e,t){rn(2,arguments);var n=nn(e),r=nn(t),i=Rc(n,r),o=Math.abs(nde(n,r)),s;if(o<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*o);var a=Rc(n,r)===-i;ude(nn(e))&&o===1&&Rc(e,r)===1&&(a=!1),s=i*(o-Number(a))}return s===0?0:s}function fde(e,t,n){rn(2,arguments);var r=BS(e,t)/1e3;return WS(n==null?void 0:n.roundingMethod)(r)}function hde(e,t){rn(2,arguments);var n=nn(e),r=nn(t),i=Rc(n,r),o=Math.abs(rde(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=Rc(n,r)===-i,a=i*(o-Number(s));return a===0?0:a}function pde(e,t){rn(2,arguments);var n=Sr(t);return Kue(e,-n)}var mde=864e5;function gde(e){rn(1,arguments);var t=nn(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/mde)+1}function Vm(e){rn(1,arguments);var t=1,n=nn(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function a5(e){rn(1,arguments);var t=nn(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Vm(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=Vm(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function vde(e){rn(1,arguments);var t=a5(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Vm(n);return r}var bde=6048e5;function yde(e){rn(1,arguments);var t=nn(e),n=Vm(t).getTime()-vde(t).getTime();return Math.round(n/bde)+1}function Um(e,t){var n,r,i,o,s,a,l,c;rn(1,arguments);var u=av(),f=Sr((n=(r=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=nn(e),m=h.getUTCDay(),p=(m<f?7:0)+m-f;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function l5(e,t){var n,r,i,o,s,a,l,c;rn(1,arguments);var u=nn(e),f=u.getUTCFullYear(),h=av(),m=Sr((n=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,m),p.setUTCHours(0,0,0,0);var g=Um(p,t),_=new Date(0);_.setUTCFullYear(f,0,m),_.setUTCHours(0,0,0,0);var x=Um(_,t);return u.getTime()>=g.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function _de(e,t){var n,r,i,o,s,a,l,c;rn(1,arguments);var u=av(),f=Sr((n=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=l5(e,t),m=new Date(0);m.setUTCFullYear(h,0,f),m.setUTCHours(0,0,0,0);var p=Um(m,t);return p}var xde=6048e5;function wde(e,t){rn(1,arguments);var n=nn(e),r=Um(n,t).getTime()-_de(n,t).getTime();return Math.round(r/xde)+1}function hn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Sde={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return hn(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):hn(r+1,2)},d:function(t,n){return hn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return hn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return hn(t.getUTCHours(),n.length)},m:function(t,n){return hn(t.getUTCMinutes(),n.length)},s:function(t,n){return hn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return hn(o,n.length)}};const Ms=Sde;var Xl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cde={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Ms.y(t,n)},Y:function(t,n,r,i){var o=l5(t,i),s=o>0?o:1-o;if(n==="YY"){var a=s%100;return hn(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):hn(s,n.length)},R:function(t,n){var r=a5(t);return hn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return hn(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return hn(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return hn(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return Ms.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return hn(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var o=wde(t,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):hn(o,n.length)},I:function(t,n,r){var i=yde(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):hn(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ms.d(t,n)},D:function(t,n,r){var i=gde(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):hn(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var o=t.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return hn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var o=t.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return hn(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return hn(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),o;switch(i===12?o=Xl.noon:i===0?o=Xl.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),o;switch(i>=17?o=Xl.evening:i>=12?o=Xl.afternoon:i>=4?o=Xl.morning:o=Xl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Ms.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ms.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):hn(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):hn(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ms.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ms.s(t,n)},S:function(t,n){return Ms.S(t,n)},X:function(t,n,r,i){var o=i._originalDate||t,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return kk(s);case"XXXX":case"XX":return Ea(s);case"XXXXX":case"XXX":default:return Ea(s,":")}},x:function(t,n,r,i){var o=i._originalDate||t,s=o.getTimezoneOffset();switch(n){case"x":return kk(s);case"xxxx":case"xx":return Ea(s);case"xxxxx":case"xxx":default:return Ea(s,":")}},O:function(t,n,r,i){var o=i._originalDate||t,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Ek(s,":");case"OOOO":default:return"GMT"+Ea(s,":")}},z:function(t,n,r,i){var o=i._originalDate||t,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Ek(s,":");case"zzzz":default:return"GMT"+Ea(s,":")}},t:function(t,n,r,i){var o=i._originalDate||t,s=Math.floor(o.getTime()/1e3);return hn(s,n.length)},T:function(t,n,r,i){var o=i._originalDate||t,s=o.getTime();return hn(s,n.length)}};function Ek(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var s=t||"";return n+String(i)+s+hn(o,2)}function kk(e,t){if(e%60===0){var n=e>0?"-":"+";return n+hn(Math.abs(e)/60,2)}return Ea(e,t)}function Ea(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),o=hn(Math.floor(i/60),2),s=hn(i%60,2);return r+o+n+s}var Ok=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},c5=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Tde=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return Ok(t,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",Ok(i,n)).replace("{{time}}",c5(o,n))},jde={p:c5,P:Tde},Ede=["D","DD"],kde=["YY","YYYY"];function Ode(e){return Ede.indexOf(e)!==-1}function Mde(e){return kde.indexOf(e)!==-1}function Mk(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Nde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Pde=function(t,n,r){var i,o=Nde[t];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Ade=Pde;function Hb(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Rde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$de={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ide={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Dde={date:Hb({formats:Rde,defaultWidth:"full"}),time:Hb({formats:$de,defaultWidth:"full"}),dateTime:Hb({formats:Ide,defaultWidth:"full"})};const Lde=Dde;var Fde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zde=function(t,n,r,i){return Fde[t]};const Bde=zde;function pd(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{var a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[a]}var c=e.argumentCallback?e.argumentCallback(t):t;return i[c]}}var Wde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ude={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kde=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Yde={ordinalNumber:Kde,era:pd({values:Wde,defaultWidth:"wide"}),quarter:pd({values:Hde,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:pd({values:qde,defaultWidth:"wide"}),day:pd({values:Vde,defaultWidth:"wide"}),dayPeriod:pd({values:Ude,defaultWidth:"wide",formattingValues:Gde,defaultFormattingWidth:"wide"})};const Zde=Yde;function md(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?Jde(a,function(f){return f.test(s)}):Qde(a,function(f){return f.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function Qde(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Jde(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Xde(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(i.length);return{value:s,rest:a}}}var efe=/^(\d+)(th|st|nd|rd)?/i,tfe=/\d+/i,nfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rfe={any:[/^b/i,/^(a|c)/i]},ife={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ofe={any:[/1/i,/2/i,/3/i,/4/i]},sfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},afe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ufe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ffe={ordinalNumber:Xde({matchPattern:efe,parsePattern:tfe,valueCallback:function(t){return parseInt(t,10)}}),era:md({matchPatterns:nfe,defaultMatchWidth:"wide",parsePatterns:rfe,defaultParseWidth:"any"}),quarter:md({matchPatterns:ife,defaultMatchWidth:"wide",parsePatterns:ofe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:md({matchPatterns:sfe,defaultMatchWidth:"wide",parsePatterns:afe,defaultParseWidth:"any"}),day:md({matchPatterns:lfe,defaultMatchWidth:"wide",parsePatterns:cfe,defaultParseWidth:"any"}),dayPeriod:md({matchPatterns:ufe,defaultMatchWidth:"any",parsePatterns:dfe,defaultParseWidth:"any"})};const hfe=ffe;var pfe={code:"en-US",formatDistance:Ade,formatLong:Lde,formatRelative:Bde,localize:Zde,match:hfe,options:{weekStartsOn:0,firstWeekContainsDate:1}};const mfe=pfe;var gfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bfe=/^'([^]*?)'?$/,yfe=/''/g,_fe=/[a-zA-Z]/;function xfe(e,t,n){var r,i,o,s,a,l,c,u,f,h,m,p,g,_,x,S,C,j;rn(2,arguments);var k=String(t),T=av(),y=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:T.locale)!==null&&r!==void 0?r:mfe,P=Sr((o=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:T.firstWeekContainsDate)!==null&&s!==void 0?s:(f=T.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Sr((m=(p=(g=(_=n==null?void 0:n.weekStartsOn)!==null&&_!==void 0?_:n==null||(x=n.locale)===null||x===void 0||(S=x.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&g!==void 0?g:T.weekStartsOn)!==null&&p!==void 0?p:(C=T.locale)===null||C===void 0||(j=C.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&m!==void 0?m:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!y.localize)throw new RangeError("locale must contain localize property");if(!y.formatLong)throw new RangeError("locale must contain formatLong property");var $=nn(e);if(!tde($))throw new RangeError("Invalid time value");var L=Ax($),U=pde($,L),F={firstWeekContainsDate:P,weekStartsOn:A,locale:y,_originalDate:$},H=k.match(vfe).map(function(q){var re=q[0];if(re==="p"||re==="P"){var G=jde[re];return G(q,y.formatLong)}return q}).join("").match(gfe).map(function(q){if(q==="''")return"'";var re=q[0];if(re==="'")return wfe(q);var G=Cde[re];if(G)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Mde(q)&&Mk(q,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ode(q)&&Mk(q,t,String(e)),G(U,q,y.localize,F);if(re.match(_fe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+re+"`");return q}).join("");return H}function wfe(e){var t=e.match(bfe);return t?t[1].replace(yfe,"'"):e}function Sfe(e){rn(1,arguments);var t=nn(e.start),n=nn(e.end);if(isNaN(t.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(n.getTime()))throw new RangeError("End Date is invalid");var r={};r.years=Math.abs(hde(n,t));var i=Rc(n,t),o=hd(t,{years:i*r.years});r.months=Math.abs(dde(n,o));var s=hd(o,{months:i*r.months});r.days=Math.abs(ide(n,s));var a=hd(s,{days:i*r.days});r.hours=Math.abs(sde(n,a));var l=hd(a,{hours:i*r.hours});r.minutes=Math.abs(ade(n,l));var c=hd(l,{minutes:i*r.minutes});return r.seconds=Math.abs(fde(n,c)),r}const u5=({expiresAt:e})=>{const[t,n]=b.useState("");return b.useEffect(()=>{const r=()=>{const o=new Date,a=new Date(e).getTime()-o.getTime();if(a>0){const l=Sfe({start:0,end:a}),c=xfe(new Date(0,0,0,l.hours,l.minutes),"HH:mm");n(c)}else n("Expired")},i=setInterval(r,1e3);return r(),()=>clearInterval(i)},[e]),d.jsxs("div",{className:"tw-flex tw-items-center tw-justify-between sm:tw-px-2.5 tw-px-0 tw-bg-white tw-border tw-border-gray-300 sm:tw-text-xl tw-text-lg",style:{borderTop:"3px solid #25aae5",height:"40px"},children:[d.jsx("span",{className:"tw-hidden sm:tw-inline",children:"Expires in: "}),d.jsx("span",{"data-testid":"countdown",children:t})]})},Cfe=Object.freeze(Object.defineProperty({__proto__:null,default:u5},Symbol.toStringTag,{value:"Module"})),Tfe=Object.freeze(Object.defineProperty({__proto__:null,default:Y9},Symbol.toStringTag,{value:"Module"}));function d5({is_new_project:e,cur_project_wide_limit:t,is_admin:n,demoted_worker_limits:r,non_demoted_worker_limits:i}){const[o,s]=b.useState(t||null),[a,l]=b.useState(!0),[c,u]=b.useState(!0);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"input integer optional project_maximum_tasks_per_worker flex-grow-1",children:d.jsx("input",{className:"numeric integer optional form-control",type:"number",value:o||"",onChange:f=>{let h=parseFloat(f.target.value);Number.isNaN(h)&&(h=null),s(h)},step:"1",name:"project[maximum_tasks_per_worker]",id:"project_maximum_tasks_per_worker"})}),!e&&n&&o!=t&&d.jsxs(d.Fragment,{children:[i!=null&&i.length>0&&d.jsxs("div",{className:Se("tw-flex tw-flex-nowrap","tw-gap-2","tw-items-center"),children:[d.jsx(ii,{onChange:f=>{l(f.currentTarget.checked),f.currentTarget.checked||u(!1)},checked:a,id:"project[change_non_demoted_worker_limits]"}),d.jsx("div",{children:"Also change the surger specific limits of"}),d.jsx(Nk,{limits:i,isDemoted:!1})]}),r!=null&&r.length>0&&d.jsxs("div",{className:Se("tw-flex tw-flex-nowrap","tw-gap-2","tw-items-center"),children:[d.jsx(ii,{onChange:f=>u(f.currentTarget.checked),disabled:!a,checked:c,id:"project[change_demoted_worker_limits]"}),d.jsx("div",{children:"Also change the surger specific limits of"}),d.jsx(Nk,{limits:r,isDemoted:!0})]})]})]})}function Nk({limits:e,isDemoted:t}){const n=t?"'Demoted' surgers are those whose specific limits were set to be below the project wide limit (at the time the specific limits were set). Click to look at the surgers.":"Click to look at the surgers.",r=d.jsx(yn,{content:n,children:d.jsxs(yt,{buttonSize:"sm",variant:"outline",children:[e.length," ",t?"demoted ":" ","surger",e.length!=1?"s":"","?"]})});return d.jsx(I1,{head:r,headContainerClassName:"tw-w-min",offset:[0,5],children:d.jsx("div",{style:{maxWidth:400,maxHeight:400},className:Se("tw-overflow-y-auto","tw-shadow-sm","tw-bg-white-100","tw-border","tw-p-3","tw-rounded"),children:e.map(({worker:i},o)=>d.jsxs(b.Fragment,{children:[d.jsxs("a",{href:`/surgers/${i.euid}`,target:"_blank",rel:"noreferrer",children:[i.shortened_name," (",i.euid,")"]}),o!=e.length-1?", ":null]},i.euid))})})}const jfe=Object.freeze(Object.defineProperty({__proto__:null,default:d5},Symbol.toStringTag,{value:"Module"}));function f5({projectId:e,resultsForMerge:t}){const[n,r]=b.useState(!1),[i,o]=b.useState({}),s=b.useMemo(()=>{const p={};return t.forEach(g=>p[g.id]=!0),p},[t]),[a,l]=b.useState(!0),c=b.useMemo(()=>t&&d.jsx($g,{columns:[{Header:d.jsx("div",{className:"tw-p-4 tw-pt-6",children:d.jsx(ii,{checked:a,onChange:()=>{o(a?s:{}),l(!a)}})}),Cell:({value:p})=>d.jsx(ii,{checked:!i[p],onChange:()=>o({...i,[p]:!i[p]})}),accessor:"id",id:"selected",disableSortBy:!0,disableFilters:!0},{Header:d.jsx(Ue,{label:"Project"}),Cell:({value:p,row:g})=>d.jsx("a",{href:`/projects/${g.original.id}`,target:"_blank",children:p}),accessor:"name",id:"name",disableSortBy:!0,disableFilters:!0},{Header:d.jsx(Ue,{label:"# Tasks"}),Cell:({value:p,row:g})=>`${p} / ${g.original.tasks_total} completed`,accessor:"tasks_completed",id:"num_tasks",disableSortBy:!0,disableFilters:!0},{Header:d.jsx(Ue,{label:"Template and tasks are mergeable?"}),Cell:({value:p})=>p.length===0?"Ok!":d.jsxs("div",{children:["Cannot merge:",d.jsx("ul",{children:p.map((g,_)=>d.jsx("li",{children:g},_))})]}),accessor:"errors",id:"errors",disableSortBy:!0,disableFilters:!0}],data:t,hidePagination:!1,isLoading:n,unhideableColumns:["selected","name","num_tasks","errors"],defaultSortColId:"name",defaultSortColumnDesc:!1,hover:!1,defaultPageSize:100}),[t,n,i,o,s,a,l]),u=b.useMemo(()=>t.map(p=>p.id).filter(p=>!i[p]),[t,i]),f=b.useCallback(()=>{r(!0),Z9(e,u).then(p=>{p.success||Ni(p.errors)})},[r,e,u]),[h,m]=b.useState({});return b.useEffect(()=>{const p=setInterval(()=>{n&&Q9(u).then(g=>{m(g),Object.values(g).every(_=>_==="canceled")&&(window.location.href=`/projects/${e}`)})},3e3);return()=>{clearInterval(p)}},[n,u,m,e]),d.jsxs("div",{children:[d.jsx("h1",{children:"Merging subprojects"}),d.jsx(Jf,{position:"top-center"}),n?d.jsx("div",{children:u.map(p=>{const{name:g}=t.find(x=>x.id===p)||{},_=h[p]==="canceled";return d.jsxs("div",{className:"tw-flex tw-py-6 tw-justify-center",children:[d.jsxs("span",{className:"tw-font-bold tw-flex-grow",children:[g,":"]}),d.jsx("span",{children:_?"✅":"⏳"})]},p)})}):c,d.jsx("div",{className:"tw-p-2 tw-justify-end tw-flex",children:d.jsxs(yt,{variant:"primary",onClick:f,disabled:n||t.some(p=>p.errors.length>0),children:["Merge ",u.length," projects"]})})]})}const Efe=Object.freeze(Object.defineProperty({__proto__:null,default:f5},Symbol.toStringTag,{value:"Module"}));function kfe(e){return Rn.put(`${Zn}/notifications/${e}/acknowledge`)}function h5({notificationState:e,notificationState:{data:t,acknowledgedState:n,createdAt:r},setNotificationState:i,projectId:o}){const s=b.useCallback(u=>i({...e,acknowledgedState:u}),[e,i]),a=b.useCallback(()=>{s("acknowledging"),kfe(t.id).then(()=>s("acknowledged")).catch(u=>{console.log(u),alert("We faced an issue. Please refresh and try again. If the problem persists, contact us."),s("unacknowledged")})},[t.id,s]),l=b.useMemo(()=>{switch(t.notification_type){case"instruction_change":return d.jsx(Mfe,{data:t});case"project_message":return d.jsx(Ofe,{data:t,projectId:o});case"pop_quiz":return d.jsx(Nfe,{data:t});default:Lt()}},[t,o]),c=e.data.notification_type!="pop_quiz";return c?d.jsx(Eo,{setIsOpen:()=>[],isOpen:n!="acknowledged",onConfirmed:a,showConfirmBtn:c,showLoadingIcon:n=="acknowledging",showCancelBtn:!1,text:d.jsxs("div",{className:Se("tw-flex tw-flex-col tw-space-y-6 tw-items-center"),children:[d.jsx("div",{className:"tw-text-size-default",children:l}),d.jsxs("div",{className:Se("tw-self-end","tw-text-size-detail"),children:["Sent at ",ZW(r)]})]})}):d.jsx(Eo,{setIsOpen:()=>[],isOpen:n!="acknowledged",showConfirmBtn:!1,showLoadingIcon:n=="acknowledging",showCancelBtn:!1,text:d.jsx("div",{className:"tw-text-size-default",children:l})})}function Ofe({projectId:e,data:t}){const n=b.useMemo(()=>{switch(t.message.message_type){case"feedback":return t.message.is_about_a_task_response?"You have received feedback on one of your task responses:":"You have received feedback:";case"announcement":return"There was an announcement:";default:Lt(t.message)}},[t.message]);return d.jsxs("div",{className:Se("tw-flex tw-flex-col","tw-divide-y tw-divide-solid"),children:[d.jsx("div",{className:"tw-py-1",children:n}),d.jsx("div",{style:{maxHeight:200},className:Se("tw-py-1","tw-overflow-y-scroll"),dangerouslySetInnerHTML:{__html:Da(t.text)}}),t.message.message_type=="feedback"&&d.jsxs("div",{className:"tw-pt-10",children:["If you wish,"," ",d.jsx("a",{target:"_blank",rel:"noreferrer",href:`/workers/inbox/feedback_and_announcements/${e}/feedbacks/${t.message.parent_message_id}`,children:"click here"})," ","to reply."]})]})}function Mfe({data:e}){return d.jsx("div",{style:{maxHeight:200},className:Se("tw-overflow-y-scroll"),children:e.text})}function Nfe({data:e}){return d.jsxs("div",{style:{maxHeight:200},className:Se("tw-overflow-y-scroll"),children:["You must complete a pop quiz before you proceed with working on this project."," ",d.jsx("a",{href:`/workers/tasks?project_id=${e.pop_quiz_project_id}`,children:"Click here"})," ","to complete the pop quiz."]})}const Pfe=Object.freeze(Object.defineProperty({__proto__:null,default:h5},Symbol.toStringTag,{value:"Module"}));function p5({uploadedFileURL:e,uploadErrors:t,status:n}){return d.jsxs("div",{className:"tw-py-6 tw-px-9",children:[d.jsx("h3",{children:"Previous upload attempt:"}),d.jsxs("div",{className:"tw-p-4",children:[d.jsxs("div",{children:["Status:"," ",d.jsx("b",{className:Se({"tw-text-positive-90":n==="succeeded","tw-text-negative-90":n==="failed"||n==="invalid_file"}),children:n.toUpperCase()})]}),d.jsx("div",{children:d.jsx("a",{href:e,children:"Uploaded file"})}),t&&t.length!==0&&d.jsxs("div",{className:"tw-mt-2",children:[d.jsx("b",{children:"Errors:"}),d.jsx("ul",{children:t.map(r=>d.jsx("p",{children:r}))})]})]})]})}const Afe=Object.freeze(Object.defineProperty({__proto__:null,default:p5},Symbol.toStringTag,{value:"Module"}));function m5({projectId:e,projectUploadAttempt:t}){const[n,r]=b.useState(t);return b.useEffect(()=>{const i=setInterval(()=>{J9(e).then(o=>{!o||!(o!=null&&o.status)||r(o)})},3e3);return()=>clearInterval(i)},[]),n?d.jsx(p5,{...n}):d.jsx(d.Fragment,{})}const Rfe=Object.freeze(Object.defineProperty({__proto__:null,default:m5},Symbol.toStringTag,{value:"Module"}));function g5({children:e,error:t,hideLabel:n=!1,icon:r,id:i,inputSize:o="md",label:s,...a}){return d.jsxs("div",{children:[d.jsx("label",{className:n?"tw-sr-only":"tw-text-label",htmlFor:i,children:s}),d.jsxs("div",{className:"tw-relative",children:[r?d.jsx("div",{className:Se(QW,vT[o],"tw-left-0"),children:Le.createElement(r,{className:"tw-w-4 tw-h-4"})}):null,d.jsx("select",{...a,id:i,className:Se("input-base",vT[o],r?o==="md"?"tw-pl-10":"tw-pl-9":null,{"input-error":t}),children:e})]}),t?d.jsx("p",{className:"tw-text-error",children:t}):null]})}function Pk(e,t){return Rn.post(`${Zn}/tasks/${e}/gold_standards_data`,t).then(n=>du(n.data,g_))}function $fe(e){return Rn.delete(`${Zn}/tasks/${e}`).then(t=>t.data)}const Ife=ut.array(g_).or(g_).or(ut.null());function Dfe(e,t,n){return Rn.post(`${Zn}/projects/${e}/tasks/create_tasks`,{tasks:t,...n}).then(r=>du(r,Ife)).then(r=>r?Array.isArray(r)?r:[r]:[])}function Lfe(e,t,n,r,i,o,s,a){return Rn.post(`${Zn}/projects/${e}/tasks/create_rm_gold_standards`,{percentage_similar_before:t,percentage_similar_after:n,percentage_different_before:r,percentage_different_after:i,gold_standard_target_completed:o,min_round:s,max_round:a})}const HS={beginning:"Beginning",throughout:"Throughout (inversely proportional to remaining tasks - will bias towards end of project)",with_fixed_probability:"With 20 % probability",with_10p_probability:"With 10 % probability",with_5p_probability:"With 5% probability",with_2p_probability:"With 2% probability",end:"End"};function v5(e){return e=="fr"||e=="mc"||e=="cb"||e=="ner"||e=="tree"||e=="rank"||e=="likert"}function b5(e,t){return{...e,is_gold_standard:!0,when_to_show:t}}function Rx(e){return{...e,is_gold_standard:!1}}function y5(e){switch(e){case"cb":case"mc":case"tree":case"likert":return"item_options";case"ner":case"rank":case"fr":return"text";default:Lt()}}function _5(e,t){return e.reduce((n,r)=>{var a;const i=(a=t==null?void 0:t.project)==null?void 0:a.questions.find(l=>l.id===r.question_id);if(!i)return n;const o=i==null?void 0:i.type.data_field;if(!v5(o))return n;const s=y5(o);return{...n,[r.question_id]:{item_type:o,text:null,item_options:null,[s]:r[s]}}},{})}function qS({id:e,footerRight:t,onClose:n,onGoldStandardUpdate:r,onGoldStandardDelete:i,showDeleteButton:o=!0,tableData:s,task:a,taskResponse:l,questionTypeToComponent:c,isForPopQuiz:u,dataFieldRandomizationMapping:f}){var U,F,H,q,re;const[h,m]=b.useState({...l}),p=b.useRef([]),[g,_]=b.useState(!1),[x,S]=b.useState(!1),[C,j]=b.useState(a.when_to_show||(a.is_gold_standard?"throughout":"beginning")),k=b.useCallback(G=>{const Y=G==null?void 0:G.questions;if(Y){const te=Object.keys(Y).filter(ne=>{var B;return(B=Y[ne])==null?void 0:B.enabled}).map(ne=>({question_id:ne,...Y[ne]}));p.current=te}m(te=>({...te,...G}))},[]);b.useEffect(()=>{m({...l}),k({...l})},[e,l,k]);const T=G=>{switch(G){case"cb":case"mc":case"tree":case"likert":return"item_option_ids";case"ner":case"rank":case"fr":return"text";default:Lt()}},y=()=>{var G,Y;if(l){_(!0);const te={};(Y=(G=s==null?void 0:s.project)==null?void 0:G.questions)==null||Y.forEach(B=>{var de,X,J;const Q=(de=B==null?void 0:B.type)==null?void 0:de.data_field;if(!v5(Q))return;const K=(X=p.current)==null?void 0:X.find(ue=>ue.question_id===B.id);K?te[B.id]={is_gold_standard:(J=K.enabled)==null?void 0:J.toString(),[T(Q)]:K[y5(Q)],explanation:K.explanation}:te[B.id]={is_gold_standard:"false",explanation:null}});const ne={is_gold_standard:!0,when_to_show:C,item_responses:te};Pk(l.id,ne).then(B=>{r(h,te,p.current,C,B.is_gold_standard),_(!1),n()})}},P=()=>{if(!i)throw new Error("Attmpted to delete gold standard without passing in a handler");l&&(S(!0),Pk(l.id,{is_gold_standard:!1}).then(()=>{i(l),S(!1),n()}))},A=u&&!((U=p.current)!=null&&U.some(G=>G.enabled)),$=g||x,L=$||A;return d.jsx(Zz,{children:d.jsx(QA,{inWorkMode:!0,goldStandard:!0,disabled:$,projectId:e,instructions:((F=s==null?void 0:s.project)==null?void 0:F.instructions)||"",fieldsText:(H=s==null?void 0:s.project)==null?void 0:H.fields_text,questions:(q=s==null?void 0:s.project)==null?void 0:q.questions,questionTypeToComponent:c,taskResponse:h,projectUpdatedAt:(re=s==null?void 0:s.project)==null?void 0:re.updated_at,onChange:k,isReview:!1,isBeingReviewed:!1,dataFieldRandomizationMapping:f,footer:d.jsxs("div",{children:[d.jsx(Qz,{children:d.jsx(g5,{label:`When to show ${u?"pop quiz":"gold standard"}?`,inputSize:"sm",onChange:G=>{const Y=G.currentTarget.value;if(!(Y==="beginning"||Y==="throughout"||Y==="with_fixed_probability"||Y==="with_10p_probability"||Y==="with_5p_probability"||Y==="with_2p_probability"||Y==="end"))throw Error();return j(Y)},value:C||void 0,children:Object.entries(HS).map(([G,Y])=>d.jsx("option",{value:G,children:Y},G))})}),d.jsxs("div",{className:"tw-flex tw-justify-between",children:[d.jsxs("div",{className:"tw-space-x-3",children:[A&&d.jsx("p",{className:"tw-text-red-900 tw-p-4",style:{whiteSpace:"pre-wrap"},children:"You must select at least one gold standard answer for this pop quiz to launch"}),d.jsxs(yt,{variant:"primary",buttonSize:"sm",onClick:y,disabled:L,children:[u?"Save and Launch":"Save Gold Standard",g&&d.jsx(fn,{className:"tw-text-white-80 tw-w-8 tw-h-8 tw-ml-1"})]}),o&&i&&a.is_gold_standard&&d.jsxs(yt,{variant:"negative",buttonSize:"sm",onClick:P,disabled:$,children:["Remove Gold Standard"," ",x&&d.jsx(fn,{className:"tw-text-white-80 tw-w-8 tw-h-8 tw-ml-1"})]})]}),d.jsx("div",{children:t})]})]})})})}function x5({parentProjectId:e,popQuizProjectId:t,questionTypeToComponent:n,goldStandardsData:r,taskResponse:i,onGoldStandardUpdate:o}){return d.jsx("div",{className:Se("tw-bg-white-100","tw-pl-14","tw-pt-4"),children:d.jsx("div",{children:r!=null&&r.project_info.raw_questions.length&&i?d.jsx(qS,{tableData:{project:{instructions:r.project_info.instructions,questions:r.project_info.raw_questions,fields_text:r.project_info.fields_text,updated_at:r.project_info.updated_at}},taskResponse:i,task:r.task_info,footerRight:null,onClose:()=>document.location=`/projects/${e}/quizzes`,onGoldStandardUpdate:o,id:t,showDeleteButton:!1,questionTypeToComponent:n,isForPopQuiz:!0}):d.jsx(Wg,{})})})}const Ffe=Object.freeze(Object.defineProperty({__proto__:null,default:x5},Symbol.toStringTag,{value:"Module"}));function zfe(e,t){const n={...e};for(const r of t)delete n[r];return n}function Bfe(e,t){return e.map(n=>n[t])}const Wfe={preexisting_annotations:!0,require_tie_breaker:!0},br={hide_in_review:!0,hide_from_customers:!0,shown_by_item_option_text:!0,hidden_by_item_option_text:!0,disable_editing_in_review:!0,display_conditions:!0,question_category:!0},$c={likert:{...br,options:!0,label:!0,required:!0,preexisting_annotations:!0,require_tie_breaker:!0,hide_if_data_key:!0,horizontal:!0,only_show_in_review:!0,holistic:!0,show_holistic_question_at_start:!0,hide_in_results_by_item_option_text:!0},multiple_choice:{...br,options:!0,label:!0,required:!0,preexisting_annotations:!0,require_tie_breaker:!0,hide_if_data_key:!0,horizontal:!0,only_show_in_review:!0,holistic:!0,show_holistic_question_at_start:!0,hide_in_results_by_item_option_text:!0},checkbox:{...br,options:!0,label:!0,required:!0,preexisting_annotations:!0,require_tie_breaker:!0,hide_if_data_key:!0,horizontal:!0,only_show_in_review:!0,holistic:!0,show_holistic_question_at_start:!0,hide_in_results_by_item_option_text:!0},free_response:{...br,label:!0,required:!0,preexisting_annotations:!0,free_response_validation_regex:!0,hide_if_data_key:!0,min_word_count:!0,max_word_count:!0,only_show_in_review:!0,holistic:!0,show_holistic_question_at_start:!0,is_copy_paste_log:!0,use_for_rlhf_editing:!0,is_code_block:!0},custom_renderer:{...br,label:!0,required:!0},text:{...br,label:!0,hide_if_data_key:!0,only_show_in_review:!0,holistic:!0,show_holistic_question_at_start:!0},text_tagging:{...br,label:!0,options:!0,required:!0,require_tie_breaker:!0,ner_allow_relationship_tags:!0,ner_allow_overlapping_tags:!0,ner_token_granularity:!0,preexisting_annotations:!0,hide_if_data_key:!0},tree_selection:{...br,label:!0,options:!0,required:!0,require_tie_breaker:!0,hide_if_data_key:!0,only_show_in_review:!0,holistic:!0,show_holistic_question_at_start:!0},file_upload:{...br,label:!0,required:!0,hide_if_data_key:!0,accepted_file_types:!0,only_show_in_review:!0,holistic:!0,show_holistic_question_at_start:!0},ranking:{...br,label:!0,required:!0,options:!0,hide_if_data_key:!0,allow_ranking_ties:!0,only_show_in_review:!0,holistic:!0,show_holistic_question_at_start:!0},chat:{...br,label:!0,required:!0,options:!0,endpoint_url_and_headers:!0,preexisting_annotations:!0,holistic:!0,show_holistic_question_at_start:!0,use_rlhf:!0,allow_force_submit_if_checked:!0},llm:{...br,label:!0,required:!1,shown_by_item_option_text:!1,hidden_by_item_option_text:!1,llm_model_id:!0,display_conditions:!1},model_generation:{...br,label:!0,required:!0,endpoint_url_and_headers:!0,is_editable:!0,shown_by_item_option_text:!1,hidden_by_item_option_text:!1,display_conditions:!1},api_call:{...br,label:!0,required:!0,is_editable:!0,shown_by_item_option_text:!1,hidden_by_item_option_text:!1,display_conditions:!1},review:{...br,label:!0,required:!0,options:!0,preexisting_annotations:!0,require_tie_breaker:!0,hide_if_data_key:!0,horizontal:!0,holistic:!0,show_holistic_question_at_start:!0,hide_in_review:!1,hide_from_customers:!1,only_show_in_review:!1,disable_editing_in_review:!1,hide_in_results_by_item_option_text:!0},review_comment:{...br,label:!0,required:!0,options:!1,preexisting_annotations:!0,hide_if_data_key:!0,horizontal:!0,holistic:!0,show_holistic_question_at_start:!0,hide_in_review:!1,hide_from_customers:!1,only_show_in_review:!1,free_response_validation_regex:!0,min_word_count:!0,max_word_count:!0,disable_editing_in_review:!1}},Hfe=[{label:".csv",values:[".csv"]},{label:".doc / .docx",values:[".doc",".docx"]},{label:".gz",values:[".gz"]},{label:".htm / .html",values:[".htm",".html"]},{label:".jpg / .jpeg",values:[".jpg",".jpeg"]},{label:".json",values:[".json"]},{label:".mp3",values:[".mp3"]},{label:".mp4",values:[".mp4"]},{label:".pdf",values:[".pdf"]},{label:".png",values:[".png"]},{label:".txt",values:[".txt"]},{label:".wav",values:[".wav"]},{label:".zip",values:[".zip"]}],qfe=["chat"];function Vfe(e,t){return e.sort(({order:n},{order:r})=>n&&r?t!="likert"?n-r:r-n:0).map(({text:n,description:r,id:i})=>({id:i,text:n,description:r,reactKey:i}))}const Gm=" / ";function kf(e,t=!1){if(!e.length)return[];if(t)return e.filter(({text:n,_destroy:r})=>(n==null?void 0:n.trim())||r==!0);{const[n,r]=dW(e,({_destroy:s})=>s),i=n.map(s=>kf(s.children,!0).flatMap(a=>a.id==null?[]:[a]).map(a=>({...a,text:`${s.text}${Gm}${a.text}`,_destroy:!0}))).flat();return r.filter(({text:s,_destroy:a})=>(s==null?void 0:s.trim())||a).map(s=>kf(s.children,!0).map(a=>({...a,text:`${s.text}${Gm}${a.text}`}))).flat().concat(n,i)}}const VS=()=>({text:"",description:"",reactKey:fu()}),Ak=()=>({...VS(),children:[]});function Yc(){return fu("fake_id_")}const Ufe=()=>({_fake_id:Yc(),horizontal:!1,type:"multiple_choice",text:null,label:null,free_response_validation_regex:null,required:!0,ner_allow_overlapping_tags:null,ner_allow_relationship_tags:!1,ner_token_granularity:!1,preexisting_annotations:null,require_tie_breaker:!1,itemOptions:[VS()],shown_by_item_option_id:null,hidden_by_item_option_id:null,shown_by_item_option_text:null,hidden_by_item_option_text:null,hide_in_results_by_item_option_text:null,hide_if_data_key:null,is_editable:!0,edit_raw_html:!1,endpoint_url:null,endpoint_headers:null,validationErrors:{},allow_ranking_ties:!1,min_word_count:null,max_word_count:null,llm_model_id:null,accepted_file_types:[],only_show_in_review:!1,hide_in_review:!1,chat_advanced_options:{},model_advanced_options:{},advanced_options:{},holistic:!1,show_holistic_question_at_start:!1,is_copy_paste_log:!1,reactKey:fu(),hide_from_customers:!1,disable_editing_in_review:!1,use_rlhf:!1,randomized_model_variant_items:null,original_randomized_model_variant_items:null,is_about_all_randomized_models:null,allow_force_submit_if_checked:!1,use_for_rlhf_editing:!1,is_code_block:!1,display_conditions:[]});function Of(e,t){return tr(e,n=>w5(n,t,t=="tree_selection"))}function w5(e,t,n=!0){var i;n&&e.forEach(o=>{"children"in o&&o.children!=null&&w5(o.children,t,!1)});const r=e.filter(o=>!o._destroy);if(r.length==0||(i=r[r.length-1].text)!=null&&i.trim())if(t=="tree_selection"){const o=Ak();n&&o.children.push(Ak()),e.push(o)}else e.push(VS())}function US(e,t=!0){if(t?e.some(({text:r})=>r==null?void 0:r.includes(Gm)):!1){const r=new Map;return e.forEach(i=>{const o=XW(i.text||"",Gm);if(o==null)return;const[s,a]=o;fW(r,s,[]).push({...i,text:a})}),[...r].map(([i,o])=>({_destroy:void 0,id:void 0,reactKey:fu(),text:i,children:US(o,!1),description:""}))}else return e.map(r=>({...r,children:[]}))}function Gfe(e,t,n){var a;e={...e};const r=Vfe(e.options_objects,e.type);let i;if(t&&e.randomized_model_index!=null){const l=t[e.randomized_model_index].data_field;i=new RegExp(` \\(${l}\\)`)}else i=null;const o=i?((a=e.label)==null?void 0:a.replace(i,""))??null:e.label,s={...e,validationErrors:{},reactKey:e.id,label:o,questionCategories:n};return e.type=="tree_selection"?{...s,type:"tree_selection",itemOptions:Of(US(r),e.type)}:{...s,type:e.type,itemOptions:Of(r,e.type)}}function Kfe(e,t){const n=e.questions.map(o=>({state:Gfe(o,e.model_randomization_settings||null,t),order:o.order,ordered_item_option_ids:Bfe(o.options_objects.sort(({order:s},{order:a})=>Hn(s)-Hn(a)),"id"),randomized_model_canonical_item_id:o.randomized_model_canonical_item_id,randomized_model_index:o.randomized_model_index})),i=[...s3(n,({randomized_model_canonical_item_id:o})=>o).entries()].flatMap(([o,s])=>{if(o==null)return s.map(u=>({...u,state:{...u.state,randomized_model_variant_items:null,original_randomized_model_variant_items:null}}));const a=Hn(s.find(({state:{id:u},randomized_model_canonical_item_id:f})=>u==f)),l=s.filter(({state:{id:u}})=>u!=a.state.id).map(u=>{if(u.ordered_item_option_ids.length!=a.ordered_item_option_ids.length)throw new Error("All variants of a replicated item must have the same number of item options");const f=new Map(JW(a.ordered_item_option_ids,u.ordered_item_option_ids).map(([h,m])=>[Hn(h),Hn(m)]));return{id:u.state.id,order:u.order,canonicalItemOptionIdsToVariantItemOptionIds:f,randomized_model_index:Hn(u.randomized_model_index,"If randomized_model_canonical_item_id is set, so should randomized_model_index")}}).sort(({order:u},{order:f})=>u-f),c={...a.state,randomized_model_variant_items:l,original_randomized_model_variant_items:l};return[{...a,state:c}]}).sort(({order:o},{order:s})=>o-s).map(({state:o})=>o);return{...e,template:{...e,questions:i}}}var Rk;function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$x.apply(this,arguments)}var S5=function(t){return b.createElement("svg",$x({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 17 16"},t),Rk||(Rk=b.createElement("path",{stroke:"#212121",strokeLinecap:"round",strokeLinejoin:"round",d:"m13.333 7-4-4M5.833 14.5l-5 1 1-5 10-10 4 4-10 10"})))};const GS=b.createContext(null),Yfe=Object.freeze(Object.defineProperty({__proto__:null,default:GS},Symbol.toStringTag,{value:"Module"}));function Zfe({node:e,node:{text:t,description:n},setNode:r,allNodes:i,setAllNodes:o,path:s,dragSourceRef:a}){const{item:l}=ai(GS),c=b.useMemo(()=>hW(l.itemOptions,l.type,e),[l.itemOptions,l.type,e]),u=b.useRef(null),f=b.useMemo(()=>{var _;return!("children"in e&&((_=e.children)!=null&&_.length))},[e]),[h,m]=b.useState(!1),p=b.useMemo(()=>n?S5:H1,[n]),g=b.useMemo(()=>n?"edit description":"add description",[n]);return b.useEffect(()=>{var _;h&&((_=u.current)==null||_.focus())},[h]),d.jsxs("div",{className:Se("hover:tw-bg-black-5","tw-flex tw-flex-col tw-items-stretch"),children:[d.jsxs("div",{className:Se("tw-flex tw-justify-between tw-items-center","tw-group","tw-transition-all"),children:[d.jsxs("div",{className:Se("tw-flex tw-items-center tw-flex-nowrap","tw-flex-grow"),children:[d.jsx("div",{ref:a,className:"tw-flex-grow-0 tw-cursor-move tw-px-2",children:d.jsx(O3,{className:Se("tw-w-2")})}),c!=null&&d.jsxs("div",{className:Se({"tw-text-gray-400":!(t!=null&&t.length)}),children:[c,"."]}),d.jsx("input",{className:"tw-bg-transparent tw-border-0 tw-outline-none tw-flex-grow tw-h-input-sm tw-px-1",placeholder:"Text for option",value:t||"",onChange:_=>r({...e,text:_.target.value})})]}),d.jsxs("div",{className:Se("tw-flex tw-flex-nowrap tw-items-center","tw-mx-1"),children:[f?d.jsxs("button",{onClick:()=>m(!0),className:Se("group-hover:tw-visible","tw-flex tw-items-center tw-space-x-1","tw-mx-3","tw-text-primary-light-100",{"tw-invisible":!n&&!h}),children:[d.jsx(p,{className:Se("tw-mr-1","tw-h-3 tw-w-3")}),d.jsx("div",{style:{minWidth:100},children:g})]}):null,d.jsx("button",{onClick:()=>{e.id==null?o(Jz(i,s)):r({...e,_destroy:!0})},className:Se("group-hover:tw-visible tw-invisible"),children:d.jsx(YA,{className:"tw-text-gray-500"})})]})]}),h&&d.jsx("textarea",{ref:u,value:n||"",onChange:_=>{r({...e,description:_.target.value})},onBlur:()=>{m(!1)},className:Se("tw-ml-10","tw-mb-6","tw-p-2","tw-rounded-md tw-bg-black-5 tw-border-black-10",{"tw-visible":h})})]})}const Qfe=({children:e})=>d.jsx("div",{className:Se("tw-pl-12","tw-divide-y tw-divide-solid tw-divide-black-10"),children:e});function C5({item:e,setOptions:t,showOptionsEmptyError:n}){const r=b.useCallback(i=>{if(typeof i=="function")throw new Error("setOptionsWithEmptyNodes doesn't support functions");t(Of(i,e.type))},[e.type,t]);return $c[e.type].options?d.jsx(GS.Provider,{value:{item:e},children:d.jsxs("div",{className:Se(),children:[d.jsx("div",{className:Se("tw-mb-3","tw-font-semibold tw-text-size-large tw-text-black-100"),children:"Options"}),d.jsxs("div",{className:Se("tw-flex tw-flex-col","tw-divide-y tw-divide-solid tw-divide-black-10","tw-border-t tw-border-black-10"),children:[d.jsx(JA,{nodes:e.itemOptions,getNodeKey:i=>i.reactKey,setNodes:r,NodeRenderer:Zfe,ChildrenContainer:Qfe,dragAreaIdentifier:e.id||"new"+Math.random(),depthLimit:e.type=="tree_selection"?2:1,filterFunc:i=>!i._destroy}),n?d.jsx("div",{className:Se("tw-text-negative-50"),children:"At least one option must have some text."}):null]})]})}):null}const Jfe=Object.freeze(Object.defineProperty({__proto__:null,default:C5},Symbol.toStringTag,{value:"Module"}));function T5({text:e,explanation:t}){return d.jsxs("div",{className:"tw-flex tw-flex-nowrap tw-items-center tw-space-x-1",children:[d.jsx("div",{children:e}),d.jsx(yn,{content:t,delay:[0,1e3],interactive:!0,children:d.jsx("div",{children:d.jsx(DU,{})})})]})}const Xfe=Object.freeze(Object.defineProperty({__proto__:null,SettingLabel:T5},Symbol.toStringTag,{value:"Module"}));function lv(e,t){const{projectIsPopQuiz:n}=ai(ui);return t===null?!0:n&&Wfe[t]||!$c[e][t]}const ehe=Object.freeze(Object.defineProperty({__proto__:null,useShouldHideAdvancedSetting:lv},Symbol.toStringTag,{value:"Module"}));function ms({explanation:e,text:t,item:n,setting:r,children:i}){return lv(n.type,r)?null:d.jsxs("div",{className:"tw-flex tw-flex-nowrap tw-items-center tw-justify-between tw-space-x-2",children:[d.jsx(T5,{explanation:e,text:t}),i]})}const the=Object.freeze(Object.defineProperty({__proto__:null,default:ms},Symbol.toStringTag,{value:"Module"}));function j5({item:e,setItem:t}){const n=b.useMemo(()=>e.is_about_all_randomized_models?"isAboutAllRandomizedModels":e.randomized_model_variant_items!=null?"replicateForEachRandomizedModel":"none",[e.is_about_all_randomized_models,e.randomized_model_variant_items]),r=b.useMemo(()=>!!e.id&&n!=="none",[n,e.id]),{modelRandomizationSettings:i}=ai(ui),o=b.useMemo(()=>e.id==null&&n!=="none"?"Once you save this question, you won't be able to change this setting.":e.id?"You have saved this question. Therefore, you are not able to change this setting.":null,[n,e.id]);return d.jsx(ms,{explanation:o,text:"Model randomization:",item:e,setting:null,children:d.jsx(dl,{disabled:r,entriesMap:new Map([["none","Not involved in randomization."],["replicateForEachRandomizedModel","Replicated for each model."],["isAboutAllRandomizedModels","One question about all models."]]),entry:n,setEntry:s=>{if(r)throw Error("This codepath should be unreachable. Ie, Dropdown should not be change-able if forbidChanging is true.");switch(s){case"replicateForEachRandomizedModel":{let a=e.original_randomized_model_variant_items;a||(a=Hn(i).slice(1).map((l,c)=>({order:c,randomized_model_index:c+1,canonicalItemOptionIdsToVariantItemOptionIds:new Map}))),t({...e,randomized_model_variant_items:a,is_about_all_randomized_models:!1});return}case"isAboutAllRandomizedModels":{t({...e,is_about_all_randomized_models:!0,randomized_model_variant_items:null});return}case"none":{t({...e,is_about_all_randomized_models:null,randomized_model_variant_items:null});return}default:Lt()}}})})}const nhe=Object.freeze(Object.defineProperty({__proto__:null,default:j5},Symbol.toStringTag,{value:"Module"}));function E5({item:e,setItem:t}){const{llmModelsQuery:n}=ai(ui),r=b.useMemo(()=>{if(!e.llm_model_id)return null;switch(n.status){case"loading":case"not_loaded":return n.status==="not_loaded"&&n.load(),"Loading ...";case"failure":return"Failed to load models. Please save and refresh.";case"loaded":return Hn(n.data.find(a=>a.id===e.llm_model_id)).llm_model_name}},[e.llm_model_id,n]),i=b.useMemo(()=>d.jsxs("button",{className:"tw-border tw-rounded-md tw-border-black-20 tw-h-9 tw-w-72 tw-flex tw-justify-between tw-items-center tw-px-4",children:[d.jsx("div",{className:Se({"tw-italic tw-text-gray-70":!e.llm_model_id},"tw-overflow-hidden tw-overflow-ellipsis tw-whitespace-nowrap"),children:r}),d.jsx(cu,{className:"tw-text-black-50"})]}),[r,e.llm_model_id]),o="Select the specific LLM that will complete the prompt.",s=b.useMemo(()=>{switch(n.status){case"failure":case"not_loaded":case"loading":return n.status==="not_loaded"&&n.load(),[];case"loaded":return n.data.map(a=>({text:a.llm_model_name,currentlySelected:a.id===e.llm_model_id,onClick:l=>{t({...e,llm_model_id:a.id}),l()}}))}},[e,n,t]);return d.jsx(ms,{explanation:o,text:"Large Language Model:",item:e,setting:"llm_model_id",children:d.jsx(uu,{items:s,head:i,headContainerClassName:"tw-w-min",placement:"bottom-start",className:"tw-z-10"})})}const rhe=Object.freeze(Object.defineProperty({__proto__:null,default:E5},Symbol.toStringTag,{value:"Module"}));function Yp({item:e,setItem:t,optionTextKey:n,explanation:r,text:i,forItemOrder:o}){const{persistedItemOptions:s}=ai(ui),a=e[n],l=d.jsxs("button",{className:Se("tw-border tw-rounded-md tw-border-black-20","tw-h-9 tw-w-72","tw-flex tw-justify-between tw-items-center","tw-px-4"),"data-testid":"dropdown-head",children:[d.jsx("div",{className:Se({"tw-italic tw-text-gray-70":!a},"tw-overflow-hidden tw-overflow-ellipsis tw-whitespace-nowrap"),children:a||"No option selected"}),d.jsx(cu,{className:Se("tw-text-black-50")})]}),c=s.filter(({itemOrder:u})=>o===void 0||o===u).map(({itemOrder:u,optionText:f})=>{const h=o===void 0?`${u}. ${f}`:f;return{text:d.jsx("div",{className:Se("tw-overflow-hidden tw-overflow-ellipsis tw-whitespace-nowrap"),style:{maxWidth:300},children:h}),currentlySelected:a===h,onClick:m=>{t({...e,[n]:a===h?null:h}),m()}}});return d.jsx(ms,{explanation:r,text:i,item:e,setting:n,children:d.jsx(uu,{items:c,head:l,headContainerClassName:"tw-w-min",placement:"bottom-start",className:"tw-z-10",isSearchable:!0})})}const ihe=Object.freeze(Object.defineProperty({__proto__:null,default:Yp},Symbol.toStringTag,{value:"Module"}));function k5({setting:e,item:t,setItem:n,text:r,options:i,explanation:o}){const s=b.useMemo(()=>t[e]||[],[t,e]),a=b.useMemo(()=>d.jsxs("button",{className:Se("tw-border tw-rounded-md tw-border-black-20","tw-h-9 tw-w-72","tw-flex tw-justify-between tw-items-center","tw-px-4"),children:[d.jsx("div",{className:Se({"tw-italic tw-text-gray-70":!s}),children:s.join(", ")||"No column selected"}),d.jsx(cu,{className:Se("tw-text-black-50")})]}),[s]),l=b.useMemo(()=>i.map(c=>{const u=s.includes(c.values[0]);return{text:c.label,currentlySelected:u,Icon:u?eH:void 0,onClick:()=>{n(u?{...t,[e]:s.filter(f=>!c.values.includes(f))}:{...t,[e]:s.concat(c.values)})}}}),[s,i,t,n,e]);return d.jsx(ms,{explanation:o,text:r,item:t,setting:e,children:d.jsx(uu,{items:l,head:a,headContainerClassName:"tw-w-min",placement:"bottom-start",className:"tw-z-10"})})}const ohe=Object.freeze(Object.defineProperty({__proto__:null,default:k5},Symbol.toStringTag,{value:"Module"}));function cv({selected:e,setSelected:t,options:n,placeholder:r}){const i=b.useMemo(()=>{var s;return d.jsxs("button",{className:"tw-border tw-rounded-md tw-border-black-20 tw-h-9 tw-w-72 tw-flex tw-justify-between tw-items-center tw-px-4",children:[d.jsx("div",{children:((s=n.find(a=>a.value===e))==null?void 0:s.label)||r}),d.jsx(cu,{className:"tw-text-black-50"})]})},[e,n,r]),o=b.useMemo(()=>n.map(s=>({currentlySelected:s.value===e,text:s.label,onClick:a=>{t(s),a()}})),[t,e,n]);return d.jsx(uu,{placement:"bottom-start",head:i,headContainerClassName:"tw-w-min",items:o})}const she=Object.freeze(Object.defineProperty({__proto__:null,default:cv},Symbol.toStringTag,{value:"Module"}));function Ix({setting:e,item:t,setItem:n,text:r,dataKeys:i,explanation:o}){const s=b.useMemo(()=>t[e],[t,e]),a=b.useMemo(()=>i.map(c=>({value:c,label:c})),[i]),l=b.useCallback(({value:c})=>{n({...t,[e]:s===c?null:c})},[n,t,e,s]);return d.jsx(ms,{explanation:o,text:r,item:t,setting:e,children:d.jsx(cv,{options:a,selected:s,placeholder:"No column selected",setSelected:l})})}const ahe=Object.freeze(Object.defineProperty({__proto__:null,default:Ix},Symbol.toStringTag,{value:"Module"}));function dr({settingToToggle:e,item:t,setItem:n,text:r,explanation:i}){const o=b.useMemo(()=>!!t[e],[t,e]),s=b.useCallback(a=>n({...t,[e]:a}),[t,n,e]);return d.jsx(ms,{explanation:i,text:r,setting:e,item:t,children:d.jsx(ko,{enabled:o,setEnabled:s,screenReaderText:r})})}const lhe=Object.freeze(Object.defineProperty({__proto__:null,default:dr},Symbol.toStringTag,{value:"Module"}));function O5({setting:e,item:t,setItem:n,placeholder:r,text:i,explanation:o}){return d.jsx(ms,{explanation:o,text:i,item:t,setting:e,children:d.jsx(pn,{placeholder:r,label:"",type:"text",className:"tw-w-72",value:t[e]||"",onChange:s=>n({...t,[e]:s.target.value})})})}const che=Object.freeze(Object.defineProperty({__proto__:null,default:O5},Symbol.toStringTag,{value:"Module"}));function Dx({setting:e,item:t,setItem:n,placeholder:r,text:i,min:o,max:s,explanation:a}){return d.jsx(ms,{explanation:a,text:i,item:t,setting:e,children:d.jsx(pn,{placeholder:r,label:"",type:"number",min:o,max:s,className:"tw-w-72",value:t[e]||"",onChange:l=>{let c;return l.target.value.length?c=parseFloat(l.target.value):c=null,n({...t,[e]:c})}})})}const uhe=Object.freeze(Object.defineProperty({__proto__:null,default:Dx},Symbol.toStringTag,{value:"Module"}));function M5({item:e,setItem:t,dataKeys:n,order:r}){return d.jsxs(I1,{placement:"bottom-end",className:"tw-rounded tw-shadow-md tw-bg-white-100 tw-p-6 tw-space-y-4",head:d.jsx("button",{className:"tw-flex tw-flex-nowrap tw-items-center tw-justify-end tw-space-x-2 tw-pl-3 tw-text-primary-light-100",children:d.jsx(Xee,{className:"tw-w-6"})}),headContainerClassName:"tw-w-min",children:[d.jsx(j5,{item:e,setItem:t}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"horizontal",text:"Horizontal?",explanation:"Display horizontally?"}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"require_tie_breaker",text:"Require tie breaker?",explanation:"If agreement rate is less than or equal to fifty percent on this item for a task, collect another task response."}),d.jsx(Ix,{setting:"hide_if_data_key",setItem:t,item:e,text:"Hide by data:",dataKeys:n,explanation:"If the value of this column is '1' for a given task, this item will be hidden for that task."}),d.jsx(Ix,{setting:"preexisting_annotations",setItem:t,item:e,text:"Load pre-existing annotations from:",dataKeys:n,explanation:"The contents of this column will be loaded as the default value when workers are labeling data."}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"ner_allow_overlapping_tags",text:"Allow overlapping tags?",explanation:"Allow workers to tag one piece of text with multiple entities."}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"ner_allow_relationship_tags",text:"Enable relationship tagging?",explanation:"Enable this if you want workers to be able to create links between tagged entities."}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"ner_token_granularity",text:"Enable word snapping?",explanation:"Snap tags to word boundaries. Disable this if you need pieces of words."}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"allow_ranking_ties",text:"Allow ties?",explanation:"This sets whether the interface should allow Surgers to rank two options equally."}),d.jsx(Yp,{optionTextKey:"shown_by_item_option_text",explanation:"If this value is set, the item will be hidden by default and only shown when the item option with the provided text is selected.",text:"Show by",item:e,setItem:t}),d.jsx(Yp,{optionTextKey:"hidden_by_item_option_text",explanation:"If this value is set, the item will be HIDDEN when the item option with the provided text is selected.",text:"Hide by",item:e,setItem:t}),d.jsx(E5,{item:e,setItem:t}),d.jsx(O5,{setting:"free_response_validation_regex",text:"Validate with regular expression?",placeholder:"Place the regular expression here.",item:e,setItem:t,explanation:d.jsxs("span",{children:["Responses must fully match the regular expression. Please clearly indicate the required format in your question. For more help, see our"," ",d.jsx("a",{target:"_blank",href:"https://surgeai.notion.site/Regular-expressions-on-Surge-6c29b6d0d71f46fb9d2712490c9c37d0",rel:"noreferrer",children:"documentation."})]})}),d.jsx(Dx,{setting:"min_word_count",text:"Minimum word count:",placeholder:"",item:e,setItem:i=>{t(tr(i,o=>{o.validationErrors.wordCountsLimitsAreNegative=void 0,o.validationErrors.maxWordCountSmallerThanMin=void 0}))},max:e.max_word_count||void 0,explanation:"Minimum word count."}),d.jsx(Dx,{setting:"max_word_count",text:"Maximum word count:",placeholder:"",item:e,setItem:i=>{t(tr(i,o=>{o.validationErrors.wordCountsLimitsAreNegative=void 0,o.validationErrors.maxWordCountSmallerThanMin=void 0}))},min:e.min_word_count||void 0,explanation:"Maximum word count."}),d.jsx(Yp,{optionTextKey:"hide_in_results_by_item_option_text",text:"Hide response in customer results by",explanation:"If this value is set, the entire response will be hidden from customer results when the item option with the provided text is selected on this item.",item:e,setItem:t,forItemOrder:r}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"only_show_in_review",text:"Hide for workers",explanation:"If selected, the item will not be shown to workers - only in rate and review, admin review, and results."}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"hide_in_review",text:"Hide in review",explanation:"If selected, the item will not be shown in rate and review and admin review - only to workers and in results."}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"hide_from_customers",text:"Hide from customers",explanation:"If selected, the item will not be shown in the results page to customers - only to admins and super surgers."}),d.jsx(k5,{item:e,setItem:t,text:"Accepted file types:",explanation:"Only files with the selected extensions will be accepted.",options:Hfe,setting:"accepted_file_types"}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"holistic",text:"Holistic?",explanation:"If selected, the question will be shown on every page of the RLHF carousel projects, and on the first page of non RLHF carousel projects. Only intended for carousel projects."}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"show_holistic_question_at_start",text:"Show holistic question at start?",explanation:"If selected, for non RLHF carousel projects, show the holistic question on the first carousel round/top. By default, they are at the end."}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"is_copy_paste_log",text:"Use to collect copy-paste usage?",explanation:"If selected, whenever a Surger pastes from the worker task response editor, the pasted text will be sent to this question as part of task response submission."}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"disable_editing_in_review",text:"Disable editing in review?",explanation:"If selected, reviewers will not be able to edit these responses in a review of this project."}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"allow_force_submit_if_checked",text:"Allow force submission of a task if checked",explanation:`If selected, workers will be able to force submit tasks even if items are not answered, or the minimum number of turns has not been satisfied. They will be
          prompted to confirm that they want to force submit the task and asked to give a reason.`}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"use_for_rlhf_editing",text:"Use the current free response item for RLHF edits",explanation:"If selected, the following free response item will be selected for RLHF edits."}),d.jsx(dr,{item:e,setItem:t,settingToToggle:"is_code_block",text:"Use code editor",explanation:"If selected, workers will use a code editor instead of free text input. Responses will be displayed as formatted code. "})]})}const dhe=Object.freeze(Object.defineProperty({__proto__:null,default:M5},Symbol.toStringTag,{value:"Module"}));function yr({settingToToggle:e,item:t,setItem:n,Icon:r,text:i,explanation:o}){const s=b.useMemo(()=>!!t[e],[t,e]),a=b.useCallback(c=>n({...t,[e]:c}),[t,n,e]),l=b.useCallback(()=>a(!s),[s,a]);return lv(t.type,e)?null:d.jsx("div",{children:d.jsx(yn,{content:d.jsxs("div",{children:[d.jsx("div",{className:"tw-font-bold",children:i}),o]}),children:d.jsx("div",{className:"tw-cursor-pointer tw-mx-1",onClick:l,children:d.jsx(r,{className:"tw-transition-all tw-w-6 tw-h-6",stroke:s?"black":"#cbd5e1"})})})})}function N5({item:e,setItem:t}){return d.jsxs("div",{className:"tw-flex",children:[d.jsx(yr,{Icon:Ote,item:e,setItem:t,settingToToggle:"horizontal",text:"Horizontal?",explanation:"Display horizontally?"}),d.jsx(yr,{Icon:X9,item:e,setItem:t,settingToToggle:"require_tie_breaker",text:"Require tie breaker?",explanation:"If agreement rate is less than or equal to fifty percent on this item for a task, collect another task response."}),d.jsx(yr,{Icon:nte,item:e,setItem:t,settingToToggle:"ner_allow_overlapping_tags",text:"Allow overlapping tags?",explanation:"Allow workers to tag one piece of text with multiple entities."}),d.jsx(yr,{Icon:Jq,item:e,setItem:t,settingToToggle:"ner_allow_relationship_tags",text:"Enable relationship tagging?",explanation:"Enable this if you want workers to be able to create links between tagged entities."}),d.jsx(yr,{Icon:ote,item:e,setItem:t,settingToToggle:"ner_token_granularity",text:"Enable word snapping?",explanation:"Snap tags to word boundaries. Disable this if you need pieces of words."}),d.jsx(yr,{Icon:Ste,item:e,setItem:t,settingToToggle:"allow_ranking_ties",text:"Allow ties?",explanation:"This sets whether the interface should allow Surgers to rank two options equally."}),d.jsx(yr,{Icon:jte,item:e,setItem:t,settingToToggle:"only_show_in_review",text:"Hide for workers",explanation:"If selected, the item will not be shown to workers - only in rate and review, admin review, and results."}),d.jsx(yr,{Icon:_te,item:e,setItem:t,settingToToggle:"hide_in_review",text:"Hide in review",explanation:"If selected, the item will not be shown in rate and review and admin review - only to workers and in results."}),d.jsx(yr,{Icon:dte,item:e,setItem:t,settingToToggle:"hide_from_customers",text:"Hide from customers",explanation:"If selected, the item will not be shown in the results page to customers - only to admins and super surgers."}),d.jsx(yr,{Icon:pte,item:e,setItem:t,settingToToggle:"holistic",text:"Holistic?",explanation:"If selected, the question will be shown on every page of the RLHF carousel projects, and on the first page of non RLHF carousel projects. Only intended for carousel projects."}),d.jsx(yr,{Icon:Bee,item:e,setItem:t,settingToToggle:"show_holistic_question_at_start",text:"Show holistic question at start?",explanation:"If selected, for non RLHF carousel projects, show the holistic question on the first carousel round/top. By default, they are at the end."}),d.jsx(yr,{Icon:lte,item:e,setItem:t,settingToToggle:"is_copy_paste_log",text:"Use to collect copy-paste usage?",explanation:"If selected, whenever a Surger pastes from the worker task response editor, the pasted text will be sent to this question as part of task response submission."}),d.jsx(yr,{Icon:qee,item:e,setItem:t,settingToToggle:"disable_editing_in_review",text:"Disable editing in review?",explanation:"If selected, reviewers will not be able to edit these responses in a review of this project."}),d.jsx(yr,{Icon:Gee,item:e,setItem:t,settingToToggle:"allow_force_submit_if_checked",text:"Allow force submission of a task if checked",explanation:`If selected, workers will be able to force submit tasks even if items are not answered, or the minimum number of turns has not been satisfied. They will be
             prompted to confirm that they want to force submit the task and asked to give a reason.`}),d.jsx(yr,{Icon:vte,item:e,setItem:t,settingToToggle:"use_for_rlhf_editing",text:"Use the current free response item for RLHF edits",explanation:"If selected, the following free response item will be selected for RLHF edits."}),d.jsx(yr,{Icon:Zee,item:e,setItem:t,settingToToggle:"is_code_block",text:"Use code editor",explanation:"If selected, workers will use a code editor instead of free text input. Responses will be displayed as formatted code. "})]})}const fhe=Object.freeze(Object.defineProperty({__proto__:null,default:N5},Symbol.toStringTag,{value:"Module"}));function Mf({className:e,title:t,children:n,abbreviated:r=!1}){return d.jsxs("div",{className:Se("tw-px-3 tw-pt-3",{"tw-pb-3":!r,"tw-pb-0":r},"tw-rounded-xl","tw-border-black-40 tw-border","tw-flex tw-flex-col tw-items-stretch","tw-flex-grow","tw-transition-all","tw-min-w-0",e),children:[d.jsx("div",{className:Se("tw-flex tw-justify-between tw-items-center","tw-pb-3",{"tw-mb-2":!r,"tw-mb-0":r},"tw-transition-all","tw-border-black-10",{"tw-border-b":!r,"tw-border-b-0":r},"tw-min-w-0"),children:d.jsx("div",{className:Se("tw-min-w-0 tw-w-full"),children:t})}),n]})}const hhe=Object.freeze(Object.defineProperty({__proto__:null,default:Mf},Symbol.toStringTag,{value:"Module"}));function P5({dragSourceRef:e}){const{itemsAbbreviated:t}=ai(ui);return d.jsx("div",{className:Se("tw-transition-all",{"tw-absolute":!t,"tw-visible":t,"tw-py-1":t},"tw-cursor-move","tw-text-gray-400","tw-flex-grow-0 tw-flex-shrink-0","tw-w-16","tw-flex tw-justify-center"),ref:t?e:null,children:d.jsx(O3,{className:Se({"tw-h-8 tw-w-3":t,"tw-invisible tw-opacity-0 tw-w-0 tw-h-0":!t})})})}const phe=Object.freeze(Object.defineProperty({__proto__:null,default:P5},Symbol.toStringTag,{value:"Module"})),$k={model_1_id:"",model_1_worker_name:"",model_2_id:"",model_2_worker_name:"",client:"",randomized:!0,word_count:!1},Ik={request:"",parser:""};function A5({node:e,setNode:t}){const n=b.useMemo(()=>{const r=e.type==="chat"?e.chat_advanced_options:e.model_advanced_options;if(typeof r=="string")return r;{const i=JSON.stringify(r,null,2);return i==="{}"?"":i}},[e]);return e.type!=="chat"&&e.type!=="model_generation"?d.jsx(d.Fragment,{}):d.jsxs(d.Fragment,{children:[d.jsx(Do,{value:n,placeholder:JSON.stringify(e.type==="chat"?$k:Ik,null,2),label:"Advanced options:",labelColor:"gray",onChange:r=>{try{const i=JSON.parse(r.currentTarget.value);t(tr(e,o=>{e.type==="chat"?o.chat_advanced_options=i:o.model_advanced_options=i,o.validationErrors.invalidJson=!1}))}catch{t(tr(e,i=>{e.type==="chat"?i.chat_advanced_options=r.currentTarget.value:i.model_advanced_options=r.currentTarget.value,i.validationErrors.invalidJson=!0}))}},onClick:()=>{e.type==="chat"?(!e.chat_advanced_options||JSON.stringify(e.chat_advanced_options)==="{}")&&t({...e,chat_advanced_options:$k}):(!e.model_advanced_options||JSON.stringify(e.model_advanced_options)==="{}")&&t({...e,model_advanced_options:Ik})}}),e.validationErrors.invalidJson?d.jsx("div",{className:"tw-text-negative-50 tw-mb-4",children:"The input must be valid JSON."}):null]})}const mhe=Object.freeze(Object.defineProperty({__proto__:null,default:A5},Symbol.toStringTag,{value:"Module"}));function R5({disabled:e,item:t,setItem:n}){return d.jsxs("div",{className:Se("tw-flex tw-items-center tw-space-x-2"),children:[d.jsx(ko,{disabled:e,enabled:t.required||e,setEnabled:r=>n({...t,required:r}),screenReaderText:"Answer Required"}),d.jsx("div",{children:"Required"})]})}const ghe=Object.freeze(Object.defineProperty({__proto__:null,default:R5},Symbol.toStringTag,{value:"Module"})),KS=({onClick:e})=>d.jsx("div",{className:"tw-text-red-500 tw-cursor-pointer tw-inline",onClick:e,children:d.jsx(a3,{className:"tw-w-4"})}),YS=({text:e,onClick:t})=>d.jsxs("button",{className:"tw-flex tw-text-primary-light-100 tw-gap-2 tw-items-center tw-cursor-pointer",onClick:t,children:[d.jsx(H1,{className:Se("tw-w-4")}),e]}),vhe=Object.freeze(Object.defineProperty({__proto__:null,AddButton:YS,DeleteButton:KS},Symbol.toStringTag,{value:"Module"})),$5=[{type:"",label:"",fields:[]},{type:"SHOW_BY_ITEM_OPTION_LIST",label:"Item is one of",fields:["ITEM_OPTIONS"]},{type:"HIDE_BY_ITEM_OPTION_LIST",label:"Item is NOT one of",fields:["ITEM_OPTIONS"]},{type:"HIDE_BY_DATA",label:"Data value is",fields:["DATA_VALUE"]},{type:"SHOW_BY_DATA",label:"Data value is NOT",fields:["DATA_VALUE"]}],I5=new Map;$5.forEach(e=>{I5.set(e.type,e)});const bhe=({value:e,forItemOrder:t,onChange:n})=>{const{persistedItemOptions:r}=ai(ui),i=r.filter(({itemOrder:o})=>t===void 0||t===o).map(({itemOrder:o,optionText:s})=>{const a=t===void 0?`${o}. ${s}`:s;return d.jsx("option",{children:a},a)});return d.jsxs("select",{className:"tw-w-full",value:e==null?void 0:e.item_option_text,onChange:o=>n({item_option_text:o.target.value}),children:[d.jsx("option",{value:""}),i]})},D5=Le.forwardRef(({value:e,onChange:t,dataKeys:n,error:r=!1},i)=>{const o=n.map(s=>d.jsx("option",{value:s,children:s},s));return d.jsx("div",{className:"tw-flex tw-flex-col",children:d.jsxs("select",{className:`tw-w-full ${r?" tw-border tw-border-red-400":""}`,value:e,onChange:s=>t(s.target.value),children:[d.jsx("option",{value:""}),o]})})});D5.displayName="DataKeyDropdown";const L5=Le.forwardRef(({value:e,onChange:t},n)=>d.jsx("input",{value:e||"",onChange:r=>t(r.target.value)}));L5.displayName="DataValueInput";const F5=Le.forwardRef(({value:e,onChange:t,disabled:n,error:r},i)=>{const o=$5.map(({type:s,label:a})=>d.jsx("option",{value:s,children:a},s));return d.jsx("div",{className:"tw-w-4/12",children:d.jsx("select",{className:`tw-w-full ${r?"tw-border tw-border-red-400":""}`,value:e,onChange:s=>t&&t(s.target.value),disabled:n,children:o})})});F5.displayName="TypeDropdown";const yhe=({error:e,value:t=[],onChange:n})=>{const r=()=>{n([...t,{}])},i=s=>{const a=[...t];a.splice(s,1),n(a)},o=(s,a)=>{const l=[...t];l[s]=a,n(l)};return d.jsxs("div",{className:`tw-flex tw-flex-col tw-gap-2 tw-justify-center tw-p-2 tw--my-2 ${e?"tw-border tw-border-red-400":""}`,children:[t.map((s,a)=>d.jsxs("div",{className:"tw-gap-4 tw-flex tw-items-center",children:[d.jsx(bhe,{value:s,onChange:l=>o(a,l)}),d.jsx(KS,{onClick:()=>i(a)})]},a)),d.jsx("div",{children:d.jsx(YS,{text:"Option",onClick:r})})]})},_he=({condition:e,index:t,updateCondition:n,deleteCondition:r,dataKeys:i})=>{const{control:o,handleSubmit:s,watch:a,setValue:l,formState:{errors:c,isDirty:u}}=B1({defaultValues:e}),f=a("type"),h=a("item_options"),m=a("data_value"),p=a("data_key"),g=I5.get(f),_=g==null?void 0:g.fields.includes("ITEM_OPTIONS"),x=g==null?void 0:g.fields.includes("DATA_VALUE");b.useEffect(()=>{p&&!m&&l("data_value",""),(u||!e.type)&&s(C=>n(C,t))()},[u,f,p,m,e.type,h]);const S=()=>{r(t)};return d.jsxs("div",{className:"tw-flex tw-flex-row tw-pt-4 tw-mt-4 tw-gap-2",style:{borderTop:"1px solid #eee"},children:[d.jsx(Qh,{name:"type",control:o,rules:{required:"Type is required"},render:({field:C})=>d.jsx(F5,{...C,error:!!c.type})}),d.jsxs("div",{className:"tw-flex-grow tw-flex tw-flex-col tw-w-7/12",children:[_&&d.jsx(Qh,{name:"item_options",control:o,rules:{required:"Required",validate:{notNull:C=>(C==null?void 0:C.every(j=>j.item_option_text))||"Item cannot be empty."}},render:({field:C})=>d.jsx(yhe,{...C,error:!!c.item_options})}),x&&d.jsxs("div",{className:"tw-flex tw-flex-row tw-gap-2 tw-align-middle",children:[d.jsx(Qh,{name:"data_key",control:o,rules:{required:"Required"},render:({field:C})=>d.jsx(D5,{...C,dataKeys:i,error:!!c.data_key})}),d.jsx("div",{children:"="}),d.jsx(Qh,{name:"data_value",control:o,render:({field:C})=>d.jsx(L5,{...C})})]})]}),d.jsx("div",{className:"tw-w-1/12 tw-flex tw-justify-center tw-pt-2",children:d.jsx(KS,{onClick:S})})]})};function xhe({item:e,setItem:t,settingName:n,dataKeys:r}){var a;if(lv(e.type,n))return null;const i=()=>{const{display_conditions:l=[]}=e,c=[...l];c.push({type:""}),t({...e,display_conditions:c})},o=l=>{const c=[...e.display_conditions??[]];c.splice(l,1),t({...e,display_conditions:c})},s=(l,c)=>{const u=[...e.display_conditions??[]];u[c].type&&u[c].type!==l.type&&(l={type:l.type}),u[c]=l,t({...e,display_conditions:u})};return d.jsxs("div",{className:Se("tw-flex tw-flex-col tw-w-screen md:tw-w-200"),children:[d.jsxs("div",{children:[d.jsx("div",{className:"tw-font-bold",children:"Display conditions"}),d.jsx("div",{children:e.display_conditions.length===0?d.jsx("div",{className:"tw-italic",children:"No display conditions"}):d.jsx("div",{children:"Question hidden unless ALL conditions below are true."})})]}),(a=e.display_conditions)==null?void 0:a.map((l,c)=>d.jsx(_he,{condition:l,index:c,updateCondition:s,deleteCondition:o,dataKeys:r},c)),d.jsx("div",{className:"tw-pt-4 tw-mt-4",style:{borderTop:"1px solid #eee"},children:d.jsx(YS,{text:"Condition",onClick:i})})]})}function z5({item:e,setItem:t,dataKeys:n}){var r,i;return d.jsx(I1,{placement:"bottom-end",className:Se("tw-rounded","tw-shadow-md","tw-bg-white-100","tw-p-6","tw-space-y-4"),head:d.jsxs("button",{className:Se("tw-flex tw-flex-nowrap tw-items-center tw-justify-end","tw-space-x-2","tw-w-60","tw-text-primary-light-100"),children:[d.jsx(cu,{className:Se("tw-w-6")}),d.jsxs("div",{className:((r=e.display_conditions)==null?void 0:r.length)>0?"tw-font-bold":"",children:["Display conditions",((i=e.display_conditions)==null?void 0:i.length)>0&&` (${e.display_conditions.length})`]})]}),headContainerClassName:"tw-w-min",children:d.jsx(xhe,{item:e,setItem:t,settingName:"display_conditions",dataKeys:n})})}const whe=Object.freeze(Object.defineProperty({__proto__:null,default:z5},Symbol.toStringTag,{value:"Module"}));var Dk,Lk;function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lx.apply(this,arguments)}var She=function(t){return b.createElement("svg",Lx({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 16 16"},t),Dk||(Dk=b.createElement("path",{stroke:"#373737",strokeLinecap:"round",strokeLinejoin:"round",d:"M2 4h12M5.333 4V2.667a1.333 1.333 0 0 1 1.333-1.334h2.667a1.333 1.333 0 0 1 1.333 1.334V4m2 0v9.333a1.333 1.333 0 0 1-1.333 1.334H4.666a1.334 1.334 0 0 1-1.333-1.334V4h9.333"})),Lk||(Lk=b.createElement("path",{stroke:"#373737",d:"M6.5 7v4M9.5 7v4"})))};const Zp={checkbox:"Checkbox",chat:"Chat",file_upload:"File Upload",free_response:"Free Response",multiple_choice:"Multiple Choice",text_tagging:"Named Entity Recognition",ranking:"Ranking",text:"Text Area",tree_selection:"Tree Selection",llm:"Async LLM Completion",likert:"Likert",model_generation:"Model Generation",review:"Review Score",review_comment:"Review Comment",custom_renderer:"Anthropic Chat Renderer",api_call:"API Call"},Che=Object.entries(Zp).filter(([e])=>e!=="review"&&e!=="review_comment"),The=["llm","model_generation"],jhe={api_call:{endpointSlug:null,options:{}}};function Ehe({type:e,setType:t,availableTypes:n}){const r=b.useContext(ZA),i=b.useMemo(()=>n.filter(([o])=>!The.includes(o)||((r==null?void 0:r.admin)??!1)).map(([o,s])=>({value:o,label:s})),[r==null?void 0:r.admin,n]);return d.jsx(cv,{options:i,selected:e,setSelected:o=>t(o.value)})}function khe(e,t){if(e.type==t)return e;t==="text_tagging"&&(e={...e,text:e.text?h3(e.text):null});let n;if(e.type!="tree_selection"&&t!="tree_selection")n={...e,type:t};else if(t=="tree_selection")n={...e,type:t,itemOptions:Of(US(e.itemOptions),"tree_selection")};else{if(e.type!="tree_selection")throw new Error;n={...e,type:t,itemOptions:Of(kf(e.itemOptions),t)}}return n}function B5(e){return{...e,_fake_id:Yc(),id:void 0,_destroy:void 0}}function W5(e){return{...B5(e),children:e.children.map(t=>W5(t))}}function Ohe(e){return{...aR(e),_fake_id:Yc(),itemOptions:e.itemOptions.map(B5),id:void 0,_destroy:void 0,reactKey:fu()}}function Mhe(e){return{...aR(e),_fake_id:Yc(),itemOptions:e.itemOptions.map(W5),id:void 0,_destroy:void 0,reactKey:fu()}}function Nhe({node:e,setNode:t}){const n=b.useMemo(()=>{var a;return((a=e.advanced_options)==null?void 0:a.api_call)??jhe.api_call},[e]),r=b.useCallback(a=>{const l=a(n);t({...e,advanced_options:{...e.advanced_options??{},[e.type]:{...n,...l}}})},[t,e,n]),i=b.useMemo(()=>n.options||{},[n]),o=b.useMemo(()=>mT.find(a=>a.slug===n.endpointSlug),[n]),s=b.useMemo(()=>mT.map(a=>({value:a.slug,label:a.name})),[]);return d.jsxs("div",{className:Se("tw-space-y-2","tw-my-2"),children:[d.jsx(ul,{options:s,value:s.find(a=>a.value===n.endpointSlug),onChange:a=>a&&r(()=>({endpointSlug:a.value})),isMulti:!1,menuPortalTarget:document.body}),o&&o.options.map(a=>d.jsx(pn,{value:i[a.name]||"",label:a.name,onChange:l=>r(c=>({options:{...(c==null?void 0:c.options)||{},[a.name]:l.target.value}}))},a.name))]})}const Fx=new Set(["likert","free_response"]),Phe=[["emptyText","Question must have some text."],["maxWordCountSmallerThanMin","The maximum word count must be greater than the minimum."],["wordCountsLimitsAreNegative","The minimum and maximum word counts must be non-negative if they are present."]];function H5({node:e,setNode:t,duplicateItem:n,deleteItem:r,order:i,dragSourceRef:o,isReviewTypeAvailable:s,isReviewCommentTypeAvailable:a,itemsAbbreviated:l,dataKeys:c,advancedTemplateStructure:u}){var k,T;const[f,h]=b.useState(!!e.label),m=$c[e.type].label,p=$c[e.type].required,g=b.useMemo(()=>{const y=[...Che,s&&["review",Zp.review],a&&["review_comment",Zp.review_comment]].filter(Boolean);return y.some(([P])=>P===e.type)||y.push([e.type,Zp[e.type]]),y},[s,a,e.type]),_=$c[e.type],x=b.useMemo(()=>d.jsxs("div",{className:Se("tw-flex tw-flex-wrap tw-items-center tw-justify-between tw-space-x-2","tw-min-w-0"),children:[d.jsxs("h5",{className:Se("tw-font-semibold tw-text-size-large tw-text-black-100","tw-overflow-hidden tw-whitespace-nowrap","tw-flex-shrink-0","tw-flex-grow-0","tw-mb-0"),children:["#",i," |"]}),d.jsx(Ehe,{type:e.type,setType:y=>{if(e.type!="text_tagging"&&y=="text_tagging"&&!confirm("Switching the type to Named Entity Recognition (NER) will (irrevocably) strip question text below of all formatting, since NER questions can only have plain text content. Are you sure you want to proceed?"))return;const P=khe(e,y),A=tr(P,$=>{$.validationErrors.optionsAreEmpty=!1});return t(A)},availableTypes:g}),l&&u!="model_randomization"&&d.jsxs("div",{className:Se("tw-overflow-hidden tw-overflow-ellipsis tw-whitespace-nowrap"),children:[m&&e.label&&`${e.label} > `,h3(e.text||"")]}),d.jsx(Jf,{}),e.questionCategories&&e.questionCategories.length>0&&d.jsx(cv,{options:e.questionCategories.map(y=>({value:y,label:`Category: ${y}`})),setSelected:y=>t({...e,question_category:y.value}),selected:e.question_category}),t&&e&&_&&(e.type=="chat"||e.type=="model_generation")&&d.jsxs("div",{className:Se("tw-flex tw-items-center tw-space-x-2"),children:[d.jsx(ko,{enabled:e.use_rlhf||!_.use_rlhf,setEnabled:y=>t({...e,use_rlhf:y}),screenReaderText:"Is RLHF Project?"}),d.jsx("div",{children:"Is RLHF Project?"})]}),d.jsx("div",{className:"tw-flex-grow"}),d.jsxs("div",{className:"tw-pr-8 tw-flex",children:[d.jsx(N5,{item:e,setItem:t}),d.jsx(M5,{item:e,setItem:t,dataKeys:c,order:i})]}),d.jsxs("div",{className:Se("tw-flex tw-space-x-2","tw-ml-4"),children:[d.jsx("div",{children:d.jsx(yn,{content:"Duplicate",children:d.jsx("button",{onClick:n,className:Se("active:tw-bg-gray-200 tw-rounded-lg tw-px-2 tw-py-1","tw-flex tw-items-center tw-space-x-2","tw-text-primary-default-100"),children:d.jsx(LU,{className:Se("tw-w-4 tw-h-4")})})})}),d.jsx("div",{children:d.jsx(yn,{content:"Delete",children:d.jsx("button",{onClick:r,className:Se("active:tw-bg-gray-200 tw-rounded-lg tw-px-2 tw-py-1","tw-flex tw-items-center tw-space-x-2","tw-text-black-40"),children:d.jsx(She,{className:Se("tw-w-4 tw-h-4")})})})})]})]}),[g,i,e,u,l,m,t,_,r,n,c]),S=b.useCallback(y=>{t(tr(e,P=>{P.text=y||null,P.validationErrors.emptyText=!1}))},[e,t]),C=y=>{t(tr(e,P=>{P.label=y||null,P.validationErrors.labelMustBeSet=!1}))};b.useEffect(()=>{var P;const y=`Question #${i}`;(P=e.label)!=null&&P.match(/^Question #\d+$/)&&e.label!==y&&C(y)},[i,m]);const j=()=>{h(y=>(!y&&!e.label?C(`Question #${i}`):y&&e.label&&C(null),!y))};return d.jsxs("div",{style:{transform:"translate3d(0, 0, 0)"},className:Se("tw-flex tw-items-center tw-flex-nowrap","tw-transition-all tw-mb-4",{"tw-mt-4":!l,"tw-mt-0":l}),children:[d.jsx(P5,{dragSourceRef:o}),d.jsx(Mf,{abbreviated:l,title:x,children:d.jsxs("div",{className:Se("tw-overflow-y-scroll","tw-transition-all",{"tw-hidden":l}),children:[d.jsxs("div",{className:"tw-mb-2 tw-items-center tw-flex tw-w-full",children:[m?d.jsx("div",{className:"tw-flex tw-gap-2 tw-items-center tw-flex-grow",children:f?d.jsxs(d.Fragment,{children:[d.jsx(pn,{placeholder:"Column name",label:"",inputClassName:"tw-bg-black-5 tw-border tw-border-black-10 tw-rounded-md",type:"text",className:"tw-w-1/2",value:e.label||"",onChange:y=>C(y.target.value),inputSize:"sm"}),d.jsx(yn,{content:"Remove custom column name",children:d.jsx("p",{className:"tw-flex tw-gap-2 tw-items-center hover:tw-text-red-500 tw-transition-all tw-duration-300 tw-cursor-pointer",onClick:j,children:d.jsx(a3,{className:"tw-w-4"})})})]}):d.jsxs("button",{className:"tw-flex tw-text-primary-light-100 tw-gap-2 tw-items-center tw-cursor-pointer",onClick:j,children:[d.jsx(H1,{className:Se("tw-w-4")}),"Add custom column name"]})}):d.jsx("div",{className:"tw-flex-grow"}),d.jsx("div",{className:"tw-pr-4",children:d.jsx(z5,{item:e,setItem:t,dataKeys:c})}),d.jsx(R5,{disabled:!p,item:e,setItem:t})]}),e.type=="text_tagging"?d.jsx(Do,{label:"",value:e.text||"",onChange:y=>S(y.currentTarget.value)}):d.jsx(zS,{content:e.text||void 0,setContent:S,editingRaw:e.edit_raw_html,setEditingRaw:y=>t({...e,edit_raw_html:y}),className:"tw-mb-2"}),Phe.map(([y,P])=>e.validationErrors[y]?d.jsx("div",{className:Se("tw-text-negative-50","tw-mb-4"),children:P},y):null),(k=e.validationErrors.serverErrors)==null?void 0:k.map((y,P)=>d.jsx("div",{className:Se("tw-text-negative-50","tw-mb-4"),children:y},P)),(e.type==="model_generation"||e.type==="api_call")&&d.jsx("div",{className:Se("tw-flex tw-flex-nowrap","tw-mb-4"),children:d.jsx("div",{className:Se("tw-flex"),children:(e.type=="model_generation"||e.type=="api_call")&&d.jsxs("div",{className:Se("tw-flex tw-items-center tw-space-x-2 tw-ml-4"),children:[d.jsx(ko,{enabled:e.is_editable,setEnabled:y=>t({...e,is_editable:y}),screenReaderText:"User editable?"}),d.jsx("div",{children:"User editable?"})]})})}),d.jsx(C5,{item:e,showOptionsEmptyError:((T=e.validationErrors)==null?void 0:T.optionsAreEmpty)||!1,setOptions:y=>t(tr(e,P=>{P.itemOptions=y,P.validationErrors.optionsAreEmpty=!1}))}),(e.type=="chat"||e.type=="model_generation")&&d.jsxs("div",{className:Se("tw-space-y-2","tw-my-2"),children:[d.jsx(pn,{value:e.endpoint_url||"",placeholder:"Please provide a URL that includes a 'text' field in its response. If blank, a Surger will act both sides in the dialogue.",label:"Endpoint URL:",onChange:y=>t({...e,endpoint_url:y.target.value})}),d.jsx(pn,{value:e.endpoint_headers||"",placeholder:"Please provide any headers that need to be set when calling this URL as a JSON string.",label:"Endpoint headers:",onChange:y=>t({...e,endpoint_headers:y.target.value})}),d.jsx(A5,{node:e,setNode:t})]}),e.type==="api_call"&&d.jsx(Nhe,{node:e,setNode:t})]})})]})}function q5({node:e,dragSourceRef:t,setAllNodes:n,allNodes:r,path:i}){const{projectType:o}=ai(ui),s=i[i.length-1]+1,a=b.useCallback(()=>n(x=>{const S=[...x],C=S[s-1],j=C.type=="tree_selection"?Mhe(C):Ohe(C);return S.splice(s,0,j),S}),[n,s]),l=b.useCallback(x=>o==="rate_and_review"&&!r.some(S=>S.type===x),[o,r]),c=b.useMemo(()=>l("review"),[l]),u=b.useMemo(()=>l("review_comment"),[l]),f=b.useCallback(x=>{if(x.is_about_all_randomized_models&&!Fx.has(x.type)){Ni.error(`This question type cannot be marked as being 'about all models'. Only: ${[...Fx].map(tH).sort().join(", ")} can.`,{duration:7e3});return}x.is_copy_paste_log&&(e.is_copy_paste_log&&(!x.hide_from_customers||!x.only_show_in_review)&&Ni.error("Visibility options cannot be changed on copy paste logs.",{duration:700}),x.hide_from_customers=!0,x.only_show_in_review=!0,x.hide_in_review=!0),n(S=>{const C=[...S];return C[s-1]=x,C})},[n,s,e.is_copy_paste_log]),h=b.useCallback(()=>{e.id?f({...e,_destroy:!0}):n(x=>{const S=[...x];return S.splice(s-1,1),S})},[n,f,e,s]),{itemsAbbreviated:m,dataKeys:p,advancedTemplateStructure:g}=ai(ui);return b.useMemo(()=>d.jsx(H5,{node:e,setNode:f,duplicateItem:a,deleteItem:h,order:s,dragSourceRef:t,isReviewTypeAvailable:c,isReviewCommentTypeAvailable:u,itemsAbbreviated:m,dataKeys:p,advancedTemplateStructure:g}),[e,f,a,h,s,t,c,u,m,p,g])}const Ahe=Object.freeze(Object.defineProperty({__proto__:null,ITEM_TYPES_THAT_CAN_BE_ABOUT_ALL_RANDOMIZED_MODELS:Fx,ItemDisplay:H5,default:q5},Symbol.toStringTag,{value:"Module"}));function Rhe(e){return Rn.get(`${Zn}/projects/${e}/get_template_ng`).then(t=>du(t.data,nH))}function $he(e,t){let n;if(t)n=e.flatMap(r=>{if(r.randomized_model_variant_items){const i={...r,randomized_model_index:0,randomized_model_canonical_item_id:Hn(r.id||r._fake_id,"One of .id and ._fake_id should be defined."),label:`${r.label||""} (${t[0].data_field})`},o=[...r.randomized_model_variant_items].sort(({order:s},{order:a})=>s-a).flatMap(s=>{let a;if(r._destroy)s.id?a={...r,randomized_model_index:s.randomized_model_index,randomized_model_canonical_item_id:r.id,id:s.id}:a=null;else if(r.id!=null)s.id!=null?a={...r,randomized_model_index:s.randomized_model_index,randomized_model_canonical_item_id:r.id,id:s.id}:a={...r,randomized_model_index:s.randomized_model_index,randomized_model_canonical_item_id:r.id,_fake_id:Yc(),id:void 0};else{if(s.id!=null)throw new Error("It shouldn't be possible that a variant of a non-persisted item is persisted.");a={...r,randomized_model_index:s.randomized_model_index,randomized_model_canonical_item_id:r._fake_id,_fake_id:Yc(),id:void 0}}if(!a)return[];const l=r.itemOptions.map(c=>V5(c,s.canonicalItemOptionIdsToVariantItemOptionIds)).flatMap(c=>c?[c]:[]);return[{...a,itemOptions:l,label:`${r.label||""} (${t[s.randomized_model_index].data_field})`}]});return[i].concat(o)}else return[{...r,randomized_model_canonical_item_id:null,randomized_model_index:null}]});else{if(e.some(r=>r.randomized_model_variant_items&&r.id))throw new Error("It looks like we're trying to save a template without model randomization         settings, but some of the persisted items have model randomization settings.         That means we're trying to switch a project from being model randomization, to         not being model randomization.         We don't support that, and the UI shouldn't allow it.");n=e.map(r=>({...r,randomized_model_index:null,randomized_model_canonical_item_id:null}))}return n}function Ihe(e){const t=new Map,n=[],r=[];for(const[l,c]of e.map((u,f)=>[u,f])){if(l.randomized_model_index==null){r.push(l);continue}n.push(l),t.has(l.randomized_model_canonical_item_id)||t.set(l.randomized_model_canonical_item_id,c)}if(n.length==0)return e;const i=Hn(fZ([...t.values()])),s=[...pW(s3(n,l=>Hn(l.randomized_model_index)),l=>l.sort((c,u)=>Hn(t.get(Hn(c.randomized_model_canonical_item_id)))-Hn(t.get(Hn(u.randomized_model_canonical_item_id))))).entries()].sort(([l],[c])=>l-c).flatMap(([,l])=>l),a=[...r];return a.splice(i,0,...s),a}function Dhe(e,t,n){const r=Ihe($he(e,t));return r==null?void 0:r.map((o,s)=>{const l=(o.type=="tree_selection"?kf(o.itemOptions):o.itemOptions).filter(({text:u})=>u==null?void 0:u.length),c=l.map((u,f)=>({...u,order:o.type=="likert"?l.length-f:f+1}));return{...o,item_options_attributes:c,callbacks:null,order:s+1,required:o.type==="llm"?!1:o.required,require_tie_breaker:o.require_tie_breaker?1:0,item_type_id:n[o.type]}})}function Lhe(e,t,n="none"){const r=`${Zn}/projects/${e.template.id}/update_template`,i={...e.template,model_randomization_settings:e.model_randomization_settings,fields_text:e.template.fields_template,carousel_type:e.carousel.carousel_type,carousel_data_key:e.carousel.data_key,max_rounds_for_carousel:e.carousel.max_rounds,min_rounds_for_carousel:e.carousel.min_rounds,items_attributes:Dhe(e.template.questions,n=="model_randomization"?Hn(e.model_randomization_settings):null,e.item_type_api_name_to_id),instruction_change_notification:t||void 0};return Rn.put(r,i)}function V5(e,t){if("children"in e&&e.children)return{...e,children:e.children.map(n=>V5(n,t))};if(e.id){const n=t.get(e.id);return n?{...e,id:n}:e._destroy?null:zfe(e,["id"])}else return e}function U5({notification:e,setNotification:t,projectId:n}){const r=b.useCallback(l=>{if(!e)throw Error();t({...e,targeted_to:l})},[e,t]),i=li({queryKey:n,queryFn:async l=>(await pT(l,"active_users")).count,delay:!0,onQueryKeyChange:"reloadIfLoadedOrFailed"}),o=li({queryKey:n,queryFn:async l=>(await pT(l,"qualified_users")).count,delay:!0,onQueryKeyChange:"reloadIfLoadedOrFailed"}),s=b.useCallback(l=>{switch(l.status){case"not_loaded":return l.load(),"loading count ...";case"loaded":return l.data.toString();case"loading":return"loading count ...";case"failure":return"couldn't load a count."}},[]),a=b.useCallback(()=>[{targetedTo:"active_users",humanReadableTargetedTo:`Surgers who've completed at least one task on this project (${s(i)})`},{targetedTo:"qualified_users",humanReadableTargetedTo:`Qualified surgers (${s(o)})`}],[i,s,o]);return d.jsxs("div",{className:Se("tw-flex tw-flex-col tw-gap-x-2 tw-mb-2 tw-gap-y-2"),children:[d.jsx(ii,{compact:!0,checked:e!=null,label:"Require surgers to acknowledge some notification that you'll set the text of before they can keep working on this project?",onChange:()=>{t(e?null:{text:"",targeted_to:"active_users",showError:!1})}}),e&&d.jsxs(d.Fragment,{children:[d.jsx(uu,{head:d.jsxs("button",{style:{minWidth:450},className:Se("focus:tw-outline-none","tw-border tw-rounded-md tw-border-black-20","tw-py-3","tw-w-full","tw-h-input-md tw-px-3","tw-flex tw-flex-nowrap tw-items-center tw-justify-between"),children:[d.jsx("div",{children:a().find(({targetedTo:l})=>l==e.targeted_to).humanReadableTargetedTo}),d.jsx(cu,{})]}),headContainerClassName:"tw-w-min",items:a().map(({humanReadableTargetedTo:l,targetedTo:c})=>({text:l,currentlySelected:e.targeted_to==c,onClick:u=>{r(c),u()}}))}),d.jsx(Do,{label:"",value:e.text,onChange:l=>t({...e,showError:!1,text:l.currentTarget.value}),error:e.showError?"This must not be empty, if you'd like to notify surgers about the change of instructions.":void 0,style:{minWidth:420},placeholder:"Set the text of the notification that surgers must acknowledge."})]})]})}const Fhe=Object.freeze(Object.defineProperty({__proto__:null,default:U5},Symbol.toStringTag,{value:"Module"}));function G5({dataKeys:e,content:t,setContent:n}){const r=b.useRef(null);return d.jsxs("div",{className:Se("tw-flex tw-flex-col","tw-mt-2"),children:[e.length>0&&d.jsx("div",{className:Se("tw-flex tw-flex-wrap tw-gap-2","tw-bg-gray-200","tw-p-2"),children:e.map((i,o)=>{const s=`{{${i}}}`;return d.jsx(yn,{content:`Each Surger sees different values in the template depending on the row of data they are annotating. Use {{${i}}} to inject the value of the column "${i}".`,children:d.jsx("button",{className:Se("tw-bg-green-400 active:tw-bg-gray-400 tw-rounded-lg tw-px-2 tw-py-1","tw-m-1"),onClick:()=>{var a;return(a=r==null?void 0:r.current)==null?void 0:a.commands.insertContent(s)},children:s})},o)})}),d.jsx(sh,{content:t,setContent:n,editorRef:r})]})}const zhe=Object.freeze(Object.defineProperty({__proto__:null,default:G5},Symbol.toStringTag,{value:"Module"}));function K5({value:e,updateValue:t,showNoItemsHaveModelRandomizationSettingsError:n}){return d.jsxs("div",{children:[d.jsxs("div",{className:"tw-flex tw-items-center tw-gap-2 tw-font-semibold",children:[d.jsx("div",{className:"tw-w-72",children:"CSV column"}),d.jsx("div",{className:"tw-w-72",children:"Surger facing model name"})]}),d.jsx(Fk,{value:e[0],updateValue:r=>t(i=>{r(i[0])})}),d.jsx(Fk,{value:e[1],updateValue:r=>t(i=>{r(i[1])})}),n&&d.jsx("div",{className:"tw-text-red-500 tw-mt-2",children:"None of the questions below make use of model randomization."})]})}function Fk({value:e,updateValue:t}){const{dataKeys:n}=ai(ui);return d.jsxs("div",{className:"tw-flex tw-items-center tw-gap-2",children:[d.jsx(dl,{entry:e.data_field,entriesMap:new Map(n.map(r=>[r,r])),setEntry:r=>t(i=>{i.data_field=r})}),d.jsx(pn,{label:"",value:e.human_name,onChange:r=>t(i=>{i.human_name=r.target.value})})]})}const Bhe=Object.freeze(Object.defineProperty({__proto__:null,default:K5},Symbol.toStringTag,{value:"Module"})),Whe=new Map([["no_carousel","None"],["bounded_rounds","Bounded Rounds"],["data_key","Data Key"],["ordinal_columns","Ordinal Columns"]]);function Y5({dataKeys:e,carouselType:t,setCarouselType:n,dataKey:r,setDataKey:i,minRounds:o,setMinRounds:s,maxRounds:a,setMaxRounds:l}){return d.jsxs("div",{className:Se("tw-flex tw-flex-col"),children:[d.jsxs("div",{className:"tw-pb-4",children:[d.jsx("div",{children:"Carousel type:"}),d.jsx(dl,{entriesMap:Whe,entry:t||"no_carousel",setEntry:c=>n(c)})]}),t==="data_key"&&d.jsx(dl,{entriesMap:new Map(e.map(c=>[c,c])),entry:Hn(r),setEntry:i}),d.jsxs("div",{className:"tw-flex",children:[t==="bounded_rounds"&&d.jsx(pn,{label:"Min rounds:",type:"number",min:0,max:100,className:"tw-w-36 tw-flex-row",value:o||"",onChange:c=>s(parseInt(c.target.value))}),(t==="bounded_rounds"||t==="ordinal_columns")&&d.jsx(pn,{label:"Max rounds:",type:"number",min:o||0,max:100,className:"tw-ml-4 tw-w-36 tw-flex-row",value:a||"",onChange:c=>l(parseInt(c.target.value))})]})]})}const Hhe=Object.freeze(Object.defineProperty({__proto__:null,default:Y5},Symbol.toStringTag,{value:"Module"}));function Z5({state:e,updateState:t,advancedTemplateStructure:n,setAdvancedTemplateStructure:r,showNoItemsHaveModelRandomizationSettingsError:i}){const o=qz("advanced_template_structure");return d.jsxs(Mf,{title:d.jsx("div",{className:"tw-flex tw-items-center tw-gap-2",children:o?d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"Advanced template structure:"}),d.jsx(dl,{entry:n,entriesMap:new Map([["none","None"],["carousel","Carousel"],["model_randomization","Model Randomization"]]),setEntry:r})]}):d.jsx("h4",{children:"Carousel options:"})}),className:"tw-mb-16",children:[(n=="carousel"||!o)&&d.jsx(Y5,{carouselType:e.carousel.carousel_type,setCarouselType:s=>t(a=>{a.carousel.carousel_type=s}),dataKeys:e.data_keys,dataKey:e.carousel.data_key,setDataKey:s=>t(a=>{a.carousel.data_key=s}),minRounds:e.carousel.min_rounds,setMinRounds:s=>t(a=>{a.carousel.min_rounds=s}),maxRounds:e.carousel.max_rounds,setMaxRounds:s=>t(a=>{a.carousel.max_rounds=s})}),n=="model_randomization"&&o&&!!e.model_randomization_settings&&d.jsx(K5,{value:e.model_randomization_settings,updateValue:s=>t(a=>{s(Hn(a.model_randomization_settings))}),showNoItemsHaveModelRandomizationSettingsError:i})]})}const qhe=Object.freeze(Object.defineProperty({__proto__:null,default:Z5},Symbol.toStringTag,{value:"Module"})),Vhe={showingSuccess:HU,submitting:fn};function Q5(e,t,n){if(e.some(({_destroy:i,itemOptions:o})=>i||o.some(({_destroy:s})=>s))&&t){const i=e.map((a,l)=>({...a,index:l})).filter(({_destroy:a})=>a),o=e.flatMap((a,l)=>({question:a,index:l,removedOptions:a.itemOptions.filter(({_destroy:c})=>c)})).filter(({removedOptions:a,question:l})=>a.length>0&&i.findIndex(c=>c.text===l.text||c.label===l.label)===-1),s=d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"You're initiating a permanent deletion of selected questions/options, including their responses or gold standards. This action is irreversible."}),i.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"The following questions will be deleted:"}),d.jsx("ul",{children:i.map(a=>d.jsxs("li",{children:["- ",a.label||`#${a.index+1}`]},a.text))})]}),o.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"tw-pt-4",children:"The following options will be deleted:"}),d.jsx("ul",{children:o.map(({question:a,index:l,removedOptions:c})=>c.map(u=>d.jsxs("li",{children:["-"," ",u.text," (",a.label||`#${l+1}`,")"]},u.text)))})]})]});return n(s),!0}return!1}function zk(e){return e==null?!0:!(e<0)}function Uhe(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}function Bk({items:e,abbreviated:t,setAbbreviated:n}){return e.length==0?null:d.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-4",children:[d.jsx("div",{children:"Collapse and re-order questions"}),d.jsx(ko,{enabled:t,setEnabled:()=>n(!t)})]})}const Ghe=/\{\{[^{}]*?\}\}/g;function ZS({projectId:e,projectStatus:t,hasItemResponses:n,onSuccessfulSubmit:r,projectIsPopQuiz:i,unsavedChangeExistsState:o,questionCategories:s}){const[a,l]=m_(null),[c,u]=b.useState(void 0),[f,h]=b.useState(null),[m,p]=b.useState(null),[g,_]=b.useState(!1),[x,S]=$z(o||null,!1),[C,j]=b.useState("none"),[k,T]=b.useState(!1),y=b.useCallback(he=>{l(Z=>{Z&&he(Z)}),S(!0),T(!1)},[S,l]),P=b.useCallback(he=>{j(he),y(Z=>{he!="carousel"&&(Z.carousel.carousel_type="no_carousel"),he=="model_randomization"&&(Z.model_randomization_settings=Z.model_randomization_settings||[{data_field:Z.data_keys[0]||"",human_name:""},{data_field:Z.data_keys[1]||"",human_name:""}])})},[y]),A=b.useCallback(he=>{y(Z=>{he(Z.template.questions)})},[y]),[$,L]=b.useState(null),[U,F]=b.useState([]),H=b.useMemo(()=>{if(!(a!=null&&a.template))return[];const he=a.template.questions.filter(({_destroy:ie})=>!ie),Z=[[a.template.instructions,a.template.fields_template],he.flatMap(({text:ie,itemOptions:be})=>[ie,...be.filter(({_destroy:Ne})=>!Ne).flatMap(({text:Ne,description:Pe})=>[Ne,Pe])])].flat().flatMap(ie=>ie?[ie]:[]),se=new Set(Z.flatMap(ie=>[...ie.matchAll(Ghe)]).map(ie=>ie[0]).filter(ie=>ie.search(/:randomized\}\}$/)>-1));if(se.size!=0&&he.some(({type:ie})=>ie!="likert"))return["Currently,randomized placeholders are only supported projects consisting entirely of likert questions."];if(![0,2].includes(se.size)){const ie=[...se].join(", ");return[`We support either zero, or two randomized placeholders. Currently, we have ${se.size}: ${ie}`]}return[]},[a==null?void 0:a.template]),q=b.useCallback(()=>{Rhe(e).then(he=>{const Z=Kfe(he,s);l(Z),Z.model_randomization_settings?j("model_randomization"):Z.carousel.carousel_type=="no_carousel"&&j("none"),h(he.questions.map(({options_objects:se,order:ie},be)=>se.flatMap(({text:Ne})=>Ne?[{optionText:Ne,itemOrder:ie||be+1}]:[])).flat())})},[e,s,l]);b.useEffect(()=>q(),[e,q]),b.useEffect(()=>{if(a!=null&&a.carousel.data_key){const he=a.first_task_data?Object.keys(JSON.parse(a.first_task_data[a.carousel.data_key]||"[{}]")[0]):[];he!=U&&F(he)}},[U,a==null?void 0:a.carousel.data_key,a==null?void 0:a.first_task_data]);const re=b.useMemo(()=>[...(a==null?void 0:a.data_keys)??[],...U],[a==null?void 0:a.data_keys,U]),G=b.useMemo(()=>(a==null?void 0:a.template.questions.flatMap(he=>he.label?[`${he.label}_response`]:[]))??[],[a==null?void 0:a.template.questions]),Y=b.useMemo(()=>(a==null?void 0:a.template.questions.flatMap(he=>he.label?[`${he.label}_text`]:[]))??[],[a==null?void 0:a.template.questions]),te=b.useMemo(()=>[...re,...G,...Y],[re,G,Y]),ne=()=>{A(he=>he.push(Ufe())),setTimeout(Uhe,100)},B=b.useMemo(()=>k||(a==null?void 0:a.template.questions.some(({validationErrors:{emptyText:he,optionsAreEmpty:Z,maxWordCountSmallerThanMin:se,wordCountsLimitsAreNegative:ie,labelMustBeSet:be}})=>se||ie||he||Z||be||!1)),[k,a==null?void 0:a.template.questions]),Q=b.useMemo(()=>a==null?void 0:a.template.questions.some(({validationErrors:{serverErrors:he}})=>!!(he!=null&&he.length)),[a==null?void 0:a.template.questions]),K=b.useCallback(async()=>{let he=!1;if(!a)throw Error();if(!(Q5(a.template.questions,n,u)&&!c)){if(A(Z=>{Z.filter(({_destroy:se})=>!se).forEach(se=>{const ie=se.type=="tree_selection"?kf(se.itemOptions):se.itemOptions,be=!se.text,Ne=$c[se.type].options&&!qfe.includes(se.type)&&ie.filter(({text:qe,_destroy:$e})=>!$e&&qe).length==0,Pe=se.max_word_count!=null&&se.min_word_count!=null&&se.min_word_count>se.max_word_count,ze=!zk(se.min_word_count)||!zk(se.max_word_count),Oe=C=="model_randomization"&&!!se.randomized_model_variant_items&&se.type!="text"&&!se.label;he||(he=be||Ne||Pe||ze||Oe||!1),se.validationErrors={emptyText:be,optionsAreEmpty:Ne,serverErrors:[],maxWordCountSmallerThanMin:Pe,wordCountsLimitsAreNegative:ze,labelMustBeSet:Oe}})}),$&&!$.text&&(L(Z=>({...Z,showError:!0})),he=!0),i){const se=[a.template.instructions,a.template.fields_template,...a.template.questions.map(({text:ie})=>ie)].filter(ie=>!!(ie!=null&&ie.match(/\{\{[^ {}] *?\}\}/g)));if(se.length>0){const ie=se.map(be=>be!=null&&be.length?be.slice(0,50)+"...":be);he=!confirm(`Your instructions or questions have a {{ substitution }}, which won't be substituted for anything becausepop quizzes don't have any task data. Are you sure you want to save?

The fields with substitution strings are:
`+ie.join(`
`))}}C=="model_randomization"&&a.template.questions.every(Z=>Z._destroy||Z.randomized_model_variant_items==null&&!Z.is_about_all_randomized_models)&&(T(!0),he=!0),he||(p("submitting"),Lhe(a,$,C).then(({data:{update_async:Z}})=>{Z&&(window.location.href=`/projects/${a.template.id}`),p("showingSuccess"),setTimeout(()=>p(null),2e3),S(!1),q(),r==null||r()}).catch(Z=>{var ie,be;p(null);let se=!1;if(Ja.isAxiosError(Z)){const Ne=(be=(ie=Z==null?void 0:Z.response)==null?void 0:ie.data)==null?void 0:be.items;Ne&&(se=!0,A(Pe=>{Ne.forEach(({order:ze,errors:Oe})=>{Pe[ze-1].validationErrors.serverErrors=Object.values(Oe).flat()})}))}se||alert("Couldn't submit. Could you try again? And if this keeps happening, do contact us.")}))}},[C,c,n,$,r,i,q,S,a,A]);xT(he=>(he.ctrlKey||he.metaKey)&&he.shiftKey&&he.key.toLowerCase()==="s",K),xT(he=>(he.ctrlKey||he.metaKey)&&he.shiftKey&&he.key.toLowerCase()==="i",ne);const de=b.useMemo(()=>m?Vhe[m]:void 0,[m]),X=li({queryKey:void 0,queryFn:Xq,delay:!0}),J=b.useMemo(()=>!f||!(a!=null&&a.data_keys)?null:{modelRandomizationSettings:a.model_randomization_settings||null,persistedItemOptions:f,dataKeys:a.data_keys,itemsAbbreviated:g,setItemsAbbreviated:_,projectIsPopQuiz:i,projectType:a.template.project_type,advancedTemplateStructure:C,availableVariables:te,llmModelsQuery:X},[C,g,f,i,a==null?void 0:a.data_keys,a==null?void 0:a.model_randomization_settings,a==null?void 0:a.template.project_type,X,te]),ue=b.useCallback(he=>{y(Z=>{typeof he=="function"?Z.template.questions=he(Z.template.questions):Z.template.questions=he}),S(!0)},[y,S]);if(!a||!f)return d.jsx(Wg,{});const xe=B||Q||H.length>0,_e=d.jsxs("div",{className:"tw-fixed tw-inset-x-0 tw-bottom-0 tw-flex tw-justify-between tw-px-6 tw-pt-4 tw-pb-2 tw-bg-white tw-border-t tw-border-1 tw-border-black-30",children:[d.jsxs("div",{className:"tw-flex tw-flex-col",children:[d.jsxs("div",{className:"tw-flex tw-space-x-3",children:[d.jsx(yt,{buttonSize:"lg",disabled:B||H.length>0||m==="submitting",icon:de,iconSide:"left",onClick:K,children:"Save"}),d.jsx(yt,{variant:"outline",onClick:ne,children:"+ Add question"}),d.jsx("a",{href:`/tasks/${a.preview_task_id}`,className:"tw-text-black",children:d.jsx(yt,{variant:"outline",children:"Preview"})}),(t==="unlaunched"||t==="paused")&&d.jsx("a",{href:`/projects/${e}/start_and_preview`,className:"tw-text-black",children:d.jsxs(yt,{variant:"outline",children:[t==="unlaunched"?"Launch":"Resume"," and preview"]})}),d.jsx("a",{href:`/projects/${e}`,className:"tw-text-black tw-mx-1",children:d.jsx(yt,{variant:"outline",title:"Back to Dashboard",children:d.jsx(vZ,{className:"tw-h-6 tw-w-6 tw-fill-black"})})}),d.jsx(Bk,{items:a.template.questions,abbreviated:g,setAbbreviated:_})]}),d.jsx("div",{className:"tw-flex tw-mt-1",children:d.jsxs("div",{className:"tw-text-xs tw-italic",children:["last saved"," ",d.jsx(eV,{date:new Date(a.template.template_updated_at)})]})})]}),d.jsxs("div",{children:[xe&&d.jsxs("div",{className:"tw-text-negative-80 tw-p-1 tw-mb-2",children:[d.jsx("div",{children:B||Q?"There are errors in the template. Check above for error messages.":null}),H.map(he=>d.jsx("div",{children:he},he))]}),x&&d.jsx(U5,{projectId:e,notification:$,setNotification:L})]})]});return d.jsx(ui.Provider,{value:J,children:d.jsxs("div",{className:"tw-mb-40",children:[d.jsxs("div",{children:[!i&&d.jsx("h1",{children:"Template Editor"}),d.jsx(Mf,{title:d.jsx("h4",{children:"Instructions (not displayed to customers)"}),className:"tw-mb-16",children:d.jsx(G5,{dataKeys:re,content:a.template.instructions||"",setContent:he=>y(Z=>{Z.template.instructions=he||null})})}),a.template.project_type!="rate_and_review"&&d.jsxs(d.Fragment,{children:[d.jsx(Mf,{title:d.jsx("h4",{children:"Display Task Data (displayed to customers)"}),className:"tw-mb-16",children:d.jsx(sh,{content:a.template.fields_template,setContent:he=>y(Z=>{Z.template.fields_template=he||""})})}),d.jsx(Z5,{state:a,updateState:y,advancedTemplateStructure:C,setAdvancedTemplateStructure:P,showNoItemsHaveModelRandomizationSettingsError:k})]}),d.jsxs(d.Fragment,{children:[a.template.project_type==="rate_and_review"&&d.jsx("p",{children:'Besides "Review Score" and "Review Comment", these questions will not appear in the results for the parent project - just on in the results for this rate and review project. If you want your reviewers to fill out questions on the parent project, create a question marked "Hide for workers" on the parent project. (This only works for rate and review projects with only one reviewer, not for multi-review.)'}),d.jsx(Bk,{items:a.template.questions,abbreviated:g,setAbbreviated:_}),d.jsx("div",{children:d.jsx(JA,{depthLimit:1,dragAreaIdentifier:"questions",NodeRenderer:q5,disabled:!g,nodes:a.template.questions,getNodeKey:he=>he.reactKey,setNodes:ue,filterFunc:he=>!he._destroy})})]}),_e]}),d.jsx(Eo,{isOpen:!!c,setIsOpen:()=>u(void 0),description:c,text:"This project already contains some responses. Are you sure you want to delete these questions/options?",showLoadingIcon:!1,onConfirmed:()=>{u(void 0),K()}})]})})}const Khe=Object.freeze(Object.defineProperty({__proto__:null,default:ZS,didRemoveOptionsOrQuestions:Q5},Symbol.toStringTag,{value:"Module"}));function J5({popQuizProjectId:e,projectStatus:t,onSaveQuestions:n,unsavedChangeExistsState:r}){return d.jsx("div",{className:Se("tw-bg-white-100","tw-pl-14","tw-pt-4"),children:d.jsx(ZS,{projectId:e,projectStatus:t,projectIsPopQuiz:!0,onSuccessfulSubmit:n,unsavedChangeExistsState:r})})}const Yhe=Object.freeze(Object.defineProperty({__proto__:null,default:J5},Symbol.toStringTag,{value:"Module"}));function X5({numQuestions:e,numAnswers:t,popQuizProjectStatus:n,popQuizProjectId:r}){const[i,o]=b.useState(!1),[s,a]=b.useState(n);b.useEffect(()=>{a(n)},[n]);const l={unlaunched:"launch",in_progress:"pause",paused:"resume"}[s],c=ST[l].color;let u=ST[l].Icon;i&&(u=function(){return d.jsx(fn,{className:Se("tw-w-7")})});const f=b.useCallback(()=>{o(!0),ez(r,l).then(()=>{a({launch:"in_progress",pause:"paused",resume:"in_progress"}[l])}).catch(()=>alert(`Couldn't ${l} the pop quiz. Try again, and if this failure persists, let us know!`)).finally(()=>o(!1))},[l,r]);let h=null;e==0?h="You need at least one question in the pop quiz. Please add a question in the 'Questions' tab and save it.":t==0&&(h="You need at least one answer in the pop quiz. Please set an answer for at least one question in the `Answers` tab and save it, and refresh the page.");let m=b.useMemo(()=>d.jsxs(yt,{icon:u,iconSide:"left",style:{backgroundColor:c},className:Se("tw-mx-2",{"tw-opacity-50":h}),buttonSize:"sm",disabled:e==0||t==0,onClick:f,children:[rH(l)," Pop Quiz"]}),[u,l,f,c,t,e,h]);return h&&(m=d.jsx(yn,{content:h,children:d.jsx("div",{children:m})})),m}const Zhe=Object.freeze(Object.defineProperty({__proto__:null,StatusButton:X5},Symbol.toStringTag,{value:"Module"}));function e4({id:e,name:t,pop_quiz_parent_project_id:n,question_type_to_component:r,status:i}){var x;const[o,s]=b.useState(0),[a,l]=b.useState(!1),c=b.useCallback(S=>{S==1&&a||s(S)},[a]),[u,f]=b.useState(null),h=b.useCallback(()=>{f(null),tV(n,e).then(S=>{f(S),p({id:S.task_info.task_id||"",data:S.task_info.data||{},questions:dm(S.answer_info||{},C=>({...C,enabled:!0}))})})},[e,n]);b.useEffect(()=>{h()},[h]);const[m,p]=b.useState(null),[g,_]=b.useState("none");return d.jsxs("div",{className:Se("tw-bg-primary-dark-5"),children:[d.jsxs("div",{className:Se("tw-ml-14"),children:[d.jsx(V1,{href:`/projects/${n}/quizzes`,goBack:"All Pop Quizzes",children:d.jsx(X5,{popQuizProjectStatus:i,popQuizProjectId:e,numQuestions:(u==null?void 0:u.project_info.raw_questions.length)||0,numAnswers:Object.keys(((x=u==null?void 0:u.answer_info)==null?void 0:x.questions)||{}).length})}),d.jsx("div",{className:Se("tw-py-3 tw-block tw-font-bold tw-text-2xl","tw-border-t","tw-mb-3"),children:d.jsx(wo,{originalText:t,placeholderText:"Untitled Pop Quiz",updateStatus:g,onChange:S=>{_("updating"),nV(n,e,S).then(()=>{_("none")}).catch(()=>{_("failed")})}})})]}),d.jsx("div",{children:d.jsxs(ln.Group,{activeIndexState:{activeIndex:o,setActiveIndex:c},children:[d.jsxs(ln.HeaderList,{children:[d.jsx(ln.Header,{children:"Questions"}),d.jsx(ln.Header,{children:d.jsx(yn,{disabled:!a,content:"Unsaved changes exist in the questions tab, so you won't be able to switch to the answers tab.",children:d.jsx("div",{className:Se({"tw-text-gray-300":a}),children:"Answers"})})})]}),d.jsxs(ln.PanelList,{children:[d.jsx(ln.Panel,{children:d.jsx(J5,{popQuizProjectId:e,projectStatus:i,onSaveQuestions:()=>{h(),s(1)},unsavedChangeExistsState:[a,l]})}),d.jsx(ln.Panel,{children:d.jsx(x5,{taskResponse:m,onGoldStandardUpdate:p,parentProjectId:n,popQuizProjectId:e,goldStandardsData:u,questionTypeToComponent:r})})]})]})})]})}const Qhe=Object.freeze(Object.defineProperty({__proto__:null,default:e4},Symbol.toStringTag,{value:"Module"}));var t4={},qb={},uv={},ah={},Vb={},dv={};Object.defineProperty(dv,"__esModule",{value:!0});dv.getZodPathArray=void 0;function Jhe(e){return["[",...e.map(n=>typeof n=="string"?`"${n}"`:n).join(", "),"]"].join("")}dv.getZodPathArray=Jhe;var gd={},Wk;function Xhe(){if(Wk)return gd;Wk=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.getPathString=void 0;const e=QS();function t(n,r){if((r==null?void 0:r.enabled)===void 0)return(0,e.getObjectNotation)(n,{enabled:!0,type:"objectNotation"});if(r.enabled===!1)return"";switch(r.type){case"zodPathArray":return(0,e.getZodPathArray)(n);case"breadcrumbs":return(0,e.getBreadcrumbs)(n,r);case"objectNotation":default:return(0,e.getObjectNotation)(n,r)}}return gd.getPathString=t,gd}var fv={};Object.defineProperty(fv,"__esModule",{value:!0});fv.getObjectNotation=void 0;function epe(e,t){var n;const r=(n=t.arraySquareBrackets)!==null&&n!==void 0?n:!0;return e.reduce((i,o)=>typeof o=="number"&&r?`${i}[${o}]`:[i,o].filter(s=>typeof s=="number"||!!s).join("."),"")}fv.getObjectNotation=epe;var vd={},Hk;function tpe(){if(Hk)return vd;Hk=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.getErrorMessage=void 0;const e=QS();function t(n,r,i){var o,s,a,l,c,u,f,h,m,p;const g=(0,e.getComponentDelimiter)((o=i==null?void 0:i.delimiter)===null||o===void 0?void 0:o.component),_=(0,e.getComponentLabels)(i),x=[];let S=`${_.code}${n.code}`;((a=(s=i==null?void 0:i.code)===null||s===void 0?void 0:s.enabled)!==null&&a!==void 0?a:!0)&&(!((l=i==null?void 0:i.code)===null||l===void 0)&&l.enabled&&i.code.transform&&(S=i.code.transform({component:S,label:_.code,value:n.code})),x.push(S));const j=(0,e.getPathString)(n.path,i==null?void 0:i.path);let k=`${_.path}${j}`;((u=(c=i==null?void 0:i.path)===null||c===void 0?void 0:c.enabled)!==null&&u!==void 0?u:!0)&&(!((f=i==null?void 0:i.path)===null||f===void 0)&&f.enabled&&i.path.transform&&(k=i.path.transform({component:k,label:_.path,value:j})),x.push(k));let y=`${_.message}${n.message}`;((m=(h=i==null?void 0:i.message)===null||h===void 0?void 0:h.enabled)!==null&&m!==void 0?m:!0)&&(!((p=i==null?void 0:i.message)===null||p===void 0)&&p.enabled&&i.message.transform&&(y=i.message.transform({component:y,label:_.message,value:n.message})),x.push(y));const A=x.join(g);return i!=null&&i.transform?i.transform({pathComponent:k,messageComponent:y,issue:n,index:r,errorMessage:A,codeComponent:S}):A}return vd.getErrorMessage=t,vd}var hv={};Object.defineProperty(hv,"__esModule",{value:!0});hv.getErrorDelimiter=void 0;function npe(e){return e??" | "}hv.getErrorDelimiter=npe;var pv={},mv={};Object.defineProperty(mv,"__esModule",{value:!0});mv.getLabel=void 0;function rpe(e,t){return e===void 0?t:e.enabled===!1?"":e.label===void 0?t:e.label===null?"":e.label}mv.getLabel=rpe;Object.defineProperty(pv,"__esModule",{value:!0});pv.getComponentLabels=void 0;const Ub=mv;function ipe(e){const t=(0,Ub.getLabel)(e==null?void 0:e.code,"Code: "),n=(0,Ub.getLabel)(e==null?void 0:e.message,"Message: "),r=(0,Ub.getLabel)(e==null?void 0:e.path,"Path: ");return{code:t,message:n,path:r}}pv.getComponentLabels=ipe;var gv={};Object.defineProperty(gv,"__esModule",{value:!0});gv.getComponentDelimiter=void 0;function ope(e){return e??" ~ "}gv.getComponentDelimiter=ope;var vv={};Object.defineProperty(vv,"__esModule",{value:!0});vv.getBreadcrumbs=void 0;function spe(e,t){var n,r;const i=(n=t.arraySquareBrackets)!==null&&n!==void 0?n:!0,o=(r=t.delimeter)!==null&&r!==void 0?r:" > ";return e.map(s=>typeof s=="number"&&i?`[${s}]`:s).join(o)}vv.getBreadcrumbs=spe;var qk;function QS(){return qk||(qk=1,function(e){var t=Mt&&Mt.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=Mt&&Mt.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(dv,e),n(Xhe(),e),n(fv,e),n(tpe(),e),n(hv,e),n(pv,e),n(gv,e),n(vv,e)}(Vb)),Vb}Object.defineProperty(ah,"__esModule",{value:!0});ah.generateErrorMessage=void 0;const Vk=QS();function ape(e,t){var n,r,i;const o=(0,Vk.getErrorDelimiter)((n=t==null?void 0:t.delimiter)===null||n===void 0?void 0:n.error),s=e.slice(0,t==null?void 0:t.maxErrors).map((a,l)=>(0,Vk.getErrorMessage)(a,l,t)).join(o);return`${(r=t==null?void 0:t.prefix)!==null&&r!==void 0?r:""}${s}${(i=t==null?void 0:t.suffix)!==null&&i!==void 0?i:""}`}ah.generateErrorMessage=ape;var n4={},zx={},So={},bv={},lh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getParsedType=e.ZodParsedType=e.objectUtil=e.util=void 0;var t;(function(r){r.assertEqual=a=>a;function i(a){}r.assertIs=i;function o(a){throw new Error}r.assertNever=o,r.arrayToEnum=a=>{const l={};for(const c of a)l[c]=c;return l},r.getValidEnumValues=a=>{const l=r.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),c={};for(const u of l)c[u]=a[u];return r.objectValues(c)},r.objectValues=a=>r.objectKeys(a).map(function(l){return a[l]}),r.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&l.push(c);return l},r.find=(a,l)=>{for(const c of a)if(l(c))return c},r.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,l=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}r.joinValues=s,r.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(t=e.util||(e.util={})),function(r){r.mergeShapes=(i,o)=>({...i,...o})}(e.objectUtil||(e.objectUtil={})),e.ZodParsedType=t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);const n=r=>{switch(typeof r){case"undefined":return e.ZodParsedType.undefined;case"string":return e.ZodParsedType.string;case"number":return isNaN(r)?e.ZodParsedType.nan:e.ZodParsedType.number;case"boolean":return e.ZodParsedType.boolean;case"function":return e.ZodParsedType.function;case"bigint":return e.ZodParsedType.bigint;case"symbol":return e.ZodParsedType.symbol;case"object":return Array.isArray(r)?e.ZodParsedType.array:r===null?e.ZodParsedType.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?e.ZodParsedType.promise:typeof Map<"u"&&r instanceof Map?e.ZodParsedType.map:typeof Set<"u"&&r instanceof Set?e.ZodParsedType.set:typeof Date<"u"&&r instanceof Date?e.ZodParsedType.date:e.ZodParsedType.object;default:return e.ZodParsedType.unknown}};e.getParsedType=n})(lh);var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.ZodError=Co.quotelessJson=Co.ZodIssueCode=void 0;const r4=lh;Co.ZodIssueCode=r4.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);const lpe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");Co.quotelessJson=lpe;class Bx extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(s))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,r4.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Co.ZodError=Bx;Bx.create=e=>new Bx(e);Object.defineProperty(bv,"__esModule",{value:!0});const Ca=lh,_r=Co,cpe=(e,t)=>{let n;switch(e.code){case _r.ZodIssueCode.invalid_type:e.received===Ca.ZodParsedType.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case _r.ZodIssueCode.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ca.util.jsonStringifyReplacer)}`;break;case _r.ZodIssueCode.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ca.util.joinValues(e.keys,", ")}`;break;case _r.ZodIssueCode.invalid_union:n="Invalid input";break;case _r.ZodIssueCode.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ca.util.joinValues(e.options)}`;break;case _r.ZodIssueCode.invalid_enum_value:n=`Invalid enum value. Expected ${Ca.util.joinValues(e.options)}, received '${e.received}'`;break;case _r.ZodIssueCode.invalid_arguments:n="Invalid function arguments";break;case _r.ZodIssueCode.invalid_return_type:n="Invalid function return type";break;case _r.ZodIssueCode.invalid_date:n="Invalid date";break;case _r.ZodIssueCode.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ca.util.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case _r.ZodIssueCode.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case _r.ZodIssueCode.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case _r.ZodIssueCode.custom:n="Invalid input";break;case _r.ZodIssueCode.invalid_intersection_types:n="Intersection results could not be merged";break;case _r.ZodIssueCode.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case _r.ZodIssueCode.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ca.util.assertNever(e)}return{message:n}};bv.default=cpe;var upe=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(So,"__esModule",{value:!0});So.getErrorMap=So.setErrorMap=So.defaultErrorMap=void 0;const i4=upe(bv);So.defaultErrorMap=i4.default;let o4=i4.default;function dpe(e){o4=e}So.setErrorMap=dpe;function fpe(){return o4}So.getErrorMap=fpe;var JS={};(function(e){var t=Mt&&Mt.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=e.isValid=e.isDirty=e.isAborted=e.OK=e.DIRTY=e.INVALID=e.ParseStatus=e.addIssueToContext=e.EMPTY_PATH=e.makeIssue=void 0;const n=So,r=t(bv),i=m=>{const{data:p,path:g,errorMaps:_,issueData:x}=m,S=[...g,...x.path||[]],C={...x,path:S};let j="";const k=_.filter(T=>!!T).slice().reverse();for(const T of k)j=T(C,{data:p,defaultError:j}).message;return{...x,path:S,message:x.message||j}};e.makeIssue=i,e.EMPTY_PATH=[];function o(m,p){const g=(0,e.makeIssue)({issueData:p,data:m.data,path:m.path,errorMaps:[m.common.contextualErrorMap,m.schemaErrorMap,(0,n.getErrorMap)(),r.default].filter(_=>!!_)});m.common.issues.push(g)}e.addIssueToContext=o;class s{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(p,g){const _=[];for(const x of g){if(x.status==="aborted")return e.INVALID;x.status==="dirty"&&p.dirty(),_.push(x.value)}return{status:p.value,value:_}}static async mergeObjectAsync(p,g){const _=[];for(const x of g)_.push({key:await x.key,value:await x.value});return s.mergeObjectSync(p,_)}static mergeObjectSync(p,g){const _={};for(const x of g){const{key:S,value:C}=x;if(S.status==="aborted"||C.status==="aborted")return e.INVALID;S.status==="dirty"&&p.dirty(),C.status==="dirty"&&p.dirty(),S.value!=="__proto__"&&(typeof C.value<"u"||x.alwaysSet)&&(_[S.value]=C.value)}return{status:p.value,value:_}}}e.ParseStatus=s,e.INVALID=Object.freeze({status:"aborted"});const a=m=>({status:"dirty",value:m});e.DIRTY=a;const l=m=>({status:"valid",value:m});e.OK=l;const c=m=>m.status==="aborted";e.isAborted=c;const u=m=>m.status==="dirty";e.isDirty=u;const f=m=>m.status==="valid";e.isValid=f;const h=m=>typeof Promise<"u"&&m instanceof Promise;e.isAsync=h})(JS);var s4={};Object.defineProperty(s4,"__esModule",{value:!0});var a4={},l4={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.errorUtil=void 0,function(t){t.errToObj=n=>typeof n=="string"?{message:n}:n||{},t.toString=n=>typeof n=="string"?n:n==null?void 0:n.message}(e.errorUtil||(e.errorUtil={}))})(l4);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.date=e.boolean=e.bigint=e.array=e.any=e.coerce=e.ZodFirstPartyTypeKind=e.late=e.ZodSchema=e.Schema=e.custom=e.ZodReadonly=e.ZodPipeline=e.ZodBranded=e.BRAND=e.ZodNaN=e.ZodCatch=e.ZodDefault=e.ZodNullable=e.ZodOptional=e.ZodTransformer=e.ZodEffects=e.ZodPromise=e.ZodNativeEnum=e.ZodEnum=e.ZodLiteral=e.ZodLazy=e.ZodFunction=e.ZodSet=e.ZodMap=e.ZodRecord=e.ZodTuple=e.ZodIntersection=e.ZodDiscriminatedUnion=e.ZodUnion=e.ZodObject=e.ZodArray=e.ZodVoid=e.ZodNever=e.ZodUnknown=e.ZodAny=e.ZodNull=e.ZodUndefined=e.ZodSymbol=e.ZodDate=e.ZodBoolean=e.ZodBigInt=e.ZodNumber=e.ZodString=e.ZodType=void 0,e.NEVER=e.void=e.unknown=e.union=e.undefined=e.tuple=e.transformer=e.symbol=e.string=e.strictObject=e.set=e.record=e.promise=e.preprocess=e.pipeline=e.ostring=e.optional=e.onumber=e.oboolean=e.object=e.number=e.nullable=e.null=e.never=e.nativeEnum=e.nan=e.map=e.literal=e.lazy=e.intersection=e.instanceof=e.function=e.enum=e.effect=e.discriminatedUnion=void 0;const t=So,n=l4,r=JS,i=lh,o=Co;class s{constructor(O,z,ee,ye){this._cachedPath=[],this.parent=O,this.data=z,this._path=ee,this._key=ye}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const a=(fe,O)=>{if((0,r.isValid)(O))return{success:!0,data:O.value};if(!fe.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const z=new o.ZodError(fe.common.issues);return this._error=z,this._error}}};function l(fe){if(!fe)return{};const{errorMap:O,invalid_type_error:z,required_error:ee,description:ye}=fe;if(O&&(z||ee))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return O?{errorMap:O,description:ye}:{errorMap:(Ke,Be)=>Ke.code!=="invalid_type"?{message:Be.defaultError}:typeof Be.data>"u"?{message:ee??Be.defaultError}:{message:z??Be.defaultError},description:ye}}class c{constructor(O){this.spa=this.safeParseAsync,this._def=O,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(O){return(0,i.getParsedType)(O.data)}_getOrReturnCtx(O,z){return z||{common:O.parent.common,data:O.data,parsedType:(0,i.getParsedType)(O.data),schemaErrorMap:this._def.errorMap,path:O.path,parent:O.parent}}_processInputParams(O){return{status:new r.ParseStatus,ctx:{common:O.parent.common,data:O.data,parsedType:(0,i.getParsedType)(O.data),schemaErrorMap:this._def.errorMap,path:O.path,parent:O.parent}}}_parseSync(O){const z=this._parse(O);if((0,r.isAsync)(z))throw new Error("Synchronous parse encountered promise.");return z}_parseAsync(O){const z=this._parse(O);return Promise.resolve(z)}parse(O,z){const ee=this.safeParse(O,z);if(ee.success)return ee.data;throw ee.error}safeParse(O,z){var ee;const ye={common:{issues:[],async:(ee=z==null?void 0:z.async)!==null&&ee!==void 0?ee:!1,contextualErrorMap:z==null?void 0:z.errorMap},path:(z==null?void 0:z.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:O,parsedType:(0,i.getParsedType)(O)},ge=this._parseSync({data:O,path:ye.path,parent:ye});return a(ye,ge)}async parseAsync(O,z){const ee=await this.safeParseAsync(O,z);if(ee.success)return ee.data;throw ee.error}async safeParseAsync(O,z){const ee={common:{issues:[],contextualErrorMap:z==null?void 0:z.errorMap,async:!0},path:(z==null?void 0:z.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:O,parsedType:(0,i.getParsedType)(O)},ye=this._parse({data:O,path:ee.path,parent:ee}),ge=await((0,r.isAsync)(ye)?ye:Promise.resolve(ye));return a(ee,ge)}refine(O,z){const ee=ye=>typeof z=="string"||typeof z>"u"?{message:z}:typeof z=="function"?z(ye):z;return this._refinement((ye,ge)=>{const Ke=O(ye),Be=()=>ge.addIssue({code:o.ZodIssueCode.custom,...ee(ye)});return typeof Promise<"u"&&Ke instanceof Promise?Ke.then(vt=>vt?!0:(Be(),!1)):Ke?!0:(Be(),!1)})}refinement(O,z){return this._refinement((ee,ye)=>O(ee)?!0:(ye.addIssue(typeof z=="function"?z(ee,ye):z),!1))}_refinement(O){return new ze({schema:this,typeName:tt.ZodEffects,effect:{type:"refinement",refinement:O}})}superRefine(O){return this._refinement(O)}optional(){return Oe.create(this,this._def)}nullable(){return qe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Y.create(this,this._def)}promise(){return Pe.create(this,this._def)}or(O){return B.create([this,O],this._def)}and(O){return X.create(this,O,this._def)}transform(O){return new ze({...l(this._def),schema:this,typeName:tt.ZodEffects,effect:{type:"transform",transform:O}})}default(O){const z=typeof O=="function"?O:()=>O;return new $e({...l(this._def),innerType:this,defaultValue:z,typeName:tt.ZodDefault})}brand(){return new mt({typeName:tt.ZodBranded,type:this,...l(this._def)})}catch(O){const z=typeof O=="function"?O:()=>O;return new rt({...l(this._def),innerType:this,catchValue:z,typeName:tt.ZodCatch})}describe(O){const z=this.constructor;return new z({...this._def,description:O})}pipe(O){return It.create(this,O)}readonly(){return Ze.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}e.ZodType=c,e.Schema=c,e.ZodSchema=c;const u=/^c[^\s-]{8,}$/i,f=/^[a-z][a-z0-9]*$/,h=/^[0-9A-HJKMNP-TV-Z]{26}$/,m=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,p=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,g="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _;const x=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,S=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,C=fe=>fe.precision?fe.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${fe.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${fe.precision}}Z$`):fe.precision===0?fe.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):fe.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function j(fe,O){return!!((O==="v4"||!O)&&x.test(fe)||(O==="v6"||!O)&&S.test(fe))}class k extends c{_parse(O){if(this._def.coerce&&(O.data=String(O.data)),this._getType(O)!==i.ZodParsedType.string){const ge=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(ge,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.string,received:ge.parsedType}),r.INVALID}const ee=new r.ParseStatus;let ye;for(const ge of this._def.checks)if(ge.kind==="min")O.data.length<ge.value&&(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{code:o.ZodIssueCode.too_small,minimum:ge.value,type:"string",inclusive:!0,exact:!1,message:ge.message}),ee.dirty());else if(ge.kind==="max")O.data.length>ge.value&&(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{code:o.ZodIssueCode.too_big,maximum:ge.value,type:"string",inclusive:!0,exact:!1,message:ge.message}),ee.dirty());else if(ge.kind==="length"){const Ke=O.data.length>ge.value,Be=O.data.length<ge.value;(Ke||Be)&&(ye=this._getOrReturnCtx(O,ye),Ke?(0,r.addIssueToContext)(ye,{code:o.ZodIssueCode.too_big,maximum:ge.value,type:"string",inclusive:!0,exact:!0,message:ge.message}):Be&&(0,r.addIssueToContext)(ye,{code:o.ZodIssueCode.too_small,minimum:ge.value,type:"string",inclusive:!0,exact:!0,message:ge.message}),ee.dirty())}else if(ge.kind==="email")p.test(O.data)||(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{validation:"email",code:o.ZodIssueCode.invalid_string,message:ge.message}),ee.dirty());else if(ge.kind==="emoji")_||(_=new RegExp(g,"u")),_.test(O.data)||(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{validation:"emoji",code:o.ZodIssueCode.invalid_string,message:ge.message}),ee.dirty());else if(ge.kind==="uuid")m.test(O.data)||(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{validation:"uuid",code:o.ZodIssueCode.invalid_string,message:ge.message}),ee.dirty());else if(ge.kind==="cuid")u.test(O.data)||(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{validation:"cuid",code:o.ZodIssueCode.invalid_string,message:ge.message}),ee.dirty());else if(ge.kind==="cuid2")f.test(O.data)||(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{validation:"cuid2",code:o.ZodIssueCode.invalid_string,message:ge.message}),ee.dirty());else if(ge.kind==="ulid")h.test(O.data)||(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{validation:"ulid",code:o.ZodIssueCode.invalid_string,message:ge.message}),ee.dirty());else if(ge.kind==="url")try{new URL(O.data)}catch{ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{validation:"url",code:o.ZodIssueCode.invalid_string,message:ge.message}),ee.dirty()}else ge.kind==="regex"?(ge.regex.lastIndex=0,ge.regex.test(O.data)||(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{validation:"regex",code:o.ZodIssueCode.invalid_string,message:ge.message}),ee.dirty())):ge.kind==="trim"?O.data=O.data.trim():ge.kind==="includes"?O.data.includes(ge.value,ge.position)||(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{code:o.ZodIssueCode.invalid_string,validation:{includes:ge.value,position:ge.position},message:ge.message}),ee.dirty()):ge.kind==="toLowerCase"?O.data=O.data.toLowerCase():ge.kind==="toUpperCase"?O.data=O.data.toUpperCase():ge.kind==="startsWith"?O.data.startsWith(ge.value)||(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{code:o.ZodIssueCode.invalid_string,validation:{startsWith:ge.value},message:ge.message}),ee.dirty()):ge.kind==="endsWith"?O.data.endsWith(ge.value)||(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{code:o.ZodIssueCode.invalid_string,validation:{endsWith:ge.value},message:ge.message}),ee.dirty()):ge.kind==="datetime"?C(ge).test(O.data)||(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{code:o.ZodIssueCode.invalid_string,validation:"datetime",message:ge.message}),ee.dirty()):ge.kind==="ip"?j(O.data,ge.version)||(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{validation:"ip",code:o.ZodIssueCode.invalid_string,message:ge.message}),ee.dirty()):i.util.assertNever(ge);return{status:ee.value,value:O.data}}_regex(O,z,ee){return this.refinement(ye=>O.test(ye),{validation:z,code:o.ZodIssueCode.invalid_string,...n.errorUtil.errToObj(ee)})}_addCheck(O){return new k({...this._def,checks:[...this._def.checks,O]})}email(O){return this._addCheck({kind:"email",...n.errorUtil.errToObj(O)})}url(O){return this._addCheck({kind:"url",...n.errorUtil.errToObj(O)})}emoji(O){return this._addCheck({kind:"emoji",...n.errorUtil.errToObj(O)})}uuid(O){return this._addCheck({kind:"uuid",...n.errorUtil.errToObj(O)})}cuid(O){return this._addCheck({kind:"cuid",...n.errorUtil.errToObj(O)})}cuid2(O){return this._addCheck({kind:"cuid2",...n.errorUtil.errToObj(O)})}ulid(O){return this._addCheck({kind:"ulid",...n.errorUtil.errToObj(O)})}ip(O){return this._addCheck({kind:"ip",...n.errorUtil.errToObj(O)})}datetime(O){var z;return typeof O=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:O}):this._addCheck({kind:"datetime",precision:typeof(O==null?void 0:O.precision)>"u"?null:O==null?void 0:O.precision,offset:(z=O==null?void 0:O.offset)!==null&&z!==void 0?z:!1,...n.errorUtil.errToObj(O==null?void 0:O.message)})}regex(O,z){return this._addCheck({kind:"regex",regex:O,...n.errorUtil.errToObj(z)})}includes(O,z){return this._addCheck({kind:"includes",value:O,position:z==null?void 0:z.position,...n.errorUtil.errToObj(z==null?void 0:z.message)})}startsWith(O,z){return this._addCheck({kind:"startsWith",value:O,...n.errorUtil.errToObj(z)})}endsWith(O,z){return this._addCheck({kind:"endsWith",value:O,...n.errorUtil.errToObj(z)})}min(O,z){return this._addCheck({kind:"min",value:O,...n.errorUtil.errToObj(z)})}max(O,z){return this._addCheck({kind:"max",value:O,...n.errorUtil.errToObj(z)})}length(O,z){return this._addCheck({kind:"length",value:O,...n.errorUtil.errToObj(z)})}nonempty(O){return this.min(1,n.errorUtil.errToObj(O))}trim(){return new k({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new k({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new k({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(O=>O.kind==="datetime")}get isEmail(){return!!this._def.checks.find(O=>O.kind==="email")}get isURL(){return!!this._def.checks.find(O=>O.kind==="url")}get isEmoji(){return!!this._def.checks.find(O=>O.kind==="emoji")}get isUUID(){return!!this._def.checks.find(O=>O.kind==="uuid")}get isCUID(){return!!this._def.checks.find(O=>O.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(O=>O.kind==="cuid2")}get isULID(){return!!this._def.checks.find(O=>O.kind==="ulid")}get isIP(){return!!this._def.checks.find(O=>O.kind==="ip")}get minLength(){let O=null;for(const z of this._def.checks)z.kind==="min"&&(O===null||z.value>O)&&(O=z.value);return O}get maxLength(){let O=null;for(const z of this._def.checks)z.kind==="max"&&(O===null||z.value<O)&&(O=z.value);return O}}e.ZodString=k,k.create=fe=>{var O;return new k({checks:[],typeName:tt.ZodString,coerce:(O=fe==null?void 0:fe.coerce)!==null&&O!==void 0?O:!1,...l(fe)})};function T(fe,O){const z=(fe.toString().split(".")[1]||"").length,ee=(O.toString().split(".")[1]||"").length,ye=z>ee?z:ee,ge=parseInt(fe.toFixed(ye).replace(".","")),Ke=parseInt(O.toFixed(ye).replace(".",""));return ge%Ke/Math.pow(10,ye)}class y extends c{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(O){if(this._def.coerce&&(O.data=Number(O.data)),this._getType(O)!==i.ZodParsedType.number){const ge=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(ge,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.number,received:ge.parsedType}),r.INVALID}let ee;const ye=new r.ParseStatus;for(const ge of this._def.checks)ge.kind==="int"?i.util.isInteger(O.data)||(ee=this._getOrReturnCtx(O,ee),(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:ge.message}),ye.dirty()):ge.kind==="min"?(ge.inclusive?O.data<ge.value:O.data<=ge.value)&&(ee=this._getOrReturnCtx(O,ee),(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.too_small,minimum:ge.value,type:"number",inclusive:ge.inclusive,exact:!1,message:ge.message}),ye.dirty()):ge.kind==="max"?(ge.inclusive?O.data>ge.value:O.data>=ge.value)&&(ee=this._getOrReturnCtx(O,ee),(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.too_big,maximum:ge.value,type:"number",inclusive:ge.inclusive,exact:!1,message:ge.message}),ye.dirty()):ge.kind==="multipleOf"?T(O.data,ge.value)!==0&&(ee=this._getOrReturnCtx(O,ee),(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.not_multiple_of,multipleOf:ge.value,message:ge.message}),ye.dirty()):ge.kind==="finite"?Number.isFinite(O.data)||(ee=this._getOrReturnCtx(O,ee),(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.not_finite,message:ge.message}),ye.dirty()):i.util.assertNever(ge);return{status:ye.value,value:O.data}}gte(O,z){return this.setLimit("min",O,!0,n.errorUtil.toString(z))}gt(O,z){return this.setLimit("min",O,!1,n.errorUtil.toString(z))}lte(O,z){return this.setLimit("max",O,!0,n.errorUtil.toString(z))}lt(O,z){return this.setLimit("max",O,!1,n.errorUtil.toString(z))}setLimit(O,z,ee,ye){return new y({...this._def,checks:[...this._def.checks,{kind:O,value:z,inclusive:ee,message:n.errorUtil.toString(ye)}]})}_addCheck(O){return new y({...this._def,checks:[...this._def.checks,O]})}int(O){return this._addCheck({kind:"int",message:n.errorUtil.toString(O)})}positive(O){return this._addCheck({kind:"min",value:0,inclusive:!1,message:n.errorUtil.toString(O)})}negative(O){return this._addCheck({kind:"max",value:0,inclusive:!1,message:n.errorUtil.toString(O)})}nonpositive(O){return this._addCheck({kind:"max",value:0,inclusive:!0,message:n.errorUtil.toString(O)})}nonnegative(O){return this._addCheck({kind:"min",value:0,inclusive:!0,message:n.errorUtil.toString(O)})}multipleOf(O,z){return this._addCheck({kind:"multipleOf",value:O,message:n.errorUtil.toString(z)})}finite(O){return this._addCheck({kind:"finite",message:n.errorUtil.toString(O)})}safe(O){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:n.errorUtil.toString(O)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:n.errorUtil.toString(O)})}get minValue(){let O=null;for(const z of this._def.checks)z.kind==="min"&&(O===null||z.value>O)&&(O=z.value);return O}get maxValue(){let O=null;for(const z of this._def.checks)z.kind==="max"&&(O===null||z.value<O)&&(O=z.value);return O}get isInt(){return!!this._def.checks.find(O=>O.kind==="int"||O.kind==="multipleOf"&&i.util.isInteger(O.value))}get isFinite(){let O=null,z=null;for(const ee of this._def.checks){if(ee.kind==="finite"||ee.kind==="int"||ee.kind==="multipleOf")return!0;ee.kind==="min"?(z===null||ee.value>z)&&(z=ee.value):ee.kind==="max"&&(O===null||ee.value<O)&&(O=ee.value)}return Number.isFinite(z)&&Number.isFinite(O)}}e.ZodNumber=y,y.create=fe=>new y({checks:[],typeName:tt.ZodNumber,coerce:(fe==null?void 0:fe.coerce)||!1,...l(fe)});class P extends c{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(O){if(this._def.coerce&&(O.data=BigInt(O.data)),this._getType(O)!==i.ZodParsedType.bigint){const ge=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(ge,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.bigint,received:ge.parsedType}),r.INVALID}let ee;const ye=new r.ParseStatus;for(const ge of this._def.checks)ge.kind==="min"?(ge.inclusive?O.data<ge.value:O.data<=ge.value)&&(ee=this._getOrReturnCtx(O,ee),(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.too_small,type:"bigint",minimum:ge.value,inclusive:ge.inclusive,message:ge.message}),ye.dirty()):ge.kind==="max"?(ge.inclusive?O.data>ge.value:O.data>=ge.value)&&(ee=this._getOrReturnCtx(O,ee),(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.too_big,type:"bigint",maximum:ge.value,inclusive:ge.inclusive,message:ge.message}),ye.dirty()):ge.kind==="multipleOf"?O.data%ge.value!==BigInt(0)&&(ee=this._getOrReturnCtx(O,ee),(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.not_multiple_of,multipleOf:ge.value,message:ge.message}),ye.dirty()):i.util.assertNever(ge);return{status:ye.value,value:O.data}}gte(O,z){return this.setLimit("min",O,!0,n.errorUtil.toString(z))}gt(O,z){return this.setLimit("min",O,!1,n.errorUtil.toString(z))}lte(O,z){return this.setLimit("max",O,!0,n.errorUtil.toString(z))}lt(O,z){return this.setLimit("max",O,!1,n.errorUtil.toString(z))}setLimit(O,z,ee,ye){return new P({...this._def,checks:[...this._def.checks,{kind:O,value:z,inclusive:ee,message:n.errorUtil.toString(ye)}]})}_addCheck(O){return new P({...this._def,checks:[...this._def.checks,O]})}positive(O){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:n.errorUtil.toString(O)})}negative(O){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:n.errorUtil.toString(O)})}nonpositive(O){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:n.errorUtil.toString(O)})}nonnegative(O){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:n.errorUtil.toString(O)})}multipleOf(O,z){return this._addCheck({kind:"multipleOf",value:O,message:n.errorUtil.toString(z)})}get minValue(){let O=null;for(const z of this._def.checks)z.kind==="min"&&(O===null||z.value>O)&&(O=z.value);return O}get maxValue(){let O=null;for(const z of this._def.checks)z.kind==="max"&&(O===null||z.value<O)&&(O=z.value);return O}}e.ZodBigInt=P,P.create=fe=>{var O;return new P({checks:[],typeName:tt.ZodBigInt,coerce:(O=fe==null?void 0:fe.coerce)!==null&&O!==void 0?O:!1,...l(fe)})};class A extends c{_parse(O){if(this._def.coerce&&(O.data=!!O.data),this._getType(O)!==i.ZodParsedType.boolean){const ee=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.boolean,received:ee.parsedType}),r.INVALID}return(0,r.OK)(O.data)}}e.ZodBoolean=A,A.create=fe=>new A({typeName:tt.ZodBoolean,coerce:(fe==null?void 0:fe.coerce)||!1,...l(fe)});class $ extends c{_parse(O){if(this._def.coerce&&(O.data=new Date(O.data)),this._getType(O)!==i.ZodParsedType.date){const ge=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(ge,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.date,received:ge.parsedType}),r.INVALID}if(isNaN(O.data.getTime())){const ge=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(ge,{code:o.ZodIssueCode.invalid_date}),r.INVALID}const ee=new r.ParseStatus;let ye;for(const ge of this._def.checks)ge.kind==="min"?O.data.getTime()<ge.value&&(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{code:o.ZodIssueCode.too_small,message:ge.message,inclusive:!0,exact:!1,minimum:ge.value,type:"date"}),ee.dirty()):ge.kind==="max"?O.data.getTime()>ge.value&&(ye=this._getOrReturnCtx(O,ye),(0,r.addIssueToContext)(ye,{code:o.ZodIssueCode.too_big,message:ge.message,inclusive:!0,exact:!1,maximum:ge.value,type:"date"}),ee.dirty()):i.util.assertNever(ge);return{status:ee.value,value:new Date(O.data.getTime())}}_addCheck(O){return new $({...this._def,checks:[...this._def.checks,O]})}min(O,z){return this._addCheck({kind:"min",value:O.getTime(),message:n.errorUtil.toString(z)})}max(O,z){return this._addCheck({kind:"max",value:O.getTime(),message:n.errorUtil.toString(z)})}get minDate(){let O=null;for(const z of this._def.checks)z.kind==="min"&&(O===null||z.value>O)&&(O=z.value);return O!=null?new Date(O):null}get maxDate(){let O=null;for(const z of this._def.checks)z.kind==="max"&&(O===null||z.value<O)&&(O=z.value);return O!=null?new Date(O):null}}e.ZodDate=$,$.create=fe=>new $({checks:[],coerce:(fe==null?void 0:fe.coerce)||!1,typeName:tt.ZodDate,...l(fe)});class L extends c{_parse(O){if(this._getType(O)!==i.ZodParsedType.symbol){const ee=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.symbol,received:ee.parsedType}),r.INVALID}return(0,r.OK)(O.data)}}e.ZodSymbol=L,L.create=fe=>new L({typeName:tt.ZodSymbol,...l(fe)});class U extends c{_parse(O){if(this._getType(O)!==i.ZodParsedType.undefined){const ee=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.undefined,received:ee.parsedType}),r.INVALID}return(0,r.OK)(O.data)}}e.ZodUndefined=U,U.create=fe=>new U({typeName:tt.ZodUndefined,...l(fe)});class F extends c{_parse(O){if(this._getType(O)!==i.ZodParsedType.null){const ee=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.null,received:ee.parsedType}),r.INVALID}return(0,r.OK)(O.data)}}e.ZodNull=F,F.create=fe=>new F({typeName:tt.ZodNull,...l(fe)});class H extends c{constructor(){super(...arguments),this._any=!0}_parse(O){return(0,r.OK)(O.data)}}e.ZodAny=H,H.create=fe=>new H({typeName:tt.ZodAny,...l(fe)});class q extends c{constructor(){super(...arguments),this._unknown=!0}_parse(O){return(0,r.OK)(O.data)}}e.ZodUnknown=q,q.create=fe=>new q({typeName:tt.ZodUnknown,...l(fe)});class re extends c{_parse(O){const z=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(z,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.never,received:z.parsedType}),r.INVALID}}e.ZodNever=re,re.create=fe=>new re({typeName:tt.ZodNever,...l(fe)});class G extends c{_parse(O){if(this._getType(O)!==i.ZodParsedType.undefined){const ee=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.void,received:ee.parsedType}),r.INVALID}return(0,r.OK)(O.data)}}e.ZodVoid=G,G.create=fe=>new G({typeName:tt.ZodVoid,...l(fe)});class Y extends c{_parse(O){const{ctx:z,status:ee}=this._processInputParams(O),ye=this._def;if(z.parsedType!==i.ZodParsedType.array)return(0,r.addIssueToContext)(z,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:z.parsedType}),r.INVALID;if(ye.exactLength!==null){const Ke=z.data.length>ye.exactLength.value,Be=z.data.length<ye.exactLength.value;(Ke||Be)&&((0,r.addIssueToContext)(z,{code:Ke?o.ZodIssueCode.too_big:o.ZodIssueCode.too_small,minimum:Be?ye.exactLength.value:void 0,maximum:Ke?ye.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:ye.exactLength.message}),ee.dirty())}if(ye.minLength!==null&&z.data.length<ye.minLength.value&&((0,r.addIssueToContext)(z,{code:o.ZodIssueCode.too_small,minimum:ye.minLength.value,type:"array",inclusive:!0,exact:!1,message:ye.minLength.message}),ee.dirty()),ye.maxLength!==null&&z.data.length>ye.maxLength.value&&((0,r.addIssueToContext)(z,{code:o.ZodIssueCode.too_big,maximum:ye.maxLength.value,type:"array",inclusive:!0,exact:!1,message:ye.maxLength.message}),ee.dirty()),z.common.async)return Promise.all([...z.data].map((Ke,Be)=>ye.type._parseAsync(new s(z,Ke,z.path,Be)))).then(Ke=>r.ParseStatus.mergeArray(ee,Ke));const ge=[...z.data].map((Ke,Be)=>ye.type._parseSync(new s(z,Ke,z.path,Be)));return r.ParseStatus.mergeArray(ee,ge)}get element(){return this._def.type}min(O,z){return new Y({...this._def,minLength:{value:O,message:n.errorUtil.toString(z)}})}max(O,z){return new Y({...this._def,maxLength:{value:O,message:n.errorUtil.toString(z)}})}length(O,z){return new Y({...this._def,exactLength:{value:O,message:n.errorUtil.toString(z)}})}nonempty(O){return this.min(1,O)}}e.ZodArray=Y,Y.create=(fe,O)=>new Y({type:fe,minLength:null,maxLength:null,exactLength:null,typeName:tt.ZodArray,...l(O)});function te(fe){if(fe instanceof ne){const O={};for(const z in fe.shape){const ee=fe.shape[z];O[z]=Oe.create(te(ee))}return new ne({...fe._def,shape:()=>O})}else return fe instanceof Y?new Y({...fe._def,type:te(fe.element)}):fe instanceof Oe?Oe.create(te(fe.unwrap())):fe instanceof qe?qe.create(te(fe.unwrap())):fe instanceof J?J.create(fe.items.map(O=>te(O))):fe}class ne extends c{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const O=this._def.shape(),z=i.util.objectKeys(O);return this._cached={shape:O,keys:z}}_parse(O){if(this._getType(O)!==i.ZodParsedType.object){const ht=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(ht,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:ht.parsedType}),r.INVALID}const{status:ee,ctx:ye}=this._processInputParams(O),{shape:ge,keys:Ke}=this._getCached(),Be=[];if(!(this._def.catchall instanceof re&&this._def.unknownKeys==="strip"))for(const ht in ye.data)Ke.includes(ht)||Be.push(ht);const vt=[];for(const ht of Ke){const Bt=ge[ht],gr=ye.data[ht];vt.push({key:{status:"valid",value:ht},value:Bt._parse(new s(ye,gr,ye.path,ht)),alwaysSet:ht in ye.data})}if(this._def.catchall instanceof re){const ht=this._def.unknownKeys;if(ht==="passthrough")for(const Bt of Be)vt.push({key:{status:"valid",value:Bt},value:{status:"valid",value:ye.data[Bt]}});else if(ht==="strict")Be.length>0&&((0,r.addIssueToContext)(ye,{code:o.ZodIssueCode.unrecognized_keys,keys:Be}),ee.dirty());else if(ht!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const ht=this._def.catchall;for(const Bt of Be){const gr=ye.data[Bt];vt.push({key:{status:"valid",value:Bt},value:ht._parse(new s(ye,gr,ye.path,Bt)),alwaysSet:Bt in ye.data})}}return ye.common.async?Promise.resolve().then(async()=>{const ht=[];for(const Bt of vt){const gr=await Bt.key;ht.push({key:gr,value:await Bt.value,alwaysSet:Bt.alwaysSet})}return ht}).then(ht=>r.ParseStatus.mergeObjectSync(ee,ht)):r.ParseStatus.mergeObjectSync(ee,vt)}get shape(){return this._def.shape()}strict(O){return n.errorUtil.errToObj,new ne({...this._def,unknownKeys:"strict",...O!==void 0?{errorMap:(z,ee)=>{var ye,ge,Ke,Be;const vt=(Ke=(ge=(ye=this._def).errorMap)===null||ge===void 0?void 0:ge.call(ye,z,ee).message)!==null&&Ke!==void 0?Ke:ee.defaultError;return z.code==="unrecognized_keys"?{message:(Be=n.errorUtil.errToObj(O).message)!==null&&Be!==void 0?Be:vt}:{message:vt}}}:{}})}strip(){return new ne({...this._def,unknownKeys:"strip"})}passthrough(){return new ne({...this._def,unknownKeys:"passthrough"})}extend(O){return new ne({...this._def,shape:()=>({...this._def.shape(),...O})})}merge(O){return new ne({unknownKeys:O._def.unknownKeys,catchall:O._def.catchall,shape:()=>({...this._def.shape(),...O._def.shape()}),typeName:tt.ZodObject})}setKey(O,z){return this.augment({[O]:z})}catchall(O){return new ne({...this._def,catchall:O})}pick(O){const z={};return i.util.objectKeys(O).forEach(ee=>{O[ee]&&this.shape[ee]&&(z[ee]=this.shape[ee])}),new ne({...this._def,shape:()=>z})}omit(O){const z={};return i.util.objectKeys(this.shape).forEach(ee=>{O[ee]||(z[ee]=this.shape[ee])}),new ne({...this._def,shape:()=>z})}deepPartial(){return te(this)}partial(O){const z={};return i.util.objectKeys(this.shape).forEach(ee=>{const ye=this.shape[ee];O&&!O[ee]?z[ee]=ye:z[ee]=ye.optional()}),new ne({...this._def,shape:()=>z})}required(O){const z={};return i.util.objectKeys(this.shape).forEach(ee=>{if(O&&!O[ee])z[ee]=this.shape[ee];else{let ge=this.shape[ee];for(;ge instanceof Oe;)ge=ge._def.innerType;z[ee]=ge}}),new ne({...this._def,shape:()=>z})}keyof(){return ie(i.util.objectKeys(this.shape))}}e.ZodObject=ne,ne.create=(fe,O)=>new ne({shape:()=>fe,unknownKeys:"strip",catchall:re.create(),typeName:tt.ZodObject,...l(O)}),ne.strictCreate=(fe,O)=>new ne({shape:()=>fe,unknownKeys:"strict",catchall:re.create(),typeName:tt.ZodObject,...l(O)}),ne.lazycreate=(fe,O)=>new ne({shape:fe,unknownKeys:"strip",catchall:re.create(),typeName:tt.ZodObject,...l(O)});class B extends c{_parse(O){const{ctx:z}=this._processInputParams(O),ee=this._def.options;function ye(ge){for(const Be of ge)if(Be.result.status==="valid")return Be.result;for(const Be of ge)if(Be.result.status==="dirty")return z.common.issues.push(...Be.ctx.common.issues),Be.result;const Ke=ge.map(Be=>new o.ZodError(Be.ctx.common.issues));return(0,r.addIssueToContext)(z,{code:o.ZodIssueCode.invalid_union,unionErrors:Ke}),r.INVALID}if(z.common.async)return Promise.all(ee.map(async ge=>{const Ke={...z,common:{...z.common,issues:[]},parent:null};return{result:await ge._parseAsync({data:z.data,path:z.path,parent:Ke}),ctx:Ke}})).then(ye);{let ge;const Ke=[];for(const vt of ee){const ht={...z,common:{...z.common,issues:[]},parent:null},Bt=vt._parseSync({data:z.data,path:z.path,parent:ht});if(Bt.status==="valid")return Bt;Bt.status==="dirty"&&!ge&&(ge={result:Bt,ctx:ht}),ht.common.issues.length&&Ke.push(ht.common.issues)}if(ge)return z.common.issues.push(...ge.ctx.common.issues),ge.result;const Be=Ke.map(vt=>new o.ZodError(vt));return(0,r.addIssueToContext)(z,{code:o.ZodIssueCode.invalid_union,unionErrors:Be}),r.INVALID}}get options(){return this._def.options}}e.ZodUnion=B,B.create=(fe,O)=>new B({options:fe,typeName:tt.ZodUnion,...l(O)});const Q=fe=>fe instanceof Z?Q(fe.schema):fe instanceof ze?Q(fe.innerType()):fe instanceof se?[fe.value]:fe instanceof be?fe.options:fe instanceof Ne?Object.keys(fe.enum):fe instanceof $e?Q(fe._def.innerType):fe instanceof U?[void 0]:fe instanceof F?[null]:null;class K extends c{_parse(O){const{ctx:z}=this._processInputParams(O);if(z.parsedType!==i.ZodParsedType.object)return(0,r.addIssueToContext)(z,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:z.parsedType}),r.INVALID;const ee=this.discriminator,ye=z.data[ee],ge=this.optionsMap.get(ye);return ge?z.common.async?ge._parseAsync({data:z.data,path:z.path,parent:z}):ge._parseSync({data:z.data,path:z.path,parent:z}):((0,r.addIssueToContext)(z,{code:o.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[ee]}),r.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(O,z,ee){const ye=new Map;for(const ge of z){const Ke=Q(ge.shape[O]);if(!Ke)throw new Error(`A discriminator value for key \`${O}\` could not be extracted from all schema options`);for(const Be of Ke){if(ye.has(Be))throw new Error(`Discriminator property ${String(O)} has duplicate value ${String(Be)}`);ye.set(Be,ge)}}return new K({typeName:tt.ZodDiscriminatedUnion,discriminator:O,options:z,optionsMap:ye,...l(ee)})}}e.ZodDiscriminatedUnion=K;function de(fe,O){const z=(0,i.getParsedType)(fe),ee=(0,i.getParsedType)(O);if(fe===O)return{valid:!0,data:fe};if(z===i.ZodParsedType.object&&ee===i.ZodParsedType.object){const ye=i.util.objectKeys(O),ge=i.util.objectKeys(fe).filter(Be=>ye.indexOf(Be)!==-1),Ke={...fe,...O};for(const Be of ge){const vt=de(fe[Be],O[Be]);if(!vt.valid)return{valid:!1};Ke[Be]=vt.data}return{valid:!0,data:Ke}}else if(z===i.ZodParsedType.array&&ee===i.ZodParsedType.array){if(fe.length!==O.length)return{valid:!1};const ye=[];for(let ge=0;ge<fe.length;ge++){const Ke=fe[ge],Be=O[ge],vt=de(Ke,Be);if(!vt.valid)return{valid:!1};ye.push(vt.data)}return{valid:!0,data:ye}}else return z===i.ZodParsedType.date&&ee===i.ZodParsedType.date&&+fe==+O?{valid:!0,data:fe}:{valid:!1}}class X extends c{_parse(O){const{status:z,ctx:ee}=this._processInputParams(O),ye=(ge,Ke)=>{if((0,r.isAborted)(ge)||(0,r.isAborted)(Ke))return r.INVALID;const Be=de(ge.value,Ke.value);return Be.valid?(((0,r.isDirty)(ge)||(0,r.isDirty)(Ke))&&z.dirty(),{status:z.value,value:Be.data}):((0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.invalid_intersection_types}),r.INVALID)};return ee.common.async?Promise.all([this._def.left._parseAsync({data:ee.data,path:ee.path,parent:ee}),this._def.right._parseAsync({data:ee.data,path:ee.path,parent:ee})]).then(([ge,Ke])=>ye(ge,Ke)):ye(this._def.left._parseSync({data:ee.data,path:ee.path,parent:ee}),this._def.right._parseSync({data:ee.data,path:ee.path,parent:ee}))}}e.ZodIntersection=X,X.create=(fe,O,z)=>new X({left:fe,right:O,typeName:tt.ZodIntersection,...l(z)});class J extends c{_parse(O){const{status:z,ctx:ee}=this._processInputParams(O);if(ee.parsedType!==i.ZodParsedType.array)return(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:ee.parsedType}),r.INVALID;if(ee.data.length<this._def.items.length)return(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.INVALID;!this._def.rest&&ee.data.length>this._def.items.length&&((0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),z.dirty());const ge=[...ee.data].map((Ke,Be)=>{const vt=this._def.items[Be]||this._def.rest;return vt?vt._parse(new s(ee,Ke,ee.path,Be)):null}).filter(Ke=>!!Ke);return ee.common.async?Promise.all(ge).then(Ke=>r.ParseStatus.mergeArray(z,Ke)):r.ParseStatus.mergeArray(z,ge)}get items(){return this._def.items}rest(O){return new J({...this._def,rest:O})}}e.ZodTuple=J,J.create=(fe,O)=>{if(!Array.isArray(fe))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new J({items:fe,typeName:tt.ZodTuple,rest:null,...l(O)})};class ue extends c{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(O){const{status:z,ctx:ee}=this._processInputParams(O);if(ee.parsedType!==i.ZodParsedType.object)return(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:ee.parsedType}),r.INVALID;const ye=[],ge=this._def.keyType,Ke=this._def.valueType;for(const Be in ee.data)ye.push({key:ge._parse(new s(ee,Be,ee.path,Be)),value:Ke._parse(new s(ee,ee.data[Be],ee.path,Be))});return ee.common.async?r.ParseStatus.mergeObjectAsync(z,ye):r.ParseStatus.mergeObjectSync(z,ye)}get element(){return this._def.valueType}static create(O,z,ee){return z instanceof c?new ue({keyType:O,valueType:z,typeName:tt.ZodRecord,...l(ee)}):new ue({keyType:k.create(),valueType:O,typeName:tt.ZodRecord,...l(z)})}}e.ZodRecord=ue;class xe extends c{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(O){const{status:z,ctx:ee}=this._processInputParams(O);if(ee.parsedType!==i.ZodParsedType.map)return(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.map,received:ee.parsedType}),r.INVALID;const ye=this._def.keyType,ge=this._def.valueType,Ke=[...ee.data.entries()].map(([Be,vt],ht)=>({key:ye._parse(new s(ee,Be,ee.path,[ht,"key"])),value:ge._parse(new s(ee,vt,ee.path,[ht,"value"]))}));if(ee.common.async){const Be=new Map;return Promise.resolve().then(async()=>{for(const vt of Ke){const ht=await vt.key,Bt=await vt.value;if(ht.status==="aborted"||Bt.status==="aborted")return r.INVALID;(ht.status==="dirty"||Bt.status==="dirty")&&z.dirty(),Be.set(ht.value,Bt.value)}return{status:z.value,value:Be}})}else{const Be=new Map;for(const vt of Ke){const ht=vt.key,Bt=vt.value;if(ht.status==="aborted"||Bt.status==="aborted")return r.INVALID;(ht.status==="dirty"||Bt.status==="dirty")&&z.dirty(),Be.set(ht.value,Bt.value)}return{status:z.value,value:Be}}}}e.ZodMap=xe,xe.create=(fe,O,z)=>new xe({valueType:O,keyType:fe,typeName:tt.ZodMap,...l(z)});class _e extends c{_parse(O){const{status:z,ctx:ee}=this._processInputParams(O);if(ee.parsedType!==i.ZodParsedType.set)return(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.set,received:ee.parsedType}),r.INVALID;const ye=this._def;ye.minSize!==null&&ee.data.size<ye.minSize.value&&((0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.too_small,minimum:ye.minSize.value,type:"set",inclusive:!0,exact:!1,message:ye.minSize.message}),z.dirty()),ye.maxSize!==null&&ee.data.size>ye.maxSize.value&&((0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.too_big,maximum:ye.maxSize.value,type:"set",inclusive:!0,exact:!1,message:ye.maxSize.message}),z.dirty());const ge=this._def.valueType;function Ke(vt){const ht=new Set;for(const Bt of vt){if(Bt.status==="aborted")return r.INVALID;Bt.status==="dirty"&&z.dirty(),ht.add(Bt.value)}return{status:z.value,value:ht}}const Be=[...ee.data.values()].map((vt,ht)=>ge._parse(new s(ee,vt,ee.path,ht)));return ee.common.async?Promise.all(Be).then(vt=>Ke(vt)):Ke(Be)}min(O,z){return new _e({...this._def,minSize:{value:O,message:n.errorUtil.toString(z)}})}max(O,z){return new _e({...this._def,maxSize:{value:O,message:n.errorUtil.toString(z)}})}size(O,z){return this.min(O,z).max(O,z)}nonempty(O){return this.min(1,O)}}e.ZodSet=_e,_e.create=(fe,O)=>new _e({valueType:fe,minSize:null,maxSize:null,typeName:tt.ZodSet,...l(O)});class he extends c{constructor(){super(...arguments),this.validate=this.implement}_parse(O){const{ctx:z}=this._processInputParams(O);if(z.parsedType!==i.ZodParsedType.function)return(0,r.addIssueToContext)(z,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.function,received:z.parsedType}),r.INVALID;function ee(Be,vt){return(0,r.makeIssue)({data:Be,path:z.path,errorMaps:[z.common.contextualErrorMap,z.schemaErrorMap,(0,t.getErrorMap)(),t.defaultErrorMap].filter(ht=>!!ht),issueData:{code:o.ZodIssueCode.invalid_arguments,argumentsError:vt}})}function ye(Be,vt){return(0,r.makeIssue)({data:Be,path:z.path,errorMaps:[z.common.contextualErrorMap,z.schemaErrorMap,(0,t.getErrorMap)(),t.defaultErrorMap].filter(ht=>!!ht),issueData:{code:o.ZodIssueCode.invalid_return_type,returnTypeError:vt}})}const ge={errorMap:z.common.contextualErrorMap},Ke=z.data;if(this._def.returns instanceof Pe){const Be=this;return(0,r.OK)(async function(...vt){const ht=new o.ZodError([]),Bt=await Be._def.args.parseAsync(vt,ge).catch(ys=>{throw ht.addIssue(ee(vt,ys)),ht}),gr=await Reflect.apply(Ke,this,Bt);return await Be._def.returns._def.type.parseAsync(gr,ge).catch(ys=>{throw ht.addIssue(ye(gr,ys)),ht})})}else{const Be=this;return(0,r.OK)(function(...vt){const ht=Be._def.args.safeParse(vt,ge);if(!ht.success)throw new o.ZodError([ee(vt,ht.error)]);const Bt=Reflect.apply(Ke,this,ht.data),gr=Be._def.returns.safeParse(Bt,ge);if(!gr.success)throw new o.ZodError([ye(Bt,gr.error)]);return gr.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...O){return new he({...this._def,args:J.create(O).rest(q.create())})}returns(O){return new he({...this._def,returns:O})}implement(O){return this.parse(O)}strictImplement(O){return this.parse(O)}static create(O,z,ee){return new he({args:O||J.create([]).rest(q.create()),returns:z||q.create(),typeName:tt.ZodFunction,...l(ee)})}}e.ZodFunction=he;class Z extends c{get schema(){return this._def.getter()}_parse(O){const{ctx:z}=this._processInputParams(O);return this._def.getter()._parse({data:z.data,path:z.path,parent:z})}}e.ZodLazy=Z,Z.create=(fe,O)=>new Z({getter:fe,typeName:tt.ZodLazy,...l(O)});class se extends c{_parse(O){if(O.data!==this._def.value){const z=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(z,{received:z.data,code:o.ZodIssueCode.invalid_literal,expected:this._def.value}),r.INVALID}return{status:"valid",value:O.data}}get value(){return this._def.value}}e.ZodLiteral=se,se.create=(fe,O)=>new se({value:fe,typeName:tt.ZodLiteral,...l(O)});function ie(fe,O){return new be({values:fe,typeName:tt.ZodEnum,...l(O)})}class be extends c{_parse(O){if(typeof O.data!="string"){const z=this._getOrReturnCtx(O),ee=this._def.values;return(0,r.addIssueToContext)(z,{expected:i.util.joinValues(ee),received:z.parsedType,code:o.ZodIssueCode.invalid_type}),r.INVALID}if(this._def.values.indexOf(O.data)===-1){const z=this._getOrReturnCtx(O),ee=this._def.values;return(0,r.addIssueToContext)(z,{received:z.data,code:o.ZodIssueCode.invalid_enum_value,options:ee}),r.INVALID}return(0,r.OK)(O.data)}get options(){return this._def.values}get enum(){const O={};for(const z of this._def.values)O[z]=z;return O}get Values(){const O={};for(const z of this._def.values)O[z]=z;return O}get Enum(){const O={};for(const z of this._def.values)O[z]=z;return O}extract(O){return be.create(O)}exclude(O){return be.create(this.options.filter(z=>!O.includes(z)))}}e.ZodEnum=be,be.create=ie;class Ne extends c{_parse(O){const z=i.util.getValidEnumValues(this._def.values),ee=this._getOrReturnCtx(O);if(ee.parsedType!==i.ZodParsedType.string&&ee.parsedType!==i.ZodParsedType.number){const ye=i.util.objectValues(z);return(0,r.addIssueToContext)(ee,{expected:i.util.joinValues(ye),received:ee.parsedType,code:o.ZodIssueCode.invalid_type}),r.INVALID}if(z.indexOf(O.data)===-1){const ye=i.util.objectValues(z);return(0,r.addIssueToContext)(ee,{received:ee.data,code:o.ZodIssueCode.invalid_enum_value,options:ye}),r.INVALID}return(0,r.OK)(O.data)}get enum(){return this._def.values}}e.ZodNativeEnum=Ne,Ne.create=(fe,O)=>new Ne({values:fe,typeName:tt.ZodNativeEnum,...l(O)});class Pe extends c{unwrap(){return this._def.type}_parse(O){const{ctx:z}=this._processInputParams(O);if(z.parsedType!==i.ZodParsedType.promise&&z.common.async===!1)return(0,r.addIssueToContext)(z,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.promise,received:z.parsedType}),r.INVALID;const ee=z.parsedType===i.ZodParsedType.promise?z.data:Promise.resolve(z.data);return(0,r.OK)(ee.then(ye=>this._def.type.parseAsync(ye,{path:z.path,errorMap:z.common.contextualErrorMap})))}}e.ZodPromise=Pe,Pe.create=(fe,O)=>new Pe({type:fe,typeName:tt.ZodPromise,...l(O)});class ze extends c{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(O){const{status:z,ctx:ee}=this._processInputParams(O),ye=this._def.effect||null,ge={addIssue:Ke=>{(0,r.addIssueToContext)(ee,Ke),Ke.fatal?z.abort():z.dirty()},get path(){return ee.path}};if(ge.addIssue=ge.addIssue.bind(ge),ye.type==="preprocess"){const Ke=ye.transform(ee.data,ge);return ee.common.issues.length?{status:"dirty",value:ee.data}:ee.common.async?Promise.resolve(Ke).then(Be=>this._def.schema._parseAsync({data:Be,path:ee.path,parent:ee})):this._def.schema._parseSync({data:Ke,path:ee.path,parent:ee})}if(ye.type==="refinement"){const Ke=Be=>{const vt=ye.refinement(Be,ge);if(ee.common.async)return Promise.resolve(vt);if(vt instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return Be};if(ee.common.async===!1){const Be=this._def.schema._parseSync({data:ee.data,path:ee.path,parent:ee});return Be.status==="aborted"?r.INVALID:(Be.status==="dirty"&&z.dirty(),Ke(Be.value),{status:z.value,value:Be.value})}else return this._def.schema._parseAsync({data:ee.data,path:ee.path,parent:ee}).then(Be=>Be.status==="aborted"?r.INVALID:(Be.status==="dirty"&&z.dirty(),Ke(Be.value).then(()=>({status:z.value,value:Be.value}))))}if(ye.type==="transform")if(ee.common.async===!1){const Ke=this._def.schema._parseSync({data:ee.data,path:ee.path,parent:ee});if(!(0,r.isValid)(Ke))return Ke;const Be=ye.transform(Ke.value,ge);if(Be instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:z.value,value:Be}}else return this._def.schema._parseAsync({data:ee.data,path:ee.path,parent:ee}).then(Ke=>(0,r.isValid)(Ke)?Promise.resolve(ye.transform(Ke.value,ge)).then(Be=>({status:z.value,value:Be})):Ke);i.util.assertNever(ye)}}e.ZodEffects=ze,e.ZodTransformer=ze,ze.create=(fe,O,z)=>new ze({schema:fe,typeName:tt.ZodEffects,effect:O,...l(z)}),ze.createWithPreprocess=(fe,O,z)=>new ze({schema:O,effect:{type:"preprocess",transform:fe},typeName:tt.ZodEffects,...l(z)});class Oe extends c{_parse(O){return this._getType(O)===i.ZodParsedType.undefined?(0,r.OK)(void 0):this._def.innerType._parse(O)}unwrap(){return this._def.innerType}}e.ZodOptional=Oe,Oe.create=(fe,O)=>new Oe({innerType:fe,typeName:tt.ZodOptional,...l(O)});class qe extends c{_parse(O){return this._getType(O)===i.ZodParsedType.null?(0,r.OK)(null):this._def.innerType._parse(O)}unwrap(){return this._def.innerType}}e.ZodNullable=qe,qe.create=(fe,O)=>new qe({innerType:fe,typeName:tt.ZodNullable,...l(O)});class $e extends c{_parse(O){const{ctx:z}=this._processInputParams(O);let ee=z.data;return z.parsedType===i.ZodParsedType.undefined&&(ee=this._def.defaultValue()),this._def.innerType._parse({data:ee,path:z.path,parent:z})}removeDefault(){return this._def.innerType}}e.ZodDefault=$e,$e.create=(fe,O)=>new $e({innerType:fe,typeName:tt.ZodDefault,defaultValue:typeof O.default=="function"?O.default:()=>O.default,...l(O)});class rt extends c{_parse(O){const{ctx:z}=this._processInputParams(O),ee={...z,common:{...z.common,issues:[]}},ye=this._def.innerType._parse({data:ee.data,path:ee.path,parent:{...ee}});return(0,r.isAsync)(ye)?ye.then(ge=>({status:"valid",value:ge.status==="valid"?ge.value:this._def.catchValue({get error(){return new o.ZodError(ee.common.issues)},input:ee.data})})):{status:"valid",value:ye.status==="valid"?ye.value:this._def.catchValue({get error(){return new o.ZodError(ee.common.issues)},input:ee.data})}}removeCatch(){return this._def.innerType}}e.ZodCatch=rt,rt.create=(fe,O)=>new rt({innerType:fe,typeName:tt.ZodCatch,catchValue:typeof O.catch=="function"?O.catch:()=>O.catch,...l(O)});class Ve extends c{_parse(O){if(this._getType(O)!==i.ZodParsedType.nan){const ee=this._getOrReturnCtx(O);return(0,r.addIssueToContext)(ee,{code:o.ZodIssueCode.invalid_type,expected:i.ZodParsedType.nan,received:ee.parsedType}),r.INVALID}return{status:"valid",value:O.data}}}e.ZodNaN=Ve,Ve.create=fe=>new Ve({typeName:tt.ZodNaN,...l(fe)}),e.BRAND=Symbol("zod_brand");class mt extends c{_parse(O){const{ctx:z}=this._processInputParams(O),ee=z.data;return this._def.type._parse({data:ee,path:z.path,parent:z})}unwrap(){return this._def.type}}e.ZodBranded=mt;class It extends c{_parse(O){const{status:z,ctx:ee}=this._processInputParams(O);if(ee.common.async)return(async()=>{const ge=await this._def.in._parseAsync({data:ee.data,path:ee.path,parent:ee});return ge.status==="aborted"?r.INVALID:ge.status==="dirty"?(z.dirty(),(0,r.DIRTY)(ge.value)):this._def.out._parseAsync({data:ge.value,path:ee.path,parent:ee})})();{const ye=this._def.in._parseSync({data:ee.data,path:ee.path,parent:ee});return ye.status==="aborted"?r.INVALID:ye.status==="dirty"?(z.dirty(),{status:"dirty",value:ye.value}):this._def.out._parseSync({data:ye.value,path:ee.path,parent:ee})}}static create(O,z){return new It({in:O,out:z,typeName:tt.ZodPipeline})}}e.ZodPipeline=It;class Ze extends c{_parse(O){const z=this._def.innerType._parse(O);return(0,r.isValid)(z)&&(z.value=Object.freeze(z.value)),z}}e.ZodReadonly=Ze,Ze.create=(fe,O)=>new Ze({innerType:fe,typeName:tt.ZodReadonly,...l(O)});const dt=(fe,O={},z)=>fe?H.create().superRefine((ee,ye)=>{var ge,Ke;if(!fe(ee)){const Be=typeof O=="function"?O(ee):typeof O=="string"?{message:O}:O,vt=(Ke=(ge=Be.fatal)!==null&&ge!==void 0?ge:z)!==null&&Ke!==void 0?Ke:!0,ht=typeof Be=="string"?{message:Be}:Be;ye.addIssue({code:"custom",...ht,fatal:vt})}}):H.create();e.custom=dt,e.late={object:ne.lazycreate};var tt;(function(fe){fe.ZodString="ZodString",fe.ZodNumber="ZodNumber",fe.ZodNaN="ZodNaN",fe.ZodBigInt="ZodBigInt",fe.ZodBoolean="ZodBoolean",fe.ZodDate="ZodDate",fe.ZodSymbol="ZodSymbol",fe.ZodUndefined="ZodUndefined",fe.ZodNull="ZodNull",fe.ZodAny="ZodAny",fe.ZodUnknown="ZodUnknown",fe.ZodNever="ZodNever",fe.ZodVoid="ZodVoid",fe.ZodArray="ZodArray",fe.ZodObject="ZodObject",fe.ZodUnion="ZodUnion",fe.ZodDiscriminatedUnion="ZodDiscriminatedUnion",fe.ZodIntersection="ZodIntersection",fe.ZodTuple="ZodTuple",fe.ZodRecord="ZodRecord",fe.ZodMap="ZodMap",fe.ZodSet="ZodSet",fe.ZodFunction="ZodFunction",fe.ZodLazy="ZodLazy",fe.ZodLiteral="ZodLiteral",fe.ZodEnum="ZodEnum",fe.ZodEffects="ZodEffects",fe.ZodNativeEnum="ZodNativeEnum",fe.ZodOptional="ZodOptional",fe.ZodNullable="ZodNullable",fe.ZodDefault="ZodDefault",fe.ZodCatch="ZodCatch",fe.ZodPromise="ZodPromise",fe.ZodBranded="ZodBranded",fe.ZodPipeline="ZodPipeline",fe.ZodReadonly="ZodReadonly"})(tt=e.ZodFirstPartyTypeKind||(e.ZodFirstPartyTypeKind={}));const St=(fe,O={message:`Input not instance of ${fe.name}`})=>(0,e.custom)(z=>z instanceof fe,O);e.instanceof=St;const Re=k.create;e.string=Re;const We=y.create;e.number=We;const at=Ve.create;e.nan=at;const st=P.create;e.bigint=st;const $t=A.create;e.boolean=$t;const xn=$.create;e.date=xn;const Cn=L.create;e.symbol=Cn;const Fn=U.create;e.undefined=Fn;const mn=F.create;e.null=mn;const mr=H.create;e.any=mr;const En=q.create;e.unknown=En;const Xt=re.create;e.never=Xt;const ft=G.create;e.void=ft;const ot=Y.create;e.array=ot;const Ct=ne.create;e.object=Ct;const en=ne.strictCreate;e.strictObject=en;const zt=B.create;e.union=zt;const Qt=K.create;e.discriminatedUnion=Qt;const Mn=X.create;e.intersection=Mn;const Or=J.create;e.tuple=Or;const Wo=ue.create;e.record=Wo;const Dl=xe.create;e.map=Dl;const eo=_e.create;e.set=eo;const to=he.create;e.function=to;const pa=Z.create;e.lazy=pa;const vs=se.create;e.literal=vs;const bs=be.create;e.enum=bs;const Ru=Ne.create;e.nativeEnum=Ru;const $u=Pe.create;e.promise=$u;const ma=ze.create;e.effect=ma,e.transformer=ma;const Iu=Oe.create;e.optional=Iu;const Du=qe.create;e.nullable=Du;const Ll=ze.createWithPreprocess;e.preprocess=Ll;const ga=It.create;e.pipeline=ga;const no=()=>Re().optional();e.ostring=no;const va=()=>We().optional();e.onumber=va;const fi=()=>$t().optional();e.oboolean=fi,e.coerce={string:fe=>k.create({...fe,coerce:!0}),number:fe=>y.create({...fe,coerce:!0}),boolean:fe=>A.create({...fe,coerce:!0}),bigint:fe=>P.create({...fe,coerce:!0}),date:fe=>$.create({...fe,coerce:!0})},e.NEVER=r.INVALID})(a4);(function(e){var t=Mt&&Mt.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=Mt&&Mt.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(So,e),n(JS,e),n(s4,e),n(lh,e),n(a4,e),n(Co,e)})(zx);(function(e){var t=Mt&&Mt.__createBinding||(Object.create?function(s,a,l,c){c===void 0&&(c=l),Object.defineProperty(s,c,{enumerable:!0,get:function(){return a[l]}})}:function(s,a,l,c){c===void 0&&(c=l),s[c]=a[l]}),n=Mt&&Mt.__setModuleDefault||(Object.create?function(s,a){Object.defineProperty(s,"default",{enumerable:!0,value:a})}:function(s,a){s.default=a}),r=Mt&&Mt.__importStar||function(s){if(s&&s.__esModule)return s;var a={};if(s!=null)for(var l in s)l!=="default"&&Object.prototype.hasOwnProperty.call(s,l)&&t(a,s,l);return n(a,s),a},i=Mt&&Mt.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,s,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.z=void 0;const o=r(zx);e.z=o,i(zx,e),e.default=o})(n4);Object.defineProperty(uv,"__esModule",{value:!0});uv.generateError=void 0;const hpe=ah,ppe=n4;function mpe(e,t){if(e instanceof ppe.z.ZodError){const n=(0,hpe.generateErrorMessage)(e.issues,t);return new Error(n)}return e instanceof Error?e:new Error("Unknown error")}uv.generateError=mpe;var bd={},Uk;function gpe(){if(Uk)return bd;Uk=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.parse=void 0;const e=ch();function t(n,r,i){const o=n.safeParse(r);if(!o.success){const s=(0,e.generateErrorMessage)(o.error.issues,i);throw new Error(s)}return o.data}return bd.parse=t,bd}var yd={},Gk;function vpe(){if(Gk)return yd;Gk=1;var e=Mt&&Mt.__awaiter||function(r,i,o,s){function a(l){return l instanceof o?l:new o(function(c){c(l)})}return new(o||(o=Promise))(function(l,c){function u(m){try{h(s.next(m))}catch(p){c(p)}}function f(m){try{h(s.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):a(m.value).then(u,f)}h((s=s.apply(r,i||[])).next())})};Object.defineProperty(yd,"__esModule",{value:!0}),yd.parseAsync=void 0;const t=ch();function n(r,i,o){return e(this,void 0,void 0,function*(){const s=yield r.safeParseAsync(i);if(!s.success){const a=(0,t.generateErrorMessage)(s.error.issues,o);throw new Error(a)}return s.data})}return yd.parseAsync=n,yd}var _d={},Kk;function bpe(){if(Kk)return _d;Kk=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.safeParse=void 0;const e=ch();function t(n,r,i){const o=n.safeParse(r);return o.success?{success:!0,data:o.data}:{success:!1,error:{message:(0,e.generateErrorMessage)(o.error.issues,i)}}}return _d.safeParse=t,_d}var xd={},Yk;function ype(){if(Yk)return xd;Yk=1;var e=Mt&&Mt.__awaiter||function(r,i,o,s){function a(l){return l instanceof o?l:new o(function(c){c(l)})}return new(o||(o=Promise))(function(l,c){function u(m){try{h(s.next(m))}catch(p){c(p)}}function f(m){try{h(s.throw(m))}catch(p){c(p)}}function h(m){m.done?l(m.value):a(m.value).then(u,f)}h((s=s.apply(r,i||[])).next())})};Object.defineProperty(xd,"__esModule",{value:!0}),xd.safeParseAsync=void 0;const t=ch();function n(r,i,o){return e(this,void 0,void 0,function*(){const s=yield r.safeParseAsync(i);return s.success?{success:!0,data:s.data}:{success:!1,error:{message:(0,t.generateErrorMessage)(s.error.issues,o)}}})}return xd.safeParseAsync=n,xd}var Zk;function ch(){return Zk||(Zk=1,function(e){var t=Mt&&Mt.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=Mt&&Mt.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(uv,e),n(ah,e),n(gpe(),e),n(vpe(),e),n(bpe(),e),n(ype(),e)}(qb)),qb}var c4={};Object.defineProperty(c4,"__esModule",{value:!0});(function(e){var t=Mt&&Mt.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=Mt&&Mt.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(ch(),e),n(c4,e)})(t4);const XS=ut.object({name:ut.string(),keep_gold_standards:ut.boolean(),keep_reviews:ut.boolean(),remove_unrated_turns:ut.boolean(),remove_unparsable_chat_jsons:ut.boolean(),remove_gold_standard_responses:ut.boolean(),remove_blocked_user_responses:ut.boolean()}),_pe=C3(XS);function u4({projectId:e,isRlhf:t,customerProjectName:n,projectName:r,items:i}){var H;const o={keep_gold_standards:t,keep_reviews:!1,remove_unrated_turns:!1,remove_unparsable_chat_jsons:!1,remove_gold_standard_responses:t,remove_blocked_user_responses:!1},{register:s,setValue:a,watch:l,handleSubmit:c,formState:{errors:u}}=B1({resolver:_pe,defaultValues:{...o,name:n||r}}),[f,h]=b.useState(!1),[m,p]=b.useState(null),[g,_]=b.useState(i.reduce((q,re)=>(re.label&&(q[re.id]=re.label),q),{})),[x,S]=b.useState(new Set(i.filter(q=>q.hide_from_customers).map(q=>q.id))),C=i.every(q=>x.has(q.id)||Object.keys(g).includes(q.id)&&g[q.id]!==""),j=c(q=>{const re=XS.safeParse(q),G=Object.keys(g).filter(Y=>!x.has(Y)).reduce((Y,te)=>(Y[te]=g[te],Y),{});if(re.success){h(!0);const Y={...re.data,new_item_labels:G};tz(e,Y).then(({success:te})=>{te?(window.alert("Your project is being copied. It should be done in a few minutes at most - you'll receive an email when it finishes"),window.location.href=`/projects/${e}`):p("Failed to copy.")}).catch(te=>{p(te.message)}).finally(()=>h(!1))}else{const Y=re.error.issues;p(t4.generateErrorMessage(Y,{}))}}),k=d.jsx(pn,{variant:"black",...s("name"),label:"Project name",placeholder:"Enter your project name",error:u.name&&((H=u.name)==null?void 0:H.message)}),T=d.jsx(ii,{checked:l("keep_gold_standards")||l("remove_gold_standard_responses"),onChange:q=>{q&&a("keep_gold_standards",q.currentTarget.checked)},label:"Remove gold standards? (Cannot be changed later)",description:"When checked, removes the gold standard status on tasks and their responses. It also removes all gold standard responses beyond the maximum responses per task."}),y=d.jsx(ii,{checked:l("keep_reviews"),onChange:q=>{q&&a("keep_reviews",q.currentTarget.checked)},label:"Keep reviews? (Cannot be changed later)",description:"Keep all reviews from project copy."}),P=d.jsx(ii,{checked:l("remove_unrated_turns"),onChange:q=>{q&&a("remove_unrated_turns",q.currentTarget.checked)},label:"Remove unrated turns?",description:"Remove all unrated from a project(missing item responses for last turn or human message without model response)."}),A=d.jsx(ii,{checked:l("remove_unparsable_chat_jsons"),onChange:q=>{q&&a("remove_unparsable_chat_jsons",q.currentTarget.checked)},label:"Remove unparsable chat JSONs?",description:"Reject all task responses with unparsable chat JSONs. Task responses with nil JSONs are not removed."}),$=d.jsx(ii,{checked:l("remove_gold_standard_responses"),onChange:q=>{q&&a("remove_gold_standard_responses",q.currentTarget.checked)},label:"Remove gold standard responses?",description:"Reject all task responses that have gold standards tasks. Must check 'Remove gold standards?' additionally."}),L=d.jsx(ii,{checked:l("remove_blocked_user_responses"),onChange:q=>{q&&a("remove_blocked_user_responses",q.currentTarget.checked)},label:"Remove responses from blocked users?",description:"Reject all task responses that are submitted by blocked users."}),U=d.jsx(yt,{type:"submit",disabled:f||!C,children:f?"Loading...":"Copy project for delivery"}),F=m&&d.jsx("div",{className:"tw-bg-red-200 tw-border-red-400 tw-border-1  tw-py-6 tw-px-5 tw-border tw-gap-3 tw-text-left tw-mb-3",children:m});return d.jsx("div",{className:"tw-content-center tw-max-w-screen-lg tw-m-auto tw-mt-10",children:d.jsxs("form",{onSubmit:j,className:"tw-gap-4 tw-flex tw-flex-col",children:[k,i.map(q=>d.jsx(ZR,{item:q,newItemLabels:g,setNewItemLabels:_,itemsHiddenForDelivery:x,setItemsHiddenForDelivery:S},q.id)),T,y,t&&P,t&&A,$,L,!C&&d.jsx("p",{className:"tw-text-red-900 tw-pb-2",children:"Fill in column names for display or hide any questions highlighted in red above"}),d.jsx("div",{children:U}),F]})})}const xpe=Object.freeze(Object.defineProperty({__proto__:null,default:u4,schema:XS},Symbol.toStringTag,{value:"Module"})),wpe={created_at:"2023-06-01T02:30:00Z"},Spe={userId:"user-id",name:"user-name"},Cpe=[{id:1,event:"update",created_at:"2023-06-01T10:30:00Z",object_changes:{name:["","Project A"],description:["","Initial project description"],status:["","pending"]}},{id:2,event:"update",created_at:"2023-06-02T14:45:00Z",object_changes:{description:["Initial project description","Updated project description"],due_date:["","2023-09-30"]}},{id:3,event:"update",created_at:"2023-06-03T09:15:00Z",object_changes:{name:["","Project B"],status:["","in_progress"],assignee:["","John Doe"]}},{id:4,event:"update",created_at:"2023-06-04T16:20:00Z",object_changes:{status:["pending","in_progress"],priority:["","high"]}},{id:5,event:"update",created_at:"2023-06-05T11:00:00Z",object_changes:{name:["","Project C"],description:["","New project description"],start_date:["","2023-06-10"]}},{id:6,event:"update",created_at:"2023-06-06T13:30:00Z",object_changes:{assignee:["John Doe","Jane Smith"],budget:["","10000"]}},{id:7,event:"update",created_at:"2023-06-07T08:45:00Z",object_changes:{name:["","Project D"],status:["","pending"],team:["","Team A"]}},{id:8,event:"update",created_at:"2023-06-08T15:10:00Z",object_changes:{due_date:["2023-09-30","2023-10-15"],priority:["","medium"]}},{id:9,event:"update",created_at:"2023-06-09T12:00:00Z",object_changes:{name:["","Project E"],description:["","Urgent project"],start_date:["","2023-06-12"]}},{id:10,event:"update",created_at:"2023-06-10T17:30:00Z",object_changes:{status:["in_progress","completed"],end_date:["","2023-06-10"]}},{id:11,event:"update",created_at:"2023-06-11T14:00:00Z",object_changes:{instructions:["<p>old instructions</p>","<p>new instructions</p>"],fields_text:["<div>old fields text</div>","<div>new fields text</div>"]}}],Tpe=[{id:1,event:"update",created_at:"2023-06-01T10:30:00Z",object_changes:{delivered_at:[null,"2023-06-01T10:30:00Z"],user_id:["prev-user-id","new-user-id"],user_name:["prev-user-name","new-user-name"]}},{id:2,event:"update",created_at:"2023-06-01T10:33:00Z",object_changes:{some_key:["old val","new val"]}},{id:3,event:"update",created_at:"2023-06-01T10:35:00Z",object_changes:{delivered_at:[null,"2023-06-01T10:30:00Z"],user_id:["new-user-id","new-user-id-next"],user_name:["new-user-name","new-user-name-next"]}}],jpe=Object.freeze(Object.defineProperty({__proto__:null,project:wpe,projectOwner:Spe,projectTimelineData:Cpe,timelineWithMultipleDeliveries:Tpe},Symbol.toStringTag,{value:"Module"}));var Qk;function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wx.apply(this,arguments)}var Epe=function(t){return b.createElement("svg",Wx({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 20 20"},t),Qk||(Qk=b.createElement("path",{fill:"#1A1A1A",fillOpacity:.9,d:"M10 18.333a8.333 8.333 0 1 1 0-16.666 8.333 8.333 0 0 1 0 16.666m0-5.833a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"})))},Jk;function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(this,arguments)}var kpe=function(t){return b.createElement("svg",Hx({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 20 20"},t),Jk||(Jk=b.createElement("path",{fill:"#782396",d:"M10 18.333a8.333 8.333 0 1 1 0-16.666 8.333 8.333 0 0 1 0 16.666M8.852 7.013a.333.333 0 0 0-.519.276v5.422a.333.333 0 0 0 .519.276l4.066-2.71a.332.332 0 0 0 0-.555L8.85 7.012"})))},Xk;function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qx.apply(this,arguments)}var Ope=function(t){return b.createElement("svg",qx({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 20 20"},t),Xk||(Xk=b.createElement("path",{fill:"#FFAA28",d:"M10 18.333a8.333 8.333 0 1 1 0-16.666 8.333 8.333 0 0 1 0 16.666M7.5 7.5v5h1.667v-5H7.5Zm3.333 0v5H12.5v-5h-1.667"})))},eO;function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vx.apply(this,arguments)}var Mpe=function(t){return b.createElement("svg",Vx({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 20 20"},t),eO||(eO=b.createElement("path",{fill:"#38B724",d:"M10.833 9.167V5l-4.166 5.833h2.5V15l4.166-5.834h-2.5M10 18.333a8.333 8.333 0 1 1 0-16.666 8.333 8.333 0 0 1 0 16.666"})))},tO;function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ux.apply(this,arguments)}var Npe=function(t){return b.createElement("svg",Ux({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 20 20"},t),tO||(tO=b.createElement("path",{fill:"#D80909",d:"M10 18.333a8.333 8.333 0 1 1 0-16.666 8.333 8.333 0 0 1 0 16.666m0-9.511L7.643 6.464l-1.179 1.18L8.822 10l-2.358 2.357 1.18 1.179L10 11.178l2.357 2.358 1.179-1.18L11.178 10l2.358-2.357-1.18-1.179L10 8.822"})))};function dp({main:e,description:t,descriptionSubtext:n,hoverText:r,icon:i,colorClass:o,iconDivStyle:s}){let a=null;return n&&(a=d.jsxs("span",{className:"tw-ml-2 tw-text-black-40",children:["• ",n]})),d.jsx("div",{className:"tw-w-72 tw-my-5",children:d.jsx(df,{icon:i,description:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"tw-text-xl",children:t}),d.jsx("span",{className:"tw-text-base",children:a})]}),hoverText:r,colorClass:o,iconDivStyle:s,main:d.jsx("span",{className:"tw-font-normal",children:e})})})}function Ppe({numResponses:{total:e,completed:t},numWorkersPerRow:n,totalCostInCents:r,numTasks:{total:i,completed:o},projectId:s}){const a=b.useMemo(()=>e?(t/e*100).toFixed(0)+"%":null,[t,e]),l=b.useMemo(()=>i?(o/i*100).toFixed(0)+"%":null,[o,i]);return d.jsxs("div",{className:Se("tw-flex-1","tw-flex tw-flex-col tw-justify-center","tw-ml-9"),children:[d.jsxs("div",{className:"tw-flex md:tw-flex-nowrap tw-flex-wrap",children:[d.jsx(dp,{icon:vc,main:"Completed Responses",description:`${t}/${e}`,descriptionSubtext:a,hoverText:d.jsx("a",{href:`/projects/${s}/throughput`,className:"group:tw-visible tw-text-base tw-cursor-pointer",children:"See throughput"}),iconDivStyle:{backgroundColor:"#308BDF"}}),d.jsx(dp,{icon:vc,main:"Surgers per row",description:n,iconDivStyle:{backgroundColor:"#FF6363"}})]}),d.jsxs("div",{className:"tw-flex md:tw-flex-nowrap tw-flex-wrap",children:[d.jsx(dp,{icon:vc,main:"Project Cost",description:b.useMemo(()=>r===null?"-":Lg(r),[r]),colorClass:"tw-bg-primary-default-100"}),d.jsx(dp,{icon:vc,main:"Tasks completed",description:`${o}/${i}`,descriptionSubtext:l,iconDivStyle:{backgroundColor:"#2BA96C"}})]})]})}function Gb({label:e,data:t}){return d.jsxs("div",{className:"tw-flex tw-mb-4",children:[d.jsx("div",{className:"tw-text-black-80 tw-w-14 tw-mr-20",children:e}),d.jsx("div",{className:"tw-font-medium",children:t})]})}function Ape({statistics:e,metadata:t,dataForAdmins:n,projectId:r}){const i=b.useMemo(()=>new Date(t.createdAt).toLocaleDateString(),[t.createdAt]),o=b.useMemo(()=>iH(t.status),[t.status]),s=b.useMemo(()=>{switch(t.status){case"unlaunched":return Epe;case"in_progress":return kpe;case"paused":return Ope;case"completed":return Mpe;case"canceled":return Npe}},[t.status]);return d.jsxs("div",{children:[d.jsx("h2",{children:t.name}),d.jsxs("div",{className:Se("md:tw-h-48","md:tw-flex","tw-items-center"),children:[d.jsx("div",{className:"tw-flex-2 tw-flex tw-items-center",children:d.jsxs("div",{className:"tw-flex-col",children:[n&&d.jsx(Gb,{label:"Creator",data:d.jsx("a",{href:`/admin/users/${n.metadata.creator.userId}`,children:n.metadata.creator.name})}),d.jsx(Gb,{label:"Created",data:i}),d.jsx(Gb,{label:"Status",data:d.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-1",children:[d.jsx(s,{}),d.jsx("span",{children:o})]})})]})}),d.jsx("div",{className:"tw-border-r-2 tw-border-dashed tw-border-black-10 tw-h-4/6"}),d.jsx(Ppe,{...e,projectId:r})]})]})}const Rpe=Object.freeze(Object.defineProperty({__proto__:null,default:Ape},Symbol.toStringTag,{value:"Module"}));function $pe(){const e=b.useMemo(()=>VU(),[]),{tableInstance:t}=ai(e),n=b.useMemo(()=>t.initialRows.length.toLocaleString(),[t.initialRows]),r=b.useMemo(()=>t.rows.length.toLocaleString(),[t.rows]);return d.jsx("div",{className:"tw-text-size-title tw-font-sans tw-whitespace-nowrap",children:r===n?d.jsxs("span",{children:[n," total"]}):d.jsxs("span",{children:[r," of ",n," total"]})})}const Ipe=Object.freeze(Object.defineProperty({__proto__:null,default:$pe},Symbol.toStringTag,{value:"Module"}));ut.object({id:ut.string(),created_at:ut.string(),status:ut.enum(["creating","in_progress","completed","error"]),version_number:ut.number(),num_rows:ut.number(),is_customer_visible:ut.boolean()});let ei;const Kb=({errors:e,rowIndex:t,numColumns:n})=>d.jsx("tr",{className:"tw-even:tw-bg-gray-100",children:d.jsx("td",{colSpan:n,children:d.jsxs("div",{className:"tw-bg-red-100 tw-border tw-border-red-400 tw-text-red-700 tw-px-4 tw-py-3 tw-rounded tw-mt-4",role:"alert",children:[d.jsx("strong",{className:"tw-font-bold",children:"Errors:"}),d.jsx("ul",{className:"tw-mt-2 tw-list-disc tw-pl-5",children:e.map((r,i)=>d.jsx("li",{style:{"white-space":"pre-wrap"},children:r},i))})]})},`td-${t}-errors`)},`tr-${t}-errors`),Dpe=e=>q1("ProjectResultsValidationWorker",e),Lpe=ut.union([ut.object({success:ut.literal(!1),errors:ut.array(ut.string()),errors_by_row:ut.record(ut.string(),ut.array(ut.string()))}),ut.object({success:ut.literal(!0)}),ut.null()]);function d4(e){if(e.status==="polling"||e.status==="not_done_first_poll_yet")return{status:"validating"};if(e.status==="failure")return{status:"error"};if(e.data.job_status!=="most_recent_run")return{status:"error"};const t=du(JSON.parse(e.data.job.output_artifact||"null"),Lpe);return t==null?{status:"error"}:t.success?{status:"done"}:{status:"validation_errors",errors:t.errors,errorsByRow:t.errors_by_row}}function Fpe(){const e=U1(Dpe,{start:{immediate:!1},backoff:{type:"fixed",delayMs:1e3}});return{...d4(e),restartPolling:e.restartPolling}}const zpe={done:"Done!",validating:"Validating...",error:"Error - try again",quick_validation_errors:"Validation errors - please correct them and re-upload",validation_errors:"Validation errors - please correct them and re-upload",creating:"Creating...",compressing:"Compressing...",uploading:"Uploading...",saving:"Saving...",ready:"No validation errors in the first 10 lines - ready to upload"},fp="(text)",Yb="(rating)",Zb="(review score)",nO="(original)",Qb="(edited)";function f4(e,t){const n=e.map(f=>f.replace("ï»¿","")),r=new Map(t.required_columns.map(f=>[f,!1])),i=new Set(t.optional_columns),o=t.item_columns,s=t.item_types,a=n.map((f,h)=>f.endsWith(Zb)&&n.includes(f.slice(0,-Zb.length)+fp)?[h,f.slice(0,-Zb.length)+fp]:f.endsWith(Yb)&&n.includes(f.slice(0,-Yb.length)+fp)?[h,f.slice(0,-Yb.length)+fp]:f.endsWith(Qb)&&n.includes(f.slice(0,-Qb.length)+nO)?[h,f.slice(0,-Qb.length)+nO]:[null,null]).filter(Boolean).reduce((f,[h,m])=>h!=null?f.set(h,m):f,new Map),l=n.length-o.length-a.size;let c=0;const u=n.map((f,h)=>{const m=h>l-1,p=h-l-c;return r.has(f)?m?{header:f,annotation:`Warning: Has a required metadata column name, but will be mapped to ${s[p]} question "${o[p]}"`,colorClassName:"tw-text-red-600"}:(r.set(f,!0),{header:f,annotation:"Fills required column",colorClassName:"tw-text-blue-600"}):i.has(f)?m?{header:f,annotation:`Warning: Has an optional metadata column name, but will be mapped to ${s[p]} question "${o[p]}"`,colorClassName:"tw-text-red-600"}:{header:f,annotation:"Fills optional metadata column",colorClassName:"tw-text-green-600"}:a.has(h)?(c++,{header:f,annotation:`Merged with column "${a.get(h)}"`,colorClassName:"tw-text-purple-600"}):m?f===o[p]?{header:f,annotation:`Fills ${s[p]} question "${o[p]}"`,colorClassName:"tw-text-purple-600"}:{header:f,annotation:`Warning: Fills ${s[p]} question with different name "${o[p]}"`,colorClassName:"tw-text-pink-600"}:{header:f,annotation:"Fills task data",colorClassName:"tw-text-gray-600"}});for(let f=n.length;f<o.length;f++)u.unshift({header:o[f-n.length],annotation:`Error: There aren't enough columns so we can't fill ${s[f-n.length]} question "${o[f-n.length]}"`,colorClassName:"tw-text-red-600"});return r.forEach((f,h)=>{f||u.unshift({header:h,annotation:`Error: Missing required column "${h}"`,colorClassName:"tw-text-red-600"})}),u}const rO=({projectId:e,projectName:t})=>d.jsx("div",{className:"tw-mb-16",children:d.jsxs("ol",{className:"breadcrumb",children:[d.jsx("li",{className:"breadcrumb-item",children:d.jsx("a",{href:"/projects",children:"Projects"})}),d.jsx("li",{className:"breadcrumb-item",children:d.jsx("a",{href:`/projects/${e}`,children:t})}),d.jsx("li",{className:"breadcrumb-item active",children:"Upload synthetic results (v2)"})]})}),h4=({projectId:e,projectStatus:t,projectName:n,projectResults:r,hasGoogleCredential:i,googleAuthUrl:o,enableSyntheticUploadSheetsIntegration:s})=>{const[a,l]=b.useState(null),[c,u]=b.useState(null),[f,h]=b.useState(null),[m,p]=b.useState(null),[g,_]=b.useState(null),[x,S]=b.useState({}),C=Fpe();b.useEffect(()=>{f==="validating"&&C.status==="done"&&(window.location.href=`/projects/${e}/results?shared=true`)},[f,C,e]);const j=b.useMemo(()=>a?Object.keys(a[0]).length:0,[a]);if(t==="in_progress")return d.jsxs("div",{children:[d.jsx(rO,{projectId:e,projectName:n}),d.jsxs("div",{className:"tw-text-size-h2 tw-flex tw-space-x-2",children:[d.jsx(D1,{className:Se("tw-w-12 tw-h-12")}),d.jsx("div",{children:"Cannot upload synthetic results to an in progress project"})]}),d.jsx("div",{className:"tw-px-3 tw-py-2",children:"This project is still in progress - to upload a synthetic result, you must pause this project first"})]});const k=f==="validating"?C.status:f,T=async G=>{if(ei=G,!!ei){if(ei.type==="text/csv"){const Y=[];let te=0;_T.parse(ei,{header:!0,worker:!0,skipEmptyLines:!0,chunk:(ne,B)=>{te+=ne.data.length,ne.data.slice(0,10-Y.length).forEach(Q=>Y.push(Q)),te>=1e4&&B.abort()},complete:()=>{h(null),S({}),l(Y),p(te),P(Y,ei.type)},error(ne){_("Error parsing CSV: "+ne)}})}else if(ei.type==="application/json"){const Y=new FileReader;Y.onload=()=>{try{const te=JSON.parse(Y.result),ne=te.slice(0,10);h(null),S({}),l(ne),p(te.length),P(ne,ei.type)}catch(te){_("Error parsing JSON: "+te)}},Y.readAsText(ei)}}},y=async()=>{if(ei){h("creating");try{const G=await iz(e),Y=G.data.presigned_csv_upload_url,te=G.data.presigned_json_upload_url;let ne="";ei.type==="text/csv"?ne=Y:ei.type==="application/json"?ne=te:(alert("Unsupported file type. Please choose a CSV or JSON file."),h(null)),h("compressing");const B=await ei.arrayBuffer(),Q=new CompressionStream("gzip"),K=Q.writable.getWriter();K.write(B),K.close();const de=Q.readable,X=await new Response(de).arrayBuffer(),J=new Blob([X],{type:"application/octet-stream"});h("uploading"),await Rn.put(ne,J,{headers:{"Content-Type":J.type}});const ue=ei.type==="text/csv"?"csv":"json";h("saving"),await oz(G.data.id,ue),C.restartPolling({args:{id:G.data.id}})}catch(G){_("Error: "+G),h(null);return}h("validating")}},P=async(G,Y)=>{const te=Y=="text/csv"?_T.unparse(G):JSON.stringify(G);let ne=null;try{ne=await sz(e,te,Y)}catch(B){_("Error validating result: "+B);return}u(ne.column_format),ne.success?(S({}),h("ready")):(S(ne.errors_by_row),h("quick_validation_errors"))},A=G=>{G.preventDefault(),G.stopPropagation()},$=G=>{G.preventDefault(),G.stopPropagation();const Y=G.dataTransfer.files[0];T(Y)},L=()=>{console.log("TODO: handleGoogleSheetsExport")},U=()=>{console.log("TODO: handleGoogleSheetsImport")},F=f==="validating"&&C.status==="validation_errors"?C.errorsByRow:x,H=f!=null&&f!="ready"&&f!=="quick_validation_errors"&&C.status!=="validation_errors"&&C.status!=="error",q=a&&c?f4(Object.keys(a[0]),c):Object.keys(a?a[0]:[]).map(G=>({header:G,annotation:"",colorClassName:""})),re=q.map(G=>G.header);return d.jsxs("div",{children:[d.jsx(rO,{projectId:e,projectName:n}),d.jsxs("div",{children:[d.jsx("div",{className:"tw-font-semibold",children:"Instructions:"}),d.jsxs("ol",{className:"tw-list-decimal",children:[d.jsx("li",{children:"Download the responses CSV or the raw responses CSV or JSON from the project page."}),d.jsx("li",{children:"Filter or edit responses in a spreadsheet program or a Python notebook and re-upload here as a CSV."}),d.jsx("li",{children:"Fix any validation errors you encounter."}),d.jsx("li",{children:"After you upload, your new file will replace the results page. You'll be taken to the results page to view the new results."}),d.jsx("li",{children:"You can reset to a previously uploaded version, or reset to show the original responses as the results. You can upload synthetic results to a project that already has responses, or you can upload to a new project with the same template."})]})]}),s&&d.jsxs("div",{className:"tw-w-full tw-flex tw-justify-end tw-items-center tw-py-2",children:[!i&&d.jsxs("div",{children:[d.jsx("a",{href:o,children:"Auth with sheets"})," to enable import/export"]}),d.jsx(yt,{type:"button",variant:"outline",className:"tw-ml-4",onClick:L,disabled:!i,children:"Export to Google Sheets"}),d.jsx(yt,{type:"button",variant:"outline",className:"tw-ml-2",onClick:U,disabled:!i,children:"Import Google Sheets"})]}),d.jsxs("div",{className:"tw-border-2 tw-border-dashed tw-border-gray-400 tw-py-6 tw-px-4 tw-rounded-md tw-cursor-pointer",onDragOver:A,onDrop:$,children:[d.jsxs("label",{htmlFor:"file-upload",className:"tw-cursor-pointer tw-mb-0",children:[d.jsx("span",{className:"tw-text-blue-600 tw-font-semibold",children:"Choose a CSV or JSON file"})," ","or drag and drop it here"]}),d.jsx("input",{id:"file-upload",type:"file",accept:".csv,.json",className:"tw-hidden",disabled:H,onChange:G=>T(G.target.files[0])}),a&&d.jsx("div",{className:"tw-mt-4",children:d.jsxs("table",{className:"tw-w-full tw-border-collapse",children:[d.jsxs("thead",{children:[d.jsx("tr",{children:q.map(G=>d.jsx("th",{className:"tw-bg-gray-200 tw-p-2 tw-text-left tw-font-semibold",children:G.header},G.header))}),d.jsx("tr",{children:q.map(G=>d.jsx("th",{className:`tw-bg-gray-200 tw-text-sm tw-p-2 tw-text-left tw-font-semibold ${G.colorClassName}`,style:{minWidth:"8rem"},children:G.annotation},G.header))})]}),d.jsxs("tbody",{children:[a.map((G,Y)=>d.jsxs(d.Fragment,{children:[d.jsx("tr",{className:"tw-even:tw-bg-gray-100",children:re.map(te=>G[te]).map((te,ne)=>d.jsx("td",{className:"tw-p-2 tw-border-t",children:d.jsx("div",{className:"tw-max-h-24 tw-text-ellipsis tw-overflow-hidden",title:te,children:te})},`td-${Y}-${ne}`))},`tr-${Y}`),F[Y]&&d.jsx(Kb,{errors:F[Y],rowIndex:Y,numColumns:j})]})),F[-1]&&d.jsx(Kb,{errors:F[-1],rowIndex:-1,numColumns:j}),g&&d.jsx(Kb,{errors:[g],rowIndex:-1,numColumns:j})]})]})})]}),k!=null&&d.jsx("div",{className:"tw-full tw-grid tw-justify-items-center tw-mt-4",children:d.jsx("div",{className:"tw-text-lg tw-font-bold",children:zpe[k]})}),H&&d.jsx("div",{className:"tw-full tw-grid tw-justify-items-center",children:d.jsx(fn,{className:"tw-w-16 tw-h-16"})}),a&&m&&!H&&Object.keys(x).length===0&&d.jsx("div",{className:"tw-w-full tw-grid tw-justify-items-center tw-p-4",children:d.jsxs(yt,{type:"button",className:"btn-lg btn-primary",disabled:H,onClick:y,children:["Upload ",m>=1e4?"10,000+":m," rows"]})}),d.jsxs("div",{className:"tw-mt-8",children:[d.jsx("h2",{className:"tw-text-lg tw-font-semibold",children:"Previously Uploaded Results"}),d.jsx("div",{className:"tw-mt-2",children:r.filter(G=>G.status==="completed").map((G,Y)=>d.jsxs("div",{className:"tw-mb-1 tw-flex tw-text-gray-500",children:[d.jsxs("div",{children:["Version ",G.version_number," -"," ",new Date(G.created_at).toLocaleString()," -"," ",G.num_rows," rows",G.is_customer_visible&&" (current synthetic results)"]}),G.is_customer_visible&&d.jsx("button",{className:"tw-ml-2 tw-text-blue-500 hover:tw-text-purple-700 focus:tw-outline-none",onClick:()=>nz(e,()=>location.reload()),children:"Reset results to original"}),!G.is_customer_visible&&d.jsx("button",{className:"tw-ml-2 tw-text-blue-500 hover:tw-text-purple-700 focus:tw-outline-none",onClick:()=>rz(e,G.id,()=>location.reload()),children:"Set as current synthetic results"})]},Y))})]})]})},Bpe=Object.freeze(Object.defineProperty({__proto__:null,default:h4,mapHeadersToColumns:f4,parseValidationJobStatus:d4},Symbol.toStringTag,{value:"Module"}));function Wpe(e,t,n){return Rn.post(`${Zn}/projects/${e}/timed_work_entries/admin_create`,{user_euid:t,time_in_minutes:n})}function Hpe(e,t,n){return Rn.post(`${Zn}/projects/${e}/timed_work_entries`,{time_in_minutes:n})}function qpe(e,t,n){return Rn.put(`${Zn}/projects/${e}/timed_work_entries/${t}`,{time_in_minutes:n})}function Vpe(e,t){return Rn.delete(`${Zn}/projects/${e}/timed_work_entries/${t}`)}function p4({projectId:e,projectName:t,userId:n,perHourPaymentInCents:r,admin:i}){const[o,s]=b.useState(null),[a,l]=b.useState(null),[c,u]=b.useState(null),[f,h]=b.useState(!1),[m,p]=b.useState(""),[g,_]=b.useState(!1),x=b.useMemo(()=>o!=null||a!=null?(o||0)+(a||0)*60:null,[o,a]),S=async()=>{if(x==null)throw Error("We shouldn't be able to get to here if totalMinutes is null");if(h(!0),i){if(c==null)throw Error("Please provide a worker EUID");Wpe(e,c,x).then(()=>{window.location.href=`/projects/${e}`},k=>{p(k.response.data.errors)}).finally(()=>{h(!1),_(!1)})}else Hpe(e,n,x).then(()=>{window.location.href="/workers/projects"},k=>{p(k.response.data.errors)}).finally(()=>{h(!1),_(!1)})},C=(k,T)=>{if(k===null){T(k);return}if(k<0){p("The hours and minutes need to be positive numbers.");return}T(k)},j=b.useMemo(()=>{if(x==null)return null;const k=Math.floor(x/60),T=x%60,y=k>0?`${k}h ${T}m`:`${T}m`,P=Lg(x/60*r);return{time:y,money:P}},[r,x]);return d.jsxs(d.Fragment,{children:[d.jsx(Eo,{text:`You would like to report a total time of ${j==null?void 0:j.time} (corresponding to pay of ${j==null?void 0:j.money})${i?" for worker "+c:""}. Is this correct?`,isOpen:g,setIsOpen:_,showConfirmBtn:!0,onConfirmed:S,showLoadingIcon:f}),d.jsx("div",{className:"md:tw-min-h-48 tw-my-6",children:d.jsxs("div",{className:"tw-mx-6 tw-mt-1.5",children:[d.jsx("strong",{className:"tw-w-full tw-my-6",children:"Report Time"}),!i&&d.jsxs("p",{className:"tw-my-3",children:["Please provide, in minutes and hours, and as a whole number, the amount of time you've worked on ",t," since you've last reported."]}),m!==""&&d.jsx("p",{className:"tw-text-red-900",children:m}),d.jsxs("div",{className:"tw-flex tw-gap-x-4 tw-w-min tw-my-3",children:[d.jsx(pn,{id:"hours-input",label:"Hours",type:"number",min:0,style:{minWidth:"100px"},value:a||"",onChange:k=>{C(ri(k.target.valueAsNumber),l)}}),d.jsx(pn,{id:"minutes-input",label:"Minutes",type:"number",min:0,style:{minWidth:"100px"},value:o||"",onChange:k=>{C(ri(k.target.valueAsNumber),s)}})]}),i&&d.jsx("div",{className:"tw-flex tw-gap-x-4 tw-w-min tw-my-3",children:d.jsx(pn,{label:"Worker EUID",type:"string",style:{minWidth:"214px"},value:c||void 0,onChange:k=>{u(k.target.value.trim())}})}),d.jsx("div",{className:"tw-w-full",children:d.jsx(yt,{variant:"primary",disabled:g||x==null||i&&c==null,onClick:()=>_(!0),children:"Submit"})})]})})]})}const Upe=Object.freeze(Object.defineProperty({__proto__:null,default:p4},Symbol.toStringTag,{value:"Module"}));var iO;function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gx.apply(this,arguments)}var Gpe=function(t){return b.createElement("svg",Gx({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 16 16"},t),iO||(iO=b.createElement("path",{fill:"#343434",d:"M11.06 6 8 9.053 4.94 6 4 6.94l4 4 4-4z"})))};function m4({row:e,value:t,row:{original:n}}){const r=b.useMemo(()=>{switch(n.type){case"DateRow":return 0;case"ProjectRow":case"BonusWorkLog":case"ReferralWorkLog":return 1;case"UnknownWorkLog":case"ProjectBonusWorkLog":case"TaskResponseWorkLog":case"TimedWorkEntry":return 2;default:Lt()}},[n]),[i,o]=b.useMemo(()=>{switch(n.type){case"DateRow":case"ProjectRow":case"UnknownWorkLog":case"TaskResponseWorkLog":case"TimedWorkEntry":return[!1,!1];case"ProjectBonusWorkLog":case"BonusWorkLog":return[!0,!1];case"ReferralWorkLog":return[!1,!0];default:Lt()}},[n]),s=b.useMemo(()=>{switch(n.type){case"DateRow":case"ProjectRow":return!0;case"UnknownWorkLog":case"ProjectBonusWorkLog":case"BonusWorkLog":case"TaskResponseWorkLog":case"TimedWorkEntry":case"ReferralWorkLog":return!1;default:Lt()}},[n]),a=b.useMemo(()=>{switch(n.type){case"DateRow":return n.workLogsWithNoProject.some(({type:c})=>c==="BonusWorkLog")||Object.values(n.byProject).some(c=>c.workLogs.some(({type:u})=>u=="ProjectBonusWorkLog"));case"ProjectRow":return n.workLogs.some(({type:c})=>c=="ProjectBonusWorkLog");case"UnknownWorkLog":case"ProjectBonusWorkLog":case"BonusWorkLog":case"TaskResponseWorkLog":case"TimedWorkEntry":case"ReferralWorkLog":return!1;default:Lt()}},[n]),l=d.jsx("span",{...e.getToggleRowExpandedProps(),children:d.jsx(Gpe,{className:"tw-bg-neutral-200 tw-rounded-full hover:tw-text-primary-dark-100",style:{transform:e.isExpanded?"":"rotate(-0.25turn)"}})});return d.jsxs("div",{className:Se("tw-flex tw-gap-4",`tw-ml-${r*5}`),children:[a&&d.jsx("div",{className:"tw-w-2 tw-bg-blue-600 tw-rounded-full tw-h-2 tw-mt-2"}),d.jsx("span",{children:t}),s&&l,i&&d.jsx("div",{className:"tw-uppercase tw-bg-blue-600 tw-p-1 tw-text-sm tw-rounded tw-text-white",children:"bonus"}),o&&d.jsx("div",{className:"tw-uppercase tw-bg-blue-600 tw-p-1 tw-text-sm tw-rounded tw-text-white",children:"referral"})]})}const Kpe=Object.freeze(Object.defineProperty({__proto__:null,default:m4},Symbol.toStringTag,{value:"Module"}));var oO;function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kx.apply(this,arguments)}var Ype=function(t){return b.createElement("svg",Kx({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 5 13"},t),oO||(oO=b.createElement("path",{stroke:"#DFDFDF",d:"M1 0v12h4"})))},Zpe=["second","minute","hour","day","week","month","year"];function Qpe(e,t){if(t===0)return["just now","right now"];var n=Zpe[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]}var Jpe=["秒","分钟","小时","天","周","个月","年"];function Xpe(e,t){if(t===0)return["刚刚","片刻后"];var n=Jpe[~~(t/2)];return[e+" "+n+"前",e+" "+n+"后"]}var Yx={},g4=function(e,t){Yx[e]=t},v4=function(e){return Yx[e]||Yx.en_US},qa=[60,60,24,7,365/7/12,12];function sO(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function b4(e,t){var n=e<0?1:0;e=Math.abs(e);for(var r=e,i=0;e>=qa[i]&&i<qa.length;i++)e/=qa[i];return e=Math.floor(e),i*=2,e>(i===0?9:1)&&(i+=1),t(e,i,r)[n].replace("%s",e.toString())}function y4(e,t){var n=t?sO(t):new Date;return(+n-+sO(e))/1e3}function eme(e){for(var t=1,n=0,r=Math.abs(e);e>=qa[n]&&n<qa.length;n++)e/=qa[n],t*=qa[n];return r=r%t,r=r?t-r:t,Math.ceil(r)}var tme=function(e,t,n){var r=y4(e,n&&n.relativeDate);return b4(r,v4(t))},_4="timeago-id";function nme(e){return e.getAttribute("datetime")}function rme(e,t){e.setAttribute(_4,t)}function x4(e){return parseInt(e.getAttribute(_4))}var eC={},Zx=function(e){clearTimeout(e),delete eC[e]};function w4(e,t,n,r){Zx(x4(e));var i=r.relativeDate,o=r.minInterval,s=y4(t,i);e.innerText=b4(s,n);var a=setTimeout(function(){w4(e,t,n,r)},Math.min(Math.max(eme(s),o||1)*1e3,2147483647));eC[a]=0,rme(e,a)}function aO(e){e?Zx(x4(e)):Object.keys(eC).forEach(Zx)}function ime(e,t,n){var r=e.length?e:[e];return r.forEach(function(i){w4(i,nme(i),v4(t),n||{})}),r}g4("en_US",Qpe);g4("zh_CN",Xpe);var ome=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qx=function(){return Qx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qx.apply(this,arguments)},sme=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},ame=function(e){return""+(e instanceof Date?e.getTime():e)},S4=function(e){ome(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dom=null,n}return t.prototype.componentDidMount=function(){this.renderTimeAgo()},t.prototype.componentDidUpdate=function(){this.renderTimeAgo()},t.prototype.renderTimeAgo=function(){var n=this.props,r=n.live,i=n.datetime,o=n.locale,s=n.opts;aO(this.dom),r!==!1&&(this.dom.setAttribute("datetime",ame(i)),ime(this.dom,o,s))},t.prototype.componentWillUnmount=function(){aO(this.dom)},t.prototype.render=function(){var n=this,r=this.props,i=r.datetime;r.live;var o=r.locale,s=r.opts,a=sme(r,["datetime","live","locale","opts"]);return b.createElement("time",Qx({ref:function(l){n.dom=l}},a),tme(i,o,s))},t.defaultProps={live:!0,className:""},t}(b.PureComponent),lO,cO;function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jx.apply(this,arguments)}var lme=function(t){return b.createElement("svg",Jx({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 16 16"},t),lO||(lO=b.createElement("circle",{cx:8,cy:8,r:7,fill:"#FDE3C4"})),cO||(cO=b.createElement("path",{fill:"#8B663B",fillRule:"evenodd",d:"M8.65 4.5v3.35h2.85v1.3H7.35V4.5h1.3",clipRule:"evenodd"})))},uO,dO;function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xx.apply(this,arguments)}var cme=function(t){return b.createElement("svg",Xx({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 16 16"},t),uO||(uO=b.createElement("circle",{cx:8,cy:8,r:7,fill:"#B4F6A3"})),dO||(dO=b.createElement("path",{fill:"#6CA53F",fillRule:"evenodd",d:"M11.92 6 7.56 10.358 4.59 8.13l.78-1.04 2.069 1.552L11 5.08l.92.919",clipRule:"evenodd"})))},fO,hO;function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ew.apply(this,arguments)}var ume=function(t){return b.createElement("svg",ew({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 16 16"},t),fO||(fO=b.createElement("circle",{cx:8,cy:8,r:7,fill:"#FFB1B1"})),hO||(hO=b.createElement("path",{fill:"#D02D2D",d:"M5 7.5h6V9H5z"})))};const dme=3;function Jb(e,t=dme){const n=new Date(Number(e));return n.setDate(e.getDate()+t),n}function fme(e,t){if(!e&&!t)return new Date;if(!e&&t)return Jb(t);if(!t&&e)return Jb(new Date(e));const n=t<new Date(e)?new Date(e):t;return Jb(n)}function C4({row:e,lastPayoutAt:t}){function n(){switch(e.type){case"UnknownWorkLog":case"TaskResponseWorkLog":case"ProjectBonusWorkLog":case"TimedWorkEntry":case"ReferralWorkLog":case"BonusWorkLog":switch(e.status){case"Paid":return d.jsx(cme,{});case"Untransferred":case"Scheduled":case"Pending Approval":return d.jsx(lme,{});case"On Hold":return d.jsx(ume,{});default:return null}case"DateRow":case"ProjectRow":return null;default:Lt()}}function r(){if("status"in e){if(e.status==="Untransferred"){const i=fme(t,e.createdAt),o=new Date;return d.jsxs("div",{children:["Transferrable"," ",i>o&&d.jsx(S4,{datetime:i})]})}return e.status}}return d.jsxs("div",{className:"tw-flex tw-items-center tw-gap-3",children:[n(),r()]})}const hme=Object.freeze(Object.defineProperty({__proto__:null,Status:C4},Symbol.toStringTag,{value:"Module"}));function T4({entryId:e,timeInMinutes:t,projectId:n,setTimeInMinutes:r,deleteTimedWorkEntry:i}){const[o,s]=b.useState(!1),[a,l]=b.useState("none"),c=b.useCallback(m=>{const p=ri(parseInt(m));return p===null?"Not a number.":p>=t?"Must be less than current time.":p<=0?"Must be greater than 0.":null},[t]),u=li({queryKey:{projectId:n,entryId:e},queryFn:({projectId:m,entryId:p})=>Vpe(m,p).then(()=>{i(p)}),delay:!0,onQueryKeyChange:"resetToNotLoaded"}),[f,h]=b.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"tw-flex tw-gap-x-2",children:[d.jsxs("button",{onClick:()=>s(!0),className:Se("tw-flex tw-items-center"),children:[d.jsx(wo,{updateStatus:a,className:"tw-flex-grow",editableState:[o,s],onChange:m=>{const p=ri(parseInt(m));if(l("updating"),p===null)throw Error("onChange shouldn't have been called because isValidFunc should have prevented it.");qpe(n,e,p).then(()=>{r(e,p),l("none")}).catch(()=>{l("failed")})},originalText:t.toString(),isValidFunc:m=>c(m)===null,getErrorText:c}),d.jsx(S5,{className:"tw-w-4 tw-h-4"})]}),d.jsx(yn,{content:"Delete entry",children:d.jsx("button",{onClick:()=>h(!0),children:d.jsx(YA,{className:"tw-w-4 tw-h-4"})})})]}),d.jsx(Eo,{text:"Are you sure you want to delete the timed work entry?",isOpen:f,showLoadingIcon:u.status==="loading",setIsOpen:h,preventCloseOnOverlayClick:!0,onConfirmed:()=>{switch(u.status){case"failure":case"not_loaded":u.load();break;case"loading":case"loaded":throw Error("Should be clickable")}},showCancelBtn:!0,showConfirmBtn:!0})]})}const pme=Object.freeze(Object.defineProperty({__proto__:null,default:T4},Symbol.toStringTag,{value:"Module"})),Xb={minWidth:35,width:35};function pO(e){return e.depth===2?d.jsxs("div",{className:"tw-flex tw-gap-1",children:[d.jsx(Ype,{}),e.children]}):d.jsx(d.Fragment,{children:e.children})}function mO(e){return ff(new Array().concat(e.workLogs).concat(e.timedWorkEntries).map(({amountInCents:t})=>t))}function gO(e){switch(e.type){case"UnknownWorkLog":case"TaskResponseWorkLog":case"TimedWorkEntry":case"ProjectBonusWorkLog":case"BonusWorkLog":case"ReferralWorkLog":return e.amountInCents;case"DateRow":return ff(Object.values(e.byProject).map(mO))+ff(new Array().concat(e.workLogsWithDeletedProject).concat(e.workLogsWithNoProject).concat(e.timedWorkEntriesWithDeletedProject).map(({amountInCents:t})=>t));case"ProjectRow":return mO(e);default:Lt()}}const yv=(e,t,n)=>[{id:"title",Header:"Daily Reported Projects & Bonuses",accessor:r=>{switch(r.type){case"DateRow":return r.date.toLocaleString("en-US",{month:"short",day:"numeric"});case"ProjectRow":return r.project.name;case"UnknownWorkLog":case"TaskResponseWorkLog":return"Task Submission";case"TimedWorkEntry":return"Time Entry";case"ProjectBonusWorkLog":case"BonusWorkLog":return r.bonusMessage||"Bonus";case"ReferralWorkLog":return"";default:Lt()}},Cell:m4},{id:"amount",Header:"Amount",...Xb,accessor:r=>gO(r),Cell:({row:r,value:i})=>d.jsx(pO,{depth:r.depth,children:Lg(i)})},{id:"time",Header:"Time Reported",...Xb,accessor:r=>{switch(r.type){case"UnknownWorkLog":case"TaskResponseWorkLog":case"ProjectBonusWorkLog":case"BonusWorkLog":case"ReferralWorkLog":return null;case"TimedWorkEntry":return r.timeInMinutes;case"DateRow":return ff(Object.values(r.byProject).flatMap(i=>i.timedWorkEntries).concat(r.timedWorkEntriesWithDeletedProject).map(i=>i.timeInMinutes));case"ProjectRow":return ff(r.timedWorkEntries.map(i=>i.timeInMinutes));default:Lt()}},Cell:({row:{original:r},value:i})=>r.type=="TimedWorkEntry"&&r.editableBySurger&&!r.project.isDeleted?d.jsx(T4,{projectId:r.project.id,timeInMinutes:r.timeInMinutes,entryId:r.id,setTimeInMinutes:t,deleteTimedWorkEntry:n}):d.jsx(pO,{depth:0,children:i})},{id:"timeAgo",Header:"Time Ago",...Xb,Cell:r=>{let i;const o=r.row.original;switch(o.type){case"UnknownWorkLog":case"TaskResponseWorkLog":case"ProjectBonusWorkLog":case"BonusWorkLog":case"TimedWorkEntry":case"ReferralWorkLog":i=new Date(o.createdAt);break;case"ProjectRow":case"DateRow":i=null;break;default:Lt()}return i?d.jsx(S4,{datetime:i}):null}},{id:"status",Header:"Status",minWidth:60,width:60,Cell:r=>gO(r.row.original)?d.jsx(C4,{row:r.row.original,lastPayoutAt:e}):null}],mme=Object.freeze(Object.defineProperty({__proto__:null,getColumns:yv},Symbol.toStringTag,{value:"Module"}));function tC({workLogs:e,timedWorkEntries:t,lastPayoutAt:n,setTimeInMinutes:r,deleteTimedWorkEntry:i}){const o=b.useMemo(()=>[...e,...t],[t,e]),s=b.useMemo(()=>yv(n,r,i),[i,n,r]);return d.jsx(mu,{hideHeaders:!0,data:o,columns:s,manualPagination:!1,defaultSortColumnDesc:!0,hover:!0,allowOverflow:!1,hidePagination:o.length<Bc[1],defaultPageSize:Bc[1],unhideableColumns:s.map(a=>a.id)})}const gme=Object.freeze(Object.defineProperty({__proto__:null,default:tC},Symbol.toStringTag,{value:"Module"}));function j4({row:e,rowIndex:t}){return d.jsx(QU,{row:e,rowIndex:t,getClassNameForTr:b.useCallback(()=>"tw-bg-neutral-100",[])})}function E4({dateRow:e,lastPayoutAt:t,setTimeInMinutes:n,deleteTimedWorkEntry:r}){const i=b.useCallback(({row:a})=>a.original.type=="ProjectRow"?d.jsx(tC,{workLogs:a.original.workLogs,timedWorkEntries:a.original.timedWorkEntries,lastPayoutAt:t,setTimeInMinutes:n,deleteTimedWorkEntry:r}):d.jsx(d.Fragment,{}),[r,t,n]),o=b.useMemo(()=>new Array().concat(Object.values(e.byProject)).concat(e.workLogsWithNoProject).concat(e.workLogsWithDeletedProject).concat(e.timedWorkEntriesWithDeletedProject),[e.byProject,e.timedWorkEntriesWithDeletedProject,e.workLogsWithDeletedProject,e.workLogsWithNoProject]),s=b.useMemo(()=>yv(t,n,r),[r,t,n]);return d.jsx("div",{className:"gold-standards-table",children:d.jsx(mu,{data:o,columns:s,defaultSortColumnDesc:!0,hover:!0,allowOverflow:!1,hideHeaders:!0,hidePagination:o.length<Bc[1],defaultPageSize:Bc[1],renderRowSubComponent:i,unhideableColumns:s.map(a=>a.id),RowComponent:j4})})}const vme=Object.freeze(Object.defineProperty({__proto__:null,DarkActiveTableRow:j4,default:E4},Symbol.toStringTag,{value:"Module"}));function wd(e){return d.jsx(yt,{className:Se("tw-ml-5 tw-w-18 tw-p-0 tw-text-xs tw-my-2 tw-rounded-2xl tw-border-none",{"tw-bg-neutral-200":!e.filled,"tw-bg-blue-700":e.filled}),buttonSize:"sm",variant:e.filled?"primary":"outline",onClick:e.onClick,children:e.text})}function k4(e){const{allowedTypes:t,setAllowedTypes:n,showHourlyProjects:r,showRegularProjects:i,hideReferrals:o}=e,s=Object.values(t).every(l=>l===!0);function a(l){n(s?{...dm(t,()=>!1),[l]:!0}:{...t,[l]:!t[l]})}return d.jsxs("div",{className:"tw-flex",children:[d.jsx("div",{className:"tw-grow"}),d.jsxs("div",{className:"tw-mr-8",children:[r&&d.jsx(wd,{onClick:()=>a("hourlyProjects"),text:"Hourly Projects",filled:!s&&t.hourlyProjects}),i&&d.jsx(wd,{onClick:()=>a("regularProjects"),text:"Regular Projects",filled:!s&&t.regularProjects}),d.jsx(wd,{onClick:()=>a("bonuses"),filled:!s&&t.bonuses,text:"Bonuses"}),!o&&d.jsx(wd,{onClick:()=>a("referrals"),filled:!s&&t.referrals,text:"Referrals"}),d.jsx(wd,{onClick:()=>n(dm(t,()=>!0)),filled:s,text:"View All"})]})]})}const bme=Object.freeze(Object.defineProperty({__proto__:null,default:k4},Symbol.toStringTag,{value:"Module"}));function vO(e){const t=e.getDate(),n=e.getMonth()+1;return`${e.getFullYear()}-${n}-${t}`}function yme(e,t){var s,a;const n={},r={};for(const l of e){const c=new Date(l.createdAt),u=vO(c);n[u]||(n[u]=[]),n[u].push({...l,createdAt:c})}for(const l of t){const c=new Date(l.createdAt),u=vO(c);r[u]||(r[u]=[]),r[u].push({...l,createdAt:c})}const i=new Set([...Object.keys(n),...Object.keys(r)]),o=[];for(const l of i){const c=n[l]||[],u=r[l]||[],f={},h=[],m=[],p=[];for(const g of c)if("project"in g)if(g.project.isDeleted)h.push(g);else{const _=g.project.id;f[_]||(f[_]={type:"ProjectRow",project:g.project,workLogs:[],timedWorkEntries:[]}),f[_].workLogs.push(g)}else p.push(g);for(const g of u)if(g.project.isDeleted)m.push(g);else{const _=g.project.id;f[_]||(f[_]={type:"ProjectRow",project:g.project,workLogs:[],timedWorkEntries:[]}),f[_].timedWorkEntries.push(g)}o.push({type:"DateRow",date:((s=c[0])==null?void 0:s.createdAt)||((a=u[0])==null?void 0:a.createdAt),byProject:f,workLogsWithDeletedProject:h,timedWorkEntriesWithDeletedProject:m,workLogsWithNoProject:p})}return o.sort((l,c)=>l.date<c.date?1:-1)}function _me(e,t){const n=new URLSearchParams;return e&&n.append("project_id",e),t&&n.append("include_paid",t.toString()),Rn.get(`${Zn}/payments/recent_work_logs_and_timed_work_entries?${n}`)}function xme({workLogs:e,timedWorkEntries:t},n){return Object.values(n).every(r=>r)?{workLogs:e,timedWorkEntries:t}:(e=e.filter(r=>!!("project"in r&&!r.project.isDeleted&&(n.hourlyProjects&&r.project.hasHourlyPrice||n.regularProjects&&r.project.hasHourlyPrice)||n.bonuses&&(r.type=="BonusWorkLog"||r.type=="ProjectBonusWorkLog")||n.referrals&&r.type=="ReferralWorkLog")),t=n.hourlyProjects?t:[],{workLogs:e,timedWorkEntries:t})}function nC(e){const{lastPayoutAt:t,onlyShowDataForOneProject:n,projectId:r}=e,[i,o]=b.useState(!1),s=li({queryKey:{projectId:r,showPaid:i},queryFn:({projectId:g,showPaid:_})=>_me(g,_).then(x=>x.data),onQueryKeyChange:"reloadIfLoadedOrFailed"}),[a,l]=b.useState({bonuses:!0,regularProjects:!0,hourlyProjects:!0,referrals:!0});switch(s.status){case"not_loaded":throw new Error("This should never happen, since we don't pass `delay` to `usePromisedState`");case"loading":return d.jsx("div",{className:"tw-flex tw-items-center tw-justify-center tw-min-h-[16rem]",children:d.jsx(fn,{className:"tw-text-primary-default-100 tw-h-24 tw-w-24"})});case"failure":return d.jsx("div",{className:"tw-flex tw-items-center tw-justify-center tw-min-h-[16rem]",children:d.jsx("div",{className:"tw-text-primary-default-100 tw-text-2xl tw-font-semibold",children:"Something went wrong. Please try again later. If the problem persists, please contact support."})})}const c=xme(s.data,a),u=yme(c.workLogs,c.timedWorkEntries),f=(g,_)=>{s.setData(tr(s.data,x=>{const S=x.timedWorkEntries.find(C=>C.id==g);if(S)S.timeInMinutes=_;else throw new Error(`Could not find entry with id ${g}`)}))},h=g=>{s.setData(tr(s.data,_=>{const x=_.timedWorkEntries.findIndex(S=>S.id==g);if(x!=-1)_.timedWorkEntries.splice(x,1);else throw new Error(`Could not find entry with id ${g}`)}))},m=({row:g})=>{if(n){const _=Object.values(g.original.byProject)[0];return d.jsx(tC,{deleteTimedWorkEntry:h,setTimeInMinutes:f,workLogs:_.workLogs,timedWorkEntries:_.timedWorkEntries,lastPayoutAt:t})}return d.jsx(E4,{deleteTimedWorkEntry:h,dateRow:g.original,lastPayoutAt:t,setTimeInMinutes:f})},p=yv(t,f,h);return!u.length&&s.data.workLogs.length===0?d.jsx(d.Fragment,{children:"Enable some of the filters above"}):d.jsx(mu,{data:u,columns:p,defaultSortColumnDesc:!0,hover:!0,allowOverflow:!1,hideFiltering:!0,renderRowSubComponent:m,unhideableColumns:p.map(g=>g.id),children:d.jsxs("div",{className:"tw-flex tw-items-center tw-justify-between",children:[d.jsx("div",{className:"tw-text-2xl tw-ml-2 tw-text-semibold",children:"Funds History"}),d.jsxs("div",{className:"tw-flex tw-items-center tw-text-primary-default-100",children:[d.jsx(ii,{label:"Show paid",checked:i,onChange:()=>o(!i)}),d.jsx(k4,{showHourlyProjects:s.data.timedWorkEntries.length>0,showRegularProjects:s.data.workLogs.length>0,hideReferrals:n||!1,allowedTypes:a,setAllowedTypes:l})]})]})})}const wme=Object.freeze(Object.defineProperty({__proto__:null,default:nC},Symbol.toStringTag,{value:"Module"}));function O4({projectId:e,projectName:t,userId:n,perHourPaymentInCents:r,lastPayoutAt:i}){const o=b.useContext(ZA);return d.jsxs(d.Fragment,{children:[d.jsx(p4,{projectId:e,projectName:t,userId:n,perHourPaymentInCents:r,admin:(o==null?void 0:o.admin)||!1}),!(o!=null&&o.admin)&&d.jsx(nC,{lastPayoutAt:i,onlyShowDataForOneProject:!0,projectId:e})]})}const Sme=Object.freeze(Object.defineProperty({__proto__:null,default:O4},Symbol.toStringTag,{value:"Module"}));var Cme=Object.defineProperty,Tme=(e,t)=>{for(var n in t)Cme(e,n,{get:t[n],enumerable:!0})},Yi={};Tme(Yi,{assign:()=>kme,colors:()=>ea,createStringInterpolator:()=>cC,skipAnimation:()=>I4,to:()=>$4,willAdvance:()=>uC});var rC=dh(),Ft=e=>uh(e,rC),iC=dh();Ft.write=e=>uh(e,iC);var _v=dh();Ft.onStart=e=>uh(e,_v);var oC=dh();Ft.onFrame=e=>uh(e,oC);var sC=dh();Ft.onFinish=e=>uh(e,sC);var Ic=[];Ft.setTimeout=(e,t)=>{const n=Ft.now()+t,r=()=>{const o=Ic.findIndex(s=>s.cancel==r);~o&&Ic.splice(o,1),Gs-=~o?1:0},i={time:n,handler:e,cancel:r};return Ic.splice(M4(n),0,i),Gs+=1,N4(),i};var M4=e=>~(~Ic.findIndex(t=>t.time>e)||~Ic.length);Ft.cancel=e=>{_v.delete(e),oC.delete(e),sC.delete(e),rC.delete(e),iC.delete(e)};Ft.sync=e=>{tw=!0,Ft.batchedUpdates(e),tw=!1};Ft.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,Ft.onStart(n)}return r.handler=e,r.cancel=()=>{_v.delete(n),t=null},r};var aC=typeof window<"u"?window.requestAnimationFrame:()=>{};Ft.use=e=>aC=e;Ft.now=typeof performance<"u"?()=>performance.now():Date.now;Ft.batchedUpdates=e=>e();Ft.catch=console.error;Ft.frameLoop="always";Ft.advance=()=>{Ft.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):A4()};var Us=-1,Gs=0,tw=!1;function uh(e,t){tw?(t.delete(e),e(0)):(t.add(e),N4())}function N4(){Us<0&&(Us=0,Ft.frameLoop!=="demand"&&aC(P4))}function jme(){Us=-1}function P4(){~Us&&(aC(P4),Ft.batchedUpdates(A4))}function A4(){const e=Us;Us=Ft.now();const t=M4(Us);if(t&&(R4(Ic.splice(0,t),n=>n.handler()),Gs-=t),!Gs){jme();return}_v.flush(),rC.flush(e?Math.min(64,Us-e):16.667),oC.flush(),iC.flush(),sC.flush()}function dh(){let e=new Set,t=e;return{add(n){Gs+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Gs-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Gs-=t.size,R4(t,r=>r(n)&&e.add(r)),Gs+=e.size,t=e)}}}function R4(e,t){e.forEach(n=>{try{t(n)}catch(r){Ft.catch(r)}})}function nw(){}var Eme=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Je={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function ts(e,t){if(Je.arr(e)){if(!Je.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Rt=(e,t)=>e.forEach(t);function Po(e,t,n){if(Je.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Rr=e=>Je.und(e)?[]:Je.arr(e)?e:[e];function nf(e,t){if(e.size){const n=Array.from(e);e.clear(),Rt(n,t)}}var zd=(e,...t)=>nf(e,n=>n(...t)),lC=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),cC,$4,ea=null,I4=!1,uC=nw,kme=e=>{e.to&&($4=e.to),e.now&&(Ft.now=e.now),e.colors!==void 0&&(ea=e.colors),e.skipAnimation!=null&&(I4=e.skipAnimation),e.createStringInterpolator&&(cC=e.createStringInterpolator),e.requestAnimationFrame&&Ft.use(e.requestAnimationFrame),e.batchedUpdates&&(Ft.batchedUpdates=e.batchedUpdates),e.willAdvance&&(uC=e.willAdvance),e.frameLoop&&(Ft.frameLoop=e.frameLoop)},rf=new Set,ki=[],ey=[],Km=0,xv={get idle(){return!rf.size&&!ki.length},start(e){Km>e.priority?(rf.add(e),Ft.onStart(Ome)):(D4(e),Ft(rw))},advance:rw,sort(e){if(Km)Ft.onFrame(()=>xv.sort(e));else{const t=ki.indexOf(e);~t&&(ki.splice(t,1),L4(e))}},clear(){ki=[],rf.clear()}};function Ome(){rf.forEach(D4),rf.clear(),Ft(rw)}function D4(e){ki.includes(e)||L4(e)}function L4(e){ki.splice(Mme(ki,t=>t.priority>e.priority),0,e)}function rw(e){const t=ey;for(let n=0;n<ki.length;n++){const r=ki[n];Km=r.priority,r.idle||(uC(r),r.advance(e),r.idle||t.push(r))}return Km=0,ey=ki,ey.length=0,ki=t,ki.length>0}function Mme(e,t){const n=e.findIndex(t);return n<0?e.length:n}var Nme=(e,t,n)=>Math.min(Math.max(n,e),t),Pme={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},qi="[-+]?\\d*\\.?\\d+",Ym=qi+"%";function wv(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Ame=new RegExp("rgb"+wv(qi,qi,qi)),Rme=new RegExp("rgba"+wv(qi,qi,qi,qi)),$me=new RegExp("hsl"+wv(qi,Ym,Ym)),Ime=new RegExp("hsla"+wv(qi,Ym,Ym,qi)),Dme=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Lme=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Fme=/^#([0-9a-fA-F]{6})$/,zme=/^#([0-9a-fA-F]{8})$/;function Bme(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Fme.exec(e))?parseInt(t[1]+"ff",16)>>>0:ea&&ea[e]!==void 0?ea[e]:(t=Ame.exec(e))?(ec(t[1])<<24|ec(t[2])<<16|ec(t[3])<<8|255)>>>0:(t=Rme.exec(e))?(ec(t[1])<<24|ec(t[2])<<16|ec(t[3])<<8|_O(t[4]))>>>0:(t=Dme.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=zme.exec(e))?parseInt(t[1],16)>>>0:(t=Lme.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=$me.exec(e))?(bO(yO(t[1]),hp(t[2]),hp(t[3]))|255)>>>0:(t=Ime.exec(e))?(bO(yO(t[1]),hp(t[2]),hp(t[3]))|_O(t[4]))>>>0:null}function ty(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function bO(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=ty(i,r,e+1/3),s=ty(i,r,e),a=ty(i,r,e-1/3);return Math.round(o*255)<<24|Math.round(s*255)<<16|Math.round(a*255)<<8}function ec(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function yO(e){return(parseFloat(e)%360+360)%360/360}function _O(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function hp(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function xO(e){let t=Bme(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,o=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${o})`}var Nf=(e,t,n)=>{if(Je.fun(e))return e;if(Je.arr(e))return Nf({range:e,output:t,extrapolate:n});if(Je.str(e.output[0]))return cC(e);const r=e,i=r.output,o=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const u=Hme(c,o);return Wme(c,o[u],o[u+1],i[u],i[u+1],l,s,a,r.map)}};function Wme(e,t,n,r,i,o,s,a,l){let c=l?l(e):e;if(c<t){if(s==="identity")return c;s==="clamp"&&(c=t)}if(c>n){if(a==="identity")return c;a==="clamp"&&(c=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?c=-c:n===1/0?c=c-t:c=(c-t)/(n-t),c=o(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function Hme(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var qme=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return Nme(0,1,i/e)},Zm=1.70158,pp=Zm*1.525,wO=Zm+1,SO=2*Math.PI/3,CO=2*Math.PI/4.5,mp=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Vme={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>wO*e*e*e-Zm*e*e,easeOutBack:e=>1+wO*Math.pow(e-1,3)+Zm*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((pp+1)*2*e-pp)/2:(Math.pow(2*e-2,2)*((pp+1)*(e*2-2)+pp)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*SO),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*SO)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*CO))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*CO)/2+1,easeInBounce:e=>1-mp(1-e),easeOutBounce:mp,easeInOutBounce:e=>e<.5?(1-mp(1-2*e))/2:(1+mp(2*e-1))/2,steps:qme},Pf=Symbol.for("FluidValue.get"),Zc=Symbol.for("FluidValue.observers"),Ti=e=>!!(e&&e[Pf]),qr=e=>e&&e[Pf]?e[Pf]():e,TO=e=>e[Zc]||null;function Ume(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Af(e,t){const n=e[Zc];n&&n.forEach(r=>{Ume(r,t)})}var F4=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Gme(this,e)}},Gme=(e,t)=>z4(e,Pf,t);function yu(e,t){if(e[Pf]){let n=e[Zc];n||z4(e,Zc,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Rf(e,t){const n=e[Zc];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Zc]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var z4=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Qp=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Kme=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,jO=new RegExp(`(${Qp.source})(%|[a-z]+)`,"i"),Yme=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Sv=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,B4=e=>{const[t,n]=Zme(e);if(!t||lC())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&Sv.test(n))return B4(n);if(n)return n}return e},Zme=e=>{const t=Sv.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},ny,Qme=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,W4=e=>{ny||(ny=ea?new RegExp(`(${Object.keys(ea).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(o=>qr(o).replace(Sv,B4).replace(Kme,xO).replace(ny,xO)),n=t.map(o=>o.match(Qp).map(Number)),i=n[0].map((o,s)=>n.map(a=>{if(!(s in a))throw Error('The arity of each "output" value must be equal');return a[s]})).map(o=>Nf({...e,output:o}));return o=>{var l;const s=!jO.test(t[0])&&((l=t.find(c=>jO.test(c)))==null?void 0:l.replace(Qp,""));let a=0;return t[0].replace(Qp,()=>`${i[a++](o)}${s||""}`).replace(Yme,Qme)}},dC="react-spring: ",H4=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${dC}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Jme=H4(console.warn);function Xme(){Jme(`${dC}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var ege=H4(console.warn);function tge(){ege(`${dC}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Cv(e){return Je.str(e)&&(e[0]=="#"||/\d/.test(e)||!lC()&&Sv.test(e)||e in(ea||{}))}var Va=lC()?b.useEffect:b.useLayoutEffect,nge=()=>{const e=b.useRef(!1);return Va(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function fC(){const e=b.useState()[1],t=nge();return()=>{t.current&&e(Math.random())}}function rge(e,t){const[n]=b.useState(()=>({inputs:t,result:e()})),r=b.useRef(),i=r.current;let o=i;return o?t&&o.inputs&&ige(t,o.inputs)||(o={inputs:t,result:e()}):o=n,b.useEffect(()=>{r.current=o,i==n&&(n.inputs=n.result=void 0)},[o]),o.result}function ige(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var hC=e=>b.useEffect(e,oge),oge=[];function iw(e){const t=b.useRef();return b.useEffect(()=>{t.current=e}),t.current}var $f=Symbol.for("Animated:node"),sge=e=>!!e&&e[$f]===e,vo=e=>e&&e[$f],pC=(e,t)=>Eme(e,$f,t),Tv=e=>e&&e[$f]&&e[$f].getPayload(),q4=class{constructor(){pC(this,this)}getPayload(){return this.payload||[]}},fh=class extends q4{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Je.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new fh(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Je.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Je.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},If=class extends fh{constructor(e){super(0),this._string=null,this._toString=Nf({output:[e,e]})}static create(e){return new If(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Je.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Nf({output:[this.getValue(),e]})),this._value=0,super.reset()}},Qm={dependencies:null},jv=class extends q4{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Po(this.source,(n,r)=>{sge(n)?t[r]=n.getValue(e):Ti(n)?t[r]=qr(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Rt(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Po(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Qm.dependencies&&Ti(e)&&Qm.dependencies.add(e);const t=Tv(e);t&&Rt(t,n=>this.add(n))}},V4=class extends jv{constructor(e){super(e)}static create(e){return new V4(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(age)),!0)}};function age(e){return(Cv(e)?If:fh).create(e)}function ow(e){const t=vo(e);return t?t.constructor:Je.arr(e)?V4:Cv(e)?If:fh}var EO=(e,t)=>{const n=!Je.fun(e)||e.prototype&&e.prototype.isReactComponent;return b.forwardRef((r,i)=>{const o=b.useRef(null),s=n&&b.useCallback(p=>{o.current=uge(i,p)},[i]),[a,l]=cge(r,t),c=fC(),u=()=>{const p=o.current;if(n&&!p)return;(p?t.applyAnimatedValues(p,a.getValue(!0)):!1)===!1&&c()},f=new lge(u,l),h=b.useRef();Va(()=>(h.current=f,Rt(l,p=>yu(p,f)),()=>{h.current&&(Rt(h.current.deps,p=>Rf(p,h.current)),Ft.cancel(h.current.update))})),b.useEffect(u,[]),hC(()=>()=>{const p=h.current;Rt(p.deps,g=>Rf(g,p))});const m=t.getComponentProps(a.getValue());return b.createElement(e,{...m,ref:s})})},lge=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Ft.write(this.update)}};function cge(e,t){const n=new Set;return Qm.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new jv(e),Qm.dependencies=null,[e,n]}function uge(e,t){return e&&(Je.fun(e)?e(t):e.current=t),t}var kO=Symbol.for("AnimatedComponent"),dge=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new jv(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},o=s=>{const a=OO(s)||"Anonymous";return Je.str(s)?s=o[s]||(o[s]=EO(s,i)):s=s[kO]||(s[kO]=EO(s,i)),s.displayName=`Animated(${a})`,s};return Po(e,(s,a)=>{Je.arr(e)&&(a=OO(s)),o[a]=o(s)}),{animated:o}},OO=e=>Je.str(e)?e:e&&Je.str(e.displayName)?e.displayName:Je.fun(e)&&e.name||null;function Vr(e,...t){return Je.fun(e)?e(...t):e}var of=(e,t)=>e===!0||!!(t&&e&&(Je.fun(e)?e(t):Rr(e).includes(t))),U4=(e,t)=>Je.obj(e)?t&&e[t]:e,G4=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,fge=e=>e,Ev=(e,t=fge)=>{let n=hge;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const o=t(e[i],i);Je.und(o)||(r[i]=o)}return r},hge=["config","onProps","onStart","onChange","onPause","onResume","onRest"],pge={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function mge(e){const t={};let n=0;if(Po(e,(r,i)=>{pge[i]||(t[i]=r,n++)}),n)return t}function mC(e){const t=mge(e);if(t){const n={to:t};return Po(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function Df(e){return e=qr(e),Je.arr(e)?e.map(Df):Cv(e)?Yi.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function K4(e){for(const t in e)return!0;return!1}function sw(e){return Je.fun(e)||Je.arr(e)&&Je.obj(e[0])}function aw(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function Y4(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var gC={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},lw={...gC.default,mass:1,damping:1,easing:Vme.linear,clamp:!1},gge=class{constructor(){this.velocity=0,Object.assign(this,lw)}};function vge(e,t,n){n&&(n={...n},MO(n,t),t={...n,...t}),MO(e,t),Object.assign(e,t);for(const s in lw)e[s]==null&&(e[s]=lw[s]);let{frequency:r,damping:i}=e;const{mass:o}=e;return Je.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*o,e.friction=4*Math.PI*i*o/r),e}function MO(e,t){if(!Je.und(t.decay))e.duration=void 0;else{const n=!Je.und(t.tension)||!Je.und(t.friction);(n||!Je.und(t.frequency)||!Je.und(t.damping)||!Je.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var NO=[],bge=class{constructor(){this.changed=!1,this.values=NO,this.toValues=null,this.fromValues=NO,this.config=new gge,this.immediate=!1}};function Z4(e,{key:t,props:n,defaultProps:r,state:i,actions:o}){return new Promise((s,a)=>{let l,c,u=of(n.cancel??(r==null?void 0:r.cancel),t);if(u)m();else{Je.und(n.pause)||(i.paused=of(n.pause,t));let p=r==null?void 0:r.pause;p!==!0&&(p=i.paused||of(p,t)),l=Vr(n.delay||0,t),p?(i.resumeQueue.add(h),o.pause()):(o.resume(),h())}function f(){i.resumeQueue.add(h),i.timeouts.delete(c),c.cancel(),l=c.time-Ft.now()}function h(){l>0&&!Yi.skipAnimation?(i.delayed=!0,c=Ft.setTimeout(m,l),i.pauseQueue.add(f),i.timeouts.add(c)):m()}function m(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(c),e<=(i.cancelId||0)&&(u=!0);try{o.start({...n,callId:e,cancel:u},s)}catch(p){a(p)}}})}var vC=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?Dc(e.get()):t.every(n=>n.noop)?Q4(e.get()):zi(e.get(),t.every(n=>n.finished)),Q4=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),zi=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),Dc=e=>({value:e,cancelled:!0,finished:!1});function J4(e,t,n,r){const{callId:i,parentId:o,onRest:s}=t,{asyncTo:a,promise:l}=n;return!o&&e===a&&!t.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const c=Ev(t,(_,x)=>x==="onRest"?void 0:_);let u,f;const h=new Promise((_,x)=>(u=_,f=x)),m=_=>{const x=i<=(n.cancelId||0)&&Dc(r)||i!==n.asyncId&&zi(r,!1);if(x)throw _.result=x,f(_),_},p=(_,x)=>{const S=new PO,C=new AO;return(async()=>{if(Yi.skipAnimation)throw Lf(n),C.result=zi(r,!1),f(C),C;m(S);const j=Je.obj(_)?{..._}:{...x,to:_};j.parentId=i,Po(c,(T,y)=>{Je.und(j[y])&&(j[y]=T)});const k=await r.start(j);return m(S),n.paused&&await new Promise(T=>{n.resumeQueue.add(T)}),k})()};let g;if(Yi.skipAnimation)return Lf(n),zi(r,!1);try{let _;Je.arr(e)?_=(async x=>{for(const S of x)await p(S)})(e):_=Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([_.then(u),h]),g=zi(r.get(),!0,!1)}catch(_){if(_ instanceof PO)g=_.result;else if(_ instanceof AO)g=_.result;else throw _}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?a:void 0,n.promise=o?l:void 0)}return Je.fun(s)&&Ft.batchedUpdates(()=>{s(g,r,r.item)}),g})()}function Lf(e,t){nf(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var PO=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},AO=class extends Error{constructor(){super("SkipAnimationSignal")}},cw=e=>e instanceof bC,yge=1,bC=class extends F4{constructor(){super(...arguments),this.id=yge++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=vo(this);return e&&e.getValue()}to(...e){return Yi.to(this,e)}interpolate(...e){return Xme(),Yi.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Af(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||xv.sort(this),Af(this,{type:"priority",parent:this,priority:e})}},bl=Symbol.for("SpringPhase"),X4=1,uw=2,dw=4,ry=e=>(e[bl]&X4)>0,Ns=e=>(e[bl]&uw)>0,Sd=e=>(e[bl]&dw)>0,RO=(e,t)=>t?e[bl]|=uw|X4:e[bl]&=~uw,$O=(e,t)=>t?e[bl]|=dw:e[bl]&=~dw,_ge=class extends bC{constructor(e,t){if(super(),this.animation=new bge,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Je.und(e)||!Je.und(t)){const n=Je.obj(e)?{...e}:{...t,from:e};Je.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Ns(this)||this._state.asyncTo)||Sd(this)}get goal(){return qr(this.animation.to)}get velocity(){const e=vo(this);return e instanceof fh?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return ry(this)}get isAnimating(){return Ns(this)}get isPaused(){return Sd(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:o}=r,s=Tv(r.to);!s&&Ti(r.to)&&(i=Rr(qr(r.to))),r.values.forEach((c,u)=>{if(c.done)return;const f=c.constructor==If?1:s?s[u].lastPosition:i[u];let h=r.immediate,m=f;if(!h){if(m=c.lastPosition,o.tension<=0){c.done=!0;return}let p=c.elapsedTime+=e;const g=r.fromValues[u],_=c.v0!=null?c.v0:c.v0=Je.arr(o.velocity)?o.velocity[u]:o.velocity;let x;const S=o.precision||(g==f?.005:Math.min(1,Math.abs(f-g)*.001));if(Je.und(o.duration))if(o.decay){const C=o.decay===!0?.998:o.decay,j=Math.exp(-(1-C)*p);m=g+_/(1-C)*(1-j),h=Math.abs(c.lastPosition-m)<=S,x=_*j}else{x=c.lastVelocity==null?_:c.lastVelocity;const C=o.restVelocity||S/10,j=o.clamp?0:o.bounce,k=!Je.und(j),T=g==f?c.v0>0:g<f;let y,P=!1;const A=1,$=Math.ceil(e/A);for(let L=0;L<$&&(y=Math.abs(x)>C,!(!y&&(h=Math.abs(f-m)<=S,h)));++L){k&&(P=m==f||m>f==T,P&&(x=-x*j,m=f));const U=-o.tension*1e-6*(m-f),F=-o.friction*.001*x,H=(U+F)/o.mass;x=x+H*A,m=m+x*A}}else{let C=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,c.durationProgress>0&&(c.elapsedTime=o.duration*c.durationProgress,p=c.elapsedTime+=e)),C=(o.progress||0)+p/this._memoizedDuration,C=C>1?1:C<0?0:C,c.durationProgress=C),m=g+o.easing(C)*(f-g),x=(m-c.lastPosition)/e,h=C==1}c.lastVelocity=x,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),h=!0)}s&&!s[u].done&&(h=!1),h?c.done=!0:t=!1,c.setValue(m,o.round)&&(n=!0)});const a=vo(this),l=a.getValue();if(t){const c=qr(r.to);(l!==c||n)&&!o.decay?(a.setValue(c),this._onChange(c)):n&&o.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(e){return Ft.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ns(this)){const{to:e,config:t}=this.animation;Ft.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return Je.und(e)?(n=this.queue||[],this.queue=[]):n=[Je.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>vC(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Lf(this._state,e&&this._lastCallId),Ft.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=Je.obj(n)?n[t]:n,(n==null||sw(n))&&(n=void 0),r=Je.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return ry(this)||(e.reverse&&([n,r]=[r,n]),r=qr(r),Je.und(r)?vo(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Ev(e,(s,a)=>/^on/.test(a)?U4(s,n):s)),DO(this,e,"onProps"),Td(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return Z4(++this._lastCallId,{key:n,props:e,defaultProps:r,state:o,actions:{pause:()=>{Sd(this)||($O(this,!0),zd(o.pauseQueue),Td(this,"onPause",zi(this,Cd(this,this.animation.to)),this))},resume:()=>{Sd(this)&&($O(this,!1),Ns(this)&&this._resume(),zd(o.resumeQueue),Td(this,"onResume",zi(this,Cd(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(s=>{if(e.loop&&s.finished&&!(t&&s.noop)){const a=eD(e);if(a)return this._update(a,!0)}return s})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Dc(this));const r=!Je.und(e.to),i=!Je.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(Dc(this));const{key:o,defaultProps:s,animation:a}=this,{to:l,from:c}=a;let{to:u=l,from:f=c}=e;i&&!r&&(!t.default||Je.und(u))&&(u=f),t.reverse&&([u,f]=[f,u]);const h=!ts(f,c);h&&(a.from=f),f=qr(f);const m=!ts(u,l);m&&this._focus(u);const p=sw(t.to),{config:g}=a,{decay:_,velocity:x}=g;(r||i)&&(g.velocity=0),t.config&&!p&&vge(g,Vr(t.config,o),t.config!==s.config?Vr(s.config,o):void 0);let S=vo(this);if(!S||Je.und(u))return n(zi(this,!0));const C=Je.und(t.reset)?i&&!t.default:!Je.und(f)&&of(t.reset,o),j=C?f:this.get(),k=Df(u),T=Je.num(k)||Je.arr(k)||Cv(k),y=!p&&(!T||of(s.immediate||t.immediate,o));if(m){const L=ow(u);if(L!==S.constructor)if(y)S=this._set(k);else throw Error(`Cannot animate between ${S.constructor.name} and ${L.name}, as the "to" prop suggests`)}const P=S.constructor;let A=Ti(u),$=!1;if(!A){const L=C||!ry(this)&&h;(m||L)&&($=ts(Df(j),k),A=!$),(!ts(a.immediate,y)&&!y||!ts(g.decay,_)||!ts(g.velocity,x))&&(A=!0)}if($&&Ns(this)&&(a.changed&&!C?A=!0:A||this._stop(l)),!p&&((A||Ti(l))&&(a.values=S.getPayload(),a.toValues=Ti(u)?null:P==If?[1]:Rr(k)),a.immediate!=y&&(a.immediate=y,!y&&!C&&this._set(l)),A)){const{onRest:L}=a;Rt(wge,F=>DO(this,t,F));const U=zi(this,Cd(this,l));zd(this._pendingCalls,U),this._pendingCalls.add(n),a.changed&&Ft.batchedUpdates(()=>{var F;a.changed=!C,L==null||L(U,this),C?Vr(s.onRest,U):(F=a.onStart)==null||F.call(a,U,this)})}C&&this._set(j),p?n(J4(t.to,t,this._state,this)):A?this._start():Ns(this)&&!m?this._pendingCalls.add(n):n(Q4(j))}_focus(e){const t=this.animation;e!==t.to&&(TO(this)&&this._detach(),t.to=e,TO(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Ti(t)&&(yu(t,this),cw(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Ti(e)&&Rf(e,this)}_set(e,t=!0){const n=qr(e);if(!Je.und(n)){const r=vo(this);if(!r||!ts(n,r.getValue())){const i=ow(n);!r||r.constructor!=i?pC(this,i.create(n)):r.setValue(n),r&&Ft.batchedUpdates(()=>{this._onChange(n,t)})}}return vo(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Td(this,"onStart",zi(this,Cd(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Vr(this.animation.onChange,e,this)),Vr(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;vo(this).reset(qr(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Ns(this)||(RO(this,!0),Sd(this)||this._resume())}_resume(){Yi.skipAnimation?this.finish():xv.start(this)}_stop(e,t){if(Ns(this)){RO(this,!1);const n=this.animation;Rt(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Af(this,{type:"idle",parent:this});const r=t?Dc(this.get()):zi(this.get(),Cd(this,e??n.to));zd(this._pendingCalls,r),n.changed&&(n.changed=!1,Td(this,"onRest",r,this))}}};function Cd(e,t){const n=Df(t),r=Df(e.get());return ts(r,n)}function eD(e,t=e.loop,n=e.to){const r=Vr(t);if(r){const i=r!==!0&&mC(r),o=(i||e).reverse,s=!i||i.reset;return Ff({...e,loop:t,default:!1,pause:void 0,to:!o||sw(n)?n:void 0,from:s?e.from:void 0,reset:s,...i})}}function Ff(e){const{to:t,from:n}=e=mC(e),r=new Set;return Je.obj(t)&&IO(t,r),Je.obj(n)&&IO(n,r),e.keys=r.size?Array.from(r):null,e}function xge(e){const t=Ff(e);return Je.und(t.default)&&(t.default=Ev(t)),t}function IO(e,t){Po(e,(n,r)=>n!=null&&t.add(r))}var wge=["onStart","onRest","onChange","onPause","onResume"];function DO(e,t,n){e.animation[n]=t[n]!==G4(t,n)?U4(t[n],e.key):void 0}function Td(e,t,...n){var r,i,o,s;(i=(r=e.animation)[t])==null||i.call(r,...n),(s=(o=e.defaultProps)[t])==null||s.call(o,...n)}var Sge=["onStart","onChange","onRest"],Cge=1,tD=class{constructor(e,t){this.id=Cge++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];Je.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Ff(e)),this}start(e){let{queue:t}=this;return e?t=Rr(e).map(Ff):this.queue=[],this._flush?this._flush(this,t):(sD(this,t),fw(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Rt(Rr(t),r=>n[r].stop(!!e))}else Lf(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(Je.und(e))this.start({pause:!0});else{const t=this.springs;Rt(Rr(e),n=>t[n].pause())}return this}resume(e){if(Je.und(e))this.start({pause:!1});else{const t=this.springs;Rt(Rr(e),n=>t[n].resume())}return this}each(e){Po(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,nf(e,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const o=!r&&this._started,s=i||o&&n.size?this.get():null;i&&t.size&&nf(t,([a,l])=>{l.value=s,a(l,this,this._item)}),o&&(this._started=!1,nf(n,([a,l])=>{l.value=s,a(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Ft.onFrame(this._onFrame)}};function fw(e,t){return Promise.all(t.map(n=>nD(e,n))).then(n=>vC(e,n))}async function nD(e,t,n){const{keys:r,to:i,from:o,loop:s,onRest:a,onResolve:l}=t,c=Je.obj(t.default)&&t.default;s&&(t.loop=!1),i===!1&&(t.to=null),o===!1&&(t.from=null);const u=Je.arr(i)||Je.fun(i)?i:void 0;u?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):Rt(Sge,g=>{const _=t[g];if(Je.fun(_)){const x=e._events[g];t[g]=({finished:S,cancelled:C})=>{const j=x.get(_);j?(S||(j.finished=!1),C&&(j.cancelled=!0)):x.set(_,{value:null,finished:S||!1,cancelled:C||!1})},c&&(c[g]=t[g])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,zd(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const h=(r||Object.keys(e.springs)).map(g=>e.springs[g].start(t)),m=t.cancel===!0||G4(t,"cancel")===!0;(u||m&&f.asyncId)&&h.push(Z4(++e._lastAsyncId,{props:t,state:f,actions:{pause:nw,resume:nw,start(g,_){m?(Lf(f,e._lastAsyncId),_(Dc(e))):(g.onRest=a,_(J4(u,g,f,e)))}}})),f.paused&&await new Promise(g=>{f.resumeQueue.add(g)});const p=vC(e,await Promise.all(h));if(s&&p.finished&&!(n&&p.noop)){const g=eD(t,s,i);if(g)return sD(e,[g]),nD(e,g,!0)}return l&&Ft.batchedUpdates(()=>l(p,e,e.item)),p}function hw(e,t){const n={...e.springs};return t&&Rt(Rr(t),r=>{Je.und(r.keys)&&(r=Ff(r)),Je.obj(r.to)||(r={...r,to:void 0}),oD(n,r,i=>iD(i))}),rD(e,n),n}function rD(e,t){Po(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,yu(n,e))})}function iD(e,t){const n=new _ge;return n.key=e,t&&yu(n,t),n}function oD(e,t,n){t.keys&&Rt(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function sD(e,t){Rt(t,n=>{oD(e.springs,n,r=>iD(r,e))})}var hh=({children:e,...t})=>{const n=b.useContext(Jm),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=rge(()=>({pause:r,immediate:i}),[r,i]);const{Provider:o}=Jm;return b.createElement(o,{value:t},e)},Jm=Tge(hh,{});hh.Provider=Jm.Provider;hh.Consumer=Jm.Consumer;function Tge(e,t){return Object.assign(e,b.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var aD=()=>{const e=[],t=function(r){tge();const i=[];return Rt(e,(o,s)=>{if(Je.und(r))i.push(o.start());else{const a=n(r,o,s);a&&i.push(o.start(a))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return Rt(e,r=>r.pause(...arguments)),this},t.resume=function(){return Rt(e,r=>r.resume(...arguments)),this},t.set=function(r){Rt(e,(i,o)=>{const s=Je.fun(r)?r(o,i):r;s&&i.set(s)})},t.start=function(r){const i=[];return Rt(e,(o,s)=>{if(Je.und(r))i.push(o.start());else{const a=this._getProps(r,o,s);a&&i.push(o.start(a))}}),i},t.stop=function(){return Rt(e,r=>r.stop(...arguments)),this},t.update=function(r){return Rt(e,(i,o)=>i.update(this._getProps(r,i,o))),this};const n=function(r,i,o){return Je.fun(r)?r(o,i):r};return t._getProps=n,t};function jge(e,t,n){const r=Je.fun(t)&&t;r&&!n&&(n=[]);const i=b.useMemo(()=>r||arguments.length==3?aD():void 0,[]),o=b.useRef(0),s=fC(),a=b.useMemo(()=>({ctrls:[],queue:[],flush(x,S){const C=hw(x,S);return o.current>0&&!a.queue.length&&!Object.keys(C).some(k=>!x.springs[k])?fw(x,S):new Promise(k=>{rD(x,C),a.queue.push(()=>{k(fw(x,S))}),s()})}}),[]),l=b.useRef([...a.ctrls]),c=[],u=iw(e)||0;b.useMemo(()=>{Rt(l.current.slice(e,u),x=>{aw(x,i),x.stop(!0)}),l.current.length=e,f(u,e)},[e]),b.useMemo(()=>{f(0,Math.min(u,e))},n);function f(x,S){for(let C=x;C<S;C++){const j=l.current[C]||(l.current[C]=new tD(null,a.flush)),k=r?r(C,j):t[C];k&&(c[C]=xge(k))}}const h=l.current.map((x,S)=>hw(x,c[S])),m=b.useContext(hh),p=iw(m),g=m!==p&&K4(m);Va(()=>{o.current++,a.ctrls=l.current;const{queue:x}=a;x.length&&(a.queue=[],Rt(x,S=>S())),Rt(l.current,(S,C)=>{i==null||i.add(S),g&&S.start({default:m});const j=c[C];j&&(Y4(S,j.ref),S.ref?S.queue.push(j):S.start(j))})}),hC(()=>()=>{Rt(a.ctrls,x=>x.stop(!0))});const _=h.map(x=>({...x}));return i?[_,i]:_}function _u(e,t){const n=Je.fun(e),[[r],i]=jge(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}function lD(e,t,n){const r=Je.fun(t)&&t,{reset:i,sort:o,trail:s=0,expires:a=!0,exitBeforeEnter:l=!1,onDestroyed:c,ref:u,config:f}=r?r():t,h=b.useMemo(()=>r||arguments.length==3?aD():void 0,[]),m=Rr(e),p=[],g=b.useRef(null),_=i?null:g.current;Va(()=>{g.current=p}),hC(()=>(Rt(p,H=>{h==null||h.add(H.ctrl),H.ctrl.ref=h}),()=>{Rt(g.current,H=>{H.expired&&clearTimeout(H.expirationId),aw(H.ctrl,h),H.ctrl.stop(!0)})}));const x=kge(m,r?r():t,_),S=i&&g.current||[];Va(()=>Rt(S,({ctrl:H,item:q,key:re})=>{aw(H,h),Vr(c,q,re)}));const C=[];if(_&&Rt(_,(H,q)=>{H.expired?(clearTimeout(H.expirationId),S.push(H)):(q=C[q]=x.indexOf(H.key),~q&&(p[q]=H))}),Rt(m,(H,q)=>{p[q]||(p[q]={key:x[q],item:H,phase:"mount",ctrl:new tD},p[q].ctrl.item=H)}),C.length){let H=-1;const{leave:q}=r?r():t;Rt(C,(re,G)=>{const Y=_[G];~re?(H=p.indexOf(Y),p[H]={...Y,item:m[re]}):q&&p.splice(++H,0,Y)})}Je.fun(o)&&p.sort((H,q)=>o(H.item,q.item));let j=-s;const k=fC(),T=Ev(t),y=new Map,P=b.useRef(new Map),A=b.useRef(!1);Rt(p,(H,q)=>{const re=H.key,G=H.phase,Y=r?r():t;let te,ne;const B=Vr(Y.delay||0,re);if(G=="mount")te=Y.enter,ne="enter";else{const X=x.indexOf(re)<0;if(G!="leave")if(X)te=Y.leave,ne="leave";else if(te=Y.update)ne="update";else return;else if(!X)te=Y.enter,ne="enter";else return}if(te=Vr(te,H.item,q),te=Je.obj(te)?mC(te):{to:te},!te.config){const X=f||T.config;te.config=Vr(X,H.item,q,ne)}j+=s;const Q={...T,delay:B+j,ref:u,immediate:Y.immediate,reset:!1,...te};if(ne=="enter"&&Je.und(Q.from)){const X=r?r():t,J=Je.und(X.initial)||_?X.from:X.initial;Q.from=Vr(J,H.item,q)}const{onResolve:K}=Q;Q.onResolve=X=>{Vr(K,X);const J=g.current,ue=J.find(xe=>xe.key===re);if(ue&&!(X.cancelled&&ue.phase!="update")&&ue.ctrl.idle){const xe=J.every(_e=>_e.ctrl.idle);if(ue.phase=="leave"){const _e=Vr(a,ue.item);if(_e!==!1){const he=_e===!0?0:_e;if(ue.expired=!0,!xe&&he>0){he<=2147483647&&(ue.expirationId=setTimeout(k,he));return}}}xe&&J.some(_e=>_e.expired)&&(P.current.delete(ue),l&&(A.current=!0),k())}};const de=hw(H.ctrl,Q);ne==="leave"&&l?P.current.set(H,{phase:ne,springs:de,payload:Q}):y.set(H,{phase:ne,springs:de,payload:Q})});const $=b.useContext(hh),L=iw($),U=$!==L&&K4($);Va(()=>{U&&Rt(p,H=>{H.ctrl.start({default:$})})},[$]),Rt(y,(H,q)=>{if(P.current.size){const re=p.findIndex(G=>G.key===q.key);p.splice(re,1)}}),Va(()=>{Rt(P.current.size?P.current:y,({phase:H,payload:q},re)=>{const{ctrl:G}=re;re.phase=H,h==null||h.add(G),U&&H=="enter"&&G.start({default:$}),q&&(Y4(G,q.ref),(G.ref||h)&&!A.current?G.update(q):(G.start(q),A.current&&(A.current=!1)))})},i?void 0:n);const F=H=>b.createElement(b.Fragment,null,p.map((q,re)=>{const{springs:G}=y.get(q)||q.ctrl,Y=H({...G},q.item,q,re);return Y&&Y.type?b.createElement(Y.type,{...Y.props,key:Je.str(q.key)||Je.num(q.key)?q.key:q.ctrl.id,ref:Y.ref}):Y}));return h?[F,h]:F}var Ege=1;function kge(e,{key:t,keys:n=t},r){if(n===null){const i=new Set;return e.map(o=>{const s=r&&r.find(a=>a.item===o&&a.phase!=="leave"&&!i.has(a));return s?(i.add(s),s.key):Ege++})}return Je.und(n)?e:Je.fun(n)?e.map(n):Rr(n)}var cD=class extends bC{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Nf(...t);const n=this._get(),r=ow(n);pC(this,r.create(n))}advance(e){const t=this._get(),n=this.get();ts(t,n)||(vo(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&LO(this._active)&&iy(this)}_get(){const e=Je.arr(this.source)?this.source.map(qr):Rr(qr(this.source));return this.calc(...e)}_start(){this.idle&&!LO(this._active)&&(this.idle=!1,Rt(Tv(this),e=>{e.done=!1}),Yi.skipAnimation?(Ft.batchedUpdates(()=>this.advance()),iy(this)):xv.start(this))}_attach(){let e=1;Rt(Rr(this.source),t=>{Ti(t)&&yu(t,this),cw(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Rt(Rr(this.source),e=>{Ti(e)&&Rf(e,this)}),this._active.clear(),iy(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Rr(this.source).reduce((t,n)=>Math.max(t,(cw(n)?n.priority:0)+1),0))}};function Oge(e){return e.idle!==!1}function LO(e){return!e.size||Array.from(e).every(Oge)}function iy(e){e.idle||(e.idle=!0,Rt(Tv(e),t=>{t.done=!0}),Af(e,{type:"idle",parent:e}))}var Mge=(e,...t)=>new cD(e,t);Yi.assign({createStringInterpolator:W4,to:(e,t)=>new cD(e,t)});var uD=/^--/;function Nge(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!uD.test(e)&&!(sf.hasOwnProperty(e)&&sf[e])?t+"px":(""+t).trim()}var FO={};function Pge(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:o,scrollLeft:s,viewBox:a,...l}=t,c=Object.values(l),u=Object.keys(l).map(f=>n||e.hasAttribute(f)?f:FO[f]||(FO[f]=f.replace(/([A-Z])/g,h=>"-"+h.toLowerCase())));i!==void 0&&(e.textContent=i);for(const f in r)if(r.hasOwnProperty(f)){const h=Nge(f,r[f]);uD.test(f)?e.style.setProperty(f,h):e.style[f]=h}u.forEach((f,h)=>{e.setAttribute(f,c[h])}),o!==void 0&&(e.scrollTop=o),s!==void 0&&(e.scrollLeft=s),a!==void 0&&e.setAttribute("viewBox",a)}var sf={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Age=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Rge=["Webkit","Ms","Moz","O"];sf=Object.keys(sf).reduce((e,t)=>(Rge.forEach(n=>e[Age(n,t)]=e[t]),e),sf);var $ge=/^(matrix|translate|scale|rotate|skew)/,Ige=/^(translate)/,Dge=/^(rotate|skew)/,oy=(e,t)=>Je.num(e)&&e!==0?e+t:e,Jp=(e,t)=>Je.arr(e)?e.every(n=>Jp(n,t)):Je.num(e)?e===t:parseFloat(e)===t,Lge=class extends jv{constructor({x:e,y:t,z:n,...r}){const i=[],o=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),o.push(s=>[`translate3d(${s.map(a=>oy(a,"px")).join(",")})`,Jp(s,0)])),Po(r,(s,a)=>{if(a==="transform")i.push([s||""]),o.push(l=>[l,l===""]);else if($ge.test(a)){if(delete r[a],Je.und(s))return;const l=Ige.test(a)?"px":Dge.test(a)?"deg":"";i.push(Rr(s)),o.push(a==="rotate3d"?([c,u,f,h])=>[`rotate3d(${c},${u},${f},${oy(h,l)})`,Jp(h,0)]:c=>[`${a}(${c.map(u=>oy(u,l)).join(",")})`,Jp(c,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new Fge(i,o)),super(r)}},Fge=class extends F4{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Rt(this.inputs,(n,r)=>{const i=qr(n[0]),[o,s]=this.transforms[r](Je.arr(i)?i:n.map(qr));e+=" "+o,t=t&&s}),t?"none":e}observerAdded(e){e==1&&Rt(this.inputs,t=>Rt(t,n=>Ti(n)&&yu(n,this)))}observerRemoved(e){e==0&&Rt(this.inputs,t=>Rt(t,n=>Ti(n)&&Rf(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Af(this,e)}},zge=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Yi.assign({batchedUpdates:pu.unstable_batchedUpdates,createStringInterpolator:W4,colors:Pme});var Bge=dge(zge,{applyAnimatedValues:Pge,createAnimatedStyle:e=>new Lge(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Ao=Bge.animated;function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yl.apply(this,arguments)}var Wge={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},zO=function(e,t){return"translate("+e+"px, "+t+"px)"},dD=b.memo(function(e){var t,n=e.position,r=e.anchor,i=e.children,o=kr(),s=Pl(),a=s.animate,l=s.config,c=f8(),u=c[0],f=c[1],h=b.useRef(!1),m=void 0,p=!1,g=f.width>0&&f.height>0,_=Math.round(n[0]),x=Math.round(n[1]);g&&(r==="top"?(_-=f.width/2,x-=f.height+14):r==="right"?(_+=14,x-=f.height/2):r==="bottom"?(_-=f.width/2,x+=14):r==="left"?(_-=f.width+14,x-=f.height/2):r==="center"&&(_-=f.width/2,x-=f.height/2),m={transform:zO(_,x)},h.current||(p=!0),h.current=[_,x]);var S=_u({to:m,config:l,immediate:!a||p}),C=yl({},Wge,o.tooltip,{transform:(t=S.transform)!=null?t:zO(_,x)});return d.jsx(Ao.div,{ref:u,style:C,children:i})});dD.displayName="TooltipWrapper";var fD=b.memo(function(e){var t=e.size,n=t===void 0?12:t,r=e.color,i=e.style;return d.jsx("span",{style:yl({display:"block",width:n,height:n,background:r},i===void 0?{}:i)})}),Hge=b.memo(function(e){var t,n=e.id,r=e.value,i=e.format,o=e.enableChip,s=o!==void 0&&o,a=e.color,l=e.renderContent,c=kr(),u=Dw(i);if(typeof l=="function")t=l();else{var f=r;u!==void 0&&f!==void 0&&(f=u(f)),t=d.jsxs("div",{style:c.tooltip.basic,children:[s&&d.jsx(fD,{color:a,style:c.tooltip.chip}),f!==void 0?d.jsxs("span",{children:[n,": ",d.jsx("strong",{children:""+f})]}):n]})}return d.jsx("div",{style:c.tooltip.container,children:t})}),qge={width:"100%",borderCollapse:"collapse"},hD=b.memo(function(e){var t,n=e.title,r=e.rows,i=r===void 0?[]:r,o=e.renderContent,s=kr();return i.length?(t=typeof o=="function"?o():d.jsxs("div",{children:[n&&n,d.jsx("table",{style:yl({},qge,s.tooltip.table),children:d.jsx("tbody",{children:i.map(function(a,l){return d.jsx("tr",{children:a.map(function(c,u){return d.jsx("td",{style:s.tooltip.tableCell,children:c},u)})},l)})})})]}),d.jsx("div",{style:s.tooltip.container,children:t})):null});hD.displayName="TableTooltip";var pw=b.memo(function(e){var t=e.x0,n=e.x1,r=e.y0,i=e.y1,o=kr(),s=Pl(),a=s.animate,l=s.config,c=b.useMemo(function(){return yl({},o.crosshair.line,{pointerEvents:"none"})},[o.crosshair.line]),u=_u({x1:t,x2:n,y1:r,y2:i,config:l,immediate:!a});return d.jsx(Ao.line,yl({},u,{fill:"none",style:c}))});pw.displayName="CrosshairLine";var mw=b.memo(function(e){var t,n,r=e.width,i=e.height,o=e.type,s=e.x,a=e.y;return o==="cross"?(t={x0:s,x1:s,y0:0,y1:i},n={x0:0,x1:r,y0:a,y1:a}):o==="top-left"?(t={x0:s,x1:s,y0:0,y1:a},n={x0:0,x1:s,y0:a,y1:a}):o==="top"?t={x0:s,x1:s,y0:0,y1:a}:o==="top-right"?(t={x0:s,x1:s,y0:0,y1:a},n={x0:s,x1:r,y0:a,y1:a}):o==="right"?n={x0:s,x1:r,y0:a,y1:a}:o==="bottom-right"?(t={x0:s,x1:s,y0:a,y1:i},n={x0:s,x1:r,y0:a,y1:a}):o==="bottom"?t={x0:s,x1:s,y0:a,y1:i}:o==="bottom-left"?(t={x0:s,x1:s,y0:a,y1:i},n={x0:0,x1:s,y0:a,y1:a}):o==="left"?n={x0:0,x1:s,y0:a,y1:a}:o==="x"?t={x0:s,x1:s,y0:0,y1:i}:o==="y"&&(n={x0:0,x1:r,y0:a,y1:a}),d.jsxs(d.Fragment,{children:[t&&d.jsx(pw,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),n&&d.jsx(pw,{x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1})]})});mw.displayName="Crosshair";var pD=b.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),gw={isVisible:!1,position:[null,null],content:null,anchor:null},mD=b.createContext(gw),Vge=function(e){var t=b.useState(gw),n=t[0],r=t[1],i=b.useCallback(function(a,l,c){var u=l[0],f=l[1];c===void 0&&(c="top"),r({isVisible:!0,position:[u,f],anchor:c,content:a})},[r]),o=b.useCallback(function(a,l,c){c===void 0&&(c="top");var u=e.current.getBoundingClientRect(),f=e.current.offsetWidth,h=f===u.width?1:f/u.width,m=(l.clientX-u.left)*h,p=(l.clientY-u.top)*h;c!=="left"&&c!=="right"||(c=m<u.width/2?"right":"left"),r({isVisible:!0,position:[m,p],anchor:c,content:a})},[e,r]),s=b.useCallback(function(){r(gw)},[r]);return{actions:b.useMemo(function(){return{showTooltipAt:i,showTooltipFromEvent:o,hideTooltip:s}},[i,o,s]),state:n}},yC=function(){var e=b.useContext(pD);if(e===void 0)throw new Error("useTooltip must be used within a TooltipProvider");return e},Uge=function(){var e=b.useContext(mD);if(e===void 0)throw new Error("useTooltipState must be used within a TooltipProvider");return e},Gge=function(e){return e.isVisible},Kge=function(){var e=Uge();return Gge(e)?d.jsx(dD,{position:e.position,anchor:e.anchor,children:e.content}):null},Yge=function(e){var t=e.container,n=e.children,r=Vge(t),i=r.actions,o=r.state;return d.jsx(pD.Provider,{value:i,children:d.jsx(mD.Provider,{value:o,children:n})})};function Zge(){this.__data__=[],this.size=0}var Qge=Zge;function Jge(e,t){return e===t||e!==e&&t!==t}var ph=Jge,Xge=ph;function eve(e,t){for(var n=e.length;n--;)if(Xge(e[n][0],t))return n;return-1}var kv=eve,tve=kv,nve=Array.prototype,rve=nve.splice;function ive(e){var t=this.__data__,n=tve(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():rve.call(t,n,1),--this.size,!0}var ove=ive,sve=kv;function ave(e){var t=this.__data__,n=sve(t,e);return n<0?void 0:t[n][1]}var lve=ave,cve=kv;function uve(e){return cve(this.__data__,e)>-1}var dve=uve,fve=kv;function hve(e,t){var n=this.__data__,r=fve(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var pve=hve,mve=Qge,gve=ove,vve=lve,bve=dve,yve=pve;function xu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xu.prototype.clear=mve;xu.prototype.delete=gve;xu.prototype.get=vve;xu.prototype.has=bve;xu.prototype.set=yve;var Ov=xu,_ve=Ov;function xve(){this.__data__=new _ve,this.size=0}var wve=xve;function Sve(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Cve=Sve;function Tve(e){return this.__data__.get(e)}var jve=Tve;function Eve(e){return this.__data__.has(e)}var kve=Eve,Ove=typeof Mt=="object"&&Mt&&Mt.Object===Object&&Mt,gD=Ove,Mve=gD,Nve=typeof self=="object"&&self&&self.Object===Object&&self,Pve=Mve||Nve||Function("return this")(),Fo=Pve,Ave=Fo,Rve=Ave.Symbol,mh=Rve,BO=mh,vD=Object.prototype,$ve=vD.hasOwnProperty,Ive=vD.toString,jd=BO?BO.toStringTag:void 0;function Dve(e){var t=$ve.call(e,jd),n=e[jd];try{e[jd]=void 0;var r=!0}catch{}var i=Ive.call(e);return r&&(t?e[jd]=n:delete e[jd]),i}var Lve=Dve,Fve=Object.prototype,zve=Fve.toString;function Bve(e){return zve.call(e)}var Wve=Bve,WO=mh,Hve=Lve,qve=Wve,Vve="[object Null]",Uve="[object Undefined]",HO=WO?WO.toStringTag:void 0;function Gve(e){return e==null?e===void 0?Uve:Vve:HO&&HO in Object(e)?Hve(e):qve(e)}var El=Gve;function Kve(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var gs=Kve,Yve=El,Zve=gs,Qve="[object AsyncFunction]",Jve="[object Function]",Xve="[object GeneratorFunction]",e0e="[object Proxy]";function t0e(e){if(!Zve(e))return!1;var t=Yve(e);return t==Jve||t==Xve||t==Qve||t==e0e}var Mv=t0e;const vw=zr(Mv);var n0e=Fo,r0e=n0e["__core-js_shared__"],i0e=r0e,sy=i0e,qO=function(){var e=/[^.]+$/.exec(sy&&sy.keys&&sy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function o0e(e){return!!qO&&qO in e}var s0e=o0e,a0e=Function.prototype,l0e=a0e.toString;function c0e(e){if(e!=null){try{return l0e.call(e)}catch{}try{return e+""}catch{}}return""}var bD=c0e,u0e=Mv,d0e=s0e,f0e=gs,h0e=bD,p0e=/[\\^$.*+?()[\]{}|]/g,m0e=/^\[object .+?Constructor\]$/,g0e=Function.prototype,v0e=Object.prototype,b0e=g0e.toString,y0e=v0e.hasOwnProperty,_0e=RegExp("^"+b0e.call(y0e).replace(p0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function x0e(e){if(!f0e(e)||d0e(e))return!1;var t=u0e(e)?_0e:m0e;return t.test(h0e(e))}var w0e=x0e;function S0e(e,t){return e==null?void 0:e[t]}var C0e=S0e,T0e=w0e,j0e=C0e;function E0e(e,t){var n=j0e(e,t);return T0e(n)?n:void 0}var kl=E0e,k0e=kl,O0e=Fo,M0e=k0e(O0e,"Map"),_C=M0e,N0e=kl,P0e=N0e(Object,"create"),Nv=P0e,VO=Nv;function A0e(){this.__data__=VO?VO(null):{},this.size=0}var R0e=A0e;function $0e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var I0e=$0e,D0e=Nv,L0e="__lodash_hash_undefined__",F0e=Object.prototype,z0e=F0e.hasOwnProperty;function B0e(e){var t=this.__data__;if(D0e){var n=t[e];return n===L0e?void 0:n}return z0e.call(t,e)?t[e]:void 0}var W0e=B0e,H0e=Nv,q0e=Object.prototype,V0e=q0e.hasOwnProperty;function U0e(e){var t=this.__data__;return H0e?t[e]!==void 0:V0e.call(t,e)}var G0e=U0e,K0e=Nv,Y0e="__lodash_hash_undefined__";function Z0e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=K0e&&t===void 0?Y0e:t,this}var Q0e=Z0e,J0e=R0e,X0e=I0e,ebe=W0e,tbe=G0e,nbe=Q0e;function wu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wu.prototype.clear=J0e;wu.prototype.delete=X0e;wu.prototype.get=ebe;wu.prototype.has=tbe;wu.prototype.set=nbe;var rbe=wu,UO=rbe,ibe=Ov,obe=_C;function sbe(){this.size=0,this.__data__={hash:new UO,map:new(obe||ibe),string:new UO}}var abe=sbe;function lbe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var cbe=lbe,ube=cbe;function dbe(e,t){var n=e.__data__;return ube(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Pv=dbe,fbe=Pv;function hbe(e){var t=fbe(this,e).delete(e);return this.size-=t?1:0,t}var pbe=hbe,mbe=Pv;function gbe(e){return mbe(this,e).get(e)}var vbe=gbe,bbe=Pv;function ybe(e){return bbe(this,e).has(e)}var _be=ybe,xbe=Pv;function wbe(e,t){var n=xbe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Sbe=wbe,Cbe=abe,Tbe=pbe,jbe=vbe,Ebe=_be,kbe=Sbe;function Su(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Su.prototype.clear=Cbe;Su.prototype.delete=Tbe;Su.prototype.get=jbe;Su.prototype.has=Ebe;Su.prototype.set=kbe;var xC=Su,Obe=Ov,Mbe=_C,Nbe=xC,Pbe=200;function Abe(e,t){var n=this.__data__;if(n instanceof Obe){var r=n.__data__;if(!Mbe||r.length<Pbe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Nbe(r)}return n.set(e,t),this.size=n.size,this}var Rbe=Abe,$be=Ov,Ibe=wve,Dbe=Cve,Lbe=jve,Fbe=kve,zbe=Rbe;function Cu(e){var t=this.__data__=new $be(e);this.size=t.size}Cu.prototype.clear=Ibe;Cu.prototype.delete=Dbe;Cu.prototype.get=Lbe;Cu.prototype.has=Fbe;Cu.prototype.set=zbe;var wC=Cu,Bbe=kl,Wbe=function(){try{var e=Bbe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),yD=Wbe,GO=yD;function Hbe(e,t,n){t=="__proto__"&&GO?GO(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var SC=Hbe,qbe=SC,Vbe=ph;function Ube(e,t,n){(n!==void 0&&!Vbe(e[t],n)||n===void 0&&!(t in e))&&qbe(e,t,n)}var _D=Ube;function Gbe(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(n(o[l],l,o)===!1)break}return t}}var Kbe=Gbe,Ybe=Kbe,Zbe=Ybe(),xD=Zbe,Xm={exports:{}};Xm.exports;(function(e,t){var n=Fo,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=a?a(f):new c.constructor(f);return c.copy(h),h}e.exports=l})(Xm,Xm.exports);var Qbe=Xm.exports,Jbe=Fo,Xbe=Jbe.Uint8Array,wD=Xbe,KO=wD;function eye(e){var t=new e.constructor(e.byteLength);return new KO(t).set(new KO(e)),t}var tye=eye,nye=tye;function rye(e,t){var n=t?nye(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var iye=rye;function oye(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var sye=oye,aye=gs,YO=Object.create,lye=function(){function e(){}return function(t){if(!aye(t))return{};if(YO)return YO(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),cye=lye;function uye(e,t){return function(n){return e(t(n))}}var SD=uye,dye=SD,fye=dye(Object.getPrototypeOf,Object),CD=fye,hye=Object.prototype;function pye(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||hye;return e===n}var CC=pye,mye=cye,gye=CD,vye=CC;function bye(e){return typeof e.constructor=="function"&&!vye(e)?mye(gye(e)):{}}var yye=bye;function _ye(e){return e!=null&&typeof e=="object"}var fa=_ye,xye=El,wye=fa,Sye="[object Arguments]";function Cye(e){return wye(e)&&xye(e)==Sye}var Tye=Cye,ZO=Tye,jye=fa,TD=Object.prototype,Eye=TD.hasOwnProperty,kye=TD.propertyIsEnumerable,Oye=ZO(function(){return arguments}())?ZO:function(e){return jye(e)&&Eye.call(e,"callee")&&!kye.call(e,"callee")},Av=Oye,Mye=Array.isArray,Ji=Mye,Nye=9007199254740991;function Pye(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Nye}var TC=Pye,Aye=Mv,Rye=TC;function $ye(e){return e!=null&&Rye(e.length)&&!Aye(e)}var Tu=$ye,Iye=Tu,Dye=fa;function Lye(e){return Dye(e)&&Iye(e)}var jD=Lye,eg={exports:{}};function Fye(){return!1}var zye=Fye;eg.exports;(function(e,t){var n=Fo,r=zye,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;e.exports=c})(eg,eg.exports);var jC=eg.exports,Bye=El,Wye=CD,Hye=fa,qye="[object Object]",Vye=Function.prototype,Uye=Object.prototype,ED=Vye.toString,Gye=Uye.hasOwnProperty,Kye=ED.call(Object);function Yye(e){if(!Hye(e)||Bye(e)!=qye)return!1;var t=Wye(e);if(t===null)return!0;var n=Gye.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&ED.call(n)==Kye}var kD=Yye;const Zye=zr(kD);var Qye=El,Jye=TC,Xye=fa,e_e="[object Arguments]",t_e="[object Array]",n_e="[object Boolean]",r_e="[object Date]",i_e="[object Error]",o_e="[object Function]",s_e="[object Map]",a_e="[object Number]",l_e="[object Object]",c_e="[object RegExp]",u_e="[object Set]",d_e="[object String]",f_e="[object WeakMap]",h_e="[object ArrayBuffer]",p_e="[object DataView]",m_e="[object Float32Array]",g_e="[object Float64Array]",v_e="[object Int8Array]",b_e="[object Int16Array]",y_e="[object Int32Array]",__e="[object Uint8Array]",x_e="[object Uint8ClampedArray]",w_e="[object Uint16Array]",S_e="[object Uint32Array]",jn={};jn[m_e]=jn[g_e]=jn[v_e]=jn[b_e]=jn[y_e]=jn[__e]=jn[x_e]=jn[w_e]=jn[S_e]=!0;jn[e_e]=jn[t_e]=jn[h_e]=jn[n_e]=jn[p_e]=jn[r_e]=jn[i_e]=jn[o_e]=jn[s_e]=jn[a_e]=jn[l_e]=jn[c_e]=jn[u_e]=jn[d_e]=jn[f_e]=!1;function C_e(e){return Xye(e)&&Jye(e.length)&&!!jn[Qye(e)]}var T_e=C_e;function j_e(e){return function(t){return e(t)}}var Rv=j_e,tg={exports:{}};tg.exports;(function(e,t){var n=gD,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(tg,tg.exports);var OD=tg.exports,E_e=T_e,k_e=Rv,QO=OD,JO=QO&&QO.isTypedArray,O_e=JO?k_e(JO):E_e,EC=O_e;function M_e(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var MD=M_e,N_e=SC,P_e=ph,A_e=Object.prototype,R_e=A_e.hasOwnProperty;function $_e(e,t,n){var r=e[t];(!(R_e.call(e,t)&&P_e(r,n))||n===void 0&&!(t in e))&&N_e(e,t,n)}var ND=$_e,I_e=ND,D_e=SC;function L_e(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?D_e(n,a,l):I_e(n,a,l)}return n}var F_e=L_e;function z_e(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var B_e=z_e,W_e=9007199254740991,H_e=/^(?:0|[1-9]\d*)$/;function q_e(e,t){var n=typeof e;return t=t??W_e,!!t&&(n=="number"||n!="symbol"&&H_e.test(e))&&e>-1&&e%1==0&&e<t}var $v=q_e,V_e=B_e,U_e=Av,G_e=Ji,K_e=jC,Y_e=$v,Z_e=EC,Q_e=Object.prototype,J_e=Q_e.hasOwnProperty;function X_e(e,t){var n=G_e(e),r=!n&&U_e(e),i=!n&&!r&&K_e(e),o=!n&&!r&&!i&&Z_e(e),s=n||r||i||o,a=s?V_e(e.length,String):[],l=a.length;for(var c in e)(t||J_e.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Y_e(c,l)))&&a.push(c);return a}var PD=X_e;function exe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var txe=exe,nxe=gs,rxe=CC,ixe=txe,oxe=Object.prototype,sxe=oxe.hasOwnProperty;function axe(e){if(!nxe(e))return ixe(e);var t=rxe(e),n=[];for(var r in e)r=="constructor"&&(t||!sxe.call(e,r))||n.push(r);return n}var lxe=axe,cxe=PD,uxe=lxe,dxe=Tu;function fxe(e){return dxe(e)?cxe(e,!0):uxe(e)}var AD=fxe,hxe=F_e,pxe=AD;function mxe(e){return hxe(e,pxe(e))}var gxe=mxe,XO=_D,vxe=Qbe,bxe=iye,yxe=sye,_xe=yye,eM=Av,tM=Ji,xxe=jD,wxe=jC,Sxe=Mv,Cxe=gs,Txe=kD,jxe=EC,nM=MD,Exe=gxe;function kxe(e,t,n,r,i,o,s){var a=nM(e,n),l=nM(t,n),c=s.get(l);if(c){XO(e,n,c);return}var u=o?o(a,l,n+"",e,t,s):void 0,f=u===void 0;if(f){var h=tM(l),m=!h&&wxe(l),p=!h&&!m&&jxe(l);u=l,h||m||p?tM(a)?u=a:xxe(a)?u=yxe(a):m?(f=!1,u=vxe(l,!0)):p?(f=!1,u=bxe(l,!0)):u=[]:Txe(l)||eM(l)?(u=a,eM(a)?u=Exe(a):(!Cxe(a)||Sxe(a))&&(u=_xe(l))):f=!1}f&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),XO(e,n,u)}var Oxe=kxe,Mxe=wC,Nxe=_D,Pxe=xD,Axe=Oxe,Rxe=gs,$xe=AD,Ixe=MD;function RD(e,t,n,r,i){e!==t&&Pxe(t,function(o,s){if(i||(i=new Mxe),Rxe(o))Axe(e,t,s,n,RD,r,i);else{var a=r?r(Ixe(e,s),o,s+"",e,t,i):void 0;a===void 0&&(a=o),Nxe(e,s,a)}},$xe)}var Dxe=RD;function Lxe(e){return e}var Iv=Lxe;function Fxe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var zxe=Fxe,Bxe=zxe,rM=Math.max;function Wxe(e,t,n){return t=rM(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=rM(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),Bxe(e,this,a)}}var $D=Wxe;function Hxe(e){return function(){return e}}var qxe=Hxe,Vxe=qxe,iM=yD,Uxe=Iv,Gxe=iM?function(e,t){return iM(e,"toString",{configurable:!0,enumerable:!1,value:Vxe(t),writable:!0})}:Uxe,Kxe=Gxe,Yxe=800,Zxe=16,Qxe=Date.now;function Jxe(e){var t=0,n=0;return function(){var r=Qxe(),i=Zxe-(r-n);if(n=r,i>0){if(++t>=Yxe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Xxe=Jxe,ewe=Kxe,twe=Xxe,nwe=twe(ewe),ID=nwe,rwe=Iv,iwe=$D,owe=ID;function swe(e,t){return owe(iwe(e,t,rwe),e+"")}var kC=swe,awe=ph,lwe=Tu,cwe=$v,uwe=gs;function dwe(e,t,n){if(!uwe(n))return!1;var r=typeof t;return(r=="number"?lwe(n)&&cwe(t,n.length):r=="string"&&t in n)?awe(n[t],e):!1}var DD=dwe,fwe=kC,hwe=DD;function pwe(e){return fwe(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&hwe(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t})}var mwe=pwe,gwe=Dxe,vwe=mwe,bwe=vwe(function(e,t,n){gwe(e,t,n)}),ywe=bwe;const _we=zr(ywe);var xwe=El,wwe=fa,Swe="[object Symbol]";function Cwe(e){return typeof e=="symbol"||wwe(e)&&xwe(e)==Swe}var Dv=Cwe,Twe=Ji,jwe=Dv,Ewe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kwe=/^\w*$/;function Owe(e,t){if(Twe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||jwe(e)?!0:kwe.test(e)||!Ewe.test(e)||t!=null&&e in Object(t)}var OC=Owe,LD=xC,Mwe="Expected a function";function MC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Mwe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(MC.Cache||LD),n}MC.Cache=LD;var Nwe=MC,Pwe=Nwe,Awe=500;function Rwe(e){var t=Pwe(e,function(r){return n.size===Awe&&n.clear(),r}),n=t.cache;return t}var $we=Rwe,Iwe=$we,Dwe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lwe=/\\(\\)?/g,Fwe=Iwe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Dwe,function(n,r,i,o){t.push(i?o.replace(Lwe,"$1"):r||n)}),t}),zwe=Fwe;function Bwe(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var NC=Bwe,oM=mh,Wwe=NC,Hwe=Ji,qwe=Dv,Vwe=1/0,sM=oM?oM.prototype:void 0,aM=sM?sM.toString:void 0;function FD(e){if(typeof e=="string")return e;if(Hwe(e))return Wwe(e,FD)+"";if(qwe(e))return aM?aM.call(e):"";var t=e+"";return t=="0"&&1/e==-Vwe?"-0":t}var Uwe=FD,Gwe=Uwe;function Kwe(e){return e==null?"":Gwe(e)}var Ywe=Kwe,Zwe=Ji,Qwe=OC,Jwe=zwe,Xwe=Ywe;function e1e(e,t){return Zwe(e)?e:Qwe(e,t)?[e]:Jwe(Xwe(e))}var Lv=e1e,t1e=Dv,n1e=1/0;function r1e(e){if(typeof e=="string"||t1e(e))return e;var t=e+"";return t=="0"&&1/e==-n1e?"-0":t}var gh=r1e,i1e=Lv,o1e=gh;function s1e(e,t){t=i1e(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[o1e(t[n++])];return n&&n==r?e:void 0}var Fv=s1e,a1e=Fv;function l1e(e,t,n){var r=e==null?void 0:a1e(e,t);return r===void 0?n:r}var zD=l1e;const sl=zr(zD);var c1e=ND,u1e=Lv,d1e=$v,lM=gs,f1e=gh;function h1e(e,t,n,r){if(!lM(e))return e;t=u1e(t,e);for(var i=-1,o=t.length,s=o-1,a=e;a!=null&&++i<o;){var l=f1e(t[i]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=s){var u=a[l];c=r?r(u,l,a):void 0,c===void 0&&(c=lM(u)?u:d1e(t[i+1])?[]:{})}c1e(a,l,c),a=a[l]}return e}var BD=h1e,p1e=BD;function m1e(e,t,n){return e==null?e:p1e(e,t,n)}var g1e=m1e;const Ua=zr(g1e);function zv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function PC(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ju(){}var _l=.7,Qc=1/_l,Lc="\\s*([+-]?\\d+)\\s*",zf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",To="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v1e=/^#([0-9a-f]{3,8})$/,b1e=new RegExp("^rgb\\("+[Lc,Lc,Lc]+"\\)$"),y1e=new RegExp("^rgb\\("+[To,To,To]+"\\)$"),_1e=new RegExp("^rgba\\("+[Lc,Lc,Lc,zf]+"\\)$"),x1e=new RegExp("^rgba\\("+[To,To,To,zf]+"\\)$"),w1e=new RegExp("^hsl\\("+[zf,To,To]+"\\)$"),S1e=new RegExp("^hsla\\("+[zf,To,To,zf]+"\\)$"),cM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zv(ju,Bf,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:uM,formatHex:uM,formatHsl:C1e,formatRgb:dM,toString:dM});function uM(){return this.rgb().formatHex()}function C1e(){return HD(this).formatHsl()}function dM(){return this.rgb().formatRgb()}function Bf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=v1e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fM(t):n===3?new $r(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?gp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?gp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=b1e.exec(e))?new $r(t[1],t[2],t[3],1):(t=y1e.exec(e))?new $r(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_1e.exec(e))?gp(t[1],t[2],t[3],t[4]):(t=x1e.exec(e))?gp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=w1e.exec(e))?mM(t[1],t[2]/100,t[3]/100,1):(t=S1e.exec(e))?mM(t[1],t[2]/100,t[3]/100,t[4]):cM.hasOwnProperty(e)?fM(cM[e]):e==="transparent"?new $r(NaN,NaN,NaN,0):null}function fM(e){return new $r(e>>16&255,e>>8&255,e&255,1)}function gp(e,t,n,r){return r<=0&&(e=t=n=NaN),new $r(e,t,n,r)}function WD(e){return e instanceof ju||(e=Bf(e)),e?(e=e.rgb(),new $r(e.r,e.g,e.b,e.opacity)):new $r}function Wf(e,t,n,r){return arguments.length===1?WD(e):new $r(e,t,n,r??1)}function $r(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}zv($r,Wf,PC(ju,{brighter:function(e){return e=e==null?Qc:Math.pow(Qc,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?_l:Math.pow(_l,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hM,formatHex:hM,formatRgb:pM,toString:pM}));function hM(){return"#"+ay(this.r)+ay(this.g)+ay(this.b)}function pM(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function ay(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function mM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yo(e,t,n,r)}function HD(e){if(e instanceof yo)return new yo(e.h,e.s,e.l,e.opacity);if(e instanceof ju||(e=Bf(e)),!e)return new yo;if(e instanceof yo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new yo(s,a,l,e.opacity)}function T1e(e,t,n,r){return arguments.length===1?HD(e):new yo(e,t,n,r??1)}function yo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zv(yo,T1e,PC(ju,{brighter:function(e){return e=e==null?Qc:Math.pow(Qc,e),new yo(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?_l:Math.pow(_l,e),new yo(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new $r(ly(e>=240?e-240:e+120,i,r),ly(e,i,r),ly(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function ly(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const j1e=Math.PI/180,E1e=180/Math.PI;var qD=-.14861,AC=1.78277,RC=-.29227,Bv=-.90649,Hf=1.97294,gM=Hf*Bv,vM=Hf*AC,bM=AC*RC-Bv*qD;function k1e(e){if(e instanceof al)return new al(e.h,e.s,e.l,e.opacity);e instanceof $r||(e=WD(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(bM*r+gM*t-vM*n)/(bM+gM-vM),o=r-i,s=(Hf*(n-i)-RC*o)/Bv,a=Math.sqrt(s*s+o*o)/(Hf*i*(1-i)),l=a?Math.atan2(s,o)*E1e-120:NaN;return new al(l<0?l+360:l,a,i,e.opacity)}function Ro(e,t,n,r){return arguments.length===1?k1e(e):new al(e,t,n,r??1)}function al(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zv(al,Ro,PC(ju,{brighter:function(e){return e=e==null?Qc:Math.pow(Qc,e),new al(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?_l:Math.pow(_l,e),new al(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*j1e,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new $r(255*(t+n*(qD*r+AC*i)),255*(t+n*(RC*r+Bv*i)),255*(t+n*(Hf*r)),this.opacity)}}));function O1e(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function M1e(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return O1e((n-r/t)*t,s,i,o,a)}}const Wv=e=>()=>e;function VD(e,t){return function(n){return e+n*t}}function N1e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function P1e(e,t){var n=t-e;return n?VD(e,n>180||n<-180?n-360*Math.round(n/360):n):Wv(isNaN(e)?t:e)}function A1e(e){return(e=+e)==1?Fc:function(t,n){return n-t?N1e(t,n,e):Wv(isNaN(t)?n:t)}}function Fc(e,t){var n=t-e;return n?VD(e,n):Wv(isNaN(e)?t:e)}const yM=function e(t){var n=A1e(t);function r(i,o){var s=n((i=Wf(i)).r,(o=Wf(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=Fc(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function R1e(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=Wf(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var $1e=R1e(M1e);function I1e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function D1e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function L1e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=$C(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function F1e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ng(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function z1e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=$C(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var bw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cy=new RegExp(bw.source,"g");function B1e(e){return function(){return e}}function W1e(e){return function(t){return e(t)+""}}function UD(e,t){var n=bw.lastIndex=cy.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=bw.exec(e))&&(i=cy.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:ng(r,i)})),n=cy.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?W1e(l[0].x):B1e(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}function $C(e,t){var n=typeof t,r;return t==null||n==="boolean"?Wv(t):(n==="number"?ng:n==="string"?(r=Bf(t))?(t=r,yM):UD:t instanceof Bf?yM:t instanceof Date?F1e:D1e(t)?I1e:Array.isArray(t)?L1e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?z1e:ng)(e,t)}function H1e(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function GD(e){return function t(n){n=+n;function r(i,o){var s=e((i=Ro(i)).h,(o=Ro(o)).h),a=Fc(i.s,o.s),l=Fc(i.l,o.l),c=Fc(i.opacity,o.opacity);return function(u){return i.h=s(u),i.s=a(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=t,r}(1)}GD(P1e);var IC=GD(Fc);function q1e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var V1e=q1e;const xt=zr(V1e);function KD(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function DC(e){let t=e,n=e;e.length===1&&(t=(s,a)=>e(s)-a,n=U1e(e));function r(s,a,l,c){for(l==null&&(l=0),c==null&&(c=s.length);l<c;){const u=l+c>>>1;n(s[u],a)<0?l=u+1:c=u}return l}function i(s,a,l,c){for(l==null&&(l=0),c==null&&(c=s.length);l<c;){const u=l+c>>>1;n(s[u],a)>0?c=u:l=u+1}return l}function o(s,a,l,c){l==null&&(l=0),c==null&&(c=s.length);const u=r(s,a,l,c-1);return u>l&&t(s[u-1],a)>-t(s[u],a)?u-1:u}return{left:r,center:o,right:i}}function U1e(e){return(t,n)=>KD(e(t),n)}function G1e(e){return e===null?NaN:+e}const K1e=DC(KD),Y1e=K1e.right;DC(G1e).center;var yw=Math.sqrt(50),_w=Math.sqrt(10),xw=Math.sqrt(2);function ww(e,t,n){var r,i=-1,o,s,a;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),(a=YD(e,t,n))===0||!isFinite(a))return[];if(a>0){let l=Math.round(e/a),c=Math.round(t/a);for(l*a<e&&++l,c*a>t&&--c,s=new Array(o=c-l+1);++i<o;)s[i]=(l+i)*a}else{a=-a;let l=Math.round(e*a),c=Math.round(t*a);for(l/a<e&&++l,c/a>t&&--c,s=new Array(o=c-l+1);++i<o;)s[i]=(l+i)/a}return r&&s.reverse(),s}function YD(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=yw?10:o>=_w?5:o>=xw?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=yw?10:o>=_w?5:o>=xw?2:1)}function Sw(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=yw?i*=10:o>=_w?i*=5:o>=xw&&(i*=2),t<e?-i:i}function Z1e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Ol(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const _M=Symbol("implicit");function Ga(){var e=new Map,t=[],n=[],r=_M;function i(o){var s=o+"",a=e.get(s);if(!a){if(r!==_M)return r;e.set(s,a=t.push(o))}return n[(a-1)%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Map;for(const s of o){const a=s+"";e.has(a)||e.set(a,t.push(s))}return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ga(t,n).unknown(r)},Ol.apply(i,arguments),i}function LC(){var e=Ga().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,g=m?r:i;o=(g-p)/Math.max(1,h-l+c*2),a&&(o=Math.floor(o)),p+=(g-p-o*(h-l))*u,s=o*(1-l),a&&(p=Math.round(p),s=Math.round(s));var _=Z1e(h).map(function(x){return p+o*x});return n(m?_.reverse():_)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(h){return arguments.length?(a=!!h,f()):a},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return LC(t(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},Ol.apply(f(),arguments)}function ZD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ZD(t())},e}function Q1e(){return ZD(LC.apply(null,arguments).paddingInner(1))}function J1e(e){return function(){return e}}function X1e(e){return+e}var xM=[0,1];function Sc(e){return e}function Cw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:J1e(isNaN(t)?NaN:.5)}function eSe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function tSe(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Cw(i,r),o=n(s,o)):(r=Cw(r,i),o=n(o,s)),function(a){return o(r(a))}}function nSe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Cw(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=Y1e(e,a,1,r)-1;return o[l](i[l](a))}}function Hv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function FC(){var e=xM,t=xM,n=$C,r,i,o,s=Sc,a,l,c;function u(){var h=Math.min(e.length,t.length);return s!==Sc&&(s=eSe(e[0],e[h-1])),a=h>2?nSe:tSe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=a(t,e.map(r),ng)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,X1e),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=H1e,u()},f.clamp=function(h){return arguments.length?(s=h?!0:Sc,u()):s!==Sc},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,u()}}function QD(){return FC()(Sc,Sc)}function rSe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rg(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Jc(e){return e=rg(Math.abs(e)),e?e[1]:NaN}function iSe(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function oSe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var sSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ig(e){if(!(t=sSe.exec(e)))throw new Error("invalid format: "+e);var t;return new zC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ig.prototype=zC.prototype;function zC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aSe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var JD;function lSe(e,t){var n=rg(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(JD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rg(e,Math.max(0,t+o-1))[0]}function wM(e,t){var n=rg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const SM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rSe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>wM(e*100,t),r:wM,s:lSe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function CM(e){return e}var TM=Array.prototype.map,jM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cSe(e){var t=e.grouping===void 0||e.thousands===void 0?CM:iSe(TM.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?CM:oSe(TM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=ig(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,_=f.zero,x=f.width,S=f.comma,C=f.precision,j=f.trim,k=f.type;k==="n"?(S=!0,k="g"):SM[k]||(C===void 0&&(C=12),j=!0,k="g"),(_||h==="0"&&m==="=")&&(_=!0,h="0",m="=");var T=g==="$"?n:g==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",y=g==="$"?r:/[%p]/.test(k)?s:"",P=SM[k],A=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function $(L){var U=T,F=y,H,q,re;if(k==="c")F=P(L)+F,L="";else{L=+L;var G=L<0||1/L<0;if(L=isNaN(L)?l:P(Math.abs(L),C),j&&(L=aSe(L)),G&&+L==0&&p!=="+"&&(G=!1),U=(G?p==="("?p:a:p==="-"||p==="("?"":p)+U,F=(k==="s"?jM[8+JD/3]:"")+F+(G&&p==="("?")":""),A){for(H=-1,q=L.length;++H<q;)if(re=L.charCodeAt(H),48>re||re>57){F=(re===46?i+L.slice(H+1):L.slice(H))+F,L=L.slice(0,H);break}}}S&&!_&&(L=t(L,1/0));var Y=U.length+L.length+F.length,te=Y<x?new Array(x-Y+1).join(h):"";switch(S&&_&&(L=t(te+L,te.length?x-F.length:1/0),te=""),m){case"<":L=U+L+F+te;break;case"=":L=U+te+L+F;break;case"^":L=te.slice(0,Y=te.length>>1)+U+L+F+te.slice(Y);break;default:L=te+U+L+F;break}return o(L)}return $.toString=function(){return f+""},$}function u(f,h){var m=c((f=ig(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Jc(h)/3)))*3,g=Math.pow(10,-p),_=jM[8+p/3];return function(x){return m(g*x)+_}}return{format:c,formatPrefix:u}}var vp,BC,XD;uSe({thousands:",",grouping:[3],currency:["$",""]});function uSe(e){return vp=cSe(e),BC=vp.format,XD=vp.formatPrefix,vp}function dSe(e){return Math.max(0,-Jc(Math.abs(e)))}function fSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jc(t)/3)))*3-Jc(Math.abs(e)))}function hSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jc(t)-Jc(e))+1}function pSe(e,t,n,r){var i=Sw(e,t,n),o;switch(r=ig(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=fSe(i,s))&&(r.precision=o),XD(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=hSe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=dSe(i))&&(r.precision=o-(r.type==="%")*2);break}}return BC(r)}function e6(e){var t=e.domain;return e.ticks=function(n){var r=t();return ww(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return pSe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=YD(s,a,n),c===l)return r[i]=s,r[o]=a,t(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function t6(){var e=QD();return e.copy=function(){return Hv(e,t6())},Ol.apply(e,arguments),e6(e)}function n6(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function EM(e){return Math.log(e)}function kM(e){return Math.exp(e)}function mSe(e){return-Math.log(-e)}function gSe(e){return-Math.exp(-e)}function vSe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bSe(e){return e===10?vSe:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function ySe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function OM(e){return function(t){return-e(-t)}}function _Se(e){var t=e(EM,kM),n=t.domain,r=10,i,o;function s(){return i=ySe(r),o=bSe(r),n()[0]<0?(i=OM(i),o=OM(o),e(mSe,gSe)):e(EM,kM),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=function(a){var l=n(),c=l[0],u=l[l.length-1],f;(f=u<c)&&(h=c,c=u,u=h);var h=i(c),m=i(u),p,g,_,x=a==null?10:+a,S=[];if(!(r%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(g=1,p=o(h);g<r;++g)if(_=p*g,!(_<c)){if(_>u)break;S.push(_)}}else for(;h<=m;++h)for(g=r-1,p=o(h);g>=1;--g)if(_=p*g,!(_<c)){if(_>u)break;S.push(_)}S.length*2<x&&(S=ww(c,u,x))}else S=ww(h,m,Math.min(m-h,x)).map(o);return f?S.reverse():S},t.tickFormat=function(a,l){if(l==null&&(l=r===10?".0e":","),typeof l!="function"&&(l=BC(l)),a===1/0)return l;a==null&&(a=10);var c=Math.max(1,r*a/t.ticks().length);return function(u){var f=u/o(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},t.nice=function(){return n(n6(n(),{floor:function(a){return o(Math.floor(i(a)))},ceil:function(a){return o(Math.ceil(i(a)))}}))},t}function r6(){var e=_Se(FC()).domain([1,10]);return e.copy=function(){return Hv(e,r6()).base(e.base())},Ol.apply(e,arguments),e}function MM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function NM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xSe(e){var t=1,n=e(MM(t),NM(t));return n.constant=function(r){return arguments.length?e(MM(t=+r),NM(t)):t},e6(n)}function i6(){var e=xSe(FC());return e.copy=function(){return Hv(e,i6()).constant(e.constant())},Ol.apply(e,arguments)}var uy=new Date,dy=new Date;function ar(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return e(o=new Date(+o)),o},i.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},i.round=function(o){var s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=function(o,s){return t(o=new Date(+o),s==null?1:Math.floor(s)),o},i.range=function(o,s,a){var l=[],c;if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;do l.push(c=new Date(+o)),t(o,a),e(o);while(c<o&&o<s);return l},i.filter=function(o){return ar(function(s){if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},function(s,a){if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););})},n&&(i.count=function(o,s){return uy.setTime(+o),dy.setTime(+s),e(uy),e(dy),Math.floor(n(uy,dy))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(s){return r(s)%o===0}:function(s){return i.count(0,s)%o===0}):i}),i}var og=ar(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});og.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ar(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):og};og.range;const ss=1e3,Oi=ss*60,as=Oi*60,xl=as*24,WC=xl*7,PM=xl*30,fy=xl*365;var o6=ar(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*ss)},function(e,t){return(t-e)/ss},function(e){return e.getUTCSeconds()});const Cc=o6;o6.range;var s6=ar(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ss)},function(e,t){e.setTime(+e+t*Oi)},function(e,t){return(t-e)/Oi},function(e){return e.getMinutes()});const a6=s6;s6.range;var l6=ar(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ss-e.getMinutes()*Oi)},function(e,t){e.setTime(+e+t*as)},function(e,t){return(t-e)/as},function(e){return e.getHours()});const c6=l6;l6.range;var vh=ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Oi)/xl,e=>e.getDate()-1);vh.range;function Ml(e){return ar(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Oi)/WC})}var qv=Ml(0),sg=Ml(1),wSe=Ml(2),SSe=Ml(3),Xc=Ml(4),CSe=Ml(5),TSe=Ml(6);qv.range;sg.range;wSe.range;SSe.range;Xc.range;CSe.range;TSe.range;var u6=ar(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});const d6=u6;u6.range;var ds=ar(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});ds.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ar(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};ds.range;var f6=ar(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Oi)},function(e,t){return(t-e)/Oi},function(e){return e.getUTCMinutes()});const h6=f6;f6.range;var p6=ar(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*as)},function(e,t){return(t-e)/as},function(e){return e.getUTCHours()});const m6=p6;p6.range;var bh=ar(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/xl},function(e){return e.getUTCDate()-1});bh.range;function Nl(e){return ar(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/WC})}var Vv=Nl(0),ag=Nl(1),jSe=Nl(2),ESe=Nl(3),eu=Nl(4),kSe=Nl(5),OSe=Nl(6);Vv.range;ag.range;jSe.range;ESe.range;eu.range;kSe.range;OSe.range;var g6=ar(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});const v6=g6;g6.range;var fs=ar(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});fs.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ar(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};fs.range;function b6(e,t,n,r,i,o){const s=[[Cc,1,ss],[Cc,5,5*ss],[Cc,15,15*ss],[Cc,30,30*ss],[o,1,Oi],[o,5,5*Oi],[o,15,15*Oi],[o,30,30*Oi],[i,1,as],[i,3,3*as],[i,6,6*as],[i,12,12*as],[r,1,xl],[r,2,2*xl],[n,1,WC],[t,1,PM],[t,3,3*PM],[e,1,fy]];function a(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const m=f&&typeof f.range=="function"?f:l(c,u,f),p=m?m.range(c,+u+1):[];return h?p.reverse():p}function l(c,u,f){const h=Math.abs(u-c)/f,m=DC(([,,_])=>_).right(s,h);if(m===s.length)return e.every(Sw(c/fy,u/fy,f));if(m===0)return og.every(Math.max(Sw(c,u,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[a,l]}const[MSe,NSe]=b6(fs,v6,Vv,bh,m6,h6),[PSe,ASe]=b6(ds,d6,qv,vh,c6,a6);function hy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function py(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ed(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function RSe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=kd(i),u=Od(i),f=kd(o),h=Od(o),m=kd(s),p=Od(s),g=kd(a),_=Od(a),x=kd(l),S=Od(l),C={a:G,A:Y,b:te,B:ne,c:null,d:LM,e:LM,f:rCe,g:hCe,G:mCe,H:eCe,I:tCe,j:nCe,L:y6,m:iCe,M:oCe,p:B,q:Q,Q:BM,s:WM,S:sCe,u:aCe,U:lCe,V:cCe,w:uCe,W:dCe,x:null,X:null,y:fCe,Y:pCe,Z:gCe,"%":zM},j={a:K,A:de,b:X,B:J,c:null,d:FM,e:FM,f:_Ce,g:MCe,G:PCe,H:vCe,I:bCe,j:yCe,L:x6,m:xCe,M:wCe,p:ue,q:xe,Q:BM,s:WM,S:SCe,u:CCe,U:TCe,V:jCe,w:ECe,W:kCe,x:null,X:null,y:OCe,Y:NCe,Z:ACe,"%":zM},k={a:$,A:L,b:U,B:F,c:H,d:IM,e:IM,f:ZSe,g:$M,G:RM,H:DM,I:DM,j:USe,L:YSe,m:VSe,M:GSe,p:A,q:qSe,Q:JSe,s:XSe,S:KSe,u:FSe,U:zSe,V:BSe,w:LSe,W:WSe,x:q,X:re,y:$M,Y:RM,Z:HSe,"%":QSe};C.x=T(n,C),C.X=T(r,C),C.c=T(t,C),j.x=T(n,j),j.X=T(r,j),j.c=T(t,j);function T(_e,he){return function(Z){var se=[],ie=-1,be=0,Ne=_e.length,Pe,ze,Oe;for(Z instanceof Date||(Z=new Date(+Z));++ie<Ne;)_e.charCodeAt(ie)===37&&(se.push(_e.slice(be,ie)),(ze=AM[Pe=_e.charAt(++ie)])!=null?Pe=_e.charAt(++ie):ze=Pe==="e"?" ":"0",(Oe=he[Pe])&&(Pe=Oe(Z,ze)),se.push(Pe),be=ie+1);return se.push(_e.slice(be,ie)),se.join("")}}function y(_e,he){return function(Z){var se=Ed(1900,void 0,1),ie=P(se,_e,Z+="",0),be,Ne;if(ie!=Z.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(he&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(be=py(Ed(se.y,0,1)),Ne=be.getUTCDay(),be=Ne>4||Ne===0?ag.ceil(be):ag(be),be=bh.offset(be,(se.V-1)*7),se.y=be.getUTCFullYear(),se.m=be.getUTCMonth(),se.d=be.getUTCDate()+(se.w+6)%7):(be=hy(Ed(se.y,0,1)),Ne=be.getDay(),be=Ne>4||Ne===0?sg.ceil(be):sg(be),be=vh.offset(be,(se.V-1)*7),se.y=be.getFullYear(),se.m=be.getMonth(),se.d=be.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Ne="Z"in se?py(Ed(se.y,0,1)).getUTCDay():hy(Ed(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Ne+5)%7:se.w+se.U*7-(Ne+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,py(se)):hy(se)}}function P(_e,he,Z,se){for(var ie=0,be=he.length,Ne=Z.length,Pe,ze;ie<be;){if(se>=Ne)return-1;if(Pe=he.charCodeAt(ie++),Pe===37){if(Pe=he.charAt(ie++),ze=k[Pe in AM?he.charAt(ie++):Pe],!ze||(se=ze(_e,Z,se))<0)return-1}else if(Pe!=Z.charCodeAt(se++))return-1}return se}function A(_e,he,Z){var se=c.exec(he.slice(Z));return se?(_e.p=u.get(se[0].toLowerCase()),Z+se[0].length):-1}function $(_e,he,Z){var se=m.exec(he.slice(Z));return se?(_e.w=p.get(se[0].toLowerCase()),Z+se[0].length):-1}function L(_e,he,Z){var se=f.exec(he.slice(Z));return se?(_e.w=h.get(se[0].toLowerCase()),Z+se[0].length):-1}function U(_e,he,Z){var se=x.exec(he.slice(Z));return se?(_e.m=S.get(se[0].toLowerCase()),Z+se[0].length):-1}function F(_e,he,Z){var se=g.exec(he.slice(Z));return se?(_e.m=_.get(se[0].toLowerCase()),Z+se[0].length):-1}function H(_e,he,Z){return P(_e,t,he,Z)}function q(_e,he,Z){return P(_e,n,he,Z)}function re(_e,he,Z){return P(_e,r,he,Z)}function G(_e){return s[_e.getDay()]}function Y(_e){return o[_e.getDay()]}function te(_e){return l[_e.getMonth()]}function ne(_e){return a[_e.getMonth()]}function B(_e){return i[+(_e.getHours()>=12)]}function Q(_e){return 1+~~(_e.getMonth()/3)}function K(_e){return s[_e.getUTCDay()]}function de(_e){return o[_e.getUTCDay()]}function X(_e){return l[_e.getUTCMonth()]}function J(_e){return a[_e.getUTCMonth()]}function ue(_e){return i[+(_e.getUTCHours()>=12)]}function xe(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var he=T(_e+="",C);return he.toString=function(){return _e},he},parse:function(_e){var he=y(_e+="",!1);return he.toString=function(){return _e},he},utcFormat:function(_e){var he=T(_e+="",j);return he.toString=function(){return _e},he},utcParse:function(_e){var he=y(_e+="",!0);return he.toString=function(){return _e},he}}}var AM={"-":"",_:" ",0:"0"},lr=/^\s*\d+/,$Se=/^%/,ISe=/[\\^$*+?|[\]().{}]/g;function un(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function DSe(e){return e.replace(ISe,"\\$&")}function kd(e){return new RegExp("^(?:"+e.map(DSe).join("|")+")","i")}function Od(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function LSe(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function FSe(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function zSe(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function BSe(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function WSe(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function RM(e,t,n){var r=lr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $M(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function HSe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qSe(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function VSe(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function IM(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function USe(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function DM(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function GSe(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function KSe(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function YSe(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ZSe(e,t,n){var r=lr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function QSe(e,t,n){var r=$Se.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function JSe(e,t,n){var r=lr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function XSe(e,t,n){var r=lr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function LM(e,t){return un(e.getDate(),t,2)}function eCe(e,t){return un(e.getHours(),t,2)}function tCe(e,t){return un(e.getHours()%12||12,t,2)}function nCe(e,t){return un(1+vh.count(ds(e),e),t,3)}function y6(e,t){return un(e.getMilliseconds(),t,3)}function rCe(e,t){return y6(e,t)+"000"}function iCe(e,t){return un(e.getMonth()+1,t,2)}function oCe(e,t){return un(e.getMinutes(),t,2)}function sCe(e,t){return un(e.getSeconds(),t,2)}function aCe(e){var t=e.getDay();return t===0?7:t}function lCe(e,t){return un(qv.count(ds(e)-1,e),t,2)}function _6(e){var t=e.getDay();return t>=4||t===0?Xc(e):Xc.ceil(e)}function cCe(e,t){return e=_6(e),un(Xc.count(ds(e),e)+(ds(e).getDay()===4),t,2)}function uCe(e){return e.getDay()}function dCe(e,t){return un(sg.count(ds(e)-1,e),t,2)}function fCe(e,t){return un(e.getFullYear()%100,t,2)}function hCe(e,t){return e=_6(e),un(e.getFullYear()%100,t,2)}function pCe(e,t){return un(e.getFullYear()%1e4,t,4)}function mCe(e,t){var n=e.getDay();return e=n>=4||n===0?Xc(e):Xc.ceil(e),un(e.getFullYear()%1e4,t,4)}function gCe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+un(t/60|0,"0",2)+un(t%60,"0",2)}function FM(e,t){return un(e.getUTCDate(),t,2)}function vCe(e,t){return un(e.getUTCHours(),t,2)}function bCe(e,t){return un(e.getUTCHours()%12||12,t,2)}function yCe(e,t){return un(1+bh.count(fs(e),e),t,3)}function x6(e,t){return un(e.getUTCMilliseconds(),t,3)}function _Ce(e,t){return x6(e,t)+"000"}function xCe(e,t){return un(e.getUTCMonth()+1,t,2)}function wCe(e,t){return un(e.getUTCMinutes(),t,2)}function SCe(e,t){return un(e.getUTCSeconds(),t,2)}function CCe(e){var t=e.getUTCDay();return t===0?7:t}function TCe(e,t){return un(Vv.count(fs(e)-1,e),t,2)}function w6(e){var t=e.getUTCDay();return t>=4||t===0?eu(e):eu.ceil(e)}function jCe(e,t){return e=w6(e),un(eu.count(fs(e),e)+(fs(e).getUTCDay()===4),t,2)}function ECe(e){return e.getUTCDay()}function kCe(e,t){return un(ag.count(fs(e)-1,e),t,2)}function OCe(e,t){return un(e.getUTCFullYear()%100,t,2)}function MCe(e,t){return e=w6(e),un(e.getUTCFullYear()%100,t,2)}function NCe(e,t){return un(e.getUTCFullYear()%1e4,t,4)}function PCe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?eu(e):eu.ceil(e),un(e.getUTCFullYear()%1e4,t,4)}function ACe(){return"+0000"}function zM(){return"%"}function BM(e){return+e}function WM(e){return Math.floor(+e/1e3)}var tc,Uv,S6,C6,T6;RCe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RCe(e){return tc=RSe(e),Uv=tc.format,S6=tc.parse,C6=tc.utcFormat,T6=tc.utcParse,tc}function $Ce(e){return new Date(e)}function ICe(e){return e instanceof Date?+e:+new Date(+e)}function HC(e,t,n,r,i,o,s,a,l,c){var u=QD(),f=u.invert,h=u.domain,m=c(".%L"),p=c(":%S"),g=c("%I:%M"),_=c("%I %p"),x=c("%a %d"),S=c("%b %d"),C=c("%B"),j=c("%Y");function k(T){return(l(T)<T?m:a(T)<T?p:s(T)<T?g:o(T)<T?_:r(T)<T?i(T)<T?x:S:n(T)<T?C:j)(T)}return u.invert=function(T){return new Date(f(T))},u.domain=function(T){return arguments.length?h(Array.from(T,ICe)):h().map($Ce)},u.ticks=function(T){var y=h();return e(y[0],y[y.length-1],T??10)},u.tickFormat=function(T,y){return y==null?k:c(y)},u.nice=function(T){var y=h();return(!T||typeof T.range!="function")&&(T=t(y[0],y[y.length-1],T??10)),T?h(n6(y,T)):u},u.copy=function(){return Hv(u,HC(e,t,n,r,i,o,s,a,l,c))},u}function DCe(){return Ol.apply(HC(PSe,ASe,ds,d6,qv,vh,c6,a6,Cc,Uv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LCe(){return Ol.apply(HC(MSe,NSe,fs,v6,Vv,bh,m6,h6,Cc,C6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gt(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const j6=Gt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),E6=Gt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),k6=Gt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),O6=Gt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),M6=Gt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),N6=Gt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),P6=Gt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),A6=Gt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),qC=Gt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),_n=e=>$1e(e[e.length-1]);var Gv=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Gt);const FCe=_n(Gv);var Kv=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Gt);const zCe=_n(Kv);var Yv=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Gt);const BCe=_n(Yv);var Zv=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Gt);const WCe=_n(Zv);var Qv=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Gt);const HCe=_n(Qv);var Jv=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Gt);const qCe=_n(Jv);var Xv=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Gt);const VCe=_n(Xv);var e0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Gt);const UCe=_n(e0);var t0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Gt);const GCe=_n(t0);var n0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Gt);const KCe=_n(n0);var r0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Gt);const YCe=_n(r0);var i0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Gt);const ZCe=_n(i0);var o0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Gt);const QCe=_n(o0);var s0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Gt);const JCe=_n(s0);var a0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Gt);const XCe=_n(a0);var l0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Gt);const e2e=_n(l0);var c0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Gt);const t2e=_n(c0);var u0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Gt);const n2e=_n(u0);var d0=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Gt);const r2e=_n(d0);var f0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Gt);const i2e=_n(f0);var h0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Gt);const o2e=_n(h0);var p0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Gt);const s2e=_n(p0);var m0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Gt);const a2e=_n(m0);var g0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Gt);const l2e=_n(g0);var v0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Gt);const c2e=_n(v0);var b0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Gt);const u2e=_n(b0);var y0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Gt);const d2e=_n(y0);function f2e(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const h2e=IC(Ro(300,.5,0),Ro(-240,.5,1));var p2e=IC(Ro(-100,.75,.35),Ro(80,1.5,.8)),m2e=IC(Ro(260,.75,.35),Ro(80,1.5,.8)),bp=Ro();function g2e(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return bp.h=360*e-100,bp.s=1.5-1.5*t,bp.l=.8-.9*t,bp+""}var yp=Wf(),v2e=Math.PI/3,b2e=Math.PI*2/3;function y2e(e){var t;return e=(.5-e)*Math.PI,yp.r=255*(t=Math.sin(e))*t,yp.g=255*(t=Math.sin(e+v2e))*t,yp.b=255*(t=Math.sin(e+b2e))*t,yp+""}function _2e(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function _0(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const x2e=_0(Gt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var w2e=_0(Gt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),S2e=_0(Gt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),C2e=_0(Gt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),T2e="__lodash_hash_undefined__";function j2e(e){return this.__data__.set(e,T2e),this}var E2e=j2e;function k2e(e){return this.__data__.has(e)}var O2e=k2e,M2e=xC,N2e=E2e,P2e=O2e;function lg(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new M2e;++t<n;)this.add(e[t])}lg.prototype.add=lg.prototype.push=N2e;lg.prototype.has=P2e;var VC=lg;function A2e(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var R2e=A2e;function $2e(e){return e!==e}var I2e=$2e;function D2e(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var L2e=D2e,F2e=R2e,z2e=I2e,B2e=L2e;function W2e(e,t,n){return t===t?B2e(e,t,n):F2e(e,z2e,n)}var H2e=W2e,q2e=H2e;function V2e(e,t){var n=e==null?0:e.length;return!!n&&q2e(e,t,0)>-1}var R6=V2e;function U2e(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var $6=U2e;function G2e(e,t){return e.has(t)}var UC=G2e,K2e=VC,Y2e=R6,Z2e=$6,Q2e=NC,J2e=Rv,X2e=UC,eTe=200;function tTe(e,t,n,r){var i=-1,o=Y2e,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=Q2e(t,J2e(n))),r?(o=Z2e,s=!1):t.length>=eTe&&(o=X2e,s=!1,t=new K2e(t));e:for(;++i<a;){var u=e[i],f=n==null?u:n(u);if(u=r||u!==0?u:0,s&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;l.push(u)}else o(t,f,r)||l.push(u)}return l}var nTe=tTe,rTe=nTe,iTe=kC,oTe=jD,sTe=iTe(function(e,t){return oTe(e)?rTe(e,t):[]}),aTe=sTe;const I6=zr(aTe);var Tw=Math.PI,jw=2*Tw,ka=1e-6,lTe=jw-ka;function Ew(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function GC(){return new Ew}Ew.prototype=GC.prototype={constructor:Ew,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,s=this._y1,a=n-e,l=r-t,c=o-e,u=s-t,f=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>ka)if(!(Math.abs(u*a-l*c)>ka)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var h=n-o,m=r-s,p=a*a+l*l,g=h*h+m*m,_=Math.sqrt(p),x=Math.sqrt(f),S=i*Math.tan((Tw-Math.acos((p+f-g)/(2*_*x)))/2),C=S/x,j=S/_;Math.abs(C-1)>ka&&(this._+="L"+(e+C*c)+","+(t+C*u)),this._+="A"+i+","+i+",0,0,"+ +(u*h>c*m)+","+(this._x1=e+j*a)+","+(this._y1=t+j*l)}},arc:function(e,t,n,r,i,o){e=+e,t=+t,n=+n,o=!!o;var s=n*Math.cos(r),a=n*Math.sin(r),l=e+s,c=t+a,u=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>ka||Math.abs(this._y1-c)>ka)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%jw+jw),f>lTe?this._+="A"+n+","+n+",0,1,"+u+","+(e-s)+","+(t-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>ka&&(this._+="A"+n+","+n+",0,"+ +(f>=Tw)+","+u+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function ni(e){return function(){return e}}var HM=1e-12;function D6(e){this._context=e}D6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function KC(e){return new D6(e)}function L6(e){return e[0]}function F6(e){return e[1]}function z6(){var e=L6,t=F6,n=ni(!0),r=null,i=KC,o=null;function s(a){var l,c=a.length,u,f=!1,h;for(r==null&&(o=i(h=GC())),l=0;l<=c;++l)!(l<c&&n(u=a[l],l,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(u,l,a),+t(u,l,a));if(h)return o=null,h+""||null}return s.x=function(a){return arguments.length?(e=typeof a=="function"?a:ni(+a),s):e},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:ni(+a),s):t},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:ni(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),s):r},s}function cTe(){var e=L6,t=null,n=ni(0),r=F6,i=ni(!0),o=null,s=KC,a=null;function l(u){var f,h,m,p=u.length,g,_=!1,x,S=new Array(p),C=new Array(p);for(o==null&&(a=s(x=GC())),f=0;f<=p;++f){if(!(f<p&&i(g=u[f],f,u))===_)if(_=!_)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=f-1;m>=h;--m)a.point(S[m],C[m]);a.lineEnd(),a.areaEnd()}_&&(S[f]=+e(g,f,u),C[f]=+n(g,f,u),a.point(t?+t(g,f,u):S[f],r?+r(g,f,u):C[f]))}if(x)return a=null,x+""||null}function c(){return z6().defined(i).curve(s).context(o)}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:ni(+u),t=null,l):e},l.x0=function(u){return arguments.length?(e=typeof u=="function"?u:ni(+u),l):e},l.x1=function(u){return arguments.length?(t=u==null?null:typeof u=="function"?u:ni(+u),l):t},l.y=function(u){return arguments.length?(n=typeof u=="function"?u:ni(+u),r=null,l):n},l.y0=function(u){return arguments.length?(n=typeof u=="function"?u:ni(+u),l):n},l.y1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:ni(+u),l):r},l.lineX0=l.lineY0=function(){return c().x(e).y(n)},l.lineY1=function(){return c().x(e).y(r)},l.lineX1=function(){return c().x(t).y(n)},l.defined=function(u){return arguments.length?(i=typeof u=="function"?u:ni(!!u),l):i},l.curve=function(u){return arguments.length?(s=u,o!=null&&(a=s(o)),l):s},l.context=function(u){return arguments.length?(u==null?o=a=null:a=s(o=u),l):o},l}function ra(){}function cg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function x0(e){this._context=e}x0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uTe(e){return new x0(e)}function B6(e){this._context=e}B6.prototype={areaStart:ra,areaEnd:ra,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dTe(e){return new B6(e)}function W6(e){this._context=e}W6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fTe(e){return new W6(e)}function H6(e,t){this._basis=new x0(e),this._beta=t}H6.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const hTe=function e(t){function n(r){return t===1?new x0(r):new H6(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function ug(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function YC(e,t){this._context=e,this._k=(1-t)/6}YC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ug(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ug(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const pTe=function e(t){function n(r){return new YC(r,t)}return n.tension=function(r){return e(+r)},n}(0);function ZC(e,t){this._context=e,this._k=(1-t)/6}ZC.prototype={areaStart:ra,areaEnd:ra,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ug(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const mTe=function e(t){function n(r){return new ZC(r,t)}return n.tension=function(r){return e(+r)},n}(0);function QC(e,t){this._context=e,this._k=(1-t)/6}QC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ug(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const gTe=function e(t){function n(r){return new QC(r,t)}return n.tension=function(r){return e(+r)},n}(0);function JC(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>HM){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>HM){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function q6(e,t){this._context=e,this._alpha=t}q6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:JC(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const vTe=function e(t){function n(r){return t?new q6(r,t):new YC(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function V6(e,t){this._context=e,this._alpha=t}V6.prototype={areaStart:ra,areaEnd:ra,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:JC(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const bTe=function e(t){function n(r){return t?new V6(r,t):new ZC(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function U6(e,t){this._context=e,this._alpha=t}U6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:JC(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const yTe=function e(t){function n(r){return t?new U6(r,t):new QC(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function G6(e){this._context=e}G6.prototype={areaStart:ra,areaEnd:ra,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _Te(e){return new G6(e)}function qM(e){return e<0?-1:1}function VM(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(qM(o)+qM(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function UM(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function my(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function dg(e){this._context=e}dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:my(this,this._t0,UM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,my(this,UM(this,n=VM(this,e,t)),n);break;default:my(this,this._t0,n=VM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function K6(e){this._context=new Y6(e)}(K6.prototype=Object.create(dg.prototype)).point=function(e,t){dg.prototype.point.call(this,t,e)};function Y6(e){this._context=e}Y6.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function xTe(e){return new dg(e)}function wTe(e){return new K6(e)}function Z6(e){this._context=e}Z6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=GM(e),i=GM(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function GM(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function STe(e){return new Z6(e)}function w0(e,t){this._context=e,this._t=t}w0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function CTe(e){return new w0(e,.5)}function TTe(e){return new w0(e,0)}function jTe(e){return new w0(e,1)}function S0(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function C0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ETe(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}S0(e,t)}}function kTe(e,t){if((l=e.length)>0)for(var n,r=0,i,o,s,a,l,c=e[t[0]].length;r<c;++r)for(s=a=0,n=0;n<l;++n)(o=(i=e[t[n]][r])[1]-i[0])>0?(i[0]=s,i[1]=s+=o):o<0?(i[1]=a,i[0]=a+=o):(i[0]=0,i[1]=o)}function OTe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}S0(e,t)}}function MTe(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,c=0;a<s;++a){for(var u=e[t[a]],f=u[r][1]||0,h=u[r-1][1]||0,m=(f-h)/2,p=0;p<a;++p){var g=e[t[p]],_=g[r][1]||0,x=g[r-1][1]||0;m+=_-x}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,S0(e,t)}}function NTe(e){var t=e.map(PTe);return C0(e).sort(function(n,r){return t[n]-t[r]})}function PTe(e){for(var t=-1,n=0,r=e.length,i,o=-1/0;++t<r;)(i=+e[t][1])>o&&(o=i,n=t);return n}function Q6(e){var t=e.map(J6);return C0(e).sort(function(n,r){return t[n]-t[r]})}function J6(e){for(var t=0,n=-1,r=e.length,i;++n<r;)(i=+e[n][1])&&(t+=i);return t}function ATe(e){return Q6(e).reverse()}function RTe(e){var t=e.length,n,r,i=e.map(J6),o=NTe(e),s=0,a=0,l=[],c=[];for(n=0;n<t;++n)r=o[n],s<a?(s+=i[r],l.push(r)):(a+=i[r],c.push(r));return c.reverse().concat(l)}function $Te(e){return C0(e).reverse()}function ITe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fg(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function DTe(e){return e=fg(Math.abs(e)),e?e[1]:NaN}function LTe(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function FTe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var zTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kw(e){if(!(t=zTe.exec(e)))throw new Error("invalid format: "+e);var t;return new XC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}kw.prototype=XC.prototype;function XC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}XC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function BTe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var X6;function WTe(e,t){var n=fg(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(X6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fg(e,Math.max(0,t+o-1))[0]}function KM(e,t){var n=fg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const YM={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:ITe,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return KM(e*100,t)},r:KM,s:WTe,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function ZM(e){return e}var QM=Array.prototype.map,JM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function HTe(e){var t=e.grouping===void 0||e.thousands===void 0?ZM:LTe(QM.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?ZM:FTe(QM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"-":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=kw(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,_=f.zero,x=f.width,S=f.comma,C=f.precision,j=f.trim,k=f.type;k==="n"?(S=!0,k="g"):YM[k]||(C===void 0&&(C=12),j=!0,k="g"),(_||h==="0"&&m==="=")&&(_=!0,h="0",m="=");var T=g==="$"?n:g==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",y=g==="$"?r:/[%p]/.test(k)?s:"",P=YM[k],A=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function $(L){var U=T,F=y,H,q,re;if(k==="c")F=P(L)+F,L="";else{L=+L;var G=L<0||1/L<0;if(L=isNaN(L)?l:P(Math.abs(L),C),j&&(L=BTe(L)),G&&+L==0&&p!=="+"&&(G=!1),U=(G?p==="("?p:a:p==="-"||p==="("?"":p)+U,F=(k==="s"?JM[8+X6/3]:"")+F+(G&&p==="("?")":""),A){for(H=-1,q=L.length;++H<q;)if(re=L.charCodeAt(H),48>re||re>57){F=(re===46?i+L.slice(H+1):L.slice(H))+F,L=L.slice(0,H);break}}}S&&!_&&(L=t(L,1/0));var Y=U.length+L.length+F.length,te=Y<x?new Array(x-Y+1).join(h):"";switch(S&&_&&(L=t(te+L,te.length?x-F.length:1/0),te=""),m){case"<":L=U+L+F+te;break;case"=":L=U+te+L+F;break;case"^":L=te.slice(0,Y=te.length>>1)+U+L+F+te.slice(Y);break;default:L=te+U+L+F;break}return o(L)}return $.toString=function(){return f+""},$}function u(f,h){var m=c((f=kw(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(DTe(h)/3)))*3,g=Math.pow(10,-p),_=JM[8+p/3];return function(x){return m(g*x)+_}}return{format:c,formatPrefix:u}}var _p,T0;qTe({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function qTe(e){return _p=HTe(e),T0=_p.format,_p.formatPrefix,_p}var VTe=Fv,UTe=BD,GTe=Lv;function KTe(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=VTe(e,s);n(a,s)&&UTe(o,GTe(s,e),a)}return o}var YTe=KTe;function ZTe(e,t){return e!=null&&t in Object(e)}var QTe=ZTe,JTe=Lv,XTe=Av,eje=Ji,tje=$v,nje=TC,rje=gh;function ije(e,t,n){t=JTe(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=rje(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&nje(i)&&tje(s,i)&&(eje(e)||XTe(e)))}var oje=ije,sje=QTe,aje=oje;function lje(e,t){return e!=null&&aje(e,t,sje)}var e8=lje,cje=YTe,uje=e8;function dje(e,t){return cje(e,t,function(n,r){return uje(e,r)})}var fje=dje;function hje(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var t8=hje,XM=mh,pje=Av,mje=Ji,eN=XM?XM.isConcatSpreadable:void 0;function gje(e){return mje(e)||pje(e)||!!(eN&&e&&e[eN])}var vje=gje,bje=t8,yje=vje;function n8(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=yje),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?n8(a,t-1,n,r,i):bje(i,a):r||(i[i.length]=a)}return i}var r8=n8,_je=r8;function xje(e){var t=e==null?0:e.length;return t?_je(e,1):[]}var wje=xje,Sje=wje,Cje=$D,Tje=ID;function jje(e){return Tje(Cje(e,void 0,Sje),e+"")}var Eje=jje,kje=fje,Oje=Eje,Mje=Oje(function(e,t){return e==null?{}:kje(e,t)}),Nje=Mje;const Pje=zr(Nje);function Aje(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Rje=Aje,$je=VC,Ije=Rje,Dje=UC,Lje=1,Fje=2;function zje(e,t,n,r,i,o){var s=n&Lje,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,m=n&Fje?new $je:void 0;for(o.set(e,t),o.set(t,e);++f<a;){var p=e[f],g=t[f];if(r)var _=s?r(g,p,f,t,e,o):r(p,g,f,e,t,o);if(_!==void 0){if(_)continue;h=!1;break}if(m){if(!Ije(t,function(x,S){if(!Dje(m,S)&&(p===x||i(p,x,n,r,o)))return m.push(S)})){h=!1;break}}else if(!(p===g||i(p,g,n,r,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var i8=zje;function Bje(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var Wje=Bje;function Hje(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var e2=Hje,tN=mh,nN=wD,qje=ph,Vje=i8,Uje=Wje,Gje=e2,Kje=1,Yje=2,Zje="[object Boolean]",Qje="[object Date]",Jje="[object Error]",Xje="[object Map]",eEe="[object Number]",tEe="[object RegExp]",nEe="[object Set]",rEe="[object String]",iEe="[object Symbol]",oEe="[object ArrayBuffer]",sEe="[object DataView]",rN=tN?tN.prototype:void 0,gy=rN?rN.valueOf:void 0;function aEe(e,t,n,r,i,o,s){switch(n){case sEe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case oEe:return!(e.byteLength!=t.byteLength||!o(new nN(e),new nN(t)));case Zje:case Qje:case eEe:return qje(+e,+t);case Jje:return e.name==t.name&&e.message==t.message;case tEe:case rEe:return e==t+"";case Xje:var a=Uje;case nEe:var l=r&Kje;if(a||(a=Gje),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=Yje,s.set(e,t);var u=Vje(a(e),a(t),r,i,o,s);return s.delete(e),u;case iEe:if(gy)return gy.call(e)==gy.call(t)}return!1}var lEe=aEe,cEe=t8,uEe=Ji;function dEe(e,t,n){var r=t(e);return uEe(e)?r:cEe(r,n(e))}var fEe=dEe;function hEe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}var pEe=hEe;function mEe(){return[]}var gEe=mEe,vEe=pEe,bEe=gEe,yEe=Object.prototype,_Ee=yEe.propertyIsEnumerable,iN=Object.getOwnPropertySymbols,xEe=iN?function(e){return e==null?[]:(e=Object(e),vEe(iN(e),function(t){return _Ee.call(e,t)}))}:bEe,wEe=xEe,SEe=SD,CEe=SEe(Object.keys,Object),TEe=CEe,jEe=CC,EEe=TEe,kEe=Object.prototype,OEe=kEe.hasOwnProperty;function MEe(e){if(!jEe(e))return EEe(e);var t=[];for(var n in Object(e))OEe.call(e,n)&&n!="constructor"&&t.push(n);return t}var NEe=MEe,PEe=PD,AEe=NEe,REe=Tu;function $Ee(e){return REe(e)?PEe(e):AEe(e)}var t2=$Ee,IEe=fEe,DEe=wEe,LEe=t2;function FEe(e){return IEe(e,LEe,DEe)}var zEe=FEe,oN=zEe,BEe=1,WEe=Object.prototype,HEe=WEe.hasOwnProperty;function qEe(e,t,n,r,i,o){var s=n&BEe,a=oN(e),l=a.length,c=oN(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in t:HEe.call(t,h)))return!1}var m=o.get(e),p=o.get(t);if(m&&p)return m==t&&p==e;var g=!0;o.set(e,t),o.set(t,e);for(var _=s;++f<l;){h=a[f];var x=e[h],S=t[h];if(r)var C=s?r(S,x,h,t,e,o):r(x,S,h,e,t,o);if(!(C===void 0?x===S||i(x,S,n,r,o):C)){g=!1;break}_||(_=h=="constructor")}if(g&&!_){var j=e.constructor,k=t.constructor;j!=k&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof k=="function"&&k instanceof k)&&(g=!1)}return o.delete(e),o.delete(t),g}var VEe=qEe,UEe=kl,GEe=Fo,KEe=UEe(GEe,"DataView"),YEe=KEe,ZEe=kl,QEe=Fo,JEe=ZEe(QEe,"Promise"),XEe=JEe,eke=kl,tke=Fo,nke=eke(tke,"Set"),o8=nke,rke=kl,ike=Fo,oke=rke(ike,"WeakMap"),ske=oke,Ow=YEe,Mw=_C,Nw=XEe,Pw=o8,Aw=ske,s8=El,Eu=bD,sN="[object Map]",ake="[object Object]",aN="[object Promise]",lN="[object Set]",cN="[object WeakMap]",uN="[object DataView]",lke=Eu(Ow),cke=Eu(Mw),uke=Eu(Nw),dke=Eu(Pw),fke=Eu(Aw),Oa=s8;(Ow&&Oa(new Ow(new ArrayBuffer(1)))!=uN||Mw&&Oa(new Mw)!=sN||Nw&&Oa(Nw.resolve())!=aN||Pw&&Oa(new Pw)!=lN||Aw&&Oa(new Aw)!=cN)&&(Oa=function(e){var t=s8(e),n=t==ake?e.constructor:void 0,r=n?Eu(n):"";if(r)switch(r){case lke:return uN;case cke:return sN;case uke:return aN;case dke:return lN;case fke:return cN}return t});var hke=Oa,vy=wC,pke=i8,mke=lEe,gke=VEe,dN=hke,fN=Ji,hN=jC,vke=EC,bke=1,pN="[object Arguments]",mN="[object Array]",xp="[object Object]",yke=Object.prototype,gN=yke.hasOwnProperty;function _ke(e,t,n,r,i,o){var s=fN(e),a=fN(t),l=s?mN:dN(e),c=a?mN:dN(t);l=l==pN?xp:l,c=c==pN?xp:c;var u=l==xp,f=c==xp,h=l==c;if(h&&hN(e)){if(!hN(t))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new vy),s||vke(e)?pke(e,t,n,r,i,o):mke(e,t,l,n,r,i,o);if(!(n&bke)){var m=u&&gN.call(e,"__wrapped__"),p=f&&gN.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,_=p?t.value():t;return o||(o=new vy),i(g,_,n,r,o)}}return h?(o||(o=new vy),gke(e,t,n,r,i,o)):!1}var xke=_ke,wke=xke,vN=fa;function a8(e,t,n,r,i){return e===t?!0:e==null||t==null||!vN(e)&&!vN(t)?e!==e&&t!==t:wke(e,t,n,r,a8,i)}var n2=a8,Ske=n2;function Cke(e,t){return Ske(e,t)}var Tke=Cke;const jke=zr(Tke);function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kn.apply(this,arguments)}function Rw(e,t){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Rw(e,t)}function r2(e,t){if(e==null)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var ia={fill:R.string,fontSize:R.number,fontFamily:R.string},Eke=R.shape({domain:R.shape({line:R.shape({stroke:R.string.isRequired,strokeWidth:R.number.isRequired,strokeDasharray:R.string}).isRequired}).isRequired,ticks:R.shape({line:R.shape({stroke:R.string.isRequired,strokeWidth:R.number.isRequired,strokeDasharray:R.string}).isRequired,text:R.shape(Kn({},ia)).isRequired}).isRequired,legend:R.shape({text:R.shape(Kn({},ia)).isRequired}).isRequired}),kke=R.shape({line:R.shape({stroke:R.string.isRequired,strokeWidth:R.number.isRequired,strokeDasharray:R.string}).isRequired}),Oke=R.shape({hidden:R.shape({symbol:R.shape({fill:R.string.isRequired,opacity:R.number}).isRequired,text:R.shape(Kn({},ia,{opacity:R.number})).isRequired}).isRequired,text:R.shape(Kn({},ia)).isRequired}),Mke=R.shape({text:R.shape(Kn({},ia)).isRequired}),Nke=R.shape({text:R.shape(Kn({},ia)).isRequired}),Pke=R.shape({text:R.shape(Kn({},ia)).isRequired}),Ake=R.shape({line:R.shape({stroke:R.string.isRequired,strokeWidth:R.number.isRequired,strokeDasharray:R.string}).isRequired}),Rke=R.shape({text:R.shape(Kn({},ia,{outlineWidth:R.number.isRequired,outlineColor:R.string.isRequired})).isRequired,link:R.shape({stroke:R.string.isRequired,strokeWidth:R.number.isRequired,outlineWidth:R.number.isRequired,outlineColor:R.string.isRequired}).isRequired,outline:R.shape({stroke:R.string.isRequired,strokeWidth:R.number.isRequired,outlineWidth:R.number.isRequired,outlineColor:R.string.isRequired}).isRequired,symbol:R.shape({fill:R.string.isRequired,outlineWidth:R.number.isRequired,outlineColor:R.string.isRequired}).isRequired});R.shape({background:R.string.isRequired,fontFamily:R.string.isRequired,fontSize:R.number.isRequired,textColor:R.string.isRequired,axis:Eke.isRequired,grid:kke.isRequired,legends:Oke.isRequired,labels:Mke.isRequired,dots:Nke.isRequired,markers:Pke,crosshair:Ake.isRequired,annotations:Rke.isRequired});var $ke={background:"transparent",fontFamily:"sans-serif",fontSize:11,textColor:"#333333",axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}},Ike=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],Dke=function(e,t){var n=_we({},e,t);return Ike.forEach(function(r){sl(n,r+".fontFamily")===void 0&&Ua(n,r+".fontFamily",n.fontFamily),sl(n,r+".fontSize")===void 0&&Ua(n,r+".fontSize",n.fontSize),sl(n,r+".fill")===void 0&&Ua(n,r+".fill",n.textColor)}),n},l8=b.createContext(),i2=function(e){var t=e.children,n=e.animate,r=e.config,i=b.useMemo(function(){var o=Xa.isString(r)?gC[r]:r;return{animate:n,config:o}},[n,r]);return d.jsx(l8.Provider,{value:i,children:t})},$w={animate:R.bool,motionConfig:R.oneOfType([R.oneOf(Object.keys(gC)),R.shape({mass:R.number,tension:R.number,friction:R.number,clamp:R.bool,precision:R.number,velocity:R.number,duration:R.number,easing:R.func})])};i2.propTypes={children:R.node.isRequired,animate:$w.animate,config:$w.motionConfig};var Lke={animate:!0,config:"default"};i2.defaultProps=Lke;var Pl=function(){return b.useContext(l8)},c8=function(e){var t=Pl(),n=t.animate,r=t.config,i=function(a){var l=b.useRef();return b.useEffect(function(){l.current=a},[a]),l.current}(e),o=b.useMemo(function(){return UD(i,e)},[i,e]),s=_u({from:{value:0},to:{value:1},reset:!0,config:r,immediate:!n}).value;return Mge(s,o)},Fke={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:xt(Gv),PRGn:xt(Kv),PiYG:xt(Yv),PuOr:xt(Zv),RdBu:xt(Qv),RdGy:xt(Jv),RdYlBu:xt(Xv),RdYlGn:xt(e0),spectral:xt(t0),blues:xt(p0),greens:xt(m0),greys:xt(g0),oranges:xt(y0),purples:xt(v0),reds:xt(b0),BuGn:xt(n0),BuPu:xt(r0),GnBu:xt(i0),OrRd:xt(o0),PuBuGn:xt(s0),PuBu:xt(a0),PuRd:xt(l0),RdPu:xt(c0),YlGnBu:xt(u0),YlGn:xt(d0),YlOrBr:xt(f0),YlOrRd:xt(h0)},zke=Object.keys(Fke);xt(Gv),xt(Kv),xt(Yv),xt(Zv),xt(Qv),xt(Jv),xt(Xv),xt(e0),xt(t0),xt(p0),xt(m0),xt(g0),xt(y0),xt(v0),xt(b0),xt(n0),xt(r0),xt(i0),xt(o0),xt(s0),xt(a0),xt(l0),xt(c0),xt(u0),xt(d0),xt(f0),xt(h0);R.oneOfType([R.oneOf(zke),R.func,R.arrayOf(R.string)]);var Iw={basis:uTe,basisClosed:dTe,basisOpen:fTe,bundle:hTe,cardinal:pTe,cardinalClosed:mTe,cardinalOpen:gTe,catmullRom:vTe,catmullRomClosed:bTe,catmullRomOpen:yTe,linear:KC,linearClosed:_Te,monotoneX:xTe,monotoneY:wTe,natural:STe,step:CTe,stepAfter:jTe,stepBefore:TTe},j0=Object.keys(Iw);R.oneOf(j0);j0.filter(function(e){return e.endsWith("Closed")});I6(j0,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");var Bke=I6(j0,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),Wke=R.oneOf(Bke),u8=function(e){if(!Iw[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return Iw[e]},Hke={defs:R.arrayOf(R.shape({id:R.string.isRequired})).isRequired,fill:R.arrayOf(R.shape({id:R.string.isRequired,match:R.oneOfType([R.oneOf(["*"]),R.object,R.func]).isRequired})).isRequired},qke={ascending:Q6,descending:ATe,insideOut:RTe,none:C0,reverse:$Te},Vke=Object.keys(qke);R.oneOf(Vke);var Uke={expand:ETe,diverging:kTe,none:S0,silhouette:OTe,wiggle:MTe},Gke=Object.keys(Uke);R.oneOf(Gke);R.shape({top:R.number,right:R.number,bottom:R.number,left:R.number}).isRequired;var Kke=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],o2=R.oneOf(Kke);Ga(qC);var Yke={top:0,right:0,bottom:0,left:0},d8=function(e,t,n){return n===void 0&&(n={}),b.useMemo(function(){var r=Kn({},Yke,n);return{margin:r,innerWidth:e-r.left-r.right,innerHeight:t-r.top-r.bottom,outerWidth:e,outerHeight:t}},[e,t,n.top,n.right,n.bottom,n.left])},f8=function(){var e=b.useRef(null),t=b.useState({left:0,top:0,width:0,height:0}),n=t[0],r=t[1],i=b.useState(function(){return typeof ResizeObserver>"u"?null:new ResizeObserver(function(o){var s=o[0];return r(s.contentRect)})})[0];return b.useEffect(function(){return e.current&&i!==null&&i.observe(e.current),function(){i!==null&&i.disconnect()}},[]),[e,n]},Zke=function(e){return b.useMemo(function(){return Dke($ke,e)},[e])},Qke=function(e){return typeof e=="function"?e:typeof e=="string"?e.indexOf("time:")===0?Uv(e.slice("5")):T0(e):function(t){return""+t}},Dw=function(e){return b.useMemo(function(){return Qke(e)},[e])},h8=b.createContext(),Jke={},p8=function(e){var t=e.theme,n=t===void 0?Jke:t,r=e.children,i=Zke(n);return d.jsx(h8.Provider,{value:i,children:r})};p8.propTypes={children:R.node.isRequired,theme:R.object};var kr=function(){return b.useContext(h8)},m8=function(e){var t=e.children,n=e.condition,r=e.wrapper;return n?b.cloneElement(r,{},t):t};m8.propTypes={children:R.node.isRequired,condition:R.bool.isRequired,wrapper:R.element.isRequired};var Xke={position:"relative"},g8=function(e){var t=e.children,n=e.theme,r=e.renderWrapper,i=r===void 0||r,o=e.isInteractive,s=o===void 0||o,a=e.animate,l=e.motionConfig,c=b.useRef(null);return d.jsx(p8,{theme:n,children:d.jsx(i2,{animate:a,config:l,children:d.jsx(Yge,{container:c,children:d.jsxs(m8,{condition:i,wrapper:d.jsx("div",{style:Xke,ref:c}),children:[t,s&&d.jsx(Kge,{})]})})})})};g8.propTypes={children:R.element.isRequired,isInteractive:R.bool,renderWrapper:R.bool,theme:R.object,animate:R.bool,motionConfig:R.string};R.func.isRequired,R.bool,R.bool,R.object.isRequired,R.bool.isRequired,R.string;var v8=function(e){var t=e.children,n=f8(),r=n[0],i=n[1],o=i.width>0&&i.height>0;return d.jsx("div",{ref:r,style:{width:"100%",height:"100%"},children:o&&t({width:i.width,height:i.height})})};v8.propTypes={children:R.func.isRequired};var eOe=["id","colors"],b8=function(e){var t=e.id,n=e.colors,r=r2(e,eOe);return d.jsx("linearGradient",Kn({id:t,x1:0,x2:0,y1:0,y2:1},r,{children:n.map(function(i){var o=i.offset,s=i.color,a=i.opacity;return d.jsx("stop",{offset:o+"%",stopColor:s,stopOpacity:a!==void 0?a:1},o)})}))};b8.propTypes={id:R.string.isRequired,colors:R.arrayOf(R.shape({offset:R.number.isRequired,color:R.string.isRequired,opacity:R.number})).isRequired,gradientTransform:R.string};var y8={linearGradient:b8},Xp=b.memo(function(e){var t=e.id,n=e.background,r=e.color,i=e.size,o=e.padding,s=e.stagger,a=i+o,l=i/2,c=o/2;return s===!0&&(a=2*i+2*o),d.jsxs("pattern",{id:t,width:a,height:a,patternUnits:"userSpaceOnUse",children:[d.jsx("rect",{width:a,height:a,fill:n}),d.jsx("circle",{cx:c+l,cy:c+l,r:l,fill:r}),s&&d.jsx("circle",{cx:1.5*o+i+l,cy:1.5*o+i+l,r:l,fill:r})]})});Xp.displayName="PatternDots",Xp.propTypes={id:R.string.isRequired,color:R.string.isRequired,background:R.string.isRequired,size:R.number.isRequired,padding:R.number.isRequired,stagger:R.bool.isRequired},Xp.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};var hg=function(e){return e*Math.PI/180},tOe={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},em=b.memo(function(e){var t=e.id,n=e.spacing,r=e.rotation,i=e.background,o=e.color,s=e.lineWidth,a=Math.round(r)%360,l=Math.abs(n);a>180?a-=360:a>90?a-=180:a<-180?a+=360:a<-90&&(a+=180);var c,u=l,f=l;return a===0?c=`
                M 0 0 L `+u+` 0
                M 0 `+f+" L "+u+" "+f+`
            `:a===90?c=`
                M 0 0 L 0 `+f+`
                M `+u+" 0 L "+u+" "+f+`
            `:(u=Math.abs(l/Math.sin(hg(a))),f=l/Math.sin(hg(90-a)),c=a>0?`
                    M 0 `+-f+" L "+2*u+" "+f+`
                    M `+-u+" "+-f+" L "+u+" "+f+`
                    M `+-u+" 0 L "+u+" "+2*f+`
                `:`
                    M `+-u+" "+f+" L "+u+" "+-f+`
                    M `+-u+" "+2*f+" L "+2*u+" "+-f+`
                    M 0 `+2*f+" L "+2*u+` 0
                `),d.jsxs("pattern",{id:t,width:u,height:f,patternUnits:"userSpaceOnUse",children:[d.jsx("rect",{width:u,height:f,fill:i,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),d.jsx("path",{d:c,strokeWidth:s,stroke:o,strokeLinecap:"square"})]})});em.displayName="PatternLines",em.propTypes={id:R.string.isRequired,spacing:R.number.isRequired,rotation:R.number.isRequired,background:R.string.isRequired,color:R.string.isRequired,lineWidth:R.number.isRequired},em.defaultProps={spacing:5,rotation:0,color:"#000000",background:"#ffffff",lineWidth:2};var tm=b.memo(function(e){var t=e.id,n=e.background,r=e.color,i=e.size,o=e.padding,s=e.stagger,a=i+o,l=o/2;return s===!0&&(a=2*i+2*o),d.jsxs("pattern",{id:t,width:a,height:a,patternUnits:"userSpaceOnUse",children:[d.jsx("rect",{width:a,height:a,fill:n}),d.jsx("rect",{x:l,y:l,width:i,height:i,fill:r}),s&&d.jsx("rect",{x:1.5*o+i,y:1.5*o+i,width:i,height:i,fill:r})]})});tm.displayName="PatternSquares",tm.propTypes={id:R.string.isRequired,color:R.string.isRequired,background:R.string.isRequired,size:R.number.isRequired,padding:R.number.isRequired,stagger:R.bool.isRequired},tm.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};var _8={patternDots:Xp,patternLines:em,patternSquares:tm},nOe=["type"],Lw=Kn({},y8,_8),x8=function(e){var t=e.defs;return!t||t.length<1?null:d.jsx("defs",{"aria-hidden":!0,children:t.map(function(n){var r=n.type,i=r2(n,nOe);return Lw[r]?b.createElement(Lw[r],Kn({key:i.id},i)):null})})};x8.propTypes={defs:R.arrayOf(R.shape({type:R.oneOf(Object.keys(Lw)).isRequired,id:R.string.isRequired}))};var rOe=b.memo(x8),w8=function(e){var t=e.width,n=e.height,r=e.margin,i=e.defs,o=e.children,s=e.role,a=e.ariaLabel,l=e.ariaLabelledBy,c=e.ariaDescribedBy,u=e.isFocusable,f=kr();return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,role:s,"aria-label":a,"aria-labelledby":l,"aria-describedby":c,focusable:u,tabIndex:u?0:void 0,children:[d.jsx(rOe,{defs:i}),d.jsx("rect",{width:t,height:n,fill:f.background}),d.jsx("g",{transform:"translate("+r.left+","+r.top+")",children:o})]})};w8.propTypes={width:R.number.isRequired,height:R.number.isRequired,margin:R.shape({top:R.number.isRequired,left:R.number.isRequired}).isRequired,defs:R.array,children:R.oneOfType([R.arrayOf(R.node),R.node]).isRequired,role:R.string,isFocusable:R.bool,ariaLabel:R.string,ariaLabelledBy:R.string,ariaDescribedBy:R.string};var S8=function(e){var t=e.size,n=e.color,r=e.borderWidth,i=e.borderColor;return d.jsx("circle",{r:t/2,fill:n,stroke:i,strokeWidth:r,style:{pointerEvents:"none"}})};S8.propTypes={size:R.number.isRequired,color:R.string.isRequired,borderWidth:R.number.isRequired,borderColor:R.string.isRequired};var iOe=b.memo(S8),C8=function(e){var t=e.x,n=e.y,r=e.symbol,i=r===void 0?iOe:r,o=e.size,s=e.datum,a=e.color,l=e.borderWidth,c=e.borderColor,u=e.label,f=e.labelTextAnchor,h=f===void 0?"middle":f,m=e.labelYOffset,p=m===void 0?-12:m,g=kr(),_=Pl(),x=_.animate,S=_.config,C=_u({transform:"translate("+t+", "+n+")",config:S,immediate:!x});return d.jsxs(Ao.g,{transform:C.transform,style:{pointerEvents:"none"},children:[b.createElement(i,{size:o,color:a,datum:s,borderWidth:l,borderColor:c}),u&&d.jsx("text",{textAnchor:h,y:p,style:g.dots.text,children:u})]})};C8.propTypes={x:R.number.isRequired,y:R.number.isRequired,datum:R.object.isRequired,size:R.number.isRequired,color:R.string.isRequired,borderWidth:R.number.isRequired,borderColor:R.string.isRequired,symbol:R.oneOfType([R.func,R.object]),label:R.oneOfType([R.string,R.number]),labelTextAnchor:R.oneOf(["start","middle","end"]),labelYOffset:R.number};var oOe=b.memo(C8),Fw=function(e){var t=e.width,n=e.height,r=e.axis,i=e.scale,o=e.value,s=e.lineStyle,a=e.textStyle,l=e.legend,c=e.legendPosition,u=e.legendOffsetX,f=e.legendOffsetY,h=e.legendOrientation,m=kr(),p=0,g=0,_=0,x=0;r==="y"?(_=i(o),g=t):(p=i(o),x=n);var S=null;if(l){var C=function(j){var k=j.axis,T=j.width,y=j.height,P=j.position,A=j.offsetX,$=j.offsetY,L=j.orientation,U=0,F=0,H=L==="vertical"?-90:0,q="start";if(k==="x")switch(P){case"top-left":U=-A,F=$,q="end";break;case"top":F=-$,q=L==="horizontal"?"middle":"start";break;case"top-right":U=A,F=$,q=L==="horizontal"?"start":"end";break;case"right":U=A,F=y/2,q=L==="horizontal"?"start":"middle";break;case"bottom-right":U=A,F=y-$,q="start";break;case"bottom":F=y+$,q=L==="horizontal"?"middle":"end";break;case"bottom-left":F=y-$,U=-A,q=L==="horizontal"?"end":"start";break;case"left":U=-A,F=y/2,q=L==="horizontal"?"end":"middle"}else switch(P){case"top-left":U=A,F=-$,q="start";break;case"top":U=T/2,F=-$,q=L==="horizontal"?"middle":"start";break;case"top-right":U=T-A,F=-$,q=L==="horizontal"?"end":"start";break;case"right":U=T+A,q=L==="horizontal"?"start":"middle";break;case"bottom-right":U=T-A,F=$,q="end";break;case"bottom":U=T/2,F=$,q=L==="horizontal"?"middle":"end";break;case"bottom-left":U=A,F=$,q=L==="horizontal"?"start":"end";break;case"left":U=-A,q=L==="horizontal"?"end":"middle"}return{x:U,y:F,rotation:H,textAnchor:q}}({axis:r,width:t,height:n,position:c,offsetX:u,offsetY:f,orientation:h});S=d.jsx("text",{transform:"translate("+C.x+", "+C.y+") rotate("+C.rotation+")",textAnchor:C.textAnchor,dominantBaseline:"central",style:a,children:l})}return d.jsxs("g",{transform:"translate("+p+", "+_+")",children:[d.jsx("line",{x1:0,x2:g,y1:0,y2:x,stroke:m.markers.lineColor,strokeWidth:m.markers.lineStrokeWidth,style:s}),S]})};Fw.propTypes={width:R.number.isRequired,height:R.number.isRequired,axis:R.oneOf(["x","y"]).isRequired,scale:R.func.isRequired,value:R.oneOfType([R.number,R.string,R.instanceOf(Date)]).isRequired,lineStyle:R.object,textStyle:R.object,legend:R.string,legendPosition:R.oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:R.number.isRequired,legendOffsetY:R.number.isRequired,legendOrientation:R.oneOf(["horizontal","vertical"]).isRequired},Fw.defaultProps={legendPosition:"top-right",legendOffsetX:14,legendOffsetY:14,legendOrientation:"horizontal"};var sOe=b.memo(Fw),T8=function(e){var t=e.markers,n=e.width,r=e.height,i=e.xScale,o=e.yScale;return t&&t.length!==0?t.map(function(s,a){return d.jsx(sOe,Kn({},s,{width:n,height:r,scale:s.axis==="y"?o:i}),a)}):null};T8.propTypes={width:R.number.isRequired,height:R.number.isRequired,xScale:R.func.isRequired,yScale:R.func.isRequired,markers:R.arrayOf(R.shape({axis:R.oneOf(["x","y"]).isRequired,value:R.oneOfType([R.number,R.string,R.instanceOf(Date)]).isRequired,lineStyle:R.object,textStyle:R.object}))};var aOe=b.memo(T8),lOe=["theme","renderWrapper","animate","motionConfig"],j8=function(e){return function(t){var n,r;function i(){return t.apply(this,arguments)||this}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Rw(n,r),i.prototype.render=function(){var o=this.props,s=o.theme,a=o.renderWrapper,l=o.animate,c=o.motionConfig,u=r2(o,lOe);return d.jsx(g8,{theme:s,renderWrapper:a,isInteractive:u.isInteractive,animate:l,motionConfig:c,children:d.jsx(e,Kn({},u))})},i}(b.Component)},cOe=function(e,t){var n,r=vw(e)?e:function(i){return sl(i,e)};return t&&(n=vw(t)?t:T0(t)),n?function(i){return n(r(i))}:r},uOe=function(e,t,n,r,i,o){return e<=i&&i<=e+n&&t<=o&&o<=t+r},E8=function(e,t){var n,r=t.clientX,i=t.clientY,o=e.getBoundingClientRect(),s=(n=e.getBBox!==void 0?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}).width===o.width?1:n.width/o.width;return[(r-o.left)*s,(i-o.top)*s]},dOe=Object.keys(y8),fOe=Object.keys(_8),hOe=function(e,t,n){if(e==="*")return!0;if(vw(e))return e(t);if(Zye(e)){var r=n?sl(t,n):t;return jke(Pje(r,Object.keys(e)),e)}return!1},pOe=function(e,t,n,r){var i=r===void 0?{}:r,o=i.dataKey,s=i.colorKey,a=s===void 0?"color":s,l=i.targetKey,c=l===void 0?"fill":l,u=[],f={};return e.length&&t.length&&(u=[].concat(e),t.forEach(function(h){for(var m=function(){var g=n[p],_=g.id,x=g.match;if(hOe(x,h,o)){var S=e.find(function($){return $.id===_});if(S){if(fOe.includes(S.type))if(S.background==="inherit"||S.color==="inherit"){var C=sl(h,a),j=S.background,k=S.color,T=_;S.background==="inherit"&&(T=T+".bg."+C,j=C),S.color==="inherit"&&(T=T+".fg."+C,k=C),Ua(h,c,"url(#"+T+")"),f[T]||(u.push(Kn({},S,{id:T,background:j,color:k})),f[T]=1)}else Ua(h,c,"url(#"+_+")");else if(dOe.includes(S.type))if(S.colors.map(function($){return $.color}).includes("inherit")){var y=sl(h,a),P=_,A=Kn({},S,{colors:S.colors.map(function($,L){return $.color!=="inherit"?$:(P=P+"."+L+"."+y,Kn({},$,{color:$.color==="inherit"?y:$.color}))})});A.id=P,Ua(h,c,"url(#"+P+")"),f[P]||(u.push(A),f[P]=1)}else Ua(h,c,"url(#"+_+")")}return"break"}},p=0;p<n.length&&m()!=="break";p++);})),u};function s2(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function k8(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function yh(){}var qf=.7,pg=1/qf,zc="\\s*([+-]?\\d+)\\s*",Vf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mOe=/^#([0-9a-f]{3,8})$/,gOe=new RegExp(`^rgb\\(${zc},${zc},${zc}\\)$`),vOe=new RegExp(`^rgb\\(${jo},${jo},${jo}\\)$`),bOe=new RegExp(`^rgba\\(${zc},${zc},${zc},${Vf}\\)$`),yOe=new RegExp(`^rgba\\(${jo},${jo},${jo},${Vf}\\)$`),_Oe=new RegExp(`^hsl\\(${Vf},${jo},${jo}\\)$`),xOe=new RegExp(`^hsla\\(${Vf},${jo},${jo},${Vf}\\)$`),bN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s2(yh,a2,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yN,formatHex:yN,formatHex8:wOe,formatHsl:SOe,formatRgb:_N,toString:_N});function yN(){return this.rgb().formatHex()}function wOe(){return this.rgb().formatHex8()}function SOe(){return M8(this).formatHsl()}function _N(){return this.rgb().formatRgb()}function a2(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=mOe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xN(t):n===3?new Gr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=gOe.exec(e))?new Gr(t[1],t[2],t[3],1):(t=vOe.exec(e))?new Gr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bOe.exec(e))?wp(t[1],t[2],t[3],t[4]):(t=yOe.exec(e))?wp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_Oe.exec(e))?CN(t[1],t[2]/100,t[3]/100,1):(t=xOe.exec(e))?CN(t[1],t[2]/100,t[3]/100,t[4]):bN.hasOwnProperty(e)?xN(bN[e]):e==="transparent"?new Gr(NaN,NaN,NaN,0):null}function xN(e){return new Gr(e>>16&255,e>>8&255,e&255,1)}function wp(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gr(e,t,n,r)}function COe(e){return e instanceof yh||(e=a2(e)),e?(e=e.rgb(),new Gr(e.r,e.g,e.b,e.opacity)):new Gr}function O8(e,t,n,r){return arguments.length===1?COe(e):new Gr(e,t,n,r??1)}function Gr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}s2(Gr,O8,k8(yh,{brighter(e){return e=e==null?pg:Math.pow(pg,e),new Gr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qf:Math.pow(qf,e),new Gr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gr(ll(this.r),ll(this.g),ll(this.b),mg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wN,formatHex:wN,formatHex8:TOe,formatRgb:SN,toString:SN}));function wN(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}`}function TOe(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}${Ka((isNaN(this.opacity)?1:this.opacity)*255)}`}function SN(){const e=mg(this.opacity);return`${e===1?"rgb(":"rgba("}${ll(this.r)}, ${ll(this.g)}, ${ll(this.b)}${e===1?")":`, ${e})`}`}function mg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ll(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ka(e){return e=ll(e),(e<16?"0":"")+e.toString(16)}function CN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hi(e,t,n,r)}function M8(e){if(e instanceof Hi)return new Hi(e.h,e.s,e.l,e.opacity);if(e instanceof yh||(e=a2(e)),!e)return new Hi;if(e instanceof Hi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Hi(s,a,l,e.opacity)}function jOe(e,t,n,r){return arguments.length===1?M8(e):new Hi(e,t,n,r??1)}function Hi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}s2(Hi,jOe,k8(yh,{brighter(e){return e=e==null?pg:Math.pow(pg,e),new Hi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qf:Math.pow(qf,e),new Hi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Gr(by(e>=240?e-240:e+120,i,r),by(e,i,r),by(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Hi(TN(this.h),Sp(this.s),Sp(this.l),mg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mg(this.opacity);return`${e===1?"hsl(":"hsla("}${TN(this.h)}, ${Sp(this.s)*100}%, ${Sp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function TN(e){return e=(e||0)%360,e<0?e+360:e}function Sp(e){return Math.max(0,Math.min(1,e||0))}function by(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gg.apply(this,arguments)}function jN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EOe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(i,o){if(i){if(typeof i=="string")return jN(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?jN(i,o):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N8={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:j6,accent:E6,dark2:k6,paired:O6,pastel1:M6,pastel2:N6,set1:P6,set2:A6,set3:qC},kOe=Object.keys(N8),P8={brown_blueGreen:Gv,purpleRed_green:Kv,pink_yellowGreen:Yv,purple_orange:Zv,red_blue:Qv,red_grey:Jv,red_yellow_blue:Xv,red_yellow_green:e0,spectral:t0},OOe=Object.keys(P8),MOe={brown_blueGreen:FCe,purpleRed_green:zCe,pink_yellowGreen:BCe,purple_orange:WCe,red_blue:HCe,red_grey:qCe,red_yellow_blue:VCe,red_yellow_green:UCe,spectral:GCe},A8={blues:p0,greens:m0,greys:g0,oranges:y0,purples:v0,reds:b0,blue_green:n0,blue_purple:r0,green_blue:i0,orange_red:o0,purple_blue_green:s0,purple_blue:a0,purple_red:l0,red_purple:c0,yellow_green_blue:u0,yellow_green:d0,yellow_orange_brown:f0,yellow_orange_red:h0},NOe=Object.keys(A8),POe={blues:s2e,greens:a2e,greys:l2e,oranges:d2e,purples:c2e,reds:u2e,turbo:_2e,viridis:x2e,inferno:S2e,magma:w2e,plasma:C2e,cividis:f2e,warm:p2e,cool:m2e,cubehelixDefault:h2e,blue_green:KCe,blue_purple:YCe,green_blue:ZCe,orange_red:QCe,purple_blue_green:JCe,purple_blue:XCe,purple_red:e2e,red_purple:t2e,yellow_green_blue:n2e,yellow_green:r2e,yellow_orange_brown:i2e,yellow_orange_red:o2e},nm=gg({},N8,P8,A8),AOe=Object.keys(nm),ROe=function(e){return kOe.includes(e)},$Oe=function(e){return OOe.includes(e)},IOe=function(e){return NOe.includes(e)},DOe={rainbow:g2e,sinebow:y2e};gg({},MOe,POe,DOe);var LOe=function(e,t){if(typeof e=="function")return e;if(Xa.isPlainObject(e)){if(function(l){return l.theme!==void 0}(e)){if(t===void 0)throw new Error("Unable to use color from theme as no theme was provided");var n=Xa.get(t,e.theme);if(n===void 0)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return n}}if(function(l){return l.from!==void 0}(e)){var r=function(l){return Xa.get(l,e.from)};if(Array.isArray(e.modifiers)){for(var i,o=[],s=function(){var l=i.value,c=l[0],u=l[1];if(c==="brighter")o.push(function(f){return f.brighter(u)});else if(c==="darker")o.push(function(f){return f.darker(u)});else{if(c!=="opacity")throw new Error("Invalid color modifier: '"+c+"', must be one of: 'brighter', 'darker', 'opacity'");o.push(function(f){return f.opacity=u,f})}},a=EOe(e.modifiers);!(i=a()).done;)s();return o.length===0?r:function(l){return o.reduce(function(c,u){return u(c)},O8(r(l))).toString()}}return r}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}},vg=function(e,t){return b.useMemo(function(){return LOe(e,t)},[e,t])},FOe=R.oneOfType([R.func,R.arrayOf(R.string),R.shape({scheme:R.oneOf(AOe).isRequired,size:R.number}),R.shape({datum:R.string.isRequired}),R.string]);R.oneOfType([R.string,R.func,R.shape({theme:R.string.isRequired}),R.shape({from:R.string.isRequired,modifiers:R.arrayOf(R.array)})]);var zOe=function(e,t){if(typeof e=="function")return e;var n=typeof t=="function"?t:function(f){return Xa.get(f,t)};if(Array.isArray(e)){var r=Ga(e),i=function(f){return r(n(f))};return i.scale=r,i}if(Xa.isPlainObject(e)){if(function(f){return f.datum!==void 0}(e))return function(f){return Xa.get(f,e.datum)};if(function(f){return f.scheme!==void 0}(e)){if(ROe(e.scheme)){var o=Ga(nm[e.scheme]),s=function(f){return o(n(f))};return s.scale=o,s}if($Oe(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var a=Ga(nm[e.scheme][e.size||11]),l=function(f){return a(n(f))};return l.scale=a,l}if(IOe(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var c=Ga(nm[e.scheme][e.size||9]),u=function(f){return c(n(f))};return u.scale=c,u}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}},BOe=function(e,t){return b.useMemo(function(){return zOe(e,t)},[e,t])};function WOe(){}var HOe=WOe,yy=o8,qOe=HOe,VOe=e2,UOe=1/0,GOe=yy&&1/VOe(new yy([,-0]))[1]==UOe?function(e){return new yy(e)}:qOe,KOe=GOe,YOe=VC,ZOe=R6,QOe=$6,JOe=UC,XOe=KOe,eMe=e2,tMe=200;function nMe(e,t,n){var r=-1,i=ZOe,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=QOe;else if(o>=tMe){var c=t?null:XOe(e);if(c)return eMe(c);s=!1,i=JOe,l=new YOe}else l=t?[]:a;e:for(;++r<o;){var u=e[r],f=t?t(u):u;if(u=n||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),a.push(u)}else i(l,f,n)||(l!==a&&l.push(f),a.push(u))}return a}var R8=nMe,rMe=R8;function iMe(e){return e&&e.length?rMe(e):[]}var oMe=iMe;const EN=zr(oMe);var sMe=wC,aMe=n2,lMe=1,cMe=2;function uMe(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var l=a[0],c=e[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in e))return!1}else{var f=new sMe;if(r)var h=r(c,u,l,e,t,f);if(!(h===void 0?aMe(u,c,lMe|cMe,r,f):h))return!1}}return!0}var dMe=uMe,fMe=gs;function hMe(e){return e===e&&!fMe(e)}var $8=hMe,pMe=$8,mMe=t2;function gMe(e){for(var t=mMe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,pMe(i)]}return t}var vMe=gMe;function bMe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var I8=bMe,yMe=dMe,_Me=vMe,xMe=I8;function wMe(e){var t=_Me(e);return t.length==1&&t[0][2]?xMe(t[0][0],t[0][1]):function(n){return n===e||yMe(n,e,t)}}var SMe=wMe,CMe=n2,TMe=zD,jMe=e8,EMe=OC,kMe=$8,OMe=I8,MMe=gh,NMe=1,PMe=2;function AMe(e,t){return EMe(e)&&kMe(t)?OMe(MMe(e),t):function(n){var r=TMe(n,e);return r===void 0&&r===t?jMe(n,e):CMe(t,r,NMe|PMe)}}var RMe=AMe;function $Me(e){return function(t){return t==null?void 0:t[e]}}var IMe=$Me,DMe=Fv;function LMe(e){return function(t){return DMe(t,e)}}var FMe=LMe,zMe=IMe,BMe=FMe,WMe=OC,HMe=gh;function qMe(e){return WMe(e)?zMe(HMe(e)):BMe(e)}var VMe=qMe,UMe=SMe,GMe=RMe,KMe=Iv,YMe=Ji,ZMe=VMe;function QMe(e){return typeof e=="function"?e:e==null?KMe:typeof e=="object"?YMe(e)?GMe(e[0],e[1]):UMe(e):ZMe(e)}var D8=QMe,JMe=D8,XMe=R8;function eNe(e,t){return e&&e.length?XMe(e,JMe(t)):[]}var tNe=eNe;const nNe=zr(tNe);var rNe=xD,iNe=t2;function oNe(e,t){return e&&rNe(e,t,iNe)}var sNe=oNe,aNe=Tu;function lNe(e,t){return function(n,r){if(n==null)return n;if(!aNe(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var cNe=lNe,uNe=sNe,dNe=cNe,fNe=dNe(uNe),hNe=fNe,pNe=hNe,mNe=Tu;function gNe(e,t){var n=-1,r=mNe(e)?Array(e.length):[];return pNe(e,function(i,o,s){r[++n]=t(i,o,s)}),r}var vNe=gNe;function bNe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var yNe=bNe,kN=Dv;function _Ne(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=kN(e),s=t!==void 0,a=t===null,l=t===t,c=kN(t);if(!a&&!c&&!o&&e>t||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var xNe=_Ne,wNe=xNe;function SNe(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var l=wNe(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return e.index-t.index}var CNe=SNe,_y=NC,TNe=Fv,jNe=D8,ENe=vNe,kNe=yNe,ONe=Rv,MNe=CNe,NNe=Iv,PNe=Ji;function ANe(e,t,n){t.length?t=_y(t,function(o){return PNe(o)?function(s){return TNe(s,o.length===1?o[0]:o)}:o}):t=[NNe];var r=-1;t=_y(t,ONe(jNe));var i=ENe(e,function(o,s,a){var l=_y(t,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return kNe(i,function(o,s){return MNe(o,s,n)})}var RNe=ANe,$Ne=r8,INe=RNe,DNe=kC,ON=DD,LNe=DNe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&ON(e,t[0],t[1])?t=[]:n>2&&ON(t[0],t[1],t[2])&&(t=[t[0]]),INe(e,$Ne(t,1),[])}),FNe=LNe;const zNe=zr(FNe);var BNe=El,WNe=fa,HNe="[object Date]";function qNe(e){return WNe(e)&&BNe(e)==HNe}var VNe=qNe,UNe=VNe,GNe=Rv,MN=OD,NN=MN&&MN.isDate,KNe=NN?GNe(NN):UNe,YNe=KNe;const ZNe=zr(YNe);var xy=new Date,wy=new Date;function or(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return e(o=new Date(+o)),o},i.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},i.round=function(o){var s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=function(o,s){return t(o=new Date(+o),s==null?1:Math.floor(s)),o},i.range=function(o,s,a){var l=[],c;if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;do l.push(c=new Date(+o)),t(o,a),e(o);while(c<o&&o<s);return l},i.filter=function(o){return or(function(s){if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},function(s,a){if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););})},n&&(i.count=function(o,s){return xy.setTime(+o),wy.setTime(+s),e(xy),e(wy),Math.floor(n(xy,wy))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(s){return r(s)%o===0}:function(s){return i.count(0,s)%o===0}):i}),i}var bg=or(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});bg.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?or(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):bg};const PN=bg;bg.range;var yg=1e3,tu=6e4,_g=36e5,L8=6048e5,F8=or(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*yg)},function(e,t){return(t-e)/yg},function(e){return e.getUTCSeconds()});const AN=F8;F8.range;var z8=or(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*yg)},function(e,t){e.setTime(+e+t*tu)},function(e,t){return(t-e)/tu},function(e){return e.getMinutes()});const QNe=z8;z8.range;var B8=or(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*yg-e.getMinutes()*tu)},function(e,t){e.setTime(+e+t*_g)},function(e,t){return(t-e)/_g},function(e){return e.getHours()});const JNe=B8;B8.range;function Al(e){return or(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*tu)/L8})}var zw=Al(0),W8=Al(1),H8=Al(2),q8=Al(3),V8=Al(4),U8=Al(5),G8=Al(6);zw.range;W8.range;H8.range;q8.range;V8.range;U8.range;G8.range;var K8=or(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});const XNe=K8;K8.range;var l2=or(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});l2.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:or(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};const ePe=l2;l2.range;var Y8=or(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*tu)},function(e,t){return(t-e)/tu},function(e){return e.getUTCMinutes()});const tPe=Y8;Y8.range;var Z8=or(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*_g)},function(e,t){return(t-e)/_g},function(e){return e.getUTCHours()});const nPe=Z8;Z8.range;function Rl(e){return or(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/L8})}var Bw=Rl(0),Q8=Rl(1),J8=Rl(2),X8=Rl(3),eL=Rl(4),tL=Rl(5),nL=Rl(6);Bw.range;Q8.range;J8.range;X8.range;eL.range;tL.range;nL.range;var rL=or(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});const rPe=rL;rL.range;var c2=or(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});c2.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:or(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};const iPe=c2;c2.range;function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$a.apply(this,arguments)}var nc=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],oPe={millisecond:[],second:nc.slice(0,1),minute:nc.slice(0,2),hour:nc.slice(0,3),day:nc.slice(0,4),month:nc.slice(0,5),year:nc.slice(0,6)},sPe=function(e){return function(t){return oPe[e].forEach(function(n){n(t)}),t}},iL=function(e){var t=e.format,n=t===void 0?"native":t,r=e.precision,i=r===void 0?"millisecond":r,o=e.useUTC,s=o===void 0||o,a=sPe(i);return function(l){if(l===void 0)return l;if(n==="native"||l instanceof Date)return a(l);var c=s?T6(n):S6(n);return a(c(l))}},aPe=function(e,t,n,r){var i,o,s,a,l=e.min,c=l===void 0?0:l,u=e.max,f=u===void 0?"auto":u,h=e.stacked,m=h!==void 0&&h,p=e.reverse,g=p!==void 0&&p,_=e.clamp,x=_!==void 0&&_,S=e.nice,C=S!==void 0&&S;c==="auto"?i=m===!0?(o=t.minStacked)!=null?o:0:t.min:i=c,f==="auto"?s=m===!0?(a=t.maxStacked)!=null?a:0:t.max:s=f;var j=t6().rangeRound(r==="x"?[0,n]:[n,0]).domain(g?[s,i]:[i,s]).clamp(x);return C===!0?j.nice():typeof C=="number"&&j.nice(C),lPe(j,m)},lPe=function(e,t){t===void 0&&(t=!1);var n=e;return n.type="linear",n.stacked=t,n},cPe=function(e,t,n){var r=Q1e().range([0,n]).domain(t.all);return r.type="point",r},uPe=function(e,t,n,r){var i=e.round,o=i===void 0||i,s=LC().range(r==="x"?[0,n]:[n,0]).domain(t.all).round(o);return dPe(s)},dPe=function(e){var t=e;return t.type="band",t},fPe=function(e,t,n){var r,i,o=e.format,s=o===void 0?"native":o,a=e.precision,l=a===void 0?"millisecond":a,c=e.min,u=c===void 0?"auto":c,f=e.max,h=f===void 0?"auto":f,m=e.useUTC,p=m===void 0||m,g=e.nice,_=g!==void 0&&g,x=iL({format:s,precision:l,useUTC:p});r=u==="auto"?x(t.min):s!=="native"?x(u):u,i=h==="auto"?x(t.max):s!=="native"?x(h):h;var S=p?LCe():DCe();S.range([0,n]),r&&i&&S.domain([r,i]),_===!0?S.nice():typeof _!="object"&&typeof _!="number"||S.nice(_);var C=S;return C.type="time",C.useUTC=p,C},hPe=function(e,t,n,r){var i,o=e.base,s=o===void 0?10:o,a=e.min,l=a===void 0?"auto":a,c=e.max,u=c===void 0?"auto":c;if(t.all.some(function(g){return g===0}))throw new Error("a log scale domain must not include or cross zero");var f,h,m=!1;if(t.all.filter(function(g){return g!=null}).forEach(function(g){m||(i===void 0?i=Math.sign(g):Math.sign(g)!==i&&(m=!0))}),m)throw new Error("a log scale domain must be strictly-positive or strictly-negative");f=l==="auto"?t.min:l,h=u==="auto"?t.max:u;var p=r6().domain([f,h]).rangeRound(r==="x"?[0,n]:[n,0]).base(s).nice();return p.type="log",p},pPe=function(e,t,n,r){var i,o,s=e.constant,a=s===void 0?1:s,l=e.min,c=l===void 0?"auto":l,u=e.max,f=u===void 0?"auto":u,h=e.reverse,m=h!==void 0&&h;i=c==="auto"?t.min:c,o=f==="auto"?t.max:f;var p=i6().constant(a).rangeRound(r==="x"?[0,n]:[n,0]).nice();m===!0?p.domain([o,i]):p.domain([i,o]);var g=p;return g.type="symlog",g},mPe=function(e){return e==="x"?"y":"x"},gPe=function(e,t){return e===t},vPe=function(e,t){return e.getTime()===t.getTime()};function RN(e,t,n,r){switch(e.type){case"linear":return aPe(e,t,n,r);case"point":return cPe(e,t,n);case"band":return uPe(e,t,n,r);case"time":return fPe(e,t,n);case"log":return hPe(e,t,n,r);case"symlog":return pPe(e,t,n,r);default:throw new Error("invalid scale spec")}}var $N=function(e,t,n){var r;if("stacked"in n&&n.stacked){var i=e.data[t==="x"?"xStacked":"yStacked"];return i==null?null:n(i)}return(r=n(e.data[t]))!=null?r:null},bPe=function(e,t,n,r,i){var o=e.map(function(u){return function(f){return $a({},f,{data:f.data.map(function(h){return{data:$a({},h)}})})}(u)}),s=yPe(o,t,n);"stacked"in t&&t.stacked===!0&&_Pe(s,o),"stacked"in n&&n.stacked===!0&&xPe(s,o);var a=RN(t,s.x,r,"x"),l=RN(n,s.y,i,"y"),c=o.map(function(u){return $a({},u,{data:u.data.map(function(f){return $a({},f,{position:{x:$N(f,"x",a),y:$N(f,"y",l)}})})})});return $a({},s,{series:c,xScale:a,yScale:l})},yPe=function(e,t,n){return{x:IN(e,"x",t),y:IN(e,"y",n)}},IN=function(e,t,n,r){var i=r===void 0?{}:r,o=i.getValue,s=o===void 0?function(p){return p.data[t]}:o,a=i.setValue,l=a===void 0?function(p,g){p.data[t]=g}:a;if(n.type==="linear")e.forEach(function(p){p.data.forEach(function(g){var _=s(g);_&&l(g,parseFloat(String(_)))})});else if(n.type==="time"&&n.format!=="native"){var c=iL(n);e.forEach(function(p){p.data.forEach(function(g){var _=s(g);_&&l(g,c(_))})})}var u=[];switch(e.forEach(function(p){p.data.forEach(function(g){u.push(s(g))})}),n.type){case"linear":var f=zNe(EN(u).filter(function(p){return p!==null}),function(p){return p});return{all:f,min:Math.min.apply(Math,f),max:Math.max.apply(Math,f)};case"time":var h=nNe(u,function(p){return p.getTime()}).slice(0).sort(function(p,g){return g.getTime()-p.getTime()}).reverse();return{all:h,min:h[0],max:xt(h)};default:var m=EN(u);return{all:m,min:m[0],max:xt(m)}}},oL=function(e,t,n){var r=mPe(e),i=[];t[r].all.forEach(function(o){var s=ZNe(o)?vPe:gPe,a=[];n.forEach(function(l){var c=l.data.find(function(m){return s(m.data[r],o)}),u=null,f=null;if(c!==void 0){if((u=c.data[e])!==null){var h=xt(a);h===void 0?f=u:h!==null&&(f=h+u)}c.data[e==="x"?"xStacked":"yStacked"]=f}a.push(f),f!==null&&i.push(f)})}),t[e].minStacked=Math.min.apply(Math,i),t[e].maxStacked=Math.max.apply(Math,i)},_Pe=function(e,t){return oL("x",e,t)},xPe=function(e,t){return oL("y",e,t)},sL=function(e){var t=e.bandwidth();if(t===0)return e;var n=t/2;return e.round()&&(n=Math.round(n)),function(r){var i;return((i=e(r))!=null?i:0)+n}},aL={millisecond:[PN,PN],second:[AN,AN],minute:[QNe,tPe],hour:[JNe,nPe],day:[or(function(e){return e.setHours(0,0,0,0)},function(e,t){return e.setDate(e.getDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),or(function(e){return e.setUTCHours(0,0,0,0)},function(e,t){return e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)})],week:[zw,Bw],sunday:[zw,Bw],monday:[W8,Q8],tuesday:[H8,J8],wednesday:[q8,X8],thursday:[V8,eL],friday:[U8,tL],saturday:[G8,nL],month:[XNe,rPe],year:[ePe,iPe]},wPe=Object.keys(aL),SPe=new RegExp("^every\\s*(\\d+)?\\s*("+wPe.join("|")+")s?$","i"),lL=function(e,t){if(Array.isArray(t))return t;if(typeof t=="string"&&"useUTC"in e){var n=t.match(SPe);if(n){var r=n[1],i=n[2],o=aL[i][e.useUTC?1:0];if(i==="day"){var s,a,l=e.domain(),c=l[0],u=l[1],f=new Date(u);return f.setDate(f.getDate()+1),(s=(a=o.every(Number(r??1)))==null?void 0:a.range(c,f))!=null?s:[]}if(r===void 0)return e.ticks(o);var h=o.every(Number(r));if(h)return e.ticks(h)}throw new Error("Invalid tickValues: "+t)}if("ticks"in e){if(t===void 0)return e.ticks();if(typeof(m=t)=="number"&&isFinite(m)&&Math.floor(m)===m)return e.ticks(t)}var m;return e.domain()};function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zi.apply(this,arguments)}var cL=function(e){var t,n=e.axis,r=e.scale,i=e.ticksPosition,o=e.tickValues,s=e.tickSize,a=e.tickPadding,l=e.tickRotation,c=e.engine,u=c===void 0?"svg":c,f=lL(r,o),h=tOe[u],m="bandwidth"in r?sL(r):r,p={lineX:0,lineY:0},g={textX:0,textY:0},_=typeof document=="object"&&document.dir==="rtl",x=h.align.center,S=h.baseline.center;return n==="x"?(t=function(C){var j;return{x:(j=m(C))!=null?j:0,y:0}},p.lineY=s*(i==="after"?1:-1),g.textY=(s+a)*(i==="after"?1:-1),S=i==="after"?h.baseline.top:h.baseline.bottom,l===0?x=h.align.center:i==="after"&&l<0||i==="before"&&l>0?(x=h.align[_?"left":"right"],S=h.baseline.center):(i==="after"&&l>0||i==="before"&&l<0)&&(x=h.align[_?"right":"left"],S=h.baseline.center)):(t=function(C){var j;return{x:0,y:(j=m(C))!=null?j:0}},p.lineX=s*(i==="after"?1:-1),g.textX=(s+a)*(i==="after"?1:-1),x=i==="after"?h.align.left:h.align.right),{ticks:f.map(function(C){return Zi({key:C instanceof Date?""+C.valueOf():""+C,value:C},t(C),p,g)}),textAlign:x,textBaseline:S}},uL=function(e,t){if(e===void 0||typeof e=="function")return e;if(t.type==="time"){var n=Uv(e);return function(r){return n(r instanceof Date?r:new Date(r))}}return T0(e)},Ww=function(e){var t,n=e.width,r=e.height,i=e.scale,o=e.axis,s=e.values,a=(t=s,(Array.isArray(t)?s:void 0)||lL(i,s)),l="bandwidth"in i?sL(i):i,c=o==="x"?a.map(function(u){var f,h;return{key:u instanceof Date?""+u.valueOf():""+u,x1:(f=l(u))!=null?f:0,x2:(h=l(u))!=null?h:0,y1:0,y2:r}}):a.map(function(u){var f,h;return{key:u instanceof Date?""+u.valueOf():""+u,x1:0,x2:n,y1:(f=l(u))!=null?f:0,y2:(h=l(u))!=null?h:0}});return c},CPe=b.memo(function(e){var t,n=e.value,r=e.format,i=e.lineX,o=e.lineY,s=e.onClick,a=e.textBaseline,l=e.textAnchor,c=e.animatedProps,u=kr(),f=(t=r==null?void 0:r(n))!=null?t:n,h=b.useMemo(function(){var m={opacity:c.opacity};return s?{style:Zi({},m,{cursor:"pointer"}),onClick:function(p){return s(p,f)}}:{style:m}},[c.opacity,s,f]);return d.jsxs(Ao.g,Zi({transform:c.transform},h,{children:[d.jsx("line",{x1:0,x2:i,y1:0,y2:o,style:u.axis.ticks.line}),d.jsx(Ao.text,{dominantBaseline:a,textAnchor:l,transform:c.textTransform,style:u.axis.ticks.text,children:""+f})]}))}),TPe=b.memo(function(e){var t=e.axis,n=e.scale,r=e.x,i=r===void 0?0:r,o=e.y,s=o===void 0?0:o,a=e.length,l=e.ticksPosition,c=e.tickValues,u=e.tickSize,f=u===void 0?5:u,h=e.tickPadding,m=h===void 0?5:h,p=e.tickRotation,g=p===void 0?0:p,_=e.format,x=e.renderTick,S=x===void 0?CPe:x,C=e.legend,j=e.legendPosition,k=j===void 0?"end":j,T=e.legendOffset,y=T===void 0?0:T,P=e.onClick,A=e.ariaHidden,$=kr(),L=b.useMemo(function(){return uL(_,n)},[_,n]),U=cL({axis:t,scale:n,ticksPosition:l,tickValues:c,tickSize:f,tickPadding:m,tickRotation:g}),F=U.ticks,H=U.textAlign,q=U.textBaseline,re=null;if(C!==void 0){var G,Y=0,te=0,ne=0;t==="y"?(ne=-90,Y=y,k==="start"?(G="start",te=a):k==="middle"?(G="middle",te=a/2):k==="end"&&(G="end")):(te=y,k==="start"?G="start":k==="middle"?(G="middle",Y=a/2):k==="end"&&(G="end",Y=a)),re=d.jsx("text",{transform:"translate("+Y+", "+te+") rotate("+ne+")",textAnchor:G,style:Zi({dominantBaseline:"central"},$.axis.legend.text),children:C})}var B=Pl(),Q=B.animate,K=B.config,de=_u({transform:"translate("+i+","+s+")",lineX2:t==="x"?a:0,lineY2:t==="x"?0:a,config:K,immediate:!Q}),X=lD(F,{keys:function(J){return J.key},initial:function(J){return{opacity:1,transform:"translate("+J.x+","+J.y+")",textTransform:"translate("+J.textX+","+J.textY+") rotate("+g+")"}},from:function(J){return{opacity:0,transform:"translate("+J.x+","+J.y+")",textTransform:"translate("+J.textX+","+J.textY+") rotate("+g+")"}},enter:function(J){return{opacity:1,transform:"translate("+J.x+","+J.y+")",textTransform:"translate("+J.textX+","+J.textY+") rotate("+g+")"}},update:function(J){return{opacity:1,transform:"translate("+J.x+","+J.y+")",textTransform:"translate("+J.textX+","+J.textY+") rotate("+g+")"}},leave:{opacity:0},config:K,immediate:!Q});return d.jsxs(Ao.g,{transform:de.transform,"aria-hidden":A,children:[X(function(J,ue,xe,_e){return b.createElement(S,Zi({tickIndex:_e,format:L,rotate:g,textBaseline:q,textAnchor:H,animatedProps:J},ue,P?{onClick:P}:{}))}),d.jsx(Ao.line,{style:$.axis.domain.line,x1:0,x2:de.lineX2,y1:0,y2:de.lineY2}),re]})}),jPe={ticksPosition:R.oneOf(["before","after"]),tickValues:R.oneOfType([R.number,R.arrayOf(R.oneOfType([R.number,R.string,R.instanceOf(Date)])),R.string]),tickSize:R.number,tickPadding:R.number,tickRotation:R.number,format:R.oneOfType([R.func,R.string]),renderTick:R.func,legend:R.node,legendPosition:R.oneOf(["start","middle","end"]),legendOffset:R.number,ariaHidden:R.bool},Cp=R.shape(jPe),dL=["top","right","bottom","left"],EPe=b.memo(function(e){var t=e.xScale,n=e.yScale,r=e.width,i=e.height,o={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return d.jsx(d.Fragment,{children:dL.map(function(s){var a=o[s];if(!a)return null;var l=s==="top"||s==="bottom";return d.jsx(TPe,Zi({},a,{axis:l?"x":"y",x:s==="right"?r:0,y:s==="bottom"?i:0,scale:l?t:n,length:l?r:i,ticksPosition:s==="top"||s==="left"?"before":"after"}),s)})})}),kPe=b.memo(function(e){var t=e.animatedProps,n=kr();return d.jsx(Ao.line,Zi({},t,n.grid.line))}),DN=b.memo(function(e){var t=e.lines,n=Pl(),r=n.animate,i=n.config,o=lD(t,{keys:function(s){return s.key},initial:function(s){return{opacity:1,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},from:function(s){return{opacity:0,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},enter:function(s){return{opacity:1,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},update:function(s){return{opacity:1,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},leave:{opacity:0},config:i,immediate:!r});return d.jsx("g",{children:o(function(s,a){return b.createElement(kPe,Zi({},a,{key:a.key,animatedProps:s}))})})}),OPe=b.memo(function(e){var t=e.width,n=e.height,r=e.xScale,i=e.yScale,o=e.xValues,s=e.yValues,a=b.useMemo(function(){return!!r&&Ww({width:t,height:n,scale:r,axis:"x",values:o})},[r,o,t,n]),l=b.useMemo(function(){return!!i&&Ww({width:t,height:n,scale:i,axis:"y",values:s})},[n,t,i,s]);return d.jsxs(d.Fragment,{children:[a&&d.jsx(DN,{lines:a}),l&&d.jsx(DN,{lines:l})]})}),MPe=function(e,t){var n,r=t.axis,i=t.scale,o=t.x,s=o===void 0?0:o,a=t.y,l=a===void 0?0:a,c=t.length,u=t.ticksPosition,f=t.tickValues,h=t.tickSize,m=h===void 0?5:h,p=t.tickPadding,g=p===void 0?5:p,_=t.tickRotation,x=_===void 0?0:_,S=t.format,C=t.legend,j=t.legendPosition,k=j===void 0?"end":j,T=t.legendOffset,y=T===void 0?0:T,P=t.theme,A=cL({axis:r,scale:i,ticksPosition:u,tickValues:f,tickSize:m,tickPadding:g,tickRotation:x,engine:"canvas"}),$=A.ticks,L=A.textAlign,U=A.textBaseline;e.save(),e.translate(s,l),e.textAlign=L,e.textBaseline=U,e.font=(P.axis.ticks.text.fontWeight?P.axis.ticks.text.fontWeight+" ":"")+P.axis.ticks.text.fontSize+"px "+P.axis.ticks.text.fontFamily,((n=P.axis.domain.line.strokeWidth)!=null?n:0)>0&&(e.lineWidth=Number(P.axis.domain.line.strokeWidth),e.lineCap="square",P.axis.domain.line.stroke&&(e.strokeStyle=P.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo(r==="x"?c:0,r==="x"?0:c),e.stroke());var F=typeof S=="function"?S:function(Y){return""+Y};if($.forEach(function(Y){var te;((te=P.axis.ticks.line.strokeWidth)!=null?te:0)>0&&(e.lineWidth=Number(P.axis.ticks.line.strokeWidth),e.lineCap="square",P.axis.ticks.line.stroke&&(e.strokeStyle=P.axis.ticks.line.stroke),e.beginPath(),e.moveTo(Y.x,Y.y),e.lineTo(Y.x+Y.lineX,Y.y+Y.lineY),e.stroke());var ne=F(Y.value);e.save(),e.translate(Y.x+Y.textX,Y.y+Y.textY),e.rotate(hg(x)),P.axis.ticks.text.fill&&(e.fillStyle=P.axis.ticks.text.fill),e.fillText(String(ne),0,0),e.restore()}),C!==void 0){var H=0,q=0,re=0,G="center";r==="y"?(re=-90,H=y,k==="start"?(G="start",q=c):k==="middle"?(G="center",q=c/2):k==="end"&&(G="end")):(q=y,k==="start"?G="start":k==="middle"?(G="center",H=c/2):k==="end"&&(G="end",H=c)),e.translate(H,q),e.rotate(hg(re)),e.font=(P.axis.legend.text.fontWeight?P.axis.legend.text.fontWeight+" ":"")+P.axis.legend.text.fontSize+"px "+P.axis.legend.text.fontFamily,P.axis.legend.text.fill&&(e.fillStyle=P.axis.legend.text.fill),e.textAlign=G,e.textBaseline="middle",e.fillText(C,0,0)}e.restore()},NPe=function(e,t){var n=t.xScale,r=t.yScale,i=t.width,o=t.height,s=t.top,a=t.right,l=t.bottom,c=t.left,u=t.theme,f={top:s,right:a,bottom:l,left:c};dL.forEach(function(h){var m=f[h];if(!m)return null;var p=h==="top"||h==="bottom",g=h==="top"||h==="left"?"before":"after",_=p?n:r,x=uL(m.format,_);MPe(e,Zi({},m,{axis:p?"x":"y",x:h==="right"?i:0,y:h==="bottom"?o:0,scale:_,format:x,length:p?i:o,ticksPosition:g,theme:u}))})},LN=function(e,t){var n=t.width,r=t.height,i=t.scale,o=t.axis,s=t.values;Ww({width:n,height:r,scale:i,axis:o,values:s}).forEach(function(a){e.beginPath(),e.moveTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.stroke()})},PPe=function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,s=o===void 0?1:o,a=e.borderWidth,l=a===void 0?0:a,c=e.borderColor;return d.jsx("circle",{r:r/2,cx:t+r/2,cy:n+r/2,fill:i,opacity:s,strokeWidth:l,stroke:c===void 0?"transparent":c,style:{pointerEvents:"none"}})},APe=function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,s=o===void 0?1:o,a=e.borderWidth,l=a===void 0?0:a,c=e.borderColor;return d.jsx("g",{transform:"translate("+t+","+n+")",children:d.jsx("path",{d:`
                    M`+r/2+` 0
                    L`+.8*r+" "+r/2+`
                    L`+r/2+" "+r+`
                    L`+.2*r+" "+r/2+`
                    L`+r/2+` 0
                `,fill:i,opacity:s,strokeWidth:l,stroke:c===void 0?"transparent":c,style:{pointerEvents:"none"}})})},RPe=function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,s=o===void 0?1:o,a=e.borderWidth,l=a===void 0?0:a,c=e.borderColor;return d.jsx("rect",{x:t,y:n,fill:i,opacity:s,strokeWidth:l,stroke:c===void 0?"transparent":c,width:r,height:r,style:{pointerEvents:"none"}})},$Pe=function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,s=o===void 0?1:o,a=e.borderWidth,l=a===void 0?0:a,c=e.borderColor;return d.jsx("g",{transform:"translate("+t+","+n+")",children:d.jsx("path",{d:`
                M`+r/2+` 0
                L`+r+" "+r+`
                L0 `+r+`
                L`+r/2+` 0
            `,fill:i,opacity:s,strokeWidth:l,stroke:c===void 0?"transparent":c,style:{pointerEvents:"none"}})})};function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ya.apply(this,arguments)}var IPe={top:0,right:0,bottom:0,left:0},u2=function(e){var t,n=e.direction,r=e.itemsSpacing,i=e.padding,o=e.itemCount,s=e.itemWidth,a=e.itemHeight;if(typeof i!="number"&&(typeof(t=i)!="object"||Array.isArray(t)||t===null))throw new Error("Invalid property padding, must be one of: number, object");var l=typeof i=="number"?{top:i,right:i,bottom:i,left:i}:Ya({},IPe,i),c=l.left+l.right,u=l.top+l.bottom,f=s+c,h=a+u,m=(o-1)*r;return n==="row"?f=s*o+m+c:n==="column"&&(h=a*o+m+u),{width:f,height:h,padding:l}},fL=function(e){var t=e.anchor,n=e.translateX,r=e.translateY,i=e.containerWidth,o=e.containerHeight,s=e.width,a=e.height,l=n,c=r;switch(t){case"top":l+=(i-s)/2;break;case"top-right":l+=i-s;break;case"right":l+=i-s,c+=(o-a)/2;break;case"bottom-right":l+=i-s,c+=o-a;break;case"bottom":l+=(i-s)/2,c+=o-a;break;case"bottom-left":c+=o-a;break;case"left":c+=(o-a)/2;break;case"center":l+=(i-s)/2,c+=(o-a)/2}return{x:l,y:c}},hL=function(e){var t,n,r,i,o,s,a=e.direction,l=e.justify,c=e.symbolSize,u=e.symbolSpacing,f=e.width,h=e.height;switch(a){case"left-to-right":t=0,n=(h-c)/2,i=h/2,s="central",l?(r=f,o="end"):(r=c+u,o="start");break;case"right-to-left":t=f-c,n=(h-c)/2,i=h/2,s="central",l?(r=0,o="start"):(r=f-c-u,o="end");break;case"top-to-bottom":t=(f-c)/2,n=0,r=f/2,o="middle",l?(i=h,s="alphabetic"):(i=c+u,s="text-before-edge");break;case"bottom-to-top":t=(f-c)/2,n=h-c,r=f/2,o="middle",l?(i=0,s="text-before-edge"):(i=h-c-u,s="alphabetic")}return{symbolX:t,symbolY:n,labelX:r,labelY:i,labelAnchor:o,labelAlignment:s}},DPe={circle:PPe,diamond:APe,square:RPe,triangle:$Pe},LPe=function(e){var t,n,r,i,o,s,a,l,c,u,f,h=e.x,m=e.y,p=e.width,g=e.height,_=e.data,x=e.direction,S=x===void 0?"left-to-right":x,C=e.justify,j=C!==void 0&&C,k=e.textColor,T=e.background,y=T===void 0?"transparent":T,P=e.opacity,A=P===void 0?1:P,$=e.symbolShape,L=$===void 0?"square":$,U=e.symbolSize,F=U===void 0?16:U,H=e.symbolSpacing,q=H===void 0?8:H,re=e.symbolBorderWidth,G=re===void 0?0:re,Y=e.symbolBorderColor,te=Y===void 0?"transparent":Y,ne=e.onClick,B=e.onMouseEnter,Q=e.onMouseLeave,K=e.toggleSerie,de=e.effects,X=b.useState({}),J=X[0],ue=X[1],xe=kr(),_e=b.useCallback(function($e){if(de){var rt=de.filter(function(Ve){return Ve.on==="hover"}).reduce(function(Ve,mt){return Ya({},Ve,mt.style)},{});ue(rt)}B==null||B(_,$e)},[B,_,de]),he=b.useCallback(function($e){if(de){var rt=de.filter(function(Ve){return Ve.on!=="hover"}).reduce(function(Ve,mt){return Ya({},Ve,mt.style)},{});ue(rt)}Q==null||Q(_,$e)},[Q,_,de]),Z=hL({direction:S,justify:j,symbolSize:(t=J.symbolSize)!=null?t:F,symbolSpacing:q,width:p,height:g}),se=Z.symbolX,ie=Z.symbolY,be=Z.labelX,Ne=Z.labelY,Pe=Z.labelAnchor,ze=Z.labelAlignment,Oe=[ne,B,Q,K].some(function($e){return $e!==void 0}),qe=typeof L=="function"?L:DPe[L];return d.jsxs("g",{transform:"translate("+h+","+m+")",style:{opacity:(n=J.itemOpacity)!=null?n:A},children:[d.jsx("rect",{width:p,height:g,fill:(r=J.itemBackground)!=null?r:y,style:{cursor:Oe?"pointer":"auto"},onClick:function($e){ne==null||ne(_,$e),K==null||K(_.id)},onMouseEnter:_e,onMouseLeave:he}),b.createElement(qe,Ya({id:_.id,x:se,y:ie,size:(i=J.symbolSize)!=null?i:F,fill:(o=(s=_.fill)!=null?s:_.color)!=null?o:"black",borderWidth:(a=J.symbolBorderWidth)!=null?a:G,borderColor:(l=J.symbolBorderColor)!=null?l:te},_.hidden?xe.legends.hidden.symbol:void 0)),d.jsx("text",{textAnchor:Pe,style:Ya({},xe.legends.text,{fill:(c=(u=(f=J.itemTextColor)!=null?f:k)!=null?u:xe.legends.text.fill)!=null?c:"black",dominantBaseline:ze,pointerEvents:"none",userSelect:"none"},_.hidden?xe.legends.hidden.text:void 0),x:be,y:Ne,children:_.label})]})},FPe=function(e){var t=e.data,n=e.x,r=e.y,i=e.direction,o=e.padding,s=o===void 0?0:o,a=e.justify,l=e.effects,c=e.itemWidth,u=e.itemHeight,f=e.itemDirection,h=f===void 0?"left-to-right":f,m=e.itemsSpacing,p=m===void 0?0:m,g=e.itemTextColor,_=e.itemBackground,x=_===void 0?"transparent":_,S=e.itemOpacity,C=S===void 0?1:S,j=e.symbolShape,k=e.symbolSize,T=e.symbolSpacing,y=e.symbolBorderWidth,P=e.symbolBorderColor,A=e.onClick,$=e.onMouseEnter,L=e.onMouseLeave,U=e.toggleSerie,F=u2({itemCount:t.length,itemWidth:c,itemHeight:u,itemsSpacing:p,direction:i,padding:s}).padding,H=i==="row"?c+p:0,q=i==="column"?u+p:0;return d.jsx("g",{transform:"translate("+n+","+r+")",children:t.map(function(re,G){return d.jsx(LPe,{data:re,x:G*H+F.left,y:G*q+F.top,width:c,height:u,direction:h,justify:a,effects:l,textColor:g,background:x,opacity:C,symbolShape:j,symbolSize:k,symbolSpacing:T,symbolBorderWidth:y,symbolBorderColor:P,onClick:A,onMouseEnter:$,onMouseLeave:L,toggleSerie:U},G)})})},zPe=function(e){var t=e.data,n=e.containerWidth,r=e.containerHeight,i=e.translateX,o=i===void 0?0:i,s=e.translateY,a=s===void 0?0:s,l=e.anchor,c=e.direction,u=e.padding,f=u===void 0?0:u,h=e.justify,m=e.itemsSpacing,p=m===void 0?0:m,g=e.itemWidth,_=e.itemHeight,x=e.itemDirection,S=e.itemTextColor,C=e.itemBackground,j=e.itemOpacity,k=e.symbolShape,T=e.symbolSize,y=e.symbolSpacing,P=e.symbolBorderWidth,A=e.symbolBorderColor,$=e.onClick,L=e.onMouseEnter,U=e.onMouseLeave,F=e.toggleSerie,H=e.effects,q=u2({itemCount:t.length,itemsSpacing:p,itemWidth:g,itemHeight:_,direction:c,padding:f}),re=q.width,G=q.height,Y=fL({anchor:l,translateX:o,translateY:a,containerWidth:n,containerHeight:r,width:re,height:G}),te=Y.x,ne=Y.y;return d.jsx(FPe,{data:t,x:te,y:ne,direction:c,padding:f,justify:h,effects:H,itemsSpacing:p,itemWidth:g,itemHeight:_,itemDirection:x,itemTextColor:S,itemBackground:C,itemOpacity:j,symbolShape:k,symbolSize:T,symbolSpacing:y,symbolBorderWidth:P,symbolBorderColor:A,onClick:$,onMouseEnter:L,onMouseLeave:U,toggleSerie:typeof F=="boolean"?void 0:F})},BPe={start:"left",middle:"center",end:"right"},WPe=function(e,t){var n=t.data,r=t.containerWidth,i=t.containerHeight,o=t.translateX,s=o===void 0?0:o,a=t.translateY,l=a===void 0?0:a,c=t.anchor,u=t.direction,f=t.padding,h=f===void 0?0:f,m=t.justify,p=m!==void 0&&m,g=t.itemsSpacing,_=g===void 0?0:g,x=t.itemWidth,S=t.itemHeight,C=t.itemDirection,j=C===void 0?"left-to-right":C,k=t.itemTextColor,T=t.symbolSize,y=T===void 0?16:T,P=t.symbolSpacing,A=P===void 0?8:P,$=t.theme,L=u2({itemCount:n.length,itemWidth:x,itemHeight:S,itemsSpacing:_,direction:u,padding:h}),U=L.width,F=L.height,H=L.padding,q=fL({anchor:c,translateX:s,translateY:l,containerWidth:r,containerHeight:i,width:U,height:F}),re=q.x,G=q.y,Y=u==="row"?x+_:0,te=u==="column"?S+_:0;e.save(),e.translate(re,G),e.font=$.legends.text.fontSize+"px "+($.legends.text.fontFamily||"sans-serif"),n.forEach(function(ne,B){var Q,K,de=B*Y+H.left,X=B*te+H.top,J=hL({direction:j,justify:p,symbolSize:y,symbolSpacing:A,width:x,height:S}),ue=J.symbolX,xe=J.symbolY,_e=J.labelX,he=J.labelY,Z=J.labelAnchor,se=J.labelAlignment;e.fillStyle=(Q=ne.color)!=null?Q:"black",e.fillRect(de+ue,X+xe,y,y),e.textAlign=BPe[Z],se==="central"&&(e.textBaseline="middle"),e.fillStyle=(K=k??$.legends.text.fill)!=null?K:"black",e.fillText(String(ne.label),de+_e,X+he)}),e.restore()},HPe={data:R.arrayOf(R.object),anchor:R.oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:R.number,translateY:R.number,direction:R.oneOf(["row","column"]).isRequired,itemsSpacing:R.number,itemWidth:R.number.isRequired,itemHeight:R.number.isRequired,itemDirection:R.oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:R.string,itemBackground:R.string,itemOpacity:R.number,symbolShape:R.oneOfType([R.oneOf(["circle","diamond","square","triangle"]),R.func]),symbolSize:R.number,symbolSpacing:R.number,symbolBorderWidth:R.number,symbolBorderColor:R.string,onClick:R.func,onMouseEnter:R.func,onMouseLeave:R.func,effects:R.arrayOf(R.shape({on:R.oneOfType([R.oneOf(["hover"])]).isRequired,style:R.shape({itemTextColor:R.string,itemBackground:R.string,itemOpacity:R.number,symbolSize:R.number,symbolBorderWidth:R.number,symbolBorderColor:R.string}).isRequired}))};const FN=Math.pow(2,-52),Tp=new Uint32Array(512);class xg{static from(t,n=KPe,r=YPe){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new xg(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,c=-1/0,u=-1/0;for(let $=0;$<s;$++){const L=t[2*$],U=t[2*$+1];L<a&&(a=L),U<l&&(l=U),L>c&&(c=L),U>u&&(u=U),this._ids[$]=$}const f=(a+c)/2,h=(l+u)/2;let m=1/0,p,g,_;for(let $=0;$<s;$++){const L=Sy(f,h,t[2*$],t[2*$+1]);L<m&&(p=$,m=L)}const x=t[2*p],S=t[2*p+1];m=1/0;for(let $=0;$<s;$++){if($===p)continue;const L=Sy(x,S,t[2*$],t[2*$+1]);L<m&&L>0&&(g=$,m=L)}let C=t[2*g],j=t[2*g+1],k=1/0;for(let $=0;$<s;$++){if($===p||$===g)continue;const L=UPe(x,S,C,j,t[2*$],t[2*$+1]);L<k&&(_=$,k=L)}let T=t[2*_],y=t[2*_+1];if(k===1/0){for(let U=0;U<s;U++)this._dists[U]=t[2*U]-t[0]||t[2*U+1]-t[1];Tc(this._ids,this._dists,0,s-1);const $=new Uint32Array(s);let L=0;for(let U=0,F=-1/0;U<s;U++){const H=this._ids[U];this._dists[H]>F&&($[L++]=H,F=this._dists[H])}this.hull=$.subarray(0,L),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(jp(x,S,C,j,T,y)){const $=g,L=C,U=j;g=_,C=T,j=y,_=$,T=L,y=U}const P=GPe(x,S,C,j,T,y);this._cx=P.x,this._cy=P.y;for(let $=0;$<s;$++)this._dists[$]=Sy(t[2*$],t[2*$+1],P.x,P.y);Tc(this._ids,this._dists,0,s-1),this._hullStart=p;let A=3;r[p]=n[_]=g,r[g]=n[p]=_,r[_]=n[g]=p,i[p]=0,i[g]=1,i[_]=2,o.fill(-1),o[this._hashKey(x,S)]=p,o[this._hashKey(C,j)]=g,o[this._hashKey(T,y)]=_,this.trianglesLen=0,this._addTriangle(p,g,_,-1,-1,-1);for(let $=0,L,U;$<this._ids.length;$++){const F=this._ids[$],H=t[2*F],q=t[2*F+1];if($>0&&Math.abs(H-L)<=FN&&Math.abs(q-U)<=FN||(L=H,U=q,F===p||F===g||F===_))continue;let re=0;for(let B=0,Q=this._hashKey(H,q);B<this._hashSize&&(re=o[(Q+B)%this._hashSize],!(re!==-1&&re!==r[re]));B++);re=n[re];let G=re,Y;for(;Y=r[G],!jp(H,q,t[2*G],t[2*G+1],t[2*Y],t[2*Y+1]);)if(G=Y,G===re){G=-1;break}if(G===-1)continue;let te=this._addTriangle(G,F,r[G],-1,-1,i[G]);i[F]=this._legalize(te+2),i[G]=te,A++;let ne=r[G];for(;Y=r[ne],jp(H,q,t[2*ne],t[2*ne+1],t[2*Y],t[2*Y+1]);)te=this._addTriangle(ne,F,Y,i[F],-1,i[ne]),i[F]=this._legalize(te+2),r[ne]=ne,A--,ne=Y;if(G===re)for(;Y=n[G],jp(H,q,t[2*Y],t[2*Y+1],t[2*G],t[2*G+1]);)te=this._addTriangle(Y,F,G,-1,i[G],i[Y]),this._legalize(te+2),i[Y]=te,r[G]=G,A--,G=Y;this._hullStart=n[F]=G,r[G]=n[ne]=F,r[F]=ne,o[this._hashKey(H,q)]=F,o[this._hashKey(t[2*G],t[2*G+1])]=G}this.hull=new Uint32Array(A);for(let $=0,L=this._hullStart;$<A;$++)this.hull[$]=L,L=r[L];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(qPe(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=Tp[--o];continue}const c=a-a%3,u=l+(t+1)%3,f=c+(a+2)%3,h=n[s],m=n[t],p=n[u],g=n[f];if(VPe(i[2*h],i[2*h+1],i[2*m],i[2*m+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[t]=g,n[a]=h;const x=r[f];if(x===-1){let C=this._hullStart;do{if(this._hullTri[C]===f){this._hullTri[C]=t;break}C=this._hullPrev[C]}while(C!==this._hullStart)}this._link(t,x),this._link(a,r[s]),this._link(s,f);const S=c+(a+1)%3;o<Tp.length&&(Tp[o++]=S)}else{if(o===0)break;t=Tp[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function qPe(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Sy(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function Cy(e,t,n,r,i,o){const s=(r-t)*(i-e),a=(n-e)*(o-t);return Math.abs(s-a)>=33306690738754716e-32*Math.abs(s+a)?s-a:0}function jp(e,t,n,r,i,o){return(Cy(i,o,e,t,n,r)||Cy(e,t,n,r,i,o)||Cy(n,r,i,o,e,t))<0}function VPe(e,t,n,r,i,o,s,a){const l=e-s,c=t-a,u=n-s,f=r-a,h=i-s,m=o-a,p=l*l+c*c,g=u*u+f*f,_=h*h+m*m;return l*(f*_-g*m)-c*(u*_-g*h)+p*(u*m-f*h)<0}function UPe(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,f=l*l+c*c,h=.5/(s*c-a*l),m=(c*u-a*f)*h,p=(s*f-l*u)*h;return m*m+p*p}function GPe(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,f=l*l+c*c,h=.5/(s*c-a*l),m=e+(c*u-a*f)*h,p=t+(s*f-l*u)*h;return{x:m,y:p}}function Tc(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;Md(e,i,o),t[e[n]]>t[e[r]]&&Md(e,n,r),t[e[o]]>t[e[r]]&&Md(e,o,r),t[e[n]]>t[e[o]]&&Md(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;Md(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(Tc(e,t,o,r),Tc(e,t,n,s-1)):(Tc(e,t,n,s-1),Tc(e,t,o,r))}}function Md(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function KPe(e){return e[0]}function YPe(e){return e[1]}const zN=1e-6;class Za{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>zN||Math.abs(this._y1-o)>zN)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Hw{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class ZPe{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this,o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,p=0,g=r.length,_,x;m<g;m+=3,p+=2){const S=r[m]*2,C=r[m+1]*2,j=r[m+2]*2,k=t[S],T=t[S+1],y=t[C],P=t[C+1],A=t[j],$=t[j+1],L=y-k,U=P-T,F=A-k,H=$-T,q=L*L+U*U,re=F*F+H*H,G=(L*H-U*F)*2;if(!G)_=(k+A)/2-1e8*H,x=(T+$)/2+1e8*F;else if(Math.abs(G)<1e-8)_=(k+A)/2,x=(T+$)/2;else{const Y=1/G;_=k+(H*q-U*re)*Y,x=T+(L*re-F*q)*Y}o[p]=_,o[p+1]=x}let s=n[n.length-1],a,l=s*4,c,u=t[2*s],f,h=t[2*s+1];i.fill(0);for(let m=0;m<n.length;++m)s=n[m],a=l,c=u,f=h,l=s*4,u=t[2*s],h=t[2*s+1],i[a+2]=i[l]=f-h,i[a+3]=i[l+1]=u-c}render(t){const n=t==null?t=new Za:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let u=0,f=r.length;u<f;++u){const h=r[u];if(h<u)continue;const m=Math.floor(u/3)*2,p=Math.floor(h/3)*2,g=s[m],_=s[m+1],x=s[p],S=s[p+1];this._renderSegment(g,_,x,S,t)}let l,c=o[o.length-1];for(let u=0;u<o.length;++u){l=c,c=o[u];const f=Math.floor(i[c]/3)*2,h=s[f],m=s[f+1],p=l*4,g=this._project(h,m,a[p+2],a[p+3]);g&&this._renderSegment(h,m,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Za:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Za:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new Hw;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]==i[a]&&n[o+1]==i[a+1]&&n[(o+2)%s]==i[(a+l-2)%l]&&n[(o+3)%s]==i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const c=Math.floor(l/3);if(a.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n)}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],c,u=this._regioncode(a,l),f,h;for(let m=0;m<r;m+=2)if(o=a,s=l,a=n[m],l=n[m+1],c=u,u=this._regioncode(a,l),c===0&&u===0)f=h,h=0,i?i.push(a,l):i=[a,l];else{let p,g,_,x,S;if(c===0){if((p=this._clipSegment(o,s,a,l,c,u))===null)continue;[g,_,x,S]=p}else{if((p=this._clipSegment(a,l,o,s,u,c))===null)continue;[x,S,g,_]=p,f=h,h=this._edgecode(g,_),f&&h&&this._edge(t,f,h,i,i.length),i?i.push(g,_):i=[g,_]}f=h,h=this._edgecode(x,S),f&&h&&this._edge(t,f,h,i,i.length),i?i.push(x,S):i=[x,S]}if(i)f=h,h=this._edgecode(i[0],i[1]),f&&h&&this._edge(t,f,h,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){for(;;){if(o===0&&s===0)return[t,n,r,i];if(o&s)return null;let a,l,c=o||s;c&8?(a=t+(r-t)*(this.ymax-n)/(i-n),l=this.ymax):c&4?(a=t+(r-t)*(this.ymin-n)/(i-n),l=this.ymin):c&2?(l=n+(i-n)*(this.xmax-t)/(r-t),a=this.xmax):(l=n+(i-n)*(this.xmin-t)/(r-t),a=this.xmin),o?(t=a,n=l,o=this._regioncode(t,n)):(r=a,i=l,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let c=0,u=a.length,f,h=this._edgecode(a[u-2],a[u-1]);c<u;c+=2)f=h,h=this._edgecode(a[c],a[c+1]),f&&h&&(c=this._edge(t,f,h,a,c),u=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}if(i.length>4)for(let s=0;s<i.length;s+=2){const a=(s+2)%i.length,l=(s+4)%i.length;(i[s]===i[a]&&i[a]===i[l]||i[s+1]===i[a+1]&&i[a+1]===i[l+1])&&(i.splice(a,2),s-=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}const QPe=2*Math.PI,rc=Math.pow;function JPe(e){return e[0]}function XPe(e){return e[1]}function eAe(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function tAe(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class d2{static from(t,n=JPe,r=XPe,i){return new d2("length"in t?nAe(t,n,r,i):Float64Array.from(rAe(t,n,r,i)))}constructor(t){this._delaunator=new xg(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&eAe(t)){this.collinear=Int32Array.from({length:n.length/2},(h,m)=>m).sort((h,m)=>n[2*h]-n[2*m]||n[2*h+1]-n[2*m+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],f=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let h=0,m=n.length/2;h<m;++h){const p=tAe(n[2*h],n[2*h+1],f);n[2*h]=p[0],n[2*h+1]=p[1]}this._delaunator=new xg(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const u=o[l%3===2?l-2:l+1];(r[l]===-1||s[u]===-1)&&(s[u]=l)}for(let l=0,c=i.length;l<c;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],this.triangles[1]=i[1],this.triangles[2]=i[1],s[i[0]]=1,i.length===2&&(s[i[1]]=0))}voronoi(t){return new ZPe(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const f=a.indexOf(t);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const l=n[t];if(l===-1)return;let c=l,u=-1;do{if(yield u=s[c],c=c%3===2?c-2:c+1,s[c]!==t)return;if(c=o[c],c===-1){const f=r[(i[t]+1)%r.length];f!==u&&(yield f);return}}while(c!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let u=t,f=rc(n-c[t*2],2)+rc(r-c[t*2+1],2);const h=i[t];let m=h;do{let p=l[m];const g=rc(n-c[p*2],2)+rc(r-c[p*2+1],2);if(g<f&&(f=g,u=p),m=m%3===2?m-2:m+1,l[m]!==t)break;if(m=a[m],m===-1){if(m=o[(s[t]+1)%o.length],m!==p&&rc(n-c[m*2],2)+rc(r-c[m*2+1],2)<f)return m;break}}while(m!==h);return u}render(t){const n=t==null?t=new Za:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const c=o[s]*2,u=o[l]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[u],r[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n=2){const r=t==null?t=new Za:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,QPe)}return r&&r.value()}renderHull(t){const n=t==null?t=new Za:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Hw;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Za:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Hw;return this.renderTriangle(t,n),n.value()}}function nAe(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*rAe(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}var BN=function(e){return typeof e=="function"?e:function(t){return t[e]}},iAe=function(e){var t=e.points,n=e.x,r=n===void 0?"x":n,i=e.y,o=i===void 0?"y":i,s=BN(r),a=BN(o);return t.map(function(l){return[s(l),a(l)]})},oAe=function(e){var t=e.points,n=e.width,r=e.height,i=e.debug,o=d2.from(t),s=i?o.voronoi([0,0,n,r]):void 0;return{delaunay:o,voronoi:s}},pL=function(e){var t=e.points,n=e.x,r=e.y,i=e.width,o=e.height,s=e.debug,a=b.useMemo(function(){return iAe({points:t,x:n,y:r})},[t,n,r]);return b.useMemo(function(){return oAe({points:a,width:i,height:o,debug:s})},[a,i,o,s])},sAe=function(e){var t=e.nodes,n=e.width,r=e.height,i=e.x,o=e.y,s=e.onMouseEnter,a=e.onMouseMove,l=e.onMouseLeave,c=e.onClick,u=e.debug,f=b.useRef(null),h=b.useState(null),m=h[0],p=h[1],g=pL({points:t,x:i,y:o,width:n,height:r,debug:u}),_=g.delaunay,x=g.voronoi,S=b.useMemo(function(){if(u&&x)return x.render()},[u,x]),C=b.useCallback(function(P){if(!f.current)return[null,null];var A=E8(f.current,P),$=A[0],L=A[1],U=_.find($,L);return[U,U!==void 0?t[U]:null]},[f,_]),j=b.useCallback(function(P){var A=C(P),$=A[0],L=A[1];p($),L&&(s==null||s(L,P))},[C,p,s]),k=b.useCallback(function(P){var A=C(P),$=A[0],L=A[1];p($),L&&(a==null||a(L,P))},[C,p,a]),T=b.useCallback(function(P){if(p(null),l){var A=void 0;m!==null&&(A=t[m]),A&&l(A,P)}},[p,m,l,t]),y=b.useCallback(function(P){var A=C(P),$=A[0],L=A[1];p($),L&&(c==null||c(L,P))},[C,p,c]);return d.jsxs("g",{ref:f,children:[u&&x&&d.jsxs(d.Fragment,{children:[d.jsx("path",{d:S,stroke:"red",strokeWidth:1,opacity:.75}),m!==null&&d.jsx("path",{fill:"pink",opacity:.35,d:x.renderCell(m)})]}),d.jsx("rect",{width:n,height:r,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:j,onMouseMove:k,onMouseLeave:T,onClick:y})]})},aAe=function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},lAe=function(e,t,n){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(n,e),e.fillStyle="red",e.fill(),e.restore()};function Cr(){return Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cr.apply(this,arguments)}var mL=function(e){var t=e.point;return d.jsx(Hge,{id:d.jsxs("span",{children:["x: ",d.jsx("strong",{children:t.data.xFormatted}),", y:"," ",d.jsx("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})};mL.propTypes={point:R.object.isRequired};var cAe=b.memo(mL),gL=function(e){var t=e.slice,n=e.axis,r=kr(),i=n==="x"?"y":"x";return d.jsx(hD,{rows:t.points.map(function(o){return[d.jsx(fD,{color:o.serieColor,style:r.tooltip.chip},"chip"),o.serieId,d.jsx("span",{style:r.tooltip.tableCellValue,children:o.data[i+"Formatted"]},"value")]})})};gL.propTypes={slice:R.object.isRequired,axis:R.oneOf(["x","y"]).isRequired};var uAe=b.memo(gL),vL={data:R.arrayOf(R.shape({id:R.oneOfType([R.string,R.number]).isRequired,data:R.arrayOf(R.shape({x:R.oneOfType([R.number,R.string,R.instanceOf(Date)]),y:R.oneOfType([R.number,R.string,R.instanceOf(Date)])})).isRequired})).isRequired,xScale:R.object.isRequired,xFormat:R.oneOfType([R.func,R.string]),yScale:R.object.isRequired,yFormat:R.oneOfType([R.func,R.string]),layers:R.arrayOf(R.oneOfType([R.oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),R.func])).isRequired,curve:Wke.isRequired,axisTop:Cp,axisRight:Cp,axisBottom:Cp,axisLeft:Cp,enableGridX:R.bool.isRequired,enableGridY:R.bool.isRequired,gridXValues:R.oneOfType([R.number,R.arrayOf(R.oneOfType([R.number,R.string,R.instanceOf(Date)]))]),gridYValues:R.oneOfType([R.number,R.arrayOf(R.oneOfType([R.number,R.string,R.instanceOf(Date)]))]),enablePoints:R.bool.isRequired,pointSymbol:R.func,pointSize:R.number.isRequired,pointColor:R.any.isRequired,pointBorderWidth:R.number.isRequired,pointBorderColor:R.any.isRequired,enablePointLabel:R.bool.isRequired,pointLabel:R.oneOfType([R.string,R.func]).isRequired,markers:R.arrayOf(R.shape({axis:R.oneOf(["x","y"]).isRequired,value:R.oneOfType([R.number,R.string,R.instanceOf(Date)]).isRequired,style:R.object})),colors:FOe.isRequired,enableArea:R.bool.isRequired,areaOpacity:R.number.isRequired,areaBlendMode:o2.isRequired,areaBaselineValue:R.oneOfType([R.number,R.string,R.instanceOf(Date)]).isRequired,lineWidth:R.number.isRequired,legends:R.arrayOf(R.shape(HPe)).isRequired,isInteractive:R.bool.isRequired,debugMesh:R.bool.isRequired,tooltip:R.oneOfType([R.func,R.object]).isRequired,enableSlices:R.oneOf(["x","y",!1]).isRequired,debugSlices:R.bool.isRequired,sliceTooltip:R.oneOfType([R.func,R.object]).isRequired,enableCrosshair:R.bool.isRequired,crosshairType:R.string.isRequired},dAe=Cr({},vL,{enablePointLabel:R.bool.isRequired,role:R.string.isRequired,useMesh:R.bool.isRequired},$w,Hke),fAe=Cr({pixelRatio:R.number.isRequired},vL),bL={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:cAe,enableSlices:!1,debugSlices:!1,sliceTooltip:uAe,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},Xo=Cr({},bL,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),hAe=Cr({},bL,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1}),pAe=function(e){var t=e.curve;return b.useMemo(function(){return z6().defined(function(n){return n.x!==null&&n.y!==null}).x(function(n){return n.x}).y(function(n){return n.y}).curve(u8(t))},[t])},mAe=function(e){var t=e.curve,n=e.yScale,r=e.areaBaselineValue;return b.useMemo(function(){return cTe().defined(function(i){return i.x!==null&&i.y!==null}).x(function(i){return i.x}).y1(function(i){return i.y}).curve(u8(t)).y0(n(r))},[t,n,r])},gAe=function(e){var t=e.enableSlices,n=e.points,r=e.width,i=e.height;return b.useMemo(function(){if(t===!1)return[];if(t==="x"){var o=new Map;return n.forEach(function(a){a.data.x!==null&&a.data.y!==null&&(o.has(a.x)?o.get(a.x).push(a):o.set(a.x,[a]))}),Array.from(o.entries()).sort(function(a,l){return a[0]-l[0]}).map(function(a,l,c){var u,f=a[0],h=a[1],m=c[l-1],p=c[l+1];return{id:f,x0:u=m?f-(f-m[0])/2:f,x:f,y0:0,y:0,width:p?f-u+(p[0]-f)/2:r-u,height:i,points:h.reverse()}})}if(t==="y"){var s=new Map;return n.forEach(function(a){a.data.x!==null&&a.data.y!==null&&(s.has(a.y)?s.get(a.y).push(a):s.set(a.y,[a]))}),Array.from(s.entries()).sort(function(a,l){return a[0]-l[0]}).map(function(a,l,c){var u,f,h=a[0],m=a[1],p=c[l-1],g=c[l+1];return u=p?h-(h-p[0])/2:h,f=g?h-u+(g[0]-h)/2:i-u,{id:h,x0:0,x:0,y0:u,y:h,width:r,height:f,points:m.reverse()}})}},[t,n])},yL=function(e){var t=e.data,n=e.xScale,r=n===void 0?Xo.xScale:n,i=e.xFormat,o=e.yScale,s=o===void 0?Xo.yScale:o,a=e.yFormat,l=e.width,c=e.height,u=e.colors,f=u===void 0?Xo.colors:u,h=e.curve,m=h===void 0?Xo.curve:h,p=e.areaBaselineValue,g=p===void 0?Xo.areaBaselineValue:p,_=e.pointColor,x=_===void 0?Xo.pointColor:_,S=e.pointBorderColor,C=S===void 0?Xo.pointBorderColor:S,j=e.enableSlices,k=j===void 0?Xo.enableSlicesTooltip:j,T=Dw(i),y=Dw(a),P=BOe(f,"id"),A=kr(),$=vg(x,A),L=vg(C,A),U=b.useState([]),F=U[0],H=U[1],q=b.useMemo(function(){return bPe(t.filter(function(X){return F.indexOf(X.id)===-1}),r,s,l,c)},[t,F,r,s,l,c]),re=q.xScale,G=q.yScale,Y=q.series,te=b.useMemo(function(){var X=t.map(function(ue){return{id:ue.id,label:ue.id,color:P(ue)}}),J=X.map(function(ue){return Cr({},Y.find(function(xe){return xe.id===ue.id}),{color:ue.color})}).filter(function(ue){return!!ue.id});return{legendData:X.map(function(ue){return Cr({},ue,{hidden:!J.find(function(xe){return xe.id===ue.id})})}).reverse(),series:J}},[t,Y,P]),ne=te.legendData,B=te.series,Q=b.useCallback(function(X){H(function(J){return J.indexOf(X)>-1?J.filter(function(ue){return ue!==X}):[].concat(J,[X])})},[]),K=function(X){var J=X.series,ue=X.getPointColor,xe=X.getPointBorderColor,_e=X.formatX,he=X.formatY;return b.useMemo(function(){return J.reduce(function(Z,se){return[].concat(Z,se.data.filter(function(ie){return ie.position.x!==null&&ie.position.y!==null}).map(function(ie,be){var Ne={id:se.id+"."+be,index:Z.length+be,serieId:se.id,serieColor:se.color,x:ie.position.x,y:ie.position.y};return Ne.color=ue(se),Ne.borderColor=xe(Ne),Ne.data=Cr({},ie.data,{xFormatted:_e(ie.data.x),yFormatted:he(ie.data.y)}),Ne}))},[])},[J,ue,xe,_e,he])}({series:B,getPointColor:$,getPointBorderColor:L,formatX:T,formatY:y}),de=gAe({enableSlices:k,points:K,width:l,height:c});return{legendData:ne,toggleSerie:Q,lineGenerator:pAe({curve:m}),areaGenerator:mAe({curve:m,yScale:G,areaBaselineValue:g}),getColor:P,series:B,xScale:re,yScale:G,slices:de,points:K}},_L=function(e){var t=e.areaBlendMode,n=e.areaOpacity,r=e.color,i=e.fill,o=e.path,s=Pl(),a=s.animate,l=s.config,c=c8(o),u=_u({color:r,config:l,immediate:!a});return d.jsx(Ao.path,{d:c,fill:i||u.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:t}})};_L.propTypes={areaBlendMode:o2.isRequired,areaOpacity:R.number.isRequired,color:R.string,fill:R.string,path:R.string.isRequired};var xL=function(e){var t=e.areaGenerator,n=e.areaOpacity,r=e.areaBlendMode,i=e.lines.slice(0).reverse();return d.jsx("g",{children:i.map(function(o){return d.jsx(_L,Cr({path:t(o.data.map(function(s){return s.position}))},Cr({areaOpacity:n,areaBlendMode:r},o)),o.id)})})};xL.propTypes={areaGenerator:R.func.isRequired,areaOpacity:R.number.isRequired,areaBlendMode:o2.isRequired,lines:R.arrayOf(R.object).isRequired};var vAe=b.memo(xL),wL=function(e){var t=e.lineGenerator,n=e.points,r=e.color,i=e.thickness,o=b.useMemo(function(){return t(n)},[t,n]),s=c8(o);return d.jsx(Ao.path,{d:s,fill:"none",strokeWidth:i,stroke:r})};wL.propTypes={points:R.arrayOf(R.shape({x:R.oneOfType([R.string,R.number]),y:R.oneOfType([R.string,R.number])})),lineGenerator:R.func.isRequired,color:R.string.isRequired,thickness:R.number.isRequired};var bAe=b.memo(wL),SL=function(e){var t=e.lines,n=e.lineGenerator,r=e.lineWidth;return t.slice(0).reverse().map(function(i){var o=i.id,s=i.data,a=i.color;return d.jsx(bAe,{id:o,points:s.map(function(l){return l.position}),lineGenerator:n,color:a,thickness:r},o)})};SL.propTypes={lines:R.arrayOf(R.shape({id:R.oneOfType([R.string,R.number]).isRequired,color:R.string.isRequired,data:R.arrayOf(R.shape({data:R.shape({x:R.oneOfType([R.string,R.number,R.instanceOf(Date)]),y:R.oneOfType([R.string,R.number,R.instanceOf(Date)])}).isRequired,position:R.shape({x:R.number,y:R.number}).isRequired})).isRequired})).isRequired,lineWidth:R.number.isRequired,lineGenerator:R.func.isRequired};var yAe=b.memo(SL),CL=function(e){var t=e.slice,n=e.axis,r=e.debug,i=e.tooltip,o=e.isCurrent,s=e.setCurrent,a=e.onMouseEnter,l=e.onMouseMove,c=e.onMouseLeave,u=e.onClick,f=yC(),h=f.showTooltipFromEvent,m=f.hideTooltip,p=b.useCallback(function(S){h(b.createElement(i,{slice:t,axis:n}),S,"right"),s(t),a&&a(t,S)},[h,i,t,a]),g=b.useCallback(function(S){h(b.createElement(i,{slice:t,axis:n}),S,"right"),l&&l(t,S)},[h,i,t,l]),_=b.useCallback(function(S){m(),s(null),c&&c(t,S)},[m,t,c]),x=b.useCallback(function(S){u&&u(t,S)},[t,u]);return d.jsx("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:r?1:0,strokeOpacity:.75,fill:"red",fillOpacity:o&&r?.35:0,onMouseEnter:p,onMouseMove:g,onMouseLeave:_,onClick:x,"data-testid":"slice-"+t.id})};CL.propTypes={slice:R.object.isRequired,axis:R.oneOf(["x","y"]).isRequired,debug:R.bool.isRequired,height:R.number.isRequired,tooltip:R.oneOfType([R.func,R.object]),isCurrent:R.bool.isRequired,setCurrent:R.func.isRequired,onMouseEnter:R.func,onMouseMove:R.func,onMouseLeave:R.func,onClick:R.func};var _Ae=b.memo(CL),TL=function(e){var t=e.slices,n=e.axis,r=e.debug,i=e.height,o=e.tooltip,s=e.current,a=e.setCurrent,l=e.onMouseEnter,c=e.onMouseMove,u=e.onMouseLeave,f=e.onClick;return t.map(function(h){return d.jsx(_Ae,{slice:h,axis:n,debug:r,height:i,tooltip:o,setCurrent:a,isCurrent:s!==null&&s.id===h.id,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:f},h.id)})};TL.propTypes={slices:R.arrayOf(R.shape({id:R.oneOfType([R.number,R.string,R.instanceOf(Date)]).isRequired,x:R.number.isRequired,y:R.number.isRequired,points:R.arrayOf(R.object).isRequired})).isRequired,axis:R.oneOf(["x","y"]).isRequired,debug:R.bool.isRequired,height:R.number.isRequired,tooltip:R.oneOfType([R.func,R.object]).isRequired,current:R.object,setCurrent:R.func.isRequired,onMouseEnter:R.func,onMouseMove:R.func,onMouseLeave:R.func,onClick:R.func};var xAe=b.memo(TL),jL=function(e){var t=e.points,n=e.symbol,r=e.size,i=e.borderWidth,o=e.enableLabel,s=e.label,a=e.labelYOffset,l=kr(),c=cOe(s),u=t.slice(0).reverse().map(function(f){return{id:f.id,x:f.x,y:f.y,datum:f.data,fill:f.color,stroke:f.borderColor,label:o?c(f.data):null}});return d.jsx("g",{children:u.map(function(f){return d.jsx(oOe,{x:f.x,y:f.y,datum:f.datum,symbol:n,size:r,color:f.fill,borderWidth:i,borderColor:f.stroke,label:f.label,labelYOffset:a,theme:l},f.id)})})};jL.propTypes={points:R.arrayOf(R.object),symbol:R.func,size:R.number.isRequired,color:R.func.isRequired,borderWidth:R.number.isRequired,borderColor:R.func.isRequired,enableLabel:R.bool.isRequired,label:R.oneOfType([R.string,R.func]).isRequired,labelYOffset:R.number};var wAe=b.memo(jL),EL=function(e){var t=e.points,n=e.width,r=e.height,i=e.margin,o=e.setCurrent,s=e.onMouseEnter,a=e.onMouseMove,l=e.onMouseLeave,c=e.onClick,u=e.tooltip,f=e.debug,h=yC(),m=h.showTooltipAt,p=h.hideTooltip,g=b.useCallback(function(C,j){m(b.createElement(u,{point:C}),[C.x+i.left,C.y+i.top],"top"),o(C),s&&s(C,j)},[o,m,u,s,i]),_=b.useCallback(function(C,j){m(b.createElement(u,{point:C}),[C.x+i.left,C.y+i.top],"top"),o(C),a&&a(C,j)},[o,m,u,a]),x=b.useCallback(function(C,j){p(),o(null),l&&l(C,j)},[p,o,l]),S=b.useCallback(function(C,j){c&&c(C,j)},[c]);return d.jsx(sAe,{nodes:t,width:n,height:r,onMouseEnter:g,onMouseMove:_,onMouseLeave:x,onClick:S,debug:f})};EL.propTypes={points:R.arrayOf(R.object).isRequired,width:R.number.isRequired,height:R.number.isRequired,margin:R.object.isRequired,setCurrent:R.func.isRequired,onMouseEnter:R.func,onMouseMove:R.func,onMouseLeave:R.func,onClick:R.func,tooltip:R.oneOfType([R.func,R.object]).isRequired,debug:R.bool.isRequired};var SAe=b.memo(EL),qw=function(e){var t=e.data,n=e.xScale,r=e.xFormat,i=e.yScale,o=e.yFormat,s=e.layers,a=e.curve,l=e.areaBaselineValue,c=e.colors,u=e.margin,f=e.width,h=e.height,m=e.axisTop,p=e.axisRight,g=e.axisBottom,_=e.axisLeft,x=e.enableGridX,S=e.enableGridY,C=e.gridXValues,j=e.gridYValues,k=e.lineWidth,T=e.enableArea,y=e.areaOpacity,P=e.areaBlendMode,A=e.enablePoints,$=e.pointSymbol,L=e.pointSize,U=e.pointColor,F=e.pointBorderWidth,H=e.pointBorderColor,q=e.enablePointLabel,re=e.pointLabel,G=e.pointLabelYOffset,Y=e.defs,te=e.fill,ne=e.markers,B=e.legends,Q=e.isInteractive,K=e.useMesh,de=e.debugMesh,X=e.onMouseEnter,J=e.onMouseMove,ue=e.onMouseLeave,xe=e.onClick,_e=e.tooltip,he=e.enableSlices,Z=e.debugSlices,se=e.sliceTooltip,ie=e.enableCrosshair,be=e.crosshairType,Ne=e.role,Pe=d8(f,h,u),ze=Pe.margin,Oe=Pe.innerWidth,qe=Pe.innerHeight,$e=Pe.outerWidth,rt=Pe.outerHeight,Ve=yL({data:t,xScale:n,xFormat:r,yScale:i,yFormat:o,width:Oe,height:qe,colors:c,curve:a,areaBaselineValue:l,pointColor:U,pointBorderColor:H,enableSlices:he}),mt=Ve.legendData,It=Ve.toggleSerie,Ze=Ve.lineGenerator,dt=Ve.areaGenerator,tt=Ve.series,St=Ve.xScale,Re=Ve.yScale,We=Ve.slices,at=Ve.points,st=kr(),$t=vg(U,st),xn=vg(H,st),Cn=b.useState(null),Fn=Cn[0],mn=Cn[1],mr=b.useState(null),En=mr[0],Xt=mr[1],ft={grid:d.jsx(OPe,{theme:st,width:Oe,height:qe,xScale:x?St:null,yScale:S?Re:null,xValues:C,yValues:j},"grid"),markers:d.jsx(aOe,{markers:ne,width:Oe,height:qe,xScale:St,yScale:Re,theme:st},"markers"),axes:d.jsx(EPe,{xScale:St,yScale:Re,width:Oe,height:qe,theme:st,top:m,right:p,bottom:g,left:_},"axes"),areas:null,lines:d.jsx(yAe,{lines:tt,lineGenerator:Ze,lineWidth:k},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:B.map(function(Ct,en){return d.jsx(zPe,Cr({},Ct,{containerWidth:Oe,containerHeight:qe,data:Ct.data||mt,theme:st,toggleSerie:Ct.toggleSerie?It:void 0}),"legend."+en)})},ot=pOe(Y,tt,te);return T&&(ft.areas=d.jsx(vAe,{areaGenerator:dt,areaOpacity:y,areaBlendMode:P,lines:tt},"areas")),Q&&he!==!1&&(ft.slices=d.jsx(xAe,{slices:We,axis:he,debug:Z,height:qe,tooltip:se,current:En,setCurrent:Xt,onMouseEnter:X,onMouseMove:J,onMouseLeave:ue,onClick:xe},"slices")),A&&(ft.points=d.jsx(wAe,{points:at,symbol:$,size:L,color:$t,borderWidth:F,borderColor:xn,enableLabel:q,label:re,labelYOffset:G},"points")),Q&&ie&&(Fn!==null&&(ft.crosshair=d.jsx(mw,{width:Oe,height:qe,x:Fn.x,y:Fn.y,type:be},"crosshair")),En!==null&&(ft.crosshair=d.jsx(mw,{width:Oe,height:qe,x:En.x,y:En.y,type:he},"crosshair"))),Q&&K&&he===!1&&(ft.mesh=d.jsx(SAe,{points:at,width:Oe,height:qe,margin:ze,current:Fn,setCurrent:mn,onMouseEnter:X,onMouseMove:J,onMouseLeave:ue,onClick:xe,tooltip:_e,debug:de},"mesh")),d.jsx(w8,{defs:ot,width:$e,height:rt,margin:ze,role:Ne,children:s.map(function(Ct,en){return typeof Ct=="function"?d.jsx(b.Fragment,{children:Ct(Cr({},e,{innerWidth:Oe,innerHeight:qe,series:tt,slices:We,points:at,xScale:St,yScale:Re,lineGenerator:Ze,areaGenerator:dt,currentPoint:Fn,setCurrentPoint:mn,currentSlice:En,setCurrentSlice:Xt}))},en):ft[Ct]})})};qw.propTypes=dAe,qw.defaultProps=Xo;var kL=j8(qw),Vw=function(e){var t=e.width,n=e.height,r=e.margin,i=e.pixelRatio,o=e.data,s=e.xScale,a=e.xFormat,l=e.yScale,c=e.yFormat,u=e.curve,f=e.layers,h=e.colors,m=e.lineWidth,p=e.enableArea,g=e.areaBaselineValue,_=e.areaOpacity,x=e.enablePoints,S=e.pointSize,C=e.pointColor,j=e.pointBorderWidth,k=e.pointBorderColor,T=e.enableGridX,y=e.gridXValues,P=e.enableGridY,A=e.gridYValues,$=e.axisTop,L=e.axisRight,U=e.axisBottom,F=e.axisLeft,H=e.legends,q=e.isInteractive,re=e.debugMesh,G=e.onMouseLeave,Y=e.onClick,te=e.tooltip,ne=e.canvasRef,B=b.useRef(null),Q=d8(t,n,r),K=Q.margin,de=Q.innerWidth,X=Q.innerHeight,J=Q.outerWidth,ue=Q.outerHeight,xe=kr(),_e=b.useState(null),he=_e[0],Z=_e[1],se=yL({data:o,xScale:s,xFormat:a,yScale:l,yFormat:c,width:de,height:X,colors:h,curve:u,areaBaselineValue:g,pointColor:C,pointBorderColor:k}),ie=se.lineGenerator,be=se.areaGenerator,Ne=se.series,Pe=se.xScale,ze=se.yScale,Oe=se.points,qe=pL({points:Oe,width:de,height:X,debug:re}),$e=qe.delaunay,rt=qe.voronoi;b.useEffect(function(){ne&&(ne.current=B.current),B.current.width=J*i,B.current.height=ue*i;var Re=B.current.getContext("2d");Re.scale(i,i),Re.fillStyle=xe.background,Re.fillRect(0,0,J,ue),Re.translate(K.left,K.top),f.forEach(function(We){if(typeof We=="function"&&We({ctx:Re,innerWidth:de,innerHeight:X,series:Ne,points:Oe,xScale:Pe,yScale:ze,lineWidth:m,lineGenerator:ie,areaGenerator:be,currentPoint:he,setCurrentPoint:Z}),We==="grid"&&xe.grid.line.strokeWidth>0&&(Re.lineWidth=xe.grid.line.strokeWidth,Re.strokeStyle=xe.grid.line.stroke,T&&LN(Re,{width:de,height:X,scale:Pe,axis:"x",values:y}),P&&LN(Re,{width:de,height:X,scale:ze,axis:"y",values:A})),We==="axes"&&NPe(Re,{xScale:Pe,yScale:ze,width:de,height:X,top:$,right:L,bottom:U,left:F,theme:xe}),We==="areas"&&p===!0&&(Re.save(),Re.globalAlpha=_,be.context(Re),Ne.forEach(function(st){Re.fillStyle=st.color,Re.beginPath(),be(st.data.map(function($t){return $t.position})),Re.fill()}),Re.restore()),We==="lines"&&(ie.context(Re),Ne.forEach(function(st){Re.strokeStyle=st.color,Re.lineWidth=m,Re.beginPath(),ie(st.data.map(function($t){return $t.position})),Re.stroke()})),We==="points"&&x===!0&&S>0&&Oe.forEach(function(st){Re.fillStyle=st.color,Re.beginPath(),Re.arc(st.x,st.y,S/2,0,2*Math.PI),Re.fill(),j>0&&(Re.strokeStyle=st.borderColor,Re.lineWidth=j,Re.stroke())}),We==="mesh"&&re===!0&&(aAe(Re,rt),he&&lAe(Re,rt,he.index)),We==="legends"){var at=Ne.map(function(st){return{id:st.id,label:st.id,color:st.color}}).reverse();H.forEach(function(st){WPe(Re,Cr({},st,{data:st.data||at,containerWidth:de,containerHeight:X,theme:xe}))})}})},[B,J,ue,f,xe,ie,Ne,Pe,ze,T,y,P,A,$,L,U,F,H,Oe,x,S,he]);var Ve=b.useCallback(function(Re){var We=E8(B.current,Re),at=We[0],st=We[1];if(!uOe(K.left,K.top,de,X,at,st))return null;var $t=$e.find(at-K.left,st-K.top);return Oe[$t]},[B,K,de,X,$e]),mt=yC(),It=mt.showTooltipFromEvent,Ze=mt.hideTooltip,dt=b.useCallback(function(Re){var We=Ve(Re);Z(We),We?It(b.createElement(te,{point:We}),Re):Ze()},[Ve,Z,It,Ze,te]),tt=b.useCallback(function(Re){Ze(),Z(null),he&&G&&G(he,Re)},[Ze,Z,G]),St=b.useCallback(function(Re){if(Y){var We=Ve(Re);We&&Y(We,Re)}},[Ve,Y]);return d.jsx("canvas",{ref:B,width:J*i,height:ue*i,style:{width:J,height:ue,cursor:q?"auto":"normal"},onMouseEnter:q?dt:void 0,onMouseMove:q?dt:void 0,onMouseLeave:q?tt:void 0,onClick:q?St:void 0})};Vw.propTypes=fAe,Vw.defaultProps=hAe;var CAe=j8(Vw),TAe=b.forwardRef(function(e,t){return d.jsx(CAe,Cr({},e,{canvasRef:t}))});b.forwardRef(function(e,t){return d.jsx(v8,{children:function(n){var r=n.width,i=n.height;return d.jsx(TAe,Cr({width:r,height:i},e,{ref:t}))}})});function Bd({throughputData:e,showCumulative:t=!1}){const n=Math.min(800,window.innerWidth),r=b.useMemo(()=>{if(!e)return null;const i=[];return Object.entries(e.data).map(([o,s])=>({date:oH(o),num:s})).sort(({date:o},{date:s})=>o.getTime()-s.getTime()).forEach(({date:o,num:s})=>{let a;t?a=i.length?i[i.length-1].y+s:e.before+s:a=s,i.push({x:o,y:a})}),i},[e]);return d.jsx("div",{className:Se("tw-border tw-border-black-10","tw-flex tw-items-center tw-justify-center","tw-max-w-full"),style:{width:n,height:500},children:r?d.jsx(kL,{enableGridX:!0,enableGridY:!0,enableCrosshair:!1,colors:p3("--color-primary-default-100"),isInteractive:!0,lineWidth:3,height:500,width:n,margin:{top:80,right:80,bottom:80,left:80},data:[{id:"id",data:r}],xScale:{type:"time",format:"native",precision:"day",min:"auto",max:"auto",useUTC:!1},axisLeft:{legend:t?"Cumulative responses":"Responses",legendOffset:-50,legendPosition:"middle"},pointSize:12,useMesh:!0,tooltip:({point:{data:{x:i,y:o}}})=>d.jsxs("div",{className:"tw-bg-white-100 tw-border tw-shadow-sm tw-px-3 tw-py-2 tw-opacity-80",children:[o.toString()," on ",i.toLocaleDateString()]}),axisBottom:{format:i=>i.toLocaleDateString(),tickRotation:45,tickValues:"every day"}}):d.jsx(fn,{className:"tw-w-16 tw-h-16"})})}const jAe=Object.freeze(Object.defineProperty({__proto__:null,default:Bd},Symbol.toStringTag,{value:"Module"}));function WN(e){const t=new Date;t.setDate(t.getDate()+e);const n=t.toLocaleString("en-US",{year:"numeric",timeZone:"America/Los_Angeles"}),r=t.toLocaleString("en-US",{month:"2-digit",timeZone:"America/Los_Angeles"}),i=t.toLocaleString("en-US",{day:"2-digit",timeZone:"America/Los_Angeles"});return`${n}-${r}-${i}`}function HN(e,t,n,r){if(e===void 0)return{data:{},before:0};let i={};t!==""?Object.keys(e).forEach(function(a,l){i[a]=e[a][t]?{userId:e[a][t]}:{}}):i=e;let o=0;const s={};return Object.keys(i).sort().forEach(function(a,l){if(a>r)return;let c=0;i[a]&&Object.keys(i[a]).forEach(function(u,f){c+=i[a][u]||0}),a<n?o+=c:s[a]=c}),{data:s,before:o}}function OL({projectId:e,users:t}){const[n,r]=b.useState(),[i,o]=b.useState(WN(-14)),[s,a]=b.useState(WN(0)),[l,c]=b.useState(""),[u,f]=b.useState(),[h,m]=b.useState(""),[p,g]=b.useState(!0),_=b.useMemo(()=>Object.keys(t).map((x,S)=>({value:x,label:`${t[x].fullName} (${t[x].euid})`})),[t]);return b.useEffect(()=>{const x=HN(n==null?void 0:n.data,l,i,s),S=HN(n==null?void 0:n.editsData,l,i,s);f({data:x.data,before:x.before,editsData:S.data,editsBefore:S.before})},[n,l,i,s]),b.useEffect(()=>{Kr(e,"response_throughput_by_user","").then(x=>r(x)).finally(()=>g(!1))},[e]),b.useEffect(()=>{if(!n)return;const x=[["date","id","euid","full_name","count","is_edit"]];Object.keys(n.data).sort().forEach(S=>{Object.keys(n.data[S]).sort().forEach(C=>{var j,k;x.push([S,C,((j=t[C])==null?void 0:j.euid)||"",((k=t[C])==null?void 0:k.fullName)||"",n.data[S][C].toString(),"false"])})}),n.editsData&&Object.keys(n.editsData).sort().forEach(S=>{Object.keys(n.editsData[S]).sort().forEach(C=>{var j,k;x.push([S,C,((j=t[C])==null?void 0:j.euid)||"",((k=t[C])==null?void 0:k.fullName)||"",n.editsData[S][C].toString(),"true"])})}),m("data:text/csv;charset=utf-8,"+x.map(S=>S.join(",")).join(`\r
`))},[n,t]),d.jsxs("div",{className:"tw-flex tw-flex-col tw-items-center tw-pt-10 tw-pb-32 tw-space-y-16",children:[d.jsxs("div",{className:"tw-flex",children:[d.jsx(pn,{className:"tw-flex-auto",label:"Start date",type:"date",value:i,onChange:x=>o(x.target.value)}),d.jsx(pn,{className:"tw-flex-auto tw-mx-4",label:"End date",type:"date",value:s,onChange:x=>a(x.target.value)}),d.jsxs("div",{children:[d.jsx("label",{className:"tw-mb-0 tw-block tw-text-label",children:"Worker "}),d.jsx(ul,{isMulti:!1,options:[{value:"",label:"*"},..._],onChange:x=>c(x.value||""),option:_.find(x=>x.value===l)})]}),d.jsx("div",{className:"tw-pl-4 tw-pt-6",children:d.jsxs(yt,{onClick:()=>az(h,`${e}_throughput.csv`),disabled:h==="",children:[d.jsx(JU,{className:"sm:tw-block tw--ml-1 tw-mr-2 tw-h-4 tw-w-4 tw-text-white","aria-hidden":"true"}),"Download",d.jsx(m3,{className:"tw--mr-1 tw-ml-2 tw-h-4 tw-w-4","aria-hidden":"true"})]})})]}),p?d.jsx("div",{className:"tw-flex tw-items-center tw-justify-center tw-min-h-[16rem]",children:d.jsx(fn,{className:"tw-text-primary-default-100 tw-h-24 tw-w-24"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"tw-flex tw-flex-col tw-items-center tw-space-y-3",children:[d.jsx("h3",{children:"Daily Throughput (Pacific Time)"}),d.jsx(Bd,{throughputData:u})]}),d.jsxs("div",{className:"tw-flex tw-flex-col tw-items-center tw-space-y-3",children:[d.jsx("h3",{children:"Cumulative Throughput (Pacific Time)"}),d.jsx(Bd,{throughputData:u,showCumulative:!0})]}),(u==null?void 0:u.editsData)&&Object.keys(u==null?void 0:u.editsData).length!==0&&d.jsxs("div",{className:"tw-flex tw-flex-col tw-items-center tw-space-y-3",children:[d.jsx("h3",{children:"Daily Edits Throughput"}),d.jsx(Bd,{throughputData:{data:u.editsData,before:u.editsBefore||0}})]}),(u==null?void 0:u.editsBefore)&&d.jsxs("div",{className:"tw-flex tw-flex-col tw-items-center tw-space-y-3",children:[d.jsx("h3",{children:"Cumulative Edits Throughput"}),d.jsx(Bd,{throughputData:{data:u.editsData||{},before:u.editsBefore},showCumulative:!0})]})]})]})}const EAe=Object.freeze(Object.defineProperty({__proto__:null,default:OL},Symbol.toStringTag,{value:"Module"})),qN=(e,t,n,r)=>t&&r===null?Math.floor(t/100*e):t===null||n===null||r===null?0:r+Math.floor(n/100*e);function ML({projectId:e,nonGoldStandardTaskCount:t,existingSimilarGoldStandardsCount:n,existingDifferentGoldStandardsCount:r}){const[i,o]=b.useState(!1),[s,a]=b.useState(!1),[l,c]=b.useState(!1),[u,f]=b.useState(null),[h,m]=b.useState(null),[p,g]=b.useState(null),[_,x]=b.useState(null),[S,C]=b.useState(null),[j,k]=b.useState(1),[T,y]=b.useState(2),P=()=>{o(!0),Lfe(e,u,h,p,_,S,j,T).then(()=>{window.location.href=`/projects/${e}`},L=>{console.error(L)}).finally(()=>{o(!1),a(!1)})},A=qN(t,u,h,S),$=qN(t,p,_,S);return l?d.jsxs(d.Fragment,{children:[d.jsx(Eo,{text:`This will create ${A} "similar" gold standards and ${$} "different gold standards. There are ${n} existing "similar" gold standards and ${r} existing "different" gold standards. Is this correct?`,isOpen:s,setIsOpen:a,showConfirmBtn:!0,onConfirmed:P,showLoadingIcon:i}),d.jsxs("div",{className:"md:tw-min-h-48 tw-my-6",children:[d.jsxs("div",{className:"tw-flex tw-gap-x-4 tw-w-min tw-my-3",children:[d.jsxs("div",{children:[d.jsx(pn,{label:"Similar gold standards percentage before/after",type:"number",style:{minWidth:"100px"},value:void 0,onChange:L=>{f(ri(L.target.valueAsNumber))}}),d.jsx(pn,{label:"",hideLabel:!0,type:"number",style:{minWidth:"100px"},value:void 0,onChange:L=>{m(ri(L.target.valueAsNumber))}})]}),d.jsxs("div",{children:[d.jsx(pn,{label:"Different gold standards percentage before/after",type:"number",style:{minWidth:"100px"},value:void 0,onChange:L=>{g(ri(L.target.valueAsNumber))}}),d.jsx(pn,{label:"",hideLabel:!0,type:"number",style:{minWidth:"100px"},value:void 0,onChange:L=>{x(ri(L.target.valueAsNumber))}})]}),d.jsx(pn,{className:"tw-mt-12",label:"Target # Completed",type:"number",style:{minWidth:"100px"},value:S||"",onChange:L=>C(ri(L.target.valueAsNumber))}),d.jsx(pn,{className:"tw-mt-16",label:"Min round",type:"number",style:{minWidth:"100px"},value:String(j),onChange:L=>{k(ri(L.target.valueAsNumber))}}),d.jsx(pn,{className:"tw-mt-16",label:"Max round",type:"number",style:{minWidth:"100px"},value:String(T)||void 0,onChange:L=>{y(ri(L.target.valueAsNumber))}})]}),d.jsx("div",{className:"tw-w-full tw-mt-2",children:d.jsx(yt,{variant:"primary",disabled:s||!u&&!p,onClick:()=>a(!0),children:"Submit"})})]})]}):d.jsx(yt,{buttonSize:"sm",onClick:()=>c(!0),children:"Create reward modeling gold standards"})}const kAe=Object.freeze(Object.defineProperty({__proto__:null,default:ML},Symbol.toStringTag,{value:"Module"}));function NL({projectId:e,task_keys:t,num_results_by_key:n,error:r}){const[i,o]=b.useState(null),[s,a]=b.useState(!1),[l,c]=b.useState(null),u=b.useMemo(()=>t.toSorted((p,g)=>n[p]-n[g]).map(p=>({value:p,label:`${p} (${n[p]} unique)`})),[t,n]),f=b.useCallback(p=>{p&&(o(p.value),a(!0),lz(e,p.value).then(g=>{c(g),a(!1)}))},[e]),h=b.useMemo(()=>l&&d.jsx($g,{columns:[{Header:d.jsx(Ue,{label:"Name"}),Cell:({value:p})=>p,accessor:"name",id:"name",disableSortBy:!0,disableFilters:!0},{Header:d.jsx(Ue,{label:"# Tasks"}),Cell:({value:p})=>p,accessor:"numTasks",id:"num_tasks",disableSortBy:!0,disableFilters:!0}],data:Object.entries(l).map(([p,g])=>({name:p,numTasks:g})),hidePagination:!1,isLoading:s,unhideableColumns:["name","num_tasks"],defaultSortColId:"num_tasks",defaultSortColumnDesc:!0,hover:!1}),[l,s]),m=b.useCallback(()=>{i&&l&&(a(!0),cz(e,i,l,{}).then(p=>{p.success?window.location.href=`/projects/${e}`:Ni(p.errors)}))},[l,i,e]);return!t||t.length===0?d.jsx("div",{children:"Project has no tasks -- nothing to split!"}):r?d.jsxs("div",{children:["Project cannot be split: ",r]}):d.jsxs("div",{children:[d.jsx("h1",{children:"Splitting project"}),d.jsx(Jf,{position:"top-center"}),d.jsx(ul,{options:u,isMulti:!1,onChange:f,placeholder:"Select column to split on"}),d.jsx("div",{children:h}),d.jsx("div",{className:"tw-p-2 tw-justify-end tw-flex",children:l?d.jsxs(yt,{variant:"primary",onClick:m,disabled:s||!l,children:["Split into ",Object.keys(l).length," new projects"]}):null})]})}const OAe=Object.freeze(Object.defineProperty({__proto__:null,default:NL},Symbol.toStringTag,{value:"Module"}));function af({draggable:e,startIndex:t,endIndex:n,text:r,tags:i,highlighted:o=!1,activeEntities:s,addRelationship:a,colorLookup:l,relationshipContainer:c,relationships:u}){const f={endIndex:n,startIndex:t,tags:i,text:r},h=function(C,j){a({fromEndIndex:C.endIndex,fromStartIndex:C.startIndex,fromTags:C.tags,fromText:C.text,toEndIndex:j.endIndex,toStartIndex:j.startIndex,toTags:j.tags,toText:j.text})},[{isDragging:m},p]=$U({type:"tag",collect:C=>({isDragging:C.isDragging()}),end:(C,j)=>{const k=j.getDropResult();C&&C.hasOwnProperty("span")&&k&&(s!=null&&s.length)&&C.span.startIndex!==k.startIndex&&h(C.span,k)},item:{span:f}}),[{canDrop:g,isOver:_},x]=IU({accept:"tag",collect:C=>({canDrop:C.canDrop(),isOver:C.isOver()}),drop:()=>f}),S={filter:g&&_||o?"brightness(70%)":"brightness(100%)",opacity:m?.2:1,background:l(f.tags[0]),backgroundColor:l(f.tags[0])};return d.jsx("span",{ref:e?x:null,children:d.jsxs("mark",{ref:e?p:null,style:S,className:Se("tw-cursor-pointer","tw-leading-none","tw-mx-1","tw-my-0","tw-rounded","tw-select-none",{"tw-inline-block":u,"tw-inline":!u,"tw-p-2.5":c,"tw-px-1.5":!c,"tw-py-1":!c}),children:[f.text,c?"":f.tags.map(C=>d.jsx("span",{style:{background:l(C),fontSize:"0.6em"},className:Se("tw-align-middle","tw-box-border","tw-leading-none","tw-mb-0.5","tw-ml-2","tw-mr-0","tw-mt-0","tw-p-1.5","tw-rounded-md","tw-select-none","tw-text-xs","tw-uppercase",{"tw-inline-block":u,"tw-inline":!u}),children:C},C))]})})}const MAe=Object.freeze(Object.defineProperty({__proto__:null,default:af},Symbol.toStringTag,{value:"Module"}));function Uw({relationships:e,spans:t,setSpans:n,colorLookup:r,allowEdits:i,removeRelationship:o}){const s=function(a){const l=function(){o(a),u()},c=function(h){n(t.map(function(m){return(m.startIndex===h.toStartIndex||m.startIndex===h.fromStartIndex)&&(m.highlighted=!0),m}))},u=function(){n(t.map(function(h){return h.highlighted=!1,h}))},f=d.jsxs("div",{children:[d.jsx(af,{draggable:!1,startIndex:a.fromStartIndex,endIndex:a.fromEndIndex,text:a.fromText,tags:a.fromTags,addRelationship:h=>h,highlighted:!1,colorLookup:r,relationshipContainer:!1,relationships:!0},a.fromStartIndex),d.jsx("span",{children:" → "}),d.jsx("div",{style:{marginTop:5},children:d.jsx(af,{draggable:!1,startIndex:a.toStartIndex,endIndex:a.toEndIndex,text:a.toText,tags:a.toTags,addRelationship:h=>h,highlighted:!1,colorLookup:r,relationshipContainer:!1,relationships:!0},a.toStartIndex)})]});return d.jsx("div",{className:i?"row":"col-xs-12",style:{marginBottom:5,marginRight:5,padding:5},onClick:i?l:()=>{},onMouseEnter:()=>c(a),onMouseLeave:u,children:d.jsx(af,{draggable:!1,startIndex:null,endIndex:null,text:f,tags:[],addRelationship:h=>h,colorLookup:h=>"#dcdcdc",relationshipContainer:!0,relationships:!0,highlighted:!1},a.toStartIndex)})};return d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:"Relationships"}),d.jsx("div",{className:i?"":"row",style:i?{}:{marginLeft:-5},children:e.map(s)})]})}const NAe=Object.freeze(Object.defineProperty({__proto__:null,default:Uw},Symbol.toStringTag,{value:"Module"})),_h=new DV;_h.defineConfig({emoji:!1,emoticon:!1});_h.addRegex(/ /g,"space","s");_h.addRegex(/\r\n|\n|\r/g,"new_line","l");_h.addRegex(/\t/g,"tab","p");const ic=/\s/,VN=["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"];function PAe({text:e,item:t,entityOptions:n,preexistingAnnotations:r,allowEdits:i,includeOverlappingTagsToggle:o,allowRelationshipTagging:s,tokenGranularity:a,inWorkMode:l,onChange:c}){const[u,f]=b.useState(!1),h=()=>{f(!u);const X=y[Math.max(y.findIndex(J=>J.active),0)].option;P(n.map((J,ue)=>({active:J===X,option:J})))},m=function(X){return Object.entries(u3(X,ue=>ue.startIndex)).map(([ue,xe])=>{const _e=xe.map(he=>he.hasOwnProperty("tag")?he.tag:he.type);return{endIndex:xe[0].endIndex,startIndex:xe[0].startIndex,tags:_e,text:xe[0].text}})},p=function(X,J){if(!X)return{entities:[],relationships:[]};const ue=X.map(xe=>xe.tags.map(_e=>({endIndex:xe.endIndex,startIndex:xe.startIndex,text:xe.text,type:_e}))).flat();return s?{entities:ue,relationships:J}:{entities:ue,relationships:[]}},[g,_]=b.useState([]),[x,S]=b.useState([]);b.useEffect(()=>{const X=he=>he.filter(Z=>Z.text!==void 0),ue=typeof r=="string"?JSON.parse((he=>{var Z;return(Z=he==null?void 0:he.replaceAll("start_index","startIndex"))==null?void 0:Z.replaceAll("end_index","endIndex")})(r)):r||[],xe=ue.hasOwnProperty("entities")?ue.entities:ue,_e=ue.hasOwnProperty("relationships")?ue.relationships:[];_(m(X(xe))),S(_e)},[r]);const[C,j]=b.useState(),[k,T]=b.useState(!0),[y,P]=b.useState(n.map((X,J)=>({active:J===0&&(!u||n.length===1),option:X}))),A=y.filter(X=>X.active).length>=1,$=y.filter(X=>X.active).map(X=>X.option),L=n.map(X=>X.replace(/ *\([^)]*\) */g,"")),U=function(X){return VN[L.indexOf(X.replace(/ *\([^)]*\) */g,""))%VN.length]},F=(X,J)=>{c instanceof Function&&c(p(X,J))},H=function(X,J){return X.fromStartIndex===J.fromStartIndex&&X.toStartIndex===J.toStartIndex},q=function(X){if(!x.some(J=>H(J,X))){const J=[...x,X];S(J),F(g,J)}},re=X=>{const J=x.filter(ue=>ue!==X);S(J),F(g,J)},G=X=>{const J=[...g,X];_(J),F(J,x)},Y=X=>{const J=g.filter(xe=>xe.startIndex!==X),ue=x.filter(xe=>xe.toStartIndex!==X&&xe.fromStartIndex!==X);_(J),S(ue),F(J,ue)},te=function(X){const J=X.target.attributes.offset;return J===void 0?-1:parseInt(J.value)},ne=function(X){return X.target.nodeName},B=X=>{l&&j(ne(X))},Q=X=>{if(!l)return;const J=te(X),ue=ne(X),xe=window.getSelection&&window.getSelection();if(!(!A||ue==="MARK"||C==="MARK"||!(xe!=null&&xe.focusNode)||!xe.focusNode.isSameNode(xe.anchorNode))&&J>=0){const _e=xe.anchorOffset,he=xe.focusOffset,Z=Math.min(_e,he),se=Math.max(_e,he);if(he-_e!==0){if(a&&!/^\s$/.test(e.slice(J+Z,J+se))){let ie=Z,be=se;if(ic.test(e.charAt(J+ie)))for(;ic.test(e.charAt(J+ie))&&J+ie<e.length;)ie+=1;else for(;!ic.test(e.charAt(J+ie-1))&&J+ie-1>=0;)ie-=1;if(ic.test(e.charAt(J+be-1)))for(;ic.test(e.charAt(J+be-1))&&J+be-1>0;)be-=1;else for(;!ic.test(e.charAt(J+be))&&J+be<e.length;)be+=1;const Ne=e.slice(J+ie,J+be),Pe=_h.tokenize(Ne),ze=Z-ie,Oe=be-se;let qe=0,$e=Pe.length;const rt=[];for(let St=0;St<Pe.length;St++)if(rt.push(Pe[St].value),rt.join("").length>ze){qe=St;break}const Ve=[];for(let St=Pe.length;St>0;St--)if(Ve.push(Pe[St-1].value),Ve.join("").length>Oe){$e=St;break}const mt=Pe.slice(0,qe),It=Pe.slice($e),Ze=J+ie+mt.reduce((St,Re)=>St+Re.value.length,0),dt=J+be-It.reduce((St,Re)=>St+Re.value.length,0),tt={endIndex:dt,highlighted:!1,startIndex:Ze,tags:$,text:e.slice(Ze,dt)};G(tt)}else{const ie={endIndex:J+se,highlighted:!1,startIndex:J+Z,tags:$,text:e.slice(J+Z,J+se)};G(ie)}T(!1),setTimeout(()=>T(!0),100)}}},[K,de]=b.useMemo(()=>{const X=[],J=[0];if(g){let ue=0,xe=[],_e=0;g.sort((Z,se)=>Z.startIndex-se.startIndex).forEach(({tags:Z,startIndex:se,endIndex:ie,highlighted:be})=>{const Ne=e.slice(_e,se||void 0),Pe=e.slice(se||void 0,ie||void 0);xe.push(Ne),xe.push({endIndex:ie,highlighted:be,startIndex:se,tags:Z,text:Pe}),_e=ie||0}),xe.push(e.slice(_e,e.length)),xe=xe.filter(Z=>!!Z),xe.forEach(Z=>{typeof Z=="string"?(X.push(Z),ue+=Z.length,J.push(ue)):(ue+=Z.text.length,J.push(ue),X.push(d.jsx(af,{draggable:i&&s,startIndex:Z.startIndex,endIndex:Z.endIndex,text:Z.text,tags:Z.tags,activeEntities:$,highlighted:Z.highlighted,addRelationship:q,colorLookup:U,relationshipContainer:!1})))})}return[X,J]},[g,e]);return i?d.jsx(l3,{backend:c3,children:d.jsxs("div",{children:[d.jsx("div",{children:d.jsx("h5",{children:"Highlight the text to create a new label. Click on an existing label to remove it."})}),s&&d.jsxs(d.Fragment,{children:[d.jsx("div",{children:d.jsx("h5",{children:"Click-and-drag a label onto another one to create a relationship with the selected tag."})}),d.jsx("div",{children:d.jsx("h5",{children:"Click a relationship on the panel on the right to remove it."})})]}),o&&n.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"font-weight-bold mr-2",children:"Select multiple tags?"}),d.jsx(LV,{checked:u,onChange:h}),d.jsx(rs,{title:`When this is switched off, you can toggle between tags between one click.
                        When it is switched on, you can select multiple tags at once and tag one span of text with all of them.`,children:d.jsx(XA,{style:{marginLeft:10,verticalAlign:0}})})]}),d.jsx("div",{className:"tw-sticky tw-top-20 tw-z-50",children:d.jsx("div",{className:"tw-my-5",children:y.map(({active:X,option:J},ue)=>d.jsx("button",{onClick:xe=>{xe.preventDefault(),P(_e=>_e.map(he=>u?he.option===J?{...he,active:!he.active}:he:{...he,active:he.option===J}))},style:X?{backgroundColor:U(J),borderColor:U(J)}:{},className:Se("btn","even:tw-mx-1","focus:tw-outline-none","hover:tw-outline-none","tw-border-2","tw-mb-1.5","tw-px-3","tw-py-1.5","tw-text-black","tw-rounded",{"tw-bg-white":!X,"tw-border-black":!X}),children:J},J))})}),d.jsxs("div",{className:"tw-flex",children:[d.jsx("div",{className:"tw-flex",children:d.jsx("div",{style:{lineHeight:"1.8em"},onMouseUp:Q,onMouseDown:B,children:K.map((X,J)=>d.jsx("span",{offset:de[J],onClick:()=>k?Y(de[J]):0,style:{whiteSpace:"pre-line"},children:X},J))})}),s&&x&&d.jsx("div",{className:"tw-pl-12",style:{flex:"0 0 230px",msFlex:"0 0 230px"},children:d.jsx(Uw,{relationships:x,spans:g||[],setSpans:_,colorLookup:U,allowEdits:i,removeRelationship:re})})]}),d.jsx("textarea",{id:`item_responses_${t}_text`,name:`item_responses[${t}][text]`,readOnly:!0,style:{display:"none"},value:JSON.stringify(p(g,x))})]})}):d.jsxs("div",{className:"named-entity-tagger",style:{lineHeight:"1.8em"},children:[K.map((X,J)=>d.jsx("span",{style:{whiteSpace:"pre-line"},children:X},J)),s&&(x==null?void 0:x.length)>0&&d.jsxs(d.Fragment,{children:[d.jsx("hr",{}),d.jsx("div",{className:"tw-pl-12",style:{flex:"0 0 230px",msFlex:"0 0 230px"},children:d.jsx(Uw,{relationships:x,spans:g,setSpans:_,colorLookup:U,allowEdits:i,removeRelationship:re})})]})]})}const AAe=Object.freeze(Object.defineProperty({__proto__:null,NamedEntityTagger:PAe},Symbol.toStringTag,{value:"Module"}));function wg(){return wg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wg.apply(this,arguments)}function PL(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function RAe(e,t){return t={exports:{}},e(t,t.exports),t.exports}var $Ae=RAe(function(e){(function(t){if(typeof window>"u")return;var n=0,r=!1,i=!1,o="message",s=o.length,a="[iFrameSizer]",l=a.length,c=null,u=window.requestAnimationFrame,f={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},h={},m=null,p={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){P("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}};function g(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function _(ie,be,Ne){ie.addEventListener(be,Ne,!1)}function x(ie,be,Ne){ie.removeEventListener(be,Ne,!1)}function S(){var ie=["moz","webkit","o","ms"],be;for(be=0;be<ie.length&&!u;be+=1)u=window[ie[be]+"RequestAnimationFrame"];u?u=u.bind(window):T("setup","RequestAnimationFrame not supported")}function C(ie){var be="Host page: "+ie;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?be=window.parentIFrame.getId()+": "+ie:be="Nested host page: "+ie),be}function j(ie){return a+"["+C(ie)+"]"}function k(ie){return h[ie]?h[ie].log:r}function T(ie,be){A("log",ie,be,k(ie))}function y(ie,be){A("info",ie,be,k(ie))}function P(ie,be){A("warn",ie,be,!0)}function A(ie,be,Ne,Pe){Pe===!0&&typeof window.console=="object"&&console[ie](j(be),Ne)}function $(ie){function be(){function ot(){Y(Xt),q(ft),xn("onResized",Xt)}Oe("Height"),Oe("Width"),te(ot,Xt,"init")}function Ne(){var ot=En.substr(l).split(":"),Ct=ot[1]?parseInt(ot[1],10):0,en=h[ot[0]]&&h[ot[0]].iframe,zt=getComputedStyle(en);return{iframe:en,id:ot[0],height:Ct+Pe(zt)+ze(zt),width:ot[2],type:ot[3]}}function Pe(ot){if(ot.boxSizing!=="border-box")return 0;var Ct=ot.paddingTop?parseInt(ot.paddingTop,10):0,en=ot.paddingBottom?parseInt(ot.paddingBottom,10):0;return Ct+en}function ze(ot){if(ot.boxSizing!=="border-box")return 0;var Ct=ot.borderTopWidth?parseInt(ot.borderTopWidth,10):0,en=ot.borderBottomWidth?parseInt(ot.borderBottomWidth,10):0;return Ct+en}function Oe(ot){var Ct=Number(h[ft]["max"+ot]),en=Number(h[ft]["min"+ot]),zt=ot.toLowerCase(),Qt=Number(Xt[zt]);T(ft,"Checking "+zt+" is in range "+en+"-"+Ct),Qt<en&&(Qt=en,T(ft,"Set "+zt+" to min value")),Qt>Ct&&(Qt=Ct,T(ft,"Set "+zt+" to max value")),Xt[zt]=""+Qt}function qe(){function ot(){function zt(){var Mn=0,Or=!1;for(T(ft,"Checking connection is from allowed list of origins: "+en);Mn<en.length;Mn++)if(en[Mn]===Ct){Or=!0;break}return Or}function Qt(){var Mn=h[ft]&&h[ft].remoteHost;return T(ft,"Checking connection is from: "+Mn),Ct===Mn}return en.constructor===Array?zt():Qt()}var Ct=ie.origin,en=h[ft]&&h[ft].checkOrigin;if(en&&""+Ct!="null"&&!ot())throw new Error("Unexpected message received from: "+Ct+" for "+Xt.iframe.id+". Message was: "+ie.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function $e(){return a===(""+En).substr(0,l)&&En.substr(l).split(":")[0]in h}function rt(){var ot=Xt.type in{true:1,false:1,undefined:1};return ot&&T(ft,"Ignoring init message from meta parent page"),ot}function Ve(ot){return En.substr(En.indexOf(":")+s+ot)}function mt(ot){T(ft,"onMessage passed: {iframe: "+Xt.iframe.id+", message: "+ot+"}"),xn("onMessage",{iframe:Xt.iframe,message:JSON.parse(ot)}),T(ft,"--")}function It(){var ot=document.body.getBoundingClientRect(),Ct=Xt.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:Ct.height,iframeWidth:Ct.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(Ct.top-ot.top,10),offsetLeft:parseInt(Ct.left-ot.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})}function Ze(ot,Ct){function en(){ne("Send Page Info","pageInfo:"+It(),ot,Ct)}X(en,32,Ct)}function dt(){function ot(Qt,Mn){function Or(){h[zt]?Ze(h[zt].iframe,zt):Ct()}["scroll","resize"].forEach(function(Wo){T(zt,Qt+Wo+" listener for sendPageInfo"),Mn(window,Wo,Or)})}function Ct(){ot("Remove ",x)}function en(){ot("Add ",_)}var zt=ft;en(),h[zt]&&(h[zt].stopPageInfo=Ct)}function tt(){h[ft]&&h[ft].stopPageInfo&&(h[ft].stopPageInfo(),delete h[ft].stopPageInfo)}function St(){var ot=!0;return Xt.iframe===null&&(P(ft,"IFrame ("+Xt.id+") not found"),ot=!1),ot}function Re(ot){var Ct=ot.getBoundingClientRect();return H(ft),{x:Math.floor(Number(Ct.left)+Number(c.x)),y:Math.floor(Number(Ct.top)+Number(c.y))}}function We(ot){function Ct(){c=Mn,at(),T(ft,"--")}function en(){return{x:Number(Xt.width)+Qt.x,y:Number(Xt.height)+Qt.y}}function zt(){window.parentIFrame?window.parentIFrame["scrollTo"+(ot?"Offset":"")](Mn.x,Mn.y):P(ft,"Unable to scroll to requested position, window.parentIFrame not found")}var Qt=ot?Re(Xt.iframe):{x:0,y:0},Mn=en();T(ft,"Reposition requested from iFrame (offset x:"+Qt.x+" y:"+Qt.y+")"),window.top!==window.self?zt():Ct()}function at(){xn("onScroll",c)!==!1?q(ft):re()}function st(ot){function Ct(){var Or=Re(Mn);T(ft,"Moving to in page link (#"+zt+") at x: "+Or.x+" y: "+Or.y),c={x:Or.x,y:Or.y},at(),T(ft,"--")}function en(){window.parentIFrame?window.parentIFrame.moveToAnchor(zt):T(ft,"In page link #"+zt+" not found and window.parentIFrame not found")}var zt=ot.split("#")[1]||"",Qt=decodeURIComponent(zt),Mn=document.getElementById(Qt)||document.getElementsByName(Qt)[0];Mn?Ct():window.top!==window.self?en():T(ft,"In page link #"+zt+" not found")}function $t(ot){xn(ot,{iframe:Xt.iframe,screenX:Xt.width,screenY:Xt.height,type:Xt.type})}function xn(ot,Ct){return L(ft,ot,Ct)}function Cn(){switch(h[ft]&&h[ft].firstRun&&mr(),Xt.type){case"close":F(Xt.iframe);break;case"message":mt(Ve(6));break;case"mouseenter":$t("onMouseEnter");break;case"mouseleave":$t("onMouseLeave");break;case"autoResize":h[ft].autoResize=JSON.parse(Ve(9));break;case"scrollTo":We(!1);break;case"scrollToOffset":We(!0);break;case"pageInfo":Ze(h[ft]&&h[ft].iframe,ft),dt();break;case"pageInfoStop":tt();break;case"inPageLink":st(Ve(9));break;case"reset":G(Xt);break;case"init":be(),xn("onInit",Xt.iframe);break;default:be()}}function Fn(ot){var Ct=!0;return h[ot]||(Ct=!1,P(Xt.type+" No settings for "+ot+". Message was: "+En)),Ct}function mn(){for(var ot in h)ne("iFrame requested init",B(ot),h[ot].iframe,ot)}function mr(){h[ft]&&(h[ft].firstRun=!1)}var En=ie.data,Xt={},ft=null;En==="[iFrameResizerChild]Ready"?mn():$e()?(Xt=Ne(),ft=Xt.id,h[ft]&&(h[ft].loaded=!0),!rt()&&Fn(ft)&&(T(ft,"Received: "+En),St()&&qe()&&Cn())):y(ft,"Ignored: "+En)}function L(ie,be,Ne){var Pe=null,ze=null;if(h[ie])if(Pe=h[ie][be],typeof Pe=="function")ze=Pe(Ne);else throw new TypeError(be+" on iFrame["+ie+"] is not a function");return ze}function U(ie){var be=ie.id;delete h[be]}function F(ie){var be=ie.id;if(L(be,"onClose",be)===!1){T(be,"Close iframe cancelled by onClose event");return}T(be,"Removing iFrame: "+be);try{ie.parentNode&&ie.parentNode.removeChild(ie)}catch(Ne){P(Ne)}L(be,"onClosed",be),T(be,"--"),U(ie)}function H(ie){c===null&&(c={x:window.pageXOffset!==t?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==t?window.pageYOffset:document.documentElement.scrollTop},T(ie,"Get page position: "+c.x+","+c.y))}function q(ie){c!==null&&(window.scrollTo(c.x,c.y),T(ie,"Set page position: "+c.x+","+c.y),re())}function re(){c=null}function G(ie){function be(){Y(ie),ne("reset","reset",ie.iframe,ie.id)}T(ie.id,"Size reset requested by "+(ie.type==="init"?"host page":"iFrame")),H(ie.id),te(be,ie,"reset")}function Y(ie){function be(Oe){if(!ie.id){T("undefined","messageData id not set");return}ie.iframe.style[Oe]=ie[Oe]+"px",T(ie.id,"IFrame ("+ze+") "+Oe+" set to "+ie[Oe]+"px")}function Ne(Oe){!i&&ie[Oe]==="0"&&(i=!0,T(ze,"Hidden iFrame detected, creating visibility listener"),J())}function Pe(Oe){be(Oe),Ne(Oe)}var ze=ie.iframe.id;h[ze]&&(h[ze].sizeHeight&&Pe("height"),h[ze].sizeWidth&&Pe("width"))}function te(ie,be,Ne){Ne!==be.type&&u&&!window.jasmine?(T(be.id,"Requesting animation frame"),u(ie)):ie()}function ne(ie,be,Ne,Pe,ze){function Oe(){var mt=h[Pe]&&h[Pe].targetOrigin;T(Pe,"["+ie+"] Sending msg to iframe["+Pe+"] ("+be+") targetOrigin: "+mt),Ne.contentWindow.postMessage(a+be,mt)}function qe(){P(Pe,"["+ie+"] IFrame("+Pe+") not found")}function $e(){Ne&&"contentWindow"in Ne&&Ne.contentWindow!==null?Oe():qe()}function rt(){function mt(){h[Pe]&&!h[Pe].loaded&&!Ve&&(Ve=!0,P(Pe,"IFrame has not responded within "+h[Pe].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}ze&&h[Pe]&&h[Pe].warningTimeout&&(h[Pe].msgTimeout=setTimeout(mt,h[Pe].warningTimeout))}var Ve=!1;Pe=Pe||Ne.id,h[Pe]&&($e(),rt())}function B(ie){return ie+":"+h[ie].bodyMarginV1+":"+h[ie].sizeWidth+":"+h[ie].log+":"+h[ie].interval+":"+h[ie].enablePublicMethods+":"+h[ie].autoResize+":"+h[ie].bodyMargin+":"+h[ie].heightCalculationMethod+":"+h[ie].bodyBackground+":"+h[ie].bodyPadding+":"+h[ie].tolerance+":"+h[ie].inPageLinks+":"+h[ie].resizeFrom+":"+h[ie].widthCalculationMethod}function Q(ie,be){function Ne(){function We(st){h[Re][st]!==1/0&&h[Re][st]!==0&&(ie.style[st]=h[Re][st]+"px",T(Re,"Set "+st+" = "+h[Re][st]+"px"))}function at(st){if(h[Re]["min"+st]>h[Re]["max"+st])throw new Error("Value for min"+st+" can not be greater than max"+st)}at("Height"),at("Width"),We("maxHeight"),We("minHeight"),We("maxWidth"),We("minWidth")}function Pe(){var We=be&&be.id||p.id+n++;return document.getElementById(We)!==null&&(We+=n++),We}function ze(We){return We===""&&(ie.id=We=Pe(),r=(be||{}).log,T(We,"Added missing iframe ID: "+We+" ("+ie.src+")")),We}function Oe(){switch(T(Re,"IFrame scrolling "+(h[Re]&&h[Re].scrolling?"enabled":"disabled")+" for "+Re),ie.style.overflow=(h[Re]&&h[Re].scrolling)===!1?"hidden":"auto",h[Re]&&h[Re].scrolling){case"omit":break;case!0:ie.scrolling="yes";break;case!1:ie.scrolling="no";break;default:ie.scrolling=h[Re]?h[Re].scrolling:"no"}}function qe(){(typeof(h[Re]&&h[Re].bodyMargin)=="number"||(h[Re]&&h[Re].bodyMargin)==="0")&&(h[Re].bodyMarginV1=h[Re].bodyMargin,h[Re].bodyMargin=""+h[Re].bodyMargin+"px")}function $e(){var We=h[Re]&&h[Re].firstRun,at=h[Re]&&h[Re].heightCalculationMethod in f;!We&&at&&G({iframe:ie,height:0,width:0,type:"init"})}function rt(){h[Re]&&(h[Re].iframe.iFrameResizer={close:F.bind(null,h[Re].iframe),removeListeners:U.bind(null,h[Re].iframe),resize:ne.bind(null,"Window resize","resize",h[Re].iframe),moveToAnchor:function(We){ne("Move to anchor","moveToAnchor:"+We,h[Re].iframe,Re)},sendMessage:function(We){We=JSON.stringify(We),ne("Send Message","message:"+We,h[Re].iframe,Re)}})}function Ve(We){function at(){ne("iFrame.onload",We,ie,t,!0),$e()}function st(xn){if(ie.parentNode){var Cn=new xn(function(Fn){Fn.forEach(function(mn){var mr=Array.prototype.slice.call(mn.removedNodes);mr.forEach(function(En){En===ie&&F(ie)})})});Cn.observe(ie.parentNode,{childList:!0})}}var $t=g();$t&&st($t),_(ie,"load",at),ne("init",We,ie,t,!0)}function mt(We){if(typeof We!="object")throw new TypeError("Options is not an object")}function It(We){for(var at in p)Object.prototype.hasOwnProperty.call(p,at)&&(h[Re][at]=Object.prototype.hasOwnProperty.call(We,at)?We[at]:p[at])}function Ze(We){return We===""||We.match(/^(about:blank|javascript:|file:\/\/)/)!==null?"*":We}function dt(We){var at=We.split("Callback");if(at.length===2){var st="on"+at[0].charAt(0).toUpperCase()+at[0].slice(1);this[st]=this[We],delete this[We],P(Re,"Deprecated: '"+We+"' has been renamed '"+st+"'. The old method will be removed in the next major version.")}}function tt(We){We=We||{},h[Re]={firstRun:!0,iframe:ie,remoteHost:ie.src&&ie.src.split("/").slice(0,3).join("/")},mt(We),Object.keys(We).forEach(dt,We),It(We),h[Re]&&(h[Re].targetOrigin=h[Re].checkOrigin===!0?Ze(h[Re].remoteHost):"*")}function St(){return Re in h&&"iFrameResizer"in ie}var Re=ze(ie.id);St()?P(Re,"Ignored iFrame, already setup."):(tt(be),Oe(),Ne(),qe(),Ve(B(Re)),rt())}function K(ie,be){m===null&&(m=setTimeout(function(){m=null,ie()},be))}var de={};function X(ie,be,Ne){de[Ne]||(de[Ne]=setTimeout(function(){de[Ne]=null,ie()},be))}function J(){function ie(){function ze(Oe){function qe(rt){return(h[Oe]&&h[Oe].iframe.style[rt])==="0px"}function $e(rt){return rt.offsetParent!==null}h[Oe]&&$e(h[Oe].iframe)&&(qe("height")||qe("width"))&&ne("Visibility change","resize",h[Oe].iframe,Oe)}Object.keys(h).forEach(function(Oe){ze(Oe)})}function be(ze){T("window","Mutation observed: "+ze[0].target+" "+ze[0].type),K(ie,16)}function Ne(){var ze=document.querySelector("body"),Oe={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},qe=new Pe(be);qe.observe(ze,Oe)}var Pe=g();Pe&&Ne()}function ue(ie){function be(){_e("Window "+ie,"resize")}T("window","Trigger event: "+ie),K(be,16)}function xe(){function ie(){_e("Tab Visable","resize")}document.visibilityState!=="hidden"&&(T("document","Trigger event: Visiblity change"),K(ie,16))}function _e(ie,be){function Ne(Pe){return h[Pe]&&h[Pe].resizeFrom==="parent"&&h[Pe].autoResize&&!h[Pe].firstRun}Object.keys(h).forEach(function(Pe){Ne(Pe)&&ne(ie,be,h[Pe].iframe,Pe)})}function he(){_(window,"message",$),_(window,"resize",function(){ue("resize")}),_(document,"visibilitychange",xe),_(document,"-webkit-visibilitychange",xe)}function Z(){function ie(Pe,ze){function Oe(){if(ze.tagName){if(ze.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+ze.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}ze&&(Oe(),Q(ze,Pe),Ne.push(ze))}function be(Pe){Pe&&Pe.enablePublicMethods&&P("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var Ne;return S(),he(),function(ze,Oe){switch(Ne=[],be(ze),typeof Oe){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(Oe||"iframe"),ie.bind(t,ze));break;case"object":ie(ze,Oe);break;default:throw new TypeError("Unexpected data type ("+typeof Oe+")")}return Ne}}function se(ie){ie.fn?ie.fn.iFrameResize||(ie.fn.iFrameResize=function(Ne){function Pe(ze,Oe){Q(Oe,Ne)}return this.filter("iframe").each(Pe).end()}):y("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&se(window.jQuery),typeof t=="function"&&t.amd?t([],Z):e.exports=Z(),window.iFrameResize=window.iFrameResize||Z()})()}),IAe=function(){},DAe=IAe,LAe=function(e){e.autoResize,e.bodyBackground,e.bodyMargin,e.bodyPadding,e.checkOrigin,e.inPageLinks,e.heightCalculationMethod,e.interval,e.log,e.maxHeight,e.maxWidth,e.minHeight,e.minWidth,e.resizeFrom,e.scrolling,e.sizeHeight,e.sizeWidth,e.warningTimeout,e.tolerance,e.widthCalculationMethod,e.onClosed,e.onInit,e.onMessage,e.onMouseEnter,e.onMouseLeave,e.onResized;var t=PL(e,["autoResize","bodyBackground","bodyMargin","bodyPadding","checkOrigin","inPageLinks","heightCalculationMethod","interval","log","maxHeight","maxWidth","minHeight","minWidth","resizeFrom","scrolling","sizeHeight","sizeWidth","warningTimeout","tolerance","widthCalculationMethod","onClosed","onInit","onMessage","onMouseEnter","onMouseLeave","onResized"]);return t},f2=function(t){var n=t.title,r=t.forwardRef,i=PL(t,["title","forwardRef"]),o=LAe(i),s=b.useRef(null),a=function(){return DAe(!s.current,"[iframeSizerReact]["+(s&&s.current&&s.current.id)+"] Close event ignored, to remove the iframe update your React component"),!s.current};return b.useEffect(function(){var l=s.current;return $Ae(wg({},i,{onClose:a}),l),function(){return l.iFrameResizer&&l.iFrameResizer.removeListeners()}},[]),b.useImperativeHandle(r,function(){return{resize:function(){return s.current.iFrameResizer.resize()},moveToAnchor:function(c){return s.current.iFrameResizer.moveToAnchor(c)},sendMessage:function(c,u){s.current.iFrameResizer.sendMessage(c,u)}}}),Le.createElement("iframe",wg({title:n},o,{ref:s}))};f2.defaultProps={title:"iframe"};f2.propTypes={title:R.string};function AL({iframeURL:e}){const t=b.useRef(),n=r=>{r.message.redirect_url&&(window.location=new URL(r.message.redirect_url).pathname)};return d.jsx(f2,{id:"task-response-iframe",className:"tw-min-h-full task-response-iframe",src:e,forwardRef:t,checkOrigin:!1,style:{width:"1px",minWidth:"100%"},heightCalculationMethod:"max",onMessage:n,sandbox:"allow-forms allow-modals allow-popups allow-same-origin allow-scripts"})}const FAe=Object.freeze(Object.defineProperty({__proto__:null,default:AL},Symbol.toStringTag,{value:"Module"}));function h2(e){const t=b.useMemo(()=>{switch(e.status){case"not_done_first_poll_yet":case"polling":return fn;case"failure":case"success":case null:return;default:Lt()}},[e]),n=b.useMemo(()=>{switch(e.status){case"not_done_first_poll_yet":return"Fetching status";case"polling":return"Adding Surgers";case"failure":case"success":return"Add Surgers";default:Lt()}},[e]),r=b.useMemo(()=>{switch(e.status){case"not_done_first_poll_yet":return"Fetching status...";case"polling":{const o=M3(e.data.jobs,"created_at");if(!o)throw Error("Backend should return at least one job.");return`Running for ${Fg(new Date(o.created_at))}`}case"success":{switch(e.data.job_status){case"no_recent_runs":return"No recent runs found.";case"most_recent_run":return"Recent run was completed.";default:Lt(e.data)}break}case"failure":return"Failed to fetch status. Please refresh page and try again. Let us know if this problem persists.";default:Lt()}},[e]),i=b.useMemo(()=>{switch(e.status){case"failure":case"success":return!1;case"polling":case"not_done_first_poll_yet":return!0;default:Lt()}},[e]);return{Icon:t,btnText:n,tippyContent:r,disabled:i}}function RL({addSurgersPoll:e,teamId:t,euidsAndEmails:n}){const r=()=>{N3("AddUsersToQualWorker",{qualification_id:t,emails_and_euids:n}).then(()=>{e.restartPolling({args:{qualification_id:t,emails_and_euids:""}})})},{Icon:i,btnText:o,tippyContent:s,disabled:a}=h2(e);return d.jsx(yn,{content:s,placement:"bottom-end",children:d.jsx("div",{className:"tw-w-min",children:d.jsx(yt,{buttonSize:"sm",variant:"primary",icon:i,iconSide:"left",onClick:r,disabled:a,children:o})})})}const zAe=Object.freeze(Object.defineProperty({__proto__:null,default:RL,useAddSurgersButtonProps:h2},Symbol.toStringTag,{value:"Module"})),$L=/\b[^@\s]+@[^@\s]+\b/,IL=/\b[234679ACDEFGHJKMNPQRTVWXYZ]{12}\b/;function DL({isOpen:e,setIsOpen:t,teamId:n,addSurgersPoll:r}){const[i,o]=b.useState(""),[s,a]=b.useState(!1),[l,c]=b.useState("Can't be empty."),u=f=>{o(f),f.length==0?c("Can't be empty."):!f.match($L)&&!f.match(IL)?c("Contains no valid email addresses or EUIDs."):c("")};return d.jsx(qg,{open:e,title:"Add others to your workforce",onClose:()=>t(!1),children:d.jsxs("div",{className:"tw-mt-10",children:[d.jsx(Do,{value:i,onChange:f=>{u(f.target.value)},error:s?l:"",hideLabel:!1,label:"EUIDs and/or email addresses:",onBlur:()=>a(!0)}),d.jsx(RL,{euidsAndEmails:i,teamId:n,addSurgersPoll:r})]})})}const BAe=Object.freeze(Object.defineProperty({__proto__:null,VALID_EMAIL_REGEX:$L,VALID_EUID_REGEX:IL,default:DL},Symbol.toStringTag,{value:"Module"})),p2=e=>({type:"num_responses_in_project",min:null,max:null,restrict_to_gold_standard_tasks:"false",include_child_pop_quizzes:"false",projects_requiring_any_of_qual_ids:[e]}),m2=e=>({type:"num_responses_in_project",min:null,max:null,restrict_to_gold_standard_tasks:"true",include_child_pop_quizzes:"true",projects_requiring_any_of_qual_ids:[e]}),g2=e=>({type:"project_score",min:null,max:null,aggregate_level:"task",projects_requiring_any_of_qual_ids:[e],denominator:"num_completed_answers"}),v2=e=>({type:"review_score",min:null,max:null,min_num_reviews:null,max_num_reviews:null,projects_requiring_any_of_qual_ids:[e]}),E0=e=>({type:"qual_membership",id:e,filter_to:"member"});function WAe(e){return{type:"match_all",filters:[p2(e),m2(e),g2(e),v2(e),{type:"user_search",search_term:null},E0(e)].map(r=>({type:"match_any",filters:[r]}))}}function LL({teamId:e}){return d.jsx(yn,{content:"Link to workforce page that 'reproduces' most of the columns below in the Surger tables.",children:d.jsx("a",{target:"_blank",rel:"noreferrer noopener",href:`/workforce_listing?filter=${FG(WAe(e))}`,children:d.jsx(yt,{buttonSize:"sm",variant:"outline",children:"Workforce page"})})})}const HAe=Object.freeze(Object.defineProperty({__proto__:null,LinkToWorkforcePage:LL,getGSScoreFilterValue:g2,getNumGSFilterValue:m2,getNumResponsesFilterValue:p2,getQualMembershipFilterValue:E0,getReviewFilterValue:v2},Symbol.toStringTag,{value:"Module"}));var UN;function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gw.apply(this,arguments)}var k0=function(t){return b.createElement("svg",Gw({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 17 16"},t),UN||(UN=b.createElement("path",{fill:"#1A1A1A",d:"M11 .667H3c-.733 0-1.333.6-1.333 1.333v9.333H3V2h8V.667Zm2 2.666H5.667c-.734 0-1.334.6-1.334 1.334V14c0 .733.6 1.333 1.334 1.333H13c.733 0 1.333-.6 1.333-1.333V4.667c0-.734-.6-1.334-1.333-1.334M13 14H5.667V4.667H13z"})))};function qAe({euids:e,isOpen:t,setIsOpen:n}){const r=b.useMemo(()=>e.join(", "),[e]),i=b.useCallback(()=>{navigator.clipboard.writeText(r).then(()=>alert("Copied."),()=>alert("Failed to copy. 🥺")).then(()=>n(!1))},[n,r]);return d.jsx(A1,{isOpen:t,setIsOpen:n,children:d.jsxs("div",{className:Se("tw-flex tw-flex-col tw-items-center tw-justify-center","tw-p-8","tw-min-w-96","tw-space-y-3"),children:[d.jsx("div",{className:Se("tw-flex tw-flex-col tw-items-stretch"),children:d.jsx(Do,{disabled:!0,label:"euids",hideLabel:!0,value:r,maxRows:30})}),d.jsx(yt,{onClick:i,icon:()=>d.jsx(k0,{className:"tw-text-white-100"}),buttonSize:"md",variant:"outline",children:"Copy"})]})})}const VAe=Object.freeze(Object.defineProperty({__proto__:null,TeamMemberEuidsModal:qAe},Symbol.toStringTag,{value:"Module"})),UAe=()=>{},xh=b.createContext({teamState:{status:"loading"},teamDispatch:UAe}),GAe=()=>{},b2=b.createContext({teamMembershipsState:{member_of:{status:"loading"},removed_from:{status:"loading"},pending:{status:"loading"}},teamMembershipsDispatch:GAe}),FL=function(e,t){return tr(e,n=>{switch(t.type){case"addNewUsers":n.userCount+=t.newUserData.rows.length;break;case"removeAllUsers":n.userCount=0;break;case"updateQualDetails":n.name=t.params.name||n.name,n.description=t.params.description||n.description;break;case"updateRequiringProjectStatus":{const r=n.projectsRequiring[t.projectId];r.status=t.newStatus;break}case"deleteRequiringProject":{delete n.projectsRequiring[t.projectId];break}default:Lt()}})},zL=function(e,t){switch(t.type){case"setLoadingFailed":return{status:"failed"};case"setLoaded":return{status:"loaded",state:t.data,lastModifiedAt:new Date};case"addNewUsers":case"removeAllUsers":case"updateQualDetails":case"deleteRequiringProject":case"updateRequiringProjectStatus":return e.status!="loaded"?(console.warn("Encountered unexpected action that should be dispatched only when the data is loaded."),e):{status:"loaded",state:FL(e.state,t),lastModifiedAt:new Date};default:Lt()}},Kw=function(e,t){return tr(e,n=>{switch(t.type){case"addNewUsers":t.newUserData.rows.forEach(r=>{const i=n.rows.findIndex(s=>s.id==r.id),o=Object.assign({},r,{updatingQualStatus:!1});i==-1?n.rows.push(o):n.rows[i]=o});break;case"updatingQualStatus":{const r=n.rows.find(i=>i.id==t.userId);if(!r)throw Error();r.updatingQualStatus=!0;break}case"failedToUpdateQualStatus":{const r=n.rows.find(i=>i.id==t.userId);if(!r)throw Error();r.updatingQualStatus=!1;break}case"removeUser":{const r=n.rows.findIndex(i=>i.id==t.userId);if(r==-1)throw Error("A sanity check codepath that should never be reached.");n.rows.splice(r,1);break}default:Lt()}})},KAe=function(e,t){switch(t.type){case"setLoadingFailed":return{status:"failed"};case"setLoading":return{status:"loading"};case"setLoaded":return{status:"loaded",lastModifiedAt:new Date,state:{numTotal:t.data.numTotal,rows:t.data.rows.map(n=>({...n,updatingQualStatus:!1}))}};case"addNewUsers":return e.status!="loaded"?{...e}:{status:"loaded",lastModifiedAt:new Date,state:Kw(e.state,t)};case"updatingQualStatus":case"failedToUpdateQualStatus":case"removeUser":return e.status!="loaded"?(console.warn("Encountered unexpected action that should be dispatched only when the data is loaded."),e):{status:"loaded",state:Kw(e.state,t),lastModifiedAt:new Date};default:Lt()}},BL=function(e,t){return{...e,[t.kind]:KAe(e[t.kind],t.action)}},YAe=Object.freeze(Object.defineProperty({__proto__:null,TeamMembershipsStateContext:b2,TeamStateContext:xh,loadedMembershipStateReducer:Kw,loadedStateReducer:FL,teamMembershipsReducer:BL,teamStateReducer:zL},Symbol.toStringTag,{value:"Module"})),ji=({onClick:e,icon:t,text:n,btnText:r})=>d.jsxs("div",{className:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-10",children:[t&&d.jsx("div",{className:"tw-p-5 tw-bg-primary-default-5 tw-w-min tw-rounded-full",children:Le.createElement(t)}),d.jsx("h3",{className:"tw-flex tw-items-center tw-justify-center tw-text-black-70 tw-max-w-sm tw-text-center",children:n}),d.jsx("div",{children:!!r&&d.jsx(yt,{onClick:e,variant:"primary",children:r})})]});function WL({teamId:e,projects:t}){const{teamDispatch:n}=b.useContext(xh),r=Io(),i=b.useMemo(()=>[r.accessor(o=>o.name,{id:"Name",header:"Name",cell:({row:o,getValue:s})=>d.jsx("a",{href:`/projects/${o.original.id}/`,children:s()})}),r.accessor(o=>new Date(o.createdAt),{id:"Created",header:"Created",cell:({getValue:o})=>d.jsx(d.Fragment,{children:o().toLocaleDateString()}),enableColumnFilter:!1}),r.accessor(o=>o.status,{id:"Status",header:"Status",cell:({getValue:o,row:s})=>d.jsx(A3,{status:o(),projectId:s.original.id,onProjectDelete:()=>n({type:"deleteRequiringProject",projectId:s.original.id}),onProjectStatusChange:a=>n({type:"updateRequiringProjectStatus",projectId:s.original.id,newStatus:a})})})],[r,n]);return d.jsx($o,{data:t,className:"tw-pt-10 tw-pl-2",columns:i,hover:!0,defaultSortColId:"Name",tableUniqueIdentifier:`Team/${e}/Pending`,placeholder:d.jsx(ji,{text:"This team has no projects"})})}const ZAe=Object.freeze(Object.defineProperty({__proto__:null,default:WL},Symbol.toStringTag,{value:"Module"}));function Ep(e,t,n){const r=e.findIndex(i=>i==t);if(r==-1)throw Error(`${t} not found in array`);return e.splice(r,1,n)}async function HL(e,t){const n=p2(e),r=m2(e),i=g2(e),o=v2(e),s=E0(e),l=(await zG({type:"match_all",filters:[n,r,i,o,s]})).workers;return QAe(l,t,n,r,i,o)}function qL({qualificationId:e,lastModifiedAt:t}){const n=x3();return d.jsx(y3,{queryKey:{qualificationId:e,lastModifiedAt:t},readyToCopyMsg:`Copy table contents to clipboard. 
  Non-Surgers will be excluded. 
  The following columns will not be copied: "Number of reviews", "Membership created", and "Membership modified at".
  Let us know if these limitations are annoying.
  `,queryFn:async({qualificationId:i})=>xH(await HL(i,n),{}),btnProps:{iconSide:"only"}})}async function QAe(e,t,n,r,i,o){const a=await wH({type:"match_any",filters:[n,r,i,o]},e,t),l=a[0];return Ep(l,await Yh(n,t),"Completed tasks"),Ep(l,await Yh(r,t),"Number of gold standard responses"),Ep(l,await Yh(i,t),"Average gold standard score"),Ep(l,await Yh(o,t),"Average review score"),a}const JAe=Object.freeze(Object.defineProperty({__proto__:null,default:qL,getCsvData:HL},Symbol.toStringTag,{value:"Module"})),XAe=ut.record(ut.string(),ut.object({num_seconds_worked_in_past_n_days:ut.number().default(0),num_available_projects:ut.object({num:ut.number(),timestamp:ut.string().datetime()})}));function VL(e,t){return Rn.post(`${Zn}/surgers/supply_and_demand_data`,{surger_ids:e,n_days:t}).then(n=>du(n.data,XAe))}const e3e=function({currentQualStatus:e,userRow:t,reloadQueries:n}){const{teamState:r}=b.useContext(xh),{teamMembershipsState:i,teamMembershipsDispatch:o}=b.useContext(b2);function s(){const l=e=="member_of"?"removed_from":"member_of";if(i[e].status!="loaded"||r.status!="loaded")throw new Error("Should not be able to click on button when not loaded");o({kind:e,action:{type:"updatingQualStatus",userId:t.id}}),F3(t.euid,r.state.id,l).then(()=>{n(),o({kind:e,action:{type:"removeUser",userId:t.id}})}).catch(()=>o({kind:e,action:{type:"failedToUpdateQualStatus",userId:t.id}}))}let a=_3;return t.updatingQualStatus?a=fn:e=="member_of"&&(a=F1),d.jsx(yt,{onClick:s,buttonSize:"sm",variant:"outline",icon:a},t.euid)};function Yw({userData:e,projectsGranting:t,placeholder:n,tableUniqueIdentifier:r,teamMembershipsQuery:i,reloadQueries:o,currentQualStatus:s,sortingState:a,paginationState:l,searchTermState:c,teamId:u,lastModifiedAt:f}){var k;const[h,m]=b.useState(!1),p=Io(),[g,_]=b.useState(21);b.useEffect(()=>{mH(i)},[i]);const x=li({enabled:h,queryKey:{showTimeSpentInPastNDays:g,userIds:e.rows.map(T=>T.id)},queryFn:({userIds:T,showTimeSpentInPastNDays:y})=>VL(T,y),delay:!1,onQueryKeyChange:"reloadIfLoadedOrFailed"}),S=b.useMemo(()=>Object.entries(t).map(([T,{name:y}],P)=>p.accessor(A=>{const $=A.qualResults[T];return $===void 0?"":Math.floor(parseInt($.score))},{header:()=>d.jsx(Ue,{label:`Score on: ${y}`}),id:`score_${P}`,cell:({row:A,getValue:$})=>{const L=A.original.qualResults[T];if(L===void 0)return"";const{numCompletedAnswers:U,numTotalAnswers:F,projectId:H}=L;return d.jsx("a",{href:`/projects/${H}/results?filterSurgerId=${A.original.euid}`,children:`${$()}% correct (${U}/${F} completed)`})},enableSorting:!1,...Ht})),[p,t]),C=b.useMemo(()=>[{header:()=>d.jsx(Ue,{label:"Action"}),id:"action",cell:({row:T})=>d.jsx(e3e,{userRow:T.original,reloadQueries:o,currentQualStatus:s}),enableSorting:!1,enableColumnFilter:!1,size:90},p.accessor(T=>`${T.name} (${T.euid})`,{cell:({row:T,getValue:y})=>d.jsx("a",{href:`/worker_profiles/${T.original.id}`,children:y()}),header:()=>d.jsx(Ue,{label:"Surger"}),enableSorting:!1,enableColumnFilter:!1,id:"surger"}),...S,p.accessor(T=>{var y;return((y=T.responseStats)==null?void 0:y.nTaskResponses)||0},{header:()=>d.jsx(Ue,{label:"Completed tasks"}),id:WG,enableColumnFilter:!1}),p.accessor(T=>T.responseStats!=null&&T.responseStats.avgReviewScore!=null?parseFloat(T.responseStats.avgReviewScore):null,{header:()=>d.jsx(Ue,{label:"Average review score"}),id:HG,cell:({getValue:T})=>T()!=null?`${Nr(T(),bT)}%`:"",enableColumnFilter:!1}),p.accessor(T=>{var y;return((y=T.responseStats)==null?void 0:y.nReviewed)||0},{header:()=>d.jsx(Ue,{label:"Total number of reviews"}),id:qG,enableColumnFilter:!1}),p.accessor(T=>T.goldStandardStats!=null&&T.goldStandardStats.goldStandardScore!=null?parseFloat(T.goldStandardStats.goldStandardScore):null,{header:()=>d.jsx(Ue,{label:"Average gold standard score"}),id:VG,cell:({getValue:T})=>T()!=null?`${Nr(T(),bT)}%`:"",enableColumnFilter:!1}),p.accessor(T=>{var y;return((y=T.goldStandardStats)==null?void 0:y.totalCompletedAnswers)||0},{header:()=>d.jsx(Ue,{label:"Number of gold standard responses"}),id:UG,enableColumnFilter:!1}),p.accessor(T=>T.qualMembership.createdAt,{header:()=>d.jsx(Ue,{label:"Membership status created at"}),id:GG,cell:({getValue:T})=>Nr(T(),y=>cm(new Date(y))),enableColumnFilter:!1}),p.accessor(T=>T.qualMembership.updatedAt,{header:()=>d.jsx(Ue,{label:"Membership status modified at"}),id:KG,cell:({getValue:T})=>Nr(T(),y=>cm(new Date(y)))}),...h?[p.accessor(T=>{var y,P;return((y=T.supplyAndDemandData)==null?void 0:y.status)=="loaded"?(P=T.supplyAndDemandData.data)==null?void 0:P.num_seconds_worked_in_past_n_days:void 0},{header:()=>d.jsx(yn,{content:`This is calculated on all tasks across all projects (ie, not those that somehow pertain to this team only).

            Also, tasks submitted today are not included in this calculation. Ie, the calculation is done until the most recent (UTC) midnight.
            `,children:d.jsxs("div",{className:"tw-flex tw-items-center tw-flex-wrap",children:[d.jsx("div",{children:"Time spent on tasks in the past"}),d.jsx(wo,{isValidFunc:T=>{const y=ri(parseInt(T));return y!==null&&y>=0},onChange:T=>{_(parseInt(T))},originalText:g.toString()}),d.jsx("div",{children:"days"})]})}),id:"num_seconds_worked_in_past_n_days",cell:({row:T})=>{var P;const y=T.original.supplyAndDemandData;switch(y==null?void 0:y.status){case"loading":case"not_loaded":return d.jsx(fn,{className:"tw-w-6 tw-h-6"});case"loaded":return g3.humanize(((P=y.data)==null?void 0:P.num_seconds_worked_in_past_n_days)*1e3,{units:["h","m"],round:!0});case"failure":return"Error loading data";default:y&&Lt()}},enableSorting:!1,enableColumnFilter:!1}),p.accessor(T=>{var y;switch((y=T.supplyAndDemandData)==null?void 0:y.status){case"loading":case"not_loaded":return null;case"loaded":return T.supplyAndDemandData.data.num_available_projects.num;case"failure":return"Error loading data";default:T.supplyAndDemandData&&Lt(T.supplyAndDemandData)}},{header:()=>d.jsx(Ue,{label:"Number of projects currently available to Surger"}),id:"num_available_projects",cell:({row:T,getValue:y})=>{var P;return y()===null?d.jsx(fn,{className:"tw-w-6 tw-h-6"}):y()&&((P=T.original.supplyAndDemandData)==null?void 0:P.status)==="loaded"?d.jsx(yn,{content:`Last updated before: ${Fg(new Date(T.original.supplyAndDemandData.data.num_available_projects.timestamp))}`,children:d.jsx("div",{children:y()})}):d.jsx("span",{className:"tw-italic",children:"None"})},enableSorting:!1,enableColumnFilter:!1})]:[]],[p,s,S,o,h,g]),j=b.useMemo(()=>h?e.rows.map(T=>({...T,supplyAndDemandData:b3(x,y=>y[T.id])})):e.rows,[e,x,h]);return d.jsx($o,{sortingState:a,manualSorting:!0,isLoading:i.status==="loading",data:j,className:"tw-pt-10 tw-pl-2",columns:C,defaultPageSize:Bc[3],defaultHiddenColumns:["last_updated_num_projects_available_to_surger"],hover:!0,defaultSortColId:"surger",placeholder:n,tableUniqueIdentifier:r,paginationState:l,totalRows:(k=gH(i))==null?void 0:k.numTotal,persistInLocalStorage:{},displayTotal:!0,manualPagination:!0,ToolbarComponent:()=>d.jsx(la,{children:d.jsxs("div",{className:"tw-flex tw-justify-between tw-flex-grow",children:[d.jsxs("div",{className:"tw-flex tw-items-center",children:[d.jsx(ko,{enabled:h,setEnabled:m}),d.jsx("span",{className:"tw-ml-3",children:"Show supply and demand data"})]}),d.jsxs("div",{className:"tw-flex tw-items-center tw-gap-x-4",children:[s=="member_of"&&d.jsx(qL,{qualificationId:u,lastModifiedAt:f}),d.jsx(JG,{searchText:c[0],setSearchText:c[1],placeholder:"Surger name/euid/id/email (exact match)",className:"tw-w-96"})]})]})})})}const t3e=Object.freeze(Object.defineProperty({__proto__:null,default:Yw},Symbol.toStringTag,{value:"Module"}));var GN;function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zw.apply(this,arguments)}var O0=function(t){return b.createElement("svg",Zw({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},t),GN||(GN=b.createElement("path",{fill:"currentcolor",d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8m4.1 12.3c-.4-.7-1.2-1-2.1-1.3-.7-.2-.9-.6-1-1.2 1.1-.4 2-1.5 2-2.8 0-1.7-1.3-3-3-3S5 5.3 5 7c0 1.3.8 2.4 2 2.8-.1.6-.3 1-1 1.2-.9.3-1.7.6-2.1 1.3C2.7 11.2 2 9.7 2 8c0-3.3 2.7-6 6-6s6 2.7 6 6c0 1.7-.7 3.2-1.9 4.3"})))},KN;function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qw.apply(this,arguments)}var UL=function(t){return b.createElement("svg",Qw({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},t),KN||(KN=b.createElement("path",{stroke:"#1A1A1A",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:.4,strokeWidth:2,d:"M18 23a5 5 0 1 0 0-10 5 5 0 0 0 0 10M20.2 18h-4M8.5 10a4.25 4.25 0 1 0 0-8.5 4.25 4.25 0 0 0 0 8.5M9.5 18.5h-8a7 7 0 0 1 10.783-5.89"})))};function n3e({numProjects:e,numWorkers:t}){return d.jsxs("div",{className:"tw-flex-1 tw-px-6 tw-space-y-6",children:[d.jsx(df,{icon:O0,main:t+"",description:"Qualified Workers",colorClass:"tw-bg-primary-dark-100"}),d.jsx(df,{icon:vc,main:e+"",description:"Projects",colorClass:"tw-bg-primary-dark-100"})]})}function r3e({name:e,description:t,welcomeMessage:n,numProjects:r,numWorkers:i}){const{teamState:o,teamDispatch:s}=b.useContext(xh),[a,l]=b.useState("none"),[c,u]=b.useState("none"),[f,h]=b.useState("none");function m(g){if(o.status!="loaded")throw Error("This shoudn't be called if the team isn't loaded.");"name"in g&&l("updating"),"description"in g&&u("updating"),"welcomeMessage"in g&&h("updating"),W3(o.state.id,g).then(()=>{"name"in g&&l("none"),"description"in g&&u("none"),"welcomeMessage"in g&&h("none"),s({type:"updateQualDetails",params:g})}).catch(()=>{"name"in g&&l("failed"),"description"in g&&u("failed"),"welcomeMessage"in g&&h("failed")})}const p=P1();return d.jsxs("div",{className:"md:tw-min-h-48 md:tw-flex md:tw-divide-x-2 md:tw-divide-dashed",children:[d.jsx("div",{className:"tw-flex-2 tw-flex",children:d.jsxs("div",{className:"tw-mx-6 tw-mt-1.5",children:[d.jsx(wo,{className:"tw-block tw-font-bold tw-text-2xl",originalText:e,placeholderText:"No name to this workforce. Click to edit.",updateStatus:a,onChange:g=>m({name:g})}),d.jsx("div",{children:d.jsx(wo,{className:"tw-mt-2 tw-text-sm tw-leading-relaxed tw-text-black-80",originalText:t,placeholderText:"No description for this workforce. Click to edit.",updateStatus:c,onChange:g=>m({description:g})})}),d.jsx("div",{children:d.jsx(wo,{className:"tw-mt-2 tw-text-sm tw-leading-relaxed tw-text-black-80",originalText:n||"",placeholderText:"No welcome message for this workforce. Click to edit. ",updateStatus:f,onChange:g=>m({welcomeMessage:g}),descriptionText:"Adding this will automatically send an email to new members. Remove the entire text to not have emails sent."})}),d.jsx("div",{className:"tw-pt-2",children:o.status=="loaded"&&(p!=null&&p.admin)?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"tw-font-semibold",children:"Associated rules: "}),d.jsx(S3,{params:{about_qualification_id:o.state.id}})]}):null})]})}),d.jsx(n3e,{numProjects:r,numWorkers:i})]})}function YN(){return d.jsx(ji,{icon:()=>d.jsx(fn,{className:Se("tw-w-16 tw-h-16")}),text:"Loading..."})}const i3e=e=>q1("AddUsersToQualWorker",e);function ZN(e,t,n){const r=b.useState([]),i=b.useState({pageSize:10,pageIndex:0}),o=b.useState("");return{query:li({queryKey:{teamId:e,sorting:r[0],pagination:i[0],searchTerm:o[0]},queryFn:({teamId:a,sorting:l,pagination:c,searchTerm:u})=>{let f;const h=l==null?void 0:l[0];if(h){const m=h.id;if(sH(m,ZG))f={sortBy:m,sortDir:h.desc?"desc":"asc"};else throw Error(`Frontend should not allow sorting by ${m}, since we don't have a corresponding backend sorting.`)}return YG(a,n,c,f,u)},onLoadOrFailure:a=>{let l;switch(a.status){case"loaded":{l={type:"setLoaded",data:a.data};break}case"failure":{l={type:"setLoadingFailed"};break}default:Lt()}t({kind:n,action:l})},delay:!1,onQueryKeyChange:"reload"}),sortingState:r,paginationState:i,searchTermState:o}}function GL({teamId:e}){const[t,n]=b.useState(!1),[r,i]=b.useReducer(zL,{status:"loading"}),[o,s]=b.useReducer(BL,{pending:{status:"loading"},member_of:{status:"loading"},removed_from:{status:"loading"}});li({queryKey:e,queryFn:_=>z3(_),onLoadOrFailure:_=>{switch(_.status){case"loaded":i({type:"setLoaded",data:_.data});break;case"failure":i({type:"setLoadingFailed"});break;default:Lt()}},delay:!1});const a=ZN(e,s,"member_of"),l=ZN(e,s,"removed_from"),c=U1(i3e,{start:{immediate:!0,args:{qualification_id:e,emails_and_euids:""}},onSuccessOrFailure:_=>{const x={duration:1/0};switch(_.status){case"success":if(_.data.job_status=="most_recent_run"&&_.data.job.status=="complete"){const S=P3.AddUsersToQualWorker(_.data.job.output_artifact);if(S==null)throw Error("Internal error. If the AddUsersToQualWorker completes, the output_artifact should be a stringified number.");Ni.success(d.jsxs(Ty,{children:[S," new Surgers added successfully. Please refresh the page to see the changes reflected."]}),x)}else Ni.error(d.jsx(Ty,{children:"Something went wrong. Please try again and let us know if this issue persists."}),x);break;case"failure":Ni.error(d.jsx(Ty,{children:"Something went wrong. Please try again and let us know if this issue persists."}),x);break;default:Lt()}}}),u=h2(c),[f,h]=b.useState(!1),m=P1(),p=b.useCallback(()=>{yT(a.query),yT(l.query)},[a,l]);switch(r.status){case"loading":return d.jsx(Wg,{});case"failed":return alert("Failed to load team data. Please contact us if this persists!"),null}const g=()=>{n(!1),B3(r.state.id).then(()=>{i({type:"removeAllUsers"}),p()}).catch(_=>{console.error(_),window.location.reload()})};return d.jsx(xh.Provider,{value:{teamState:r,teamDispatch:i},children:d.jsx(b2.Provider,{value:{teamMembershipsState:o,teamMembershipsDispatch:s},children:d.jsxs("div",{children:[d.jsxs("div",{className:"tw-bg-primary-dark-5 tw-px-6 tw-divide-y",children:[d.jsxs(V1,{href:"/qualifications/index_ng",goBack:"My Teams",children:[d.jsx(LL,{teamId:e}),(m==null?void 0:m.admin)&&d.jsx("a",{href:`/admin/qualifications/${e}`,target:"_blank",rel:"noreferrer",children:d.jsx(yt,{iconSide:"left",buttonSize:"sm",variant:"outline",children:"Active Admin"})}),d.jsxs("div",{className:"tw-flex tw-space-x-2",children:[d.jsx(Eo,{text:"Are you sure you want to remove all surgers from this team?",isOpen:t,showLoadingIcon:!1,setIsOpen:n,preventCloseOnOverlayClick:!0,onConfirmed:g,showCancelBtn:!0,showConfirmBtn:!0}),d.jsx(yt,{iconSide:"left",buttonSize:"sm",variant:"outline",onClick:()=>n(!0),disabled:o.member_of.status=="loaded"&&o.member_of.state.rows.length==0,children:"Remove All Surgers"}),d.jsx(y3,{readyToCopyMsg:"Non-Surgers won't be included. Let us know if that limitation is annoying.",ReadyToCopyIcon:k0,queryKey:{teamId:e,lastModifiedAt:o.member_of.status=="loaded"?o.member_of.lastModifiedAt:null},queryFn:async({teamId:_})=>(await BG(E0(_))).map(x=>x.euid).join(", "),btnProps:{buttonSize:"sm"},children:"Copy EUIDs"}),d.jsx(yn,{content:u.tippyContent,placement:"bottom-end",disabled:!u.tippyContent,children:d.jsxs("div",{className:"tw-w-min",children:[d.jsx(Jf,{position:"top-center",reverseOrder:!1}),d.jsx(yt,{iconSide:"left",variant:"primary",buttonSize:"sm",icon:u.Icon,onClick:()=>h(!0),disabled:u.disabled,children:u.btnText})]})})]})]}),d.jsx("div",{className:"tw-py-6",children:d.jsx(r3e,{name:r.state.name,welcomeMessage:r.state.welcomeMessage,description:r.state.description,numProjects:Object.values(r.state.projectsRequiring).length,numWorkers:r.state.userCount})})]}),d.jsx("div",{children:d.jsxs(ln.Group,{children:[d.jsxs(ln.HeaderList,{className:"tw-bg-primary-dark-5",children:[d.jsxs(ln.Header,{icon:O0,children:["Team members"," ",Zh(o.member_of).with({status:"loading"},()=>d.jsx(d.Fragment,{children:"(loading...)"})).with({status:"loaded"},({state:_})=>d.jsxs(d.Fragment,{children:["(",_.numTotal,")"]})).with({status:"failed"},()=>d.jsx(d.Fragment,{children:"(failed)"})).exhaustive()]}),d.jsxs(ln.Header,{icon:UL,children:["Removed users"," ",Zh(o.removed_from).with({status:"loading"},()=>d.jsx(d.Fragment,{children:"(loading...)"})).with({status:"loaded"},({state:_})=>d.jsxs(d.Fragment,{children:["(",_.numTotal,")"]})).with({status:"failed"},()=>d.jsx(d.Fragment,{children:"(failed)"})).exhaustive()]}),d.jsxs(ln.Header,{icon:H3,children:["Projects (",Object.values(r.state.projectsRequiring).length,")"]})]}),d.jsxs(ln.PanelList,{children:[d.jsx(ln.Panel,{children:Zh(o.member_of).with({status:"loading"},()=>d.jsx(YN,{})).with({status:"failed"},()=>d.jsx(ji,{icon:()=>d.jsx("h2",{children:"😢"}),text:"Failed to load team members."})).with({status:"loaded"},({state:_,lastModifiedAt:x})=>d.jsx(Yw,{teamId:e,currentQualStatus:"member_of",userData:_,reloadQueries:p,projectsGranting:r.state.projectsGranting,tableUniqueIdentifier:`Team/${r.state.id}/MemberOf`,teamMembershipsQuery:a.query,sortingState:a.sortingState,paginationState:a.paginationState,searchTermState:a.searchTermState,lastModifiedAt:x})).exhaustive()}),d.jsx(ln.Panel,{children:Zh(o.removed_from).with({status:"loading"},()=>d.jsx(YN,{})).with({status:"loaded"},({state:_,lastModifiedAt:x})=>d.jsx(Yw,{teamId:e,currentQualStatus:"removed_from",userData:_,reloadQueries:p,projectsGranting:r.state.projectsGranting,tableUniqueIdentifier:`Team/${r.state.id}/RemovedFrom`,teamMembershipsQuery:l.query,sortingState:l.sortingState,paginationState:l.paginationState,searchTermState:l.searchTermState,lastModifiedAt:x})).with({status:"failed"},()=>d.jsx(ji,{icon:()=>d.jsx("h2",{children:"😢"}),text:"Failed to load removed users."})).exhaustive()}),d.jsx(ln.Panel,{children:d.jsx(WL,{projects:Object.values(r.state.projectsRequiring),teamId:r.state.id})})]})]})}),d.jsx(DL,{teamId:e,isOpen:f,setIsOpen:h,addSurgersPoll:c})]})})})}function Ty({children:e}){return d.jsxs("div",{className:"tw-flex tw-items-center tw-justify-between",children:[d.jsx("div",{children:e}),d.jsx(yt,{buttonSize:"sm",variant:"outline",onClick:()=>{Ni.dismiss()},icon:D1})]})}const o3e=Object.freeze(Object.defineProperty({__proto__:null,default:GL},Symbol.toStringTag,{value:"Module"}));function y2(e){const t=b.useMemo(()=>{switch(e.status){case"not_done_first_poll_yet":case"polling":return fn;case"failure":case"success":case null:return;default:Lt()}},[e]),n=b.useMemo(()=>{switch(e.status){case"not_done_first_poll_yet":return"Fetching status";case"polling":return"Adding Surgers";case"failure":case"success":return"Add Surgers";default:Lt()}},[e]),r=b.useMemo(()=>{switch(e.status){case"not_done_first_poll_yet":return"Fetching status...";case"polling":{const o=M3(e.data.jobs,"created_at");if(!o)throw Error("Backend should return at least one job.");return`Running for ${Fg(new Date(o.created_at))}`}case"success":{switch(e.data.job_status){case"no_recent_runs":return"No recent runs found.";case"most_recent_run":return"Recent run was completed.";default:Lt(e.data)}break}case"failure":return"Failed to fetch status. Please refresh page and try again. Let us know if this problem persists.";default:Lt()}},[e]),i=b.useMemo(()=>{switch(e.status){case"failure":case"success":return!1;case"polling":case"not_done_first_poll_yet":return!0;default:Lt()}},[e]);return{Icon:t,btnText:n,tippyContent:r,disabled:i}}function KL({addSurgersPoll:e,teamId:t,euidsAndEmails:n}){const r=()=>{N3("AddUsersToQualWorker",{qualification_id:t,emails_and_euids:n}).then(()=>{e.restartPolling({args:{qualification_id:t,emails_and_euids:""}})})},{Icon:i,btnText:o,tippyContent:s,disabled:a}=y2(e);return d.jsx(yn,{content:s,placement:"bottom-end",children:d.jsx("div",{className:"tw-w-min",children:d.jsx(yt,{buttonSize:"sm",variant:"primary",icon:i,iconSide:"left",onClick:r,disabled:a,children:o})})})}const s3e=Object.freeze(Object.defineProperty({__proto__:null,default:KL,useAddSurgersButtonProps:y2},Symbol.toStringTag,{value:"Module"})),YL=/\b[^@\s]+@[^@\s]+\b/,ZL=/\b[234679ACDEFGHJKMNPQRTVWXYZ]{12}\b/;function QL({isOpen:e,setIsOpen:t,teamId:n,addSurgersPoll:r}){const[i,o]=b.useState(""),[s,a]=b.useState(!1),[l,c]=b.useState("Can't be empty."),u=f=>{o(f),f.length==0?c("Can't be empty."):!f.match(YL)&&!f.match(ZL)?c("Contains no valid email addresses or EUIDs."):c("")};return d.jsx(qg,{open:e,title:"Add others to your workforce",onClose:()=>t(!1),children:d.jsxs("div",{className:"tw-mt-10",children:[d.jsx(Do,{value:i,onChange:f=>{u(f.target.value)},error:s?l:"",hideLabel:!1,label:"EUIDs and/or email addresses:",onBlur:()=>a(!0)}),d.jsx(KL,{euidsAndEmails:i,teamId:n,addSurgersPoll:r})]})})}const a3e=Object.freeze(Object.defineProperty({__proto__:null,VALID_EMAIL_REGEX:YL,VALID_EUID_REGEX:ZL,default:QL},Symbol.toStringTag,{value:"Module"}));function JL({euids:e,isOpen:t,setIsOpen:n}){const r=b.useMemo(()=>e.join(", "),[e]),i=b.useCallback(()=>{navigator.clipboard.writeText(r).then(()=>alert("Copied."),()=>alert("Failed to copy. 🥺")).then(()=>n(!1))},[n,r]);return d.jsx(A1,{isOpen:t,setIsOpen:n,children:d.jsxs("div",{className:Se("tw-flex tw-flex-col tw-items-center tw-justify-center","tw-p-8","tw-min-w-96","tw-space-y-3"),children:[d.jsx("div",{className:Se("tw-flex tw-flex-col tw-items-stretch"),children:d.jsx(Do,{disabled:!0,label:"euids",hideLabel:!0,value:r,maxRows:30})}),d.jsx(yt,{onClick:i,icon:()=>d.jsx(k0,{className:"tw-text-white-100"}),buttonSize:"md",variant:"outline",children:"Copy"})]})})}const l3e=Object.freeze(Object.defineProperty({__proto__:null,TeamMemberEuidsModal:JL},Symbol.toStringTag,{value:"Module"})),c3e=()=>{},wh=b.createContext({teamState:{status:"loading"},teamDispatch:c3e}),u3e=()=>{},_2=b.createContext({teamMembershipsState:{status:"loading",queryKey:0},teamMembershipsDispatch:u3e}),XL=function(e,t){return tr(e,n=>{switch(t.type){case"addNewUsers":n.userCount+=t.newUserData.length;break;case"removeAllUsers":n.userCount=0;break;case"updateQualDetails":n.name=t.params.name||n.name,n.description=t.params.description||n.description;break;case"updateRequiringProjectStatus":{const r=n.projectsRequiring[t.projectId];r.status=t.newStatus;break}case"deleteRequiringProject":{delete n.projectsRequiring[t.projectId];break}default:Lt()}})},eF=function(e,t){switch(t.type){case"setLoadingFailed":return{status:"failed"};case"setLoaded":return{status:"loaded",state:t.data};case"addNewUsers":case"removeAllUsers":case"updateQualDetails":case"deleteRequiringProject":case"updateRequiringProjectStatus":return e.status!="loaded"?(console.warn("Encountered unexpected action that should be dispatched only when the data is loaded."),e):{status:"loaded",state:XL(e.state,t)};default:Lt()}},Jw=function(e,t){return tr(e,n=>{let r;switch(t.type){case"addNewUsers":t.newUserData.forEach(i=>{const o=n.findIndex(a=>a.id==i.id),s=Object.assign({},i,{updatingQualStatus:!1});o==-1?n.push(s):n[o]=s});break;case"removeAllUsers":n.length=0;break;case"updatingQualStatus":if(r=n.find(i=>i.id==t.userId),!r)throw Error();r.updatingQualStatus=!0;break;case"failedToUpdateQualStatus":if(r=n.find(i=>i.id==t.userId),!r)throw Error();r.updatingQualStatus=!1;break;case"updateQualStatus":{if(r=n.find(i=>i.id==t.userId),!r)throw Error();r.updatingQualStatus=!1,r.qualMembership={status:t.newQualStatus,updatedAt:new Date().toISOString(),createdAt:r.qualMembership.createdAt};break}default:Lt()}})},tF=function(e,t){switch(t.type){case"setLoadingFailed":return{status:"failed",queryKey:e.queryKey};case"setLoaded":return{status:"loaded",state:t.data.map(n=>({...n,updatingQualStatus:!1})),queryKey:e.queryKey};case"addNewUsers":case"removeAllUsers":return e.status!="loaded"?{...e,queryKey:e.queryKey+1}:{status:"loaded",state:Jw(e.state,t),queryKey:e.queryKey};case"updatingQualStatus":case"failedToUpdateQualStatus":case"updateQualStatus":return e.status!="loaded"?(console.warn("Encountered unexpected action that should be dispatched only when the data is loaded."),e):{status:"loaded",state:Jw(e.state,t),queryKey:e.queryKey};default:Lt()}},d3e=Object.freeze(Object.defineProperty({__proto__:null,TeamMembershipsStateContext:_2,TeamStateContext:wh,loadedMembershipStateReducer:Jw,loadedStateReducer:XL,teamMembershipsReducer:tF,teamStateReducer:eF},Symbol.toStringTag,{value:"Module"}));function nF({teamId:e,projects:t}){const{teamDispatch:n}=b.useContext(wh),r=Io(),i=b.useMemo(()=>[r.accessor(o=>o.name,{id:"Name",header:"Name",cell:({row:o,getValue:s})=>d.jsx("a",{href:`/projects/${o.original.id}/`,children:s()})}),r.accessor(o=>new Date(o.createdAt),{id:"Created",header:"Created",cell:({getValue:o})=>d.jsx(d.Fragment,{children:o().toLocaleDateString()}),enableColumnFilter:!1}),r.accessor(o=>o.status,{id:"Status",header:"Status",cell:({getValue:o,row:s})=>d.jsx(A3,{status:o(),projectId:s.original.id,onProjectDelete:()=>n({type:"deleteRequiringProject",projectId:s.original.id}),onProjectStatusChange:a=>n({type:"updateRequiringProjectStatus",projectId:s.original.id,newStatus:a})})})],[r,n]);return d.jsx($o,{data:t,className:"tw-pt-10 tw-pl-2",columns:i,ToolbarComponent:()=>d.jsx(la,{enableSearch:!0}),hover:!0,defaultSortColId:"Name",tableUniqueIdentifier:`Team/${e}/Pending`,placeholder:d.jsx(ji,{text:"This team has no projects"})})}const f3e=Object.freeze(Object.defineProperty({__proto__:null,default:nF},Symbol.toStringTag,{value:"Module"})),h3e=function({userRow:e}){const{teamState:t}=b.useContext(wh),{teamMembershipsState:n,teamMembershipsDispatch:r}=b.useContext(_2);function i(){if(n.status!="loaded"||t.status!="loaded")throw new Error("Should not be able to click on button when not loaded");const s=e.qualMembership.status=="member_of"?"removed_from":"member_of";r({type:"updatingQualStatus",userId:e.id}),F3(e.euid,t.state.id,s).then(()=>r({type:"updateQualStatus",userId:e.id,newQualStatus:s})).catch(()=>r({type:"failedToUpdateQualStatus",userId:e.id}))}let o=_3;return e.updatingQualStatus?o=fn:e.qualMembership.status=="member_of"&&(o=F1),d.jsx(yt,{onClick:i,buttonSize:"sm",variant:"outline",icon:o},e.euid)};function rm({userData:e,projectsGranting:t,placeholder:n,tableUniqueIdentifier:r}){const[i,o]=b.useState(!1),s=Io(),[a,l]=b.useState(21),c=li({enabled:i,queryKey:{showTimeSpentInPastNDays:a,userIds:e.map(m=>m.id)},queryFn:({userIds:m,showTimeSpentInPastNDays:p})=>VL(m,p),delay:!1,onQueryKeyChange:"reloadIfLoadedOrFailed"}),u=b.useMemo(()=>Object.entries(t).map(([m,{name:p}],g)=>s.accessor(_=>{const x=_.qualResults[m];return x===void 0?"":Math.floor(parseInt(x.score))},{header:()=>d.jsx(Ue,{label:`Score on: ${p}`}),id:`score_${g}`,cell:({row:_,getValue:x})=>{const S=_.original.qualResults[m];if(S===void 0)return"";const{numCompletedAnswers:C,numTotalAnswers:j,projectId:k}=S;return d.jsx("a",{href:`/projects/${k}/results?filterSurgerId=${_.original.euid}`,children:`${x()}% correct (${C}/${j} completed)`})},...Ht})),[s,t]),f=b.useMemo(()=>[{header:()=>d.jsx(Ue,{label:"Action"}),id:"action",cell:({row:m})=>d.jsx(h3e,{userRow:m.original}),enableSorting:!1,enableColumnFilter:!1,size:90},s.accessor(m=>`${m.name} (${m.euid})`,{cell:({row:m,getValue:p})=>d.jsx(Dg,{uuid:m.original.id,fullName:p(),banned:m.original.banned,blocked:m.original.blocked}),header:()=>d.jsx(Ue,{label:"Surger"}),id:"surger"}),s.accessor(m=>m.comments.length,{header:()=>d.jsx(Ue,{label:"Notes"}),id:"notes",...Ht}),...u,s.accessor(m=>{var p;return((p=m.responseStats)==null?void 0:p.nTaskResponses)||0},{header:()=>d.jsx(Ue,{label:"Completed tasks"}),id:"completed_tasks",...Ht}),s.accessor(m=>m.responseStats!=null&&m.responseStats.avgReviewScore!=null?parseFloat(m.responseStats.avgReviewScore):null,{header:()=>d.jsx(Ue,{label:"Average review score"}),id:"avg_review_score",cell:({getValue:m})=>m()!=null?`${m()}%`:"",...Ht}),s.accessor(m=>{var p;return((p=m.responseStats)==null?void 0:p.nReviewed)||0},{header:()=>d.jsx(Ue,{label:"Total number of reviews"}),id:"number_of_reviews",...Ht}),s.accessor(m=>m.goldStandardStats!=null&&m.goldStandardStats.goldStandardScore!=null?parseFloat(m.goldStandardStats.goldStandardScore):null,{header:()=>d.jsx(Ue,{label:"Average gold standard score"}),id:"gold_standard_score",cell:({getValue:m})=>m()!=null?`${m()}%`:"",...Ht}),s.accessor(m=>{var p;return((p=m.goldStandardStats)==null?void 0:p.totalCompletedAnswers)||0},{header:()=>d.jsx(Ue,{label:"Number of gold standard responses"}),id:"total_completed_answers",...Ht}),s.accessor(m=>m.qualMembership.createdAt,{header:()=>d.jsx(Ue,{label:"Membership status created at"}),id:"membership_created_at",cell:({getValue:m})=>Nr(m(),p=>cm(new Date(p)))}),s.accessor(m=>m.qualMembership.updatedAt,{header:()=>d.jsx(Ue,{label:"Membership status modified at"}),id:"membership_modified_at",cell:({getValue:m})=>Nr(m(),p=>cm(new Date(p)))}),...i?[s.accessor(m=>{var p,g;return((p=m.supplyAndDemandData)==null?void 0:p.status)=="loaded"?(g=m.supplyAndDemandData.data)==null?void 0:g.num_seconds_worked_in_past_n_days:void 0},{header:()=>d.jsx(yn,{content:`This is calculated on all tasks across all projects (ie, not those that somehow pertain to this team only).

            Also, tasks submitted today are not included in this calculation. Ie, the calculation is done until the most recent (UTC) midnight.
            `,children:d.jsxs("div",{className:"tw-flex tw-items-center tw-flex-wrap",children:[d.jsx("div",{children:"Time spent on tasks in the past"}),d.jsx(wo,{isValidFunc:m=>{const p=ri(parseInt(m));return p!==null&&p>=0},onChange:m=>{l(parseInt(m))},originalText:a.toString()}),d.jsx("div",{children:"days"})]})}),id:"num_seconds_worked_in_past_n_days",cell:({row:m})=>{var g;const p=m.original.supplyAndDemandData;switch(p==null?void 0:p.status){case"loading":case"not_loaded":return d.jsx(fn,{className:"tw-w-6 tw-h-6"});case"loaded":return g3.humanize(((g=p.data)==null?void 0:g.num_seconds_worked_in_past_n_days)*1e3,{units:["h","m"],round:!0});case"failure":return"Error loading data";default:p&&Lt()}}}),s.accessor(m=>{var p;switch((p=m.supplyAndDemandData)==null?void 0:p.status){case"loading":case"not_loaded":return null;case"loaded":return m.supplyAndDemandData.data.num_available_projects.num;case"failure":return"Error loading data";default:m.supplyAndDemandData&&Lt(m.supplyAndDemandData)}},{header:()=>d.jsx(Ue,{label:"Number of projects currently available to Surger"}),id:"num_available_projects",cell:({row:m,getValue:p})=>{var g;return p()===null?d.jsx(fn,{className:"tw-w-6 tw-h-6"}):p()&&((g=m.original.supplyAndDemandData)==null?void 0:g.status)==="loaded"?d.jsx(yn,{content:`Last updated before: ${Fg(new Date(m.original.supplyAndDemandData.data.num_available_projects.timestamp))}`,children:d.jsx("div",{children:p()})}):d.jsx("span",{className:"tw-italic",children:"None"})}})]:[]],[s,u,i,a]),h=b.useMemo(()=>i?e.map(m=>({...m,supplyAndDemandData:b3(c,p=>p[m.id])})):e,[e,c,i]);return d.jsx($o,{data:h,className:"tw-pt-10 tw-pl-2",columns:f,defaultPageSize:Bc[3],defaultHiddenColumns:["last_updated_num_projects_available_to_surger"],hover:!0,defaultSortColId:"surger",placeholder:n,tableUniqueIdentifier:r,ToolbarComponent:()=>d.jsx(la,{enableCopyToClipboard:!0,enableSearch:!0,children:d.jsxs("div",{className:"tw-flex tw-items-center",children:[d.jsx(ko,{enabled:i,setEnabled:o}),d.jsx("span",{className:"tw-ml-3",children:"Show supply and demand data"})]})})})}const p3e=Object.freeze(Object.defineProperty({__proto__:null,default:rm},Symbol.toStringTag,{value:"Module"}));function m3e({numProjects:e,numWorkers:t}){return d.jsxs("div",{className:"tw-flex-1 tw-px-6 tw-space-y-6",children:[d.jsx(df,{icon:O0,main:t+"",description:"Qualified Workers",colorClass:"tw-bg-primary-dark-100"}),d.jsx(df,{icon:vc,main:e+"",description:"Projects",colorClass:"tw-bg-primary-dark-100"})]})}function g3e({name:e,description:t,welcomeMessage:n,numProjects:r,numWorkers:i}){const{teamState:o,teamDispatch:s}=b.useContext(wh),[a,l]=b.useState("none"),[c,u]=b.useState("none");function f(m){if(o.status!="loaded")throw Error("This shoudn't be called if the team isn't loaded.");"name"in m&&l("updating"),"description"in m&&u("updating"),W3(o.state.id,m).then(()=>{"name"in m&&l("none"),"description"in m&&u("none"),s({type:"updateQualDetails",params:m})}).catch(()=>{"name"in m&&l("failed"),"description"in m&&u("failed")})}const h=P1();return d.jsxs("div",{className:"md:tw-min-h-48 md:tw-flex md:tw-divide-x-2 md:tw-divide-dashed",children:[d.jsx("div",{className:"tw-flex-2 tw-flex",children:d.jsxs("div",{className:"tw-mx-6 tw-mt-1.5",children:[d.jsx(wo,{className:"tw-block tw-font-bold tw-text-2xl",originalText:e,placeholderText:"No name to this workforce. Click to edit.",updateStatus:a,onChange:m=>f({name:m})}),d.jsx("div",{children:d.jsx(wo,{className:"tw-mt-2 tw-text-sm tw-leading-relaxed tw-text-black-80",originalText:t,placeholderText:"No description for this workforce. Click to edit.",updateStatus:c,onChange:m=>f({description:m})})}),n&&d.jsxs("div",{children:[d.jsx("span",{className:"tw-font-semibold",children:"Welcome Message"}),d.jsx("br",{}),d.jsx("span",{className:"tw-text-sm tw-font-semibold",children:"This will be emailed to Surgers added to the this team if the new team membership grants them access to new projects."}),d.jsx("div",{className:"tw-mt-2 tw-text-sm tw-leading-relaxed tw-text-black-80",children:n})]}),d.jsx("div",{className:"tw-pt-2",children:o.status=="loaded"&&(h!=null&&h.admin)?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"tw-font-semibold",children:"Associated rules: "}),d.jsx(S3,{params:{about_qualification_id:o.state.id}})]}):null})]})}),d.jsx(m3e,{numProjects:r,numWorkers:i})]})}function jy(){return d.jsx(ji,{icon:()=>d.jsx(fn,{className:Se("tw-w-16 tw-h-16")}),text:"Loading..."})}const v3e=e=>q1("AddUsersToQualWorker",e);function rF({teamId:e}){const[t,n]=b.useState(!1),[r,i]=b.useState(!1),[o,s]=b.useReducer(eF,{status:"loading"}),[a,l]=b.useReducer(tF,{status:"loading",queryKey:0});li({queryKey:e,queryFn:S=>z3(S),onLoadOrFailure:S=>{switch(S.status){case"loaded":s({type:"setLoaded",data:S.data});break;case"failure":s({type:"setLoadingFailed"});break;default:Lt()}},delay:!1}),li({queryKey:{teamId:e,queryKey:a.queryKey},queryFn:({teamId:S})=>QG(S),onLoadOrFailure:S=>{S.status=="loaded"?l({type:"setLoaded",data:S.data}):S.status=="failure"&&l({type:"setLoadingFailed"})},delay:!1,onQueryKeyChange:"reloadIfLoadedOrFailed"});const c=U1(v3e,{start:{immediate:!0,args:{qualification_id:e,emails_and_euids:""}},onSuccessOrFailure:S=>{const C={duration:1/0};switch(S.status){case"success":if(S.data.job_status=="most_recent_run"&&S.data.job.status=="complete"){const j=P3.AddUsersToQualWorker(S.data.job.output_artifact);if(j==null)throw Error("Internal error. If the AddUsersToQualWorker completes, the output_artifact should be a stringified number.");Ni.success(d.jsxs(Ey,{children:[j," new Surgers added successfully. Please refresh the page to see the changes reflected."]}),C)}else Ni.error(d.jsx(Ey,{children:"Something went wrong. Please try again and let us know if this issue persists."}),C);break;case"failure":Ni.error(d.jsx(Ey,{children:"Something went wrong. Please try again and let us know if this issue persists."}),C);break;default:Lt()}}}),u=y2(c),[f,h]=b.useState(!1);switch(o.status){case"loading":return d.jsx(Wg,{});case"failed":return alert("Failed to load team data. Please contact us if this persists!"),null}const m=u3(a.status=="loaded"?a.state:[],S=>S.qualMembership.status),p=m.member_of||[],g=m.removed_from||[],_=m.pending||[],x=()=>{i(!1),B3(o.state.id).then(()=>{l({type:"removeAllUsers"}),s({type:"removeAllUsers"})}).catch(S=>{console.error(S),window.location.reload()})};return d.jsx(wh.Provider,{value:{teamState:o,teamDispatch:s},children:d.jsxs(_2.Provider,{value:{teamMembershipsState:a,teamMembershipsDispatch:l},children:[d.jsxs("div",{children:[d.jsxs("div",{className:"tw-bg-primary-dark-5 tw-px-6 tw-divide-y",children:[d.jsx(V1,{href:"/qualifications/index_ng",goBack:"My Teams",children:d.jsxs("div",{className:"tw-flex tw-space-x-2",children:[d.jsx(Eo,{text:"Are you sure you want to remove all surgers from this team?",isOpen:r,showLoadingIcon:!1,setIsOpen:i,preventCloseOnOverlayClick:!0,onConfirmed:x,showCancelBtn:!0,showConfirmBtn:!0}),d.jsx(yt,{iconSide:"left",buttonSize:"sm",variant:"outline",onClick:()=>i(!0),disabled:a.status=="loaded"&&a.state.length==0,children:"Remove All Surgers"}),d.jsx(yt,{iconSide:"left",variant:"outline",buttonSize:"sm",icon:k0,onClick:()=>n(!0),disabled:a.status!="loaded",children:"Copy worker EUIDs"}),d.jsx(yn,{content:u.tippyContent,placement:"bottom-end",disabled:!u.tippyContent,children:d.jsxs("div",{className:"tw-w-min",children:[d.jsx(Jf,{position:"top-center",reverseOrder:!1}),d.jsx(yt,{iconSide:"left",variant:"primary",buttonSize:"sm",icon:u.Icon,onClick:()=>h(!0),disabled:u.disabled,children:u.btnText})]})})]})}),d.jsx("div",{className:"tw-py-6",children:d.jsx(g3e,{name:o.state.name,welcomeMessage:o.state.welcomeMessage,description:o.state.description,numProjects:Object.values(o.state.projectsRequiring).length,numWorkers:a.status=="loaded"?p.length:o.state.userCount})})]}),d.jsx("div",{children:d.jsxs(ln.Group,{children:[d.jsxs(ln.HeaderList,{className:"tw-bg-primary-dark-5",children:[d.jsxs(ln.Header,{icon:O0,children:["Team members"," ",a.status=="loading"&&d.jsx(d.Fragment,{children:"(loading...)"}),a.status=="loaded"&&d.jsxs(d.Fragment,{children:["(",p.length,")"]}),a.status=="failed"&&d.jsx(d.Fragment,{children:"(failed)"})]}),d.jsxs(ln.Header,{icon:UL,children:["Removed users"," ",a.status=="loading"&&d.jsx(d.Fragment,{children:"(loading...)"}),a.status=="loaded"&&d.jsxs(d.Fragment,{children:["(",g.length,")"]}),a.status=="failed"&&d.jsx(d.Fragment,{children:"(failed)"})]}),d.jsxs(ln.Header,{children:["Pending users"," ",a.status=="loading"&&d.jsx(d.Fragment,{children:"(loading...)"}),a.status=="loaded"&&d.jsxs(d.Fragment,{children:["(",_.length,")"]}),a.status=="failed"&&d.jsx(d.Fragment,{children:"(failed)"})]}),d.jsxs(ln.Header,{icon:H3,children:["Projects (",Object.values(o.state.projectsRequiring).length,")"]})]}),d.jsxs(ln.PanelList,{children:[d.jsxs(ln.Panel,{children:[a.status=="loading"&&d.jsx(jy,{}),a.status=="loaded"&&d.jsx(rm,{userData:p,projectsGranting:o.state.projectsGranting,placeholder:d.jsx(ji,{icon:()=>d.jsx("h2",{children:"😢"}),text:"You have no members in this team.",btnText:"Add Surgers",onClick:()=>h(!0)}),tableUniqueIdentifier:`Team/${o.state.id}/MemberOf`}),a.status=="failed"&&d.jsx(ji,{icon:()=>d.jsx("h2",{children:"😢"}),text:d.jsxs("span",{children:["Failed to load team members. Maybe try"," ",d.jsx("a",{href:`/qualifications/${e}/edit`,children:"the new version of this page"}),"?"]})})]}),d.jsxs(ln.Panel,{children:[a.status=="loading"&&d.jsx(jy,{}),a.status=="loaded"&&d.jsx(rm,{userData:g,projectsGranting:o.state.projectsGranting,placeholder:d.jsx(ji,{icon:()=>d.jsx("h2",{children:"😇"}),text:"There are no users who were removed from this team."}),tableUniqueIdentifier:`Team/${o.state.id}/RemovedFrom`}),a.status=="failed"&&d.jsx(ji,{icon:()=>d.jsx("h2",{children:"😢"}),text:d.jsxs("span",{children:["Failed to load removed users. Maybe try"," ",d.jsx("a",{href:`/qualifications/${e}/edit`,children:"the new version of this page"}),"?"]})})]}),d.jsxs(ln.Panel,{children:[a.status=="loading"&&d.jsx(jy,{}),a.status=="loaded"&&d.jsx(rm,{userData:_,projectsGranting:o.state.projectsGranting,placeholder:d.jsx(ji,{icon:()=>d.jsx("h2",{children:"🧐"}),text:"There are no users who are pending."}),tableUniqueIdentifier:`Team/${o.state.id}/Pending`}),a.status=="failed"&&d.jsx(ji,{icon:()=>d.jsx("h2",{children:"😢"}),text:d.jsxs("span",{children:["Failed to load pending users. Maybe try"," ",d.jsx("a",{href:`/qualifications/${e}/edit`,children:"the new version of this page"}),"?"]})})]}),d.jsx(ln.Panel,{children:d.jsx(nF,{projects:Object.values(o.state.projectsRequiring),teamId:o.state.id})})]})]})}),d.jsx(QL,{teamId:e,isOpen:f,setIsOpen:h,addSurgersPoll:c})]}),a.status=="loaded"&&d.jsx(JL,{euids:a.state.filter(({qualMembership:{status:S}})=>S==="member_of").map(({euid:S})=>S),isOpen:t,setIsOpen:n})]})})}function Ey({children:e}){return d.jsxs("div",{className:"tw-flex tw-items-center tw-justify-between",children:[d.jsx("div",{children:e}),d.jsx(yt,{buttonSize:"sm",variant:"outline",onClick:()=>{Ni.dismiss()},icon:D1})]})}const b3e=Object.freeze(Object.defineProperty({__proto__:null,default:rF},Symbol.toStringTag,{value:"Module"})),y3e=e=>d.jsx(sr,{value:e.session,children:d.jsx(ZS,{...e})}),_3e=Object.freeze(Object.defineProperty({__proto__:null,default:y3e},Symbol.toStringTag,{value:"Module"}));function QN({header1:e,header2:t,headersIndex:n,question:r}){let i;return r.itemType==="model"&&!(e.endsWith("(original)")&&t.endsWith("(edited)"))?i='Model question must have two columns, one ending with "(original)" and the other with "(edited)"':r.itemType==="likert"&&!(e.endsWith("(rating)")&&t.endsWith("(text)"))&&(i='Likert question must have two columns, one ending with "(rating)" and the other with "(text)"'),d.jsxs("li",{children:[d.jsx("p",{className:Se("tw-my-2",{"tw-text-green-900":!i,"tw-text-red-900":!!i}),children:`${r.text}`}),i&&d.jsx("b",{className:"tw-my-2 tw-text-red-900",children:i}),d.jsxs("p",{className:"tw-ml-2",children:[" - ",e||"None"]}),d.jsxs("p",{className:"tw-ml-2",children:[" - ",t||"None"]})]},`questions-${n}`)}function iF({headers:e,questions:t}){const n=[],r=[],i=e.slice(e.includes("task_id")?2:1);let o=i.length,s=t.length;for(;o>0;){o--;const a=i[o];if(s==0)n.unshift(d.jsxs("li",{className:"tw-ml-2",children:[" - ",a]},`task-data-${o}`));else{s--;const l=t[s];switch(console.log(`question ${l.itemType}`),l.itemType){case"likert":o--,r.unshift(d.jsx(QN,{header1:i[o],header2:a,headersIndex:o,question:l}));break;case"model":o--,r.unshift(d.jsx(QN,{header1:i[o],header2:a,headersIndex:o,question:l}));break;default:r.unshift(d.jsxs("li",{children:[d.jsx("p",{className:"tw-my-2 tw-text-green-900",children:`${l.text}`}),d.jsxs("p",{className:"tw-ml-2",children:[" - ",a||"None"]})]},`questions-${o}`))}}}for(;s>0;)s--,r.unshift(d.jsxs("li",{children:[d.jsx("p",{className:"tw-my-2 tw-text-red-900",children:`${t[s].text}`}),d.jsxs("p",{className:"tw-ml-2",children:[" - ","None"]})]},`questions-${o}`));return d.jsxs("div",{className:"tw-ml-4",children:[d.jsx("h4",{className:"tw-my-4",children:"Columns for task data:"}),d.jsx("ul",{className:"tw-ml-4",children:n}),d.jsx("h4",{className:"tw-my-4",children:"Columns for questions:"}),d.jsx("ul",{className:"tw-ml-4",children:t&&r})]})}const x3e=Object.freeze(Object.defineProperty({__proto__:null,default:iF},Symbol.toStringTag,{value:"Module"}));function oF({projectData:e,tasksCount:t,questions:n,forUploadAttempt:r=!1}){const i=e.length>0?Object.keys(e[0]):[],o=e.length===0?[]:i.map(s=>({Header:d.jsx(Ue,{label:s,capitalize:!1}),accessor:a=>a==null?void 0:a[s],id:`data-${s}`}));return d.jsxs(d.Fragment,{children:[r&&n&&d.jsx(iF,{headers:i,questions:n}),d.jsxs("div",{className:"tw-max-w-full tw-overflow-hidden",children:[e.length>0&&d.jsx(mu,{hover:!0,columns:o,data:e,defaultLayout:"compact",ToolbarComponent:()=>d.jsx(d.Fragment,{}),tableUniqueIdentifier:"UploadedData",displayTotal:!0,hidePagination:!0}),Array.isArray(e)&&t>0&&d.jsxs("div",{className:"tw-py-3 tw-text-center",children:["Showing ",e.length.toLocaleString()," sample rows of"," ",t.toLocaleString(),"."]})]})]})}const w3e=Object.freeze(Object.defineProperty({__proto__:null,default:oF},Symbol.toStringTag,{value:"Module"})),S3e="admin_action";function ku({euid:e,workerUuid:t,projectId:n,isAdmin:r,isWorkerBlocked:i=!1,setIsWorkerBlocked:o,isWorkerBlockedFromReportingTime:s,setIsWorkerBlockedFromReportingTime:a,isHourlyPayProject:l,blockedReason:c,rejectAllWorkerResponses:u}){var L;const f=`/projects/${n}/results?filterSurgerId=${e}`,h=`/projects/${n}/review_task_responses?workerId=${e}`,m=`/projects/${n}/workers/${e}/award_bonus`,p=`/projects/${n}/workers/${e}/work_entries`,g=`/projects/${n}/messages/new_feedback?worker_id=${e}`,_=`/inbox/feedback_and_announcements/${n}/feedbacks/new?user_id=${t}`,x=`/worker_profiles/${t}`,S=(L=document.querySelector("meta[name='csrf-token']"))==null?void 0:L.getAttribute("content"),C=i?c||S3e:"",j=U=>{mW(n,e,S).then(()=>{o(!0)}),U()},k=U=>{gW(n,e,S).then(()=>{o(!1)}),U()},T=U=>{vW(n,e,S).then(()=>{a(!0)}),U()},y=U=>{bW(n,e,S).then(()=>{a(!1)}),U()},P=U=>{navigator.clipboard.writeText(e||""),U()},A=async U=>{window.confirm("Are you sure you want to reject all responses?")&&uz(n,t).then(()=>{u(t),U()}).catch(H=>{alert(H)})},$=[{text:"Results table",href:f}];return r&&($.push({text:"Review flow",href:h}),$.push({text:"Message Surger",href:g}),$.push({text:"Message Surger (Redesigned)",href:_}),i||$.push({text:"Block Surger",onClick:j}),i&&$.push({text:"Unblock Surger",onClick:k}),s||$.push({text:"Block Surger from reporting time",onClick:T}),s&&$.push({text:"Unblock Surger from reporting time",onClick:y}),$.push({text:"Reject all responses",onClick:A}),$.push({text:"Copy to clipboard",onClick:P}),$.push({text:"Award Bonus",href:m}),l&&$.push({text:"Show Work Entries",href:p}),$.push({text:"Profile",href:x})),d.jsx(uu,{head:d.jsx("div",{children:d.jsx(yn,{content:i?"Blocked by "+C.replaceAll("_"," "):"",disabled:!(i&&r),children:d.jsxs("div",{className:"tw-inline-flex tw-bg-transparent tw-border-transparent tw-text-black hover:tw-underline",children:[i&&d.jsx(F1,{className:"tw-mr-1 tw-mt-1 tw-h-4 tw-w-4 tw-align-bottom tw-fill-black"}),d.jsx("span",{children:e}),d.jsx(m3,{className:"tw--mr-1 tw-ml-2 tw-mt-1 tw-h-4 tw-w-4 tw-align-bottom","aria-hidden":"true"})]})})}),headContainerClassName:"tw-w-min",items:$,placement:"bottom-start"})}const C3e=Object.freeze(Object.defineProperty({__proto__:null,default:ku},Symbol.toStringTag,{value:"Module"})),kp=({getValue:e,row:t})=>e()===0?d.jsx("span",{children:e()}):d.jsxs("span",{children:[e()," ",d.jsxs("span",{className:"tw-text-gray-400",children:["(",L1(e()/t.original.total,1),")"]})]});function sF({rejectAllWorkerResponses:e,blockedWorkers:t,setIsWorkerBlocked:n,blockedFromReportingTimeWorkers:r,setIsWorkerBlockedFromReportingTime:i,isAdmin:o,projectId:s,workers:a,onFullscreen:l}){const[c,u]=b.useState(!0),[f,h]=b.useState([]),m=f.filter(_=>{var x;return((x=a[_.reviewer_id])==null?void 0:x.rejectedResponses)!==!0}),p=Io(),g=[p.accessor(_=>_.reviewer_id,{header:d.jsx(Ue,{label:"Surger ID"}),cell:({getValue:_,row:x})=>{var S,C;return d.jsx(ku,{rejectAllWorkerResponses:()=>e(x.original.reviewer_id),euid:(C=(S=x==null?void 0:x.original)==null?void 0:S.worker)==null?void 0:C.euid,workerUuid:_(),isAdmin:o,isWorkerBlocked:_()in t,setIsWorkerBlocked:j=>{var k,T;return n((T=(k=x==null?void 0:x.original)==null?void 0:k.worker)==null?void 0:T.euid,j)},isWorkerBlockedFromReportingTime:(r==null?void 0:r.value)||!1,setIsWorkerBlockedFromReportingTime:j=>{var k,T;return i((T=(k=x==null?void 0:x.original)==null?void 0:k.worker)==null?void 0:T.euid,j)},blockedReason:t[_()],projectId:s})},id:"reviewerId"}),p.accessor(_=>{var x,S;return o?(x=_.worker)==null?void 0:x.fullName:(S=_.worker)==null?void 0:S.shortenedName},{header:d.jsx(Ue,{label:"Name"}),id:"name",size:154}),...o?[p.accessor(_=>{var x;return(x=_.worker)==null?void 0:x.email},{header:d.jsx(Ue,{label:"Email"}),id:"email",size:154})]:[],p.accessor(_=>_.total,{header:d.jsx(Ue,{label:"Total"}),id:"total",size:110}),p.accessor(_=>_.reviewed_count_100,{header:d.jsx(Ue,{label:"Good"}),cell:kp,id:"reviewed_count_100",size:110}),p.accessor(_=>_.reviewed_count_50,{header:d.jsx(Ue,{label:"OK"}),cell:kp,id:"reviewed_count_50",size:110}),p.accessor(_=>_.reviewed_count_0,{header:d.jsx(Ue,{label:"Bad"}),cell:kp,id:"reviewed_count_0",size:110}),p.accessor(_=>_.reviewed_count_null,{header:d.jsx(Ue,{label:"Skip"}),cell:kp,id:"reviewed_count_null",size:110}),p.accessor(_=>_.avg_review_score,{header:d.jsx(Ue,{label:"Average Score"}),cell:({getValue:_})=>d.jsx(d.Fragment,{children:L1(_()||0,100)}),id:"avg_review_score",size:120})];return b.useEffect(()=>{(async()=>{const[x,S]=await Promise.all([Kr(s,"reviews_by_worker",null),o?XG().then(k=>dm(k,({id:T,full_name:y,email:P,euid:A})=>({id:T,email:P,euid:A,fullName:y}))):Promise.resolve({})]),j=x.map(k=>({...k,worker:a[k.reviewer_id]||S[k.reviewer_id]})).filter(k=>{if(k.worker)return!0;console.log(`Couldn't find user for reviewer ${k.reviewer_id} for row ${JSON.stringify(k)}`)});h(j),u(!1)})()},[o,s,a]),d.jsxs("div",{children:[d.jsx("h3",{children:"Surger Review Analytics"}),d.jsx($o,{className:"tw-p-5",isLoading:c,columns:g,tableUniqueIdentifier:`SurgerReviewAnalytics/${s}`,data:m,displayTotal:!1,ToolbarComponent:()=>d.jsx(la,{enableCopyToClipboard:o,enableFullScreenToolbar:!0}),onFullscreenChange:l})]})}const T3e=Object.freeze(Object.defineProperty({__proto__:null,default:sF},Symbol.toStringTag,{value:"Module"}));function Xw({workerId:e,projectId:t,onWorkerAttributeChanged:n,updateWorkerAttribute:r,deleteWorkerAttribute:i,value:o}){const[s,a]=b.useState("none"),l=c=>{if(a("updating"),c){const u=parseInt(c);r(t,e,u).then(()=>{n(e,u),a("none")}).catch(()=>{a("failed"),alert("Failed to change limit. Please try again.")})}else i(t,e).then(()=>{n(e,null),a("none")}).catch(()=>{a("failed"),alert("Failed to change limit. Please try again.")})};return d.jsx(wo,{originalText:o==null?void 0:o.toString(),updateStatus:s,isValidFunc:c=>/^\d*$/.test(c),onChange:l})}const j3e=Object.freeze(Object.defineProperty({__proto__:null,default:Xw},Symbol.toStringTag,{value:"Module"}));function E3e(e,t=r=>r.avgTimeSpentInSeconds,n=r=>r.medianTimeSpentInSeconds){const r=e.filter(a=>t(a)!=null&&n(a)!=null),i=r.map(a=>t(a)).sort((a,l)=>a-l),o=r.map(a=>n(a)).sort((a,l)=>a-l),s=Math.floor(r.length/2);return r.length===0?[void 0,void 0]:r.length%2!==0?[i[s],o[s]]:[(i[s-1]+i[s])/2,(o[s-1]+o[s])/2]}function k3e(e,t=n=>1){const n=e.filter(i=>i.avgTimeSpentInSeconds!=null&&i.medianTimeSpentInSeconds!=null&&i.total);if(n.length===0)return[void 0,void 0];const r=n.reduce((i,o)=>i+t(o)*o.total,0);return[n.reduce((i,o)=>i+o.avgTimeSpentInSeconds*o.total,0)/r,n.reduce((i,o)=>i+o.medianTimeSpentInSeconds*o.total,0)/r]}function oc(e){return e<60?`${e.toFixed(1)}s`:e<60*60?`${Math.floor(e/60)}m ${(e%60).toFixed(1)}s`:`${Math.floor(e/(60*60))}h ${Math.floor(e%(60*60)/60)}m ${(e%60).toFixed(1)}s`}function JN(e){return isNaN(e)||e==null?"0%":`${(e*100).toFixed(0)}%`}function aF({rejectAllWorkerResponses:e,isAdmin:t,isProjectScored:n,isReviewed:r,isLoading:i,isHourlyPayProject:o,records:s,projectId:a,workers:l,blockedWorkers:c,setIsWorkerBlocked:u,blockedFromReportingTimeWorkers:f,setIsWorkerBlockedFromReportingTime:h,paymentInCentsPerResponse:m,useAllQualified:p,useRlhf:g,setUseAllQualified:_,onFullscreen:x,projectType:S}){const[C,j]=b.useState(!1);b.useEffect(()=>{typeof x=="function"&&x(C)},[C,x]);const k=b.useMemo(()=>new Set(s.map(Z=>Z.userUuid)),[s]),T=b.useMemo(()=>g&&s.some(Z=>Z.avgTurns!=null&&Z.avgTimeSpentInSecondsPerTurn!=null),[g,s]),y=b.useCallback(Z=>T?Z.avgTimeSpentInSecondsPerTurn:Z.avgTimeSpentInSeconds,[T]),P=b.useCallback(Z=>T?Z.medianTimeSpentInSecondsPerTurn:Z.medianTimeSpentInSeconds,[T]),A=b.useCallback(Z=>T?Z.avgTurns??1:1,[T]),$=b.useMemo(()=>Object.entries(l).filter(([Z])=>!k.has(Z)).map(([Z,se])=>({worker:{...se},userUuid:Z,percentile:NaN,workerId:se.euid,total:0,reviewedCount:0,meanTimeSpentInSeconds:NaN,avgTimeSpentInSeconds:NaN,medianTimeSpentInSeconds:NaN,avgMinutesLoggedPerDay:NaN,avgTurns:NaN,totalTurns:NaN,hourlyInCents:null,totalReportedHours:null,tasksPerReportedHour:null})),[k,l]),L=b.useMemo(()=>l?s.map(Z=>({...Z,worker:l[Z.userUuid]})).concat(p?$:[]):s,[s,p,l,$]),[U,F]=b.useState(L);b.useEffect(()=>{F(L)},[L]);const H=b.useCallback((Z,se)=>{F(tr(ie=>{const be=ie.find(Ne=>Ne.userUuid===Z);be.worker.workerSpecificTaskLimit=se},U))},[F,U]),q=b.useCallback((Z,se)=>{F(tr(ie=>{const be=ie.find(Ne=>Ne.userUuid===Z);be.worker.workerSpecificPaymentPercentage=se},U))},[F,U]),re=Io(),G=b.useMemo(()=>[re.accessor(Z=>Z.workerId,{header:d.jsx(Ue,{label:"Surger ID"}),cell:({getValue:Z,row:se})=>{const ie=Z(),be=se.original.userUuid;return d.jsx(ku,{rejectAllWorkerResponses:e,euid:ie,workerUuid:be,isAdmin:t,isWorkerBlocked:ie in c,setIsWorkerBlocked:Ne=>u(ie,Ne),isWorkerBlockedFromReportingTime:ie in f,setIsWorkerBlockedFromReportingTime:Ne=>h(ie,Ne),blockedReason:c[ie],projectId:a,isHourlyPayProject:o})},id:"workerId"}),...t?[]:[re.accessor(Z=>Z.worker.shortenedName,{header:d.jsx(Ue,{label:"Name"}),id:"shortenedName"})],...t?[re.accessor(Z=>Z.worker.fullName,{header:d.jsx(Ue,{label:"Name"}),id:"fullName",cell:({getValue:Z,row:se})=>d.jsx(Dg,{fullName:Z(),uuid:se.original.userUuid,blocked:se.original.worker.approvalStatus==="blocked",banned:se.original.worker.softBanned})}),re.accessor(Z=>Z.worker.email,{header:d.jsx(Ue,{label:"Email"}),id:"email"})]:[]],[f,c,re,t,o,a,e,u,h]),Y=b.useMemo(()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}),[]),[te,ne]=b.useMemo(()=>E3e(s,y,P),[s,y,P]).map(Z=>Z!=null?oc(Z):Z),[B,Q]=b.useMemo(()=>k3e(s,A),[s,A]).map(Z=>Z!=null?oc(Z):Z),K=b.useMemo(()=>[re.accessor(Z=>Z.total,{header:d.jsx(Ue,{label:"Total"}),id:"totalResponses",sortType:"basic",...Ht}),...t?[re.accessor(Z=>Z.worker.workerSpecificTaskLimit,{header:d.jsx(Ue,{label:"Worker Specific Task Limit"}),sortType:"basic",cell:({getValue:Z,row:se})=>{const ie=se.original.userUuid;return d.jsx(Xw,{value:Z(),projectId:a,workerId:ie,onWorkerAttributeChanged:H,updateWorkerAttribute:dz,deleteWorkerAttribute:fz})},id:"workerSpecificTaskLimit",...Ht}),re.accessor(Z=>Z.worker.workerSpecificPaymentPercentage,{header:d.jsx(Ue,{label:"Worker Specific Payment %"}),sortType:"basic",cell:({getValue:Z,row:se})=>{const ie=se.original.userUuid,be=Z();return d.jsxs("div",{className:"tw-flex",children:[d.jsx(Xw,{value:be,projectId:a,workerId:ie,onWorkerAttributeChanged:q,updateWorkerAttribute:hz,deleteWorkerAttribute:pz}),d.jsxs("div",{className:"tw-pt-2",children:["% is"," ",Lg(typeof be=="number"?be*m/100:m)]})]})},id:"workerSpecificPaymentPercentage",...Ht}),re.accessor(Z=>P(Z),{header:d.jsx(Ue,{children:d.jsxs("div",{children:[d.jsxs("div",{children:["Median Time",T&&" per Turn"]}),Q!=null&&d.jsxs("div",{children:[d.jsx(yn,{content:"Median is of users' median time spent so it's user-weighted rather than task-weighted",children:d.jsxs("div",{children:["Median: ",ne]})}),d.jsx(yn,{content:"Mean is the sum of (tasks per user * median time spent per user)/(total number of tasks) so it's task-weighted rather than user-weighted",children:d.jsxs("div",{children:["Mean: ",Q]})})]})]})}),cell:({getValue:Z})=>oc(Z()||0),sortType:"basic",id:T?"medianTimeSpentInSecondsPerTurn":"medianTimeSpentInSeconds",...Ht}),...S!=="gold_standard"?[re.accessor(Z=>Z.hourlyInCents?Z.hourlyInCents/100:0,{header:d.jsx(Ue,{label:"Estimated Hourly Pay"}),sortType:"basic",cell:({getValue:Z})=>Y.format(Z()),id:"hourly",...Ht})]:[],re.accessor(Z=>y(Z),{header:d.jsx(Ue,{children:d.jsxs("div",{children:[d.jsxs("div",{children:["Average Time",T&&" per Turn"]}),B!=null&&d.jsxs("div",{children:[d.jsx(yn,{content:"Median is of users' average time spent so it's user-weighted rather than task-weighted",children:d.jsxs("div",{children:["Median: ",te]})}),d.jsx(yn,{content:"Mean is the sum of (total time spent)/(total number of tasks) so it's task-weighted rather than user-weighted",children:d.jsxs("div",{children:["Mean: ",B]})})]})]})}),cell:({getValue:Z})=>oc(Z()||0),sortType:"basic",id:T?"avgTimeSpentInSecondsPerTurn":"avgTimeSpentInSeconds",...Ht})]:[]],[re,t,T,y,P,B,Q,te,ne,H,q,m,a,Y,S]),de=b.useMemo(()=>[re.accessor(Z=>Z.reviewedCount,{header:d.jsx(Ue,{label:"Total"}),id:"reviewedCount",...Ht}),re.accessor(Z=>Z.avgReviewScore,{header:d.jsx(Ue,{label:"Score"}),sortType:"basic",cell:({getValue:Z})=>{const se=Z();return typeof se=="number"?`${JN(se/100)}`:""},id:"avgReviewScore",...Ht})],[re]),X=b.useMemo(()=>[re.accessor(Z=>Z.projectScoreCompletedAnswers!=null&&Z.projectScoreTotalAnswers!=null?`${Z.projectScoreCompletedAnswers} of ${Z.projectScoreTotalAnswers}`:"",{header:d.jsx(Ue,{label:"Total"}),id:"totalProjectScore"}),re.accessor(Z=>Z.projectScore!=null&&Z.projectScoreTotalAnswers!=null&&Z.projectScoreCompletedAnswers!=null?Z.projectScoreTotalAnswers*Z.projectScore/Z.projectScoreCompletedAnswers/100:null,{header:d.jsx(Ue,{label:"Score"}),sortType:"basic",cell:({getValue:Z})=>{const se=Z();return typeof se=="number"?JN(se):""},id:"projectScore",...Ht})],[re]),J=b.useMemo(()=>[...T?[re.accessor(Z=>Z.reportedTimePerTurnInSeconds,{header:d.jsx(Ue,{label:"Reported Time per Turn"}),sortType:"basic",id:"reportedTimePerTurnInSeconds",cell:({getValue:Z})=>oc(Z()||0),...Ht})]:[re.accessor(Z=>Z.reportedTimePerTaskInSeconds,{header:d.jsx(Ue,{label:"Reported Time per Task"}),sortType:"basic",id:"reportedTimePerTaskInSeconds",cell:({getValue:Z})=>oc(Z()||0),...Ht})],re.accessor(Z=>((T?Z.reportedTimePerTurnInSeconds:Z.reportedTimePerTaskInSeconds)/y(Z)).toFixed(2),{header:d.jsx(Ue,{label:"Reported time / actual time"}),sortType:"basic",id:"reportedTimeToActualTimeRatio",...Ht}),re.accessor(Z=>Z.avgMinutesLoggedPerDay,{header:d.jsx(Ue,{label:"Average Minutes Logged Per Day"}),sortType:"basic",id:"avgMinutesLoggedPerDay",...Ht}),re.accessor(Z=>Z.totalReportedHours,{header:d.jsx(Ue,{label:"Total Reported Hours"}),sortType:"basic",id:"totalReportedHours",...Ht}),re.accessor(Z=>Z.tasksPerReportedHour,{header:d.jsx(Ue,{label:"Tasks per Reported Hour"}),sortType:"basic",id:"tasksPerReportedHour",...Ht})],[re,T,y]),ue=b.useMemo(()=>[{header:d.jsx(Ue,{label:"Surger Info"}),columns:G,id:"workerInfo"},{header:d.jsx(Ue,{label:"Responses"}),columns:K,id:"responses"},...t&&r?[{header:d.jsx(Ue,{label:"Reviewed"}),columns:de,id:"reviewed"}]:[],...n?[{header:d.jsx(Ue,{label:"Gold Standards and Pop Quizzes"}),columns:X,id:"scored"}]:[],...o?[{header:d.jsx(Ue,{label:"Hourly Pay"}),columns:J,id:"hourlyPay"}]:[],...T?[re.accessor(Z=>Z.avgTurns,{header:d.jsx(Ue,{label:"Average Turns"}),sortType:"basic",cell:({getValue:Z})=>Z()||0,id:"avgTurns",...Ht}),re.accessor(Z=>Z.totalTurns,{header:d.jsx(Ue,{label:"Total Turns"}),sortType:"basic",cell:({getValue:Z})=>Z()||0,id:"totalTurns",...Ht})]:[]],[re,J,t,o,n,T,r,K,de,X,G]),xe=Object.values(l).every(Z=>(Z==null?void 0:Z.workerSpecificPaymentPercentage)===null),_e=Object.values(l).every(Z=>(Z==null?void 0:Z.workerSpecificTaskLimit)===null),he=[...xe?["workerSpecificPaymentPercentage"]:[],..._e?["workerSpecificTaskLimit"]:[]];return d.jsx($o,{className:Se({"tw-p-5":C}),hover:!0,isLoading:i,columns:ue,defaultHiddenColumns:he,data:U,tableUniqueIdentifier:`WorkerAnalyticsOverall/${a}`,ToolbarComponent:()=>d.jsx(la,{enableCopyToClipboard:t,enableFullScreenToolbar:!0}),onFullscreenChange:j,children:d.jsxs("div",{className:Se("tw-flex tw-w-full tw-place-content-between tw-pb-3",{"tw-pt-10 tw-px-5":C}),children:[t?d.jsxs("div",{className:"tw-inline-flex tw-items-center",children:[d.jsx(ko,{backgroundInactive:"tw-bg-primary-default-100",enabled:p,setEnabled:_}),d.jsx("span",{className:"tw-ml-3",children:"Show all qualified workers"})]}):d.jsx("div",{}),d.jsx(nq,{})]})})}const O3e=Object.freeze(Object.defineProperty({__proto__:null,default:aF},Symbol.toStringTag,{value:"Module"}));function lF({data:e,colors:t,height:n,width:r}){return d.jsx(kL,{enableGridX:!1,enableGridY:!1,enablePoints:!0,pointSize:3,isInteractive:!1,colors:t,lineWidth:1,width:r,height:n,data:e,margin:{top:2,right:2,bottom:2,left:2},layers:["lines","points"]})}const M3e=Object.freeze(Object.defineProperty({__proto__:null,LineChart:lF},Symbol.toStringTag,{value:"Module"})),XN="Percent in bottom likert bin",eP="Percent in middle likert bin",tP="Percent in top likert bin",nP="% of tasks where worker disagrees with the three-bin-categorization of the majority answer";function Ma(e){return isNaN(e)||e==null?"NA":`${(e*100).toFixed(0)}%`}const N3e=e=>e.some(t=>(t.count_agreement_with_mode||0)>1||(t.count_disagreement_with_mode||0)>1);function P3e(e){const t=e.count_agreement_with_mode||0,n=e.count_disagreement_with_mode||0;return(t||0)/(t+n)*100}function rP(e,t){var n;return t[e.id]==null?"...%":`${((n=e.text)==null?void 0:n.replace("/","/ "))||""} (${Ma(t[e.id]/t.total)})`}const A3e=(e,t,n)=>n?[{id:"mode",data:t.map((r,i)=>({x:r.text,y:n[i]}))},{id:"worker",data:t.map(r=>({x:r.text,y:e.option_counts[r.id]/(e.total||0)*100}))}]:[];function cF({rejectAllWorkerResponses:e,hasMode:t,itemId:n,isAdmin:r,options:i,projectId:o,workers:s,blockedWorkers:a,setIsWorkerBlocked:l,blockedFromReportingTimeWorkers:c,setIsWorkerBlockedFromReportingTime:u,onFullscreen:f}){const[h,m]=b.useState(!0),[p,g]=b.useState(!1);b.useEffect(()=>{typeof f=="function"&&f(p)},[p,f]);const[_,x]=b.useState({modes:{total:0},records:[],totals:{total:0}}),S={..._,records:_.records.filter(L=>{var U;return!((U=s[L.user_uuid])!=null&&U.rejectedResponses)})},{modes:C,records:j,totals:k}=S,T=b.useCallback(async({modes:L,records:U,totals:F})=>{try{if(!r||!s)return x({modes:L,records:U,totals:F});const H=U.map(q=>({...q,worker:s[q.user_uuid]}));return x({modes:L,totals:F,records:H})}catch{console.error("Error in enhanceRecordsIfAdmin")}},[r,s]),y=b.useMemo(()=>i&&k?i.map(L=>k[L.id]/k.total*100):i==null?void 0:i.map(()=>0),[i,k]),P=b.useMemo(()=>{const L=Io();let U=[L.accessor(F=>F.worker_id,{header:d.jsx(Ue,{label:"Surger ID"}),cell:({getValue:F,row:H})=>{const q=H.original.user_uuid;return d.jsx(ku,{rejectAllWorkerResponses:()=>e(q),euid:F(),workerUuid:q,isAdmin:r,projectId:o,isWorkerBlocked:H.original.worker_id in a,blockedReason:a[H.original.worker_id],setIsWorkerBlocked:re=>l(H.original.worker_id,re),isWorkerBlockedFromReportingTime:c[H.original.worker_id],setIsWorkerBlockedFromReportingTime:re=>u(H.original.worker_id,re)})},id:"workerId"}),...r?[]:[L.accessor(F=>{var H;return(H=F.worker)==null?void 0:H.shortenedName},{header:d.jsx(Ue,{label:"Name"}),id:"shortenedName"})],...r?[L.accessor(F=>{var H;return(H=F.worker)==null?void 0:H.fullName},{header:d.jsx(Ue,{label:"Name"}),id:"fullName",cell:({getValue:F,row:H})=>{var q,re;return d.jsx(Dg,{fullName:F(),uuid:H.original.user_uuid,blocked:((q=H.original.worker)==null?void 0:q.approvalStatus)==="blocked",banned:(re=H.original.worker)==null?void 0:re.softBanned})}}),L.accessor(F=>{var H;return(H=F.worker)==null?void 0:H.email},{header:d.jsx(Ue,{label:"Email"}),id:"email"})]:[],...i!=null&&i.length?[L.accessor(F=>A3e(F,i,y),{header:d.jsx(Ue,{label:"Line charts"}),cell:({getValue:F})=>d.jsx(lF,{height:27,width:93,data:F(),colors:["hsl(0, 0%, 20%)",p3("--color-primary-default-80")]}),id:"lineChart",enableSorting:!1,enableColumnFilter:!1})]:[],L.accessor(F=>F.total,{header:d.jsx(Ue,{label:"Total"}),id:"totalResponses",sortType:"number",...Ht})];return j.some(F=>F.percent_in_bottom_likert_bin!=null)&&U.push(L.accessor(F=>Nr(F.percent_in_bottom_likert_bin,parseFloat),{header:d.jsx(Ue,{label:XN,tooltip:XN}),id:"percentInBottomLikertBin",cell:({getValue:F})=>d.jsx("div",{children:Nr(F(),H=>Ma(H/100))}),...Ht})),j.some(F=>F.percent_in_middle_likert_bin!=null)&&U.push(L.accessor(F=>Nr(F.percent_in_middle_likert_bin,parseFloat),{header:d.jsx(Ue,{label:eP,tooltip:eP}),id:"percentInMiddleLikertBin",cell:({getValue:F})=>d.jsx("div",{children:Nr(F(),H=>Ma(H/100))}),...Ht})),j.some(F=>F.percent_in_top_likert_bin!=null)&&U.push(L.accessor(F=>Nr(F.percent_in_top_likert_bin,parseFloat),{header:d.jsx(Ue,{label:tP,tooltip:tP}),id:"percentInTopLikertBin",cell:({getValue:F})=>d.jsx("div",{children:Nr(F(),H=>Ma(H/100))}),...Ht})),t&&N3e(j)&&(j.some(F=>F.percent_of_disagrees_with_likert_three_way_bin_of_avg!=null)&&U.push(L.accessor(F=>Nr(F.percent_of_disagrees_with_likert_three_way_bin_of_avg,parseFloat),{header:d.jsx(Ue,{label:nP,tooltip:nP}),id:"percentOfDisagreesWithLikertThreeWayBinOfAvg",sortType:"number",cell:({getValue:F})=>d.jsx("div",{children:Nr(F(),H=>Ma(H/100))}),...Ht})),U.push(L.accessor(P3e,{header:d.jsx(Ue,{label:"Agreement with Mode"}),id:"agreementWithMode",sortType:"number",cell:({getValue:F})=>d.jsx("div",{children:Ma(F()/100)}),...Ht})),j[0].avg_likert_dist_from_avg!=null&&U.push(L.accessor(F=>F.avg_likert_dist_from_avg!=null?parseFloat(F.avg_likert_dist_from_avg):null,{header:d.jsx(Ue,{label:"Average distance from average rating"}),id:"avgLikertDistFromAvg",sortType:"number",cell:({getValue:F})=>{var H;return d.jsx("div",{children:(H=F())==null?void 0:H.toFixed(2)})},...Ht})),j[0].avg_likert_dist_from_avg!=null&&U.push(L.accessor(F=>F.avg_squared_likert_dist_from_avg!=null?parseFloat(F.avg_squared_likert_dist_from_avg):null,{header:d.jsx(Ue,{label:"Average squared distance from average rating"}),id:"avgSquaredLikertDistFromAvg",sortType:"number",cell:({getValue:F})=>{var H;return d.jsx("div",{children:(H=F())==null?void 0:H.toFixed(2)})},...Ht})),j.some(({percent_of_agrees_with_likert_half_of_avg:F})=>F)&&U.push(L.accessor(F=>Nr(F.percent_of_agrees_with_likert_half_of_avg,parseFloat),{header:d.jsx(Ue,{label:"% of tasks where worker agrees with Likert side"}),id:"percentOfAgreesWithLikertHalfOfAvg",sortType:"number",cell:({getValue:F})=>{var H;return d.jsx("div",{children:(H=F())==null?void 0:H.toFixed(2)})},...Ht}))),k&&i&&(U=U.concat(i.map(F=>L.accessor(H=>H.option_counts[F.id]/(H.total||0)*100,{header:d.jsx(Ue,{label:rP(F,k),tooltip:rP(F,k)}),id:F.id,cell:({getValue:H})=>d.jsx("div",{children:Ma(H()/100)}),...Ht})))),U},[y,c,a,t,r,i,o,j,e,l,u,k]);b.useEffect(()=>{m(!0),async function(){const U=await Kr(o,"worker_analytics_by_question",null,{item_id:n});await T(U),m(!1)}()},[T,n,o]);const A=b.useCallback(L=>{const U=L.column,F=L.row.original,H=Math.abs(((k==null?void 0:k[U.id])||0)/((k==null?void 0:k.total)||0)-F.option_counts[U.id]/F.total)*Math.min(1,F.total/((C==null?void 0:C.total)||0)*1.5)*100,q=Math.ceil(H/10)*10;return Se({"tw-bg-negative-0":q==0,"tw-bg-negative-10":q==10,"tw-bg-negative-20":q==20,"tw-bg-negative-30":q==30,"tw-bg-negative-40":q==40,"tw-bg-negative-50":q==50,"tw-bg-negative-60":q==60,"tw-bg-negative-70":q==70,"tw-bg-negative-80":q==80,"tw-bg-negative-90":q==90,"tw-bg-negative-100":q==100})},[C==null?void 0:C.total,k]),$=b.useCallback(L=>d.jsx(Iz,{...L,getClassNameForTd:A}),[A]);return d.jsx($o,{className:Se({"tw-p-5":p}),isLoading:h,columns:P,tableUniqueIdentifier:`WorkerAnalyticsByItem/${o}`,data:j||[],RowComponent:$,ToolbarComponent:()=>d.jsx(la,{enableCopyToClipboard:r,enableFullScreenToolbar:!0}),onFullscreenChange:g})}const R3e=Object.freeze(Object.defineProperty({__proto__:null,default:cF},Symbol.toStringTag,{value:"Module"}));function uF({rejectAllWorkerResponses:e,itemId:t,isAdmin:n,projectId:r,workers:i,blockedWorkers:o,setIsWorkerBlocked:s,blockedFromReportingTimeWorkers:a,setIsWorkerBlockedFromReportingTime:l,onFullscreen:c}){const[u,f]=b.useState(!0),[h,m]=b.useState(!1),[p,g]=b.useState({modes:{total:0},records:[],totals:{total:0}}),_={...p,records:p.records.filter(j=>{var k;return((k=i[j.user_uuid])==null?void 0:k.rejectedResponses)===!1})},{records:x}=_;b.useEffect(()=>{typeof c=="function"&&c(h)},[h,c]);const S=b.useCallback(async({modes:j,records:k,totals:T})=>{try{if(!n||!i)return g({modes:j,records:k,totals:T});const y=k.map(P=>({...P,worker:i[P.user_uuid]}));return g({modes:j,totals:T,records:y})}catch{console.error("Error in enhanceRecordsIfAdmin")}},[n,i]),C=b.useMemo(()=>{const j=Io();return[j.accessor(k=>k.worker_id,{header:d.jsx(Ue,{label:"Surger ID"}),cell:({getValue:k,row:T})=>{var A,$;const y=k(),P=($=(A=T==null?void 0:T.original)==null?void 0:A.worker)==null?void 0:$.euid;return d.jsx(ku,{rejectAllWorkerResponses:e,euid:P,workerUuid:y,isAdmin:n,projectId:r,blockedReason:P?o[P]:null,isWorkerBlocked:y in o,setIsWorkerBlocked:L=>P?s(P,L):null,isWorkerBlockedFromReportingTime:y in a,setIsWorkerBlockedFromReportingTime:L=>P?l(P,L):null})},id:"workerId"}),j.accessor(k=>{var T,y;return n?(T=k.worker)==null?void 0:T.fullName:(y=k.worker)==null?void 0:y.shortenedName},{header:d.jsx(Ue,{label:"Name"}),id:"name"}),...n?[j.accessor(k=>{var T;return(T=k.worker)==null?void 0:T.email},{header:d.jsx(Ue,{label:"Email"}),id:"email"})]:[],j.accessor(k=>k.total,{header:d.jsx(Ue,{label:"Total"}),id:"total"}),j.accessor(k=>{let T=k.average_length!=null?parseFloat(k.average_length):0;return isNaN(T)&&(T=0),Math.round(T||0)},{header:d.jsx(Ue,{label:"Mean Length"}),id:"averageLength"})]},[a,o,n,r,e,s,l]);return b.useEffect(()=>{f(!0),async function(){const k=await Kr(r,"worker_analytics_by_question",null,{item_id:t});await S(k),f(!1)}()},[S,t,r]),d.jsx($o,{className:Se({"tw-p-5":h}),hover:!0,isLoading:u,columns:C,tableUniqueIdentifier:`WorkerAnalyticsByItem/${r}`,data:x,ToolbarComponent:()=>d.jsx(la,{enableCopyToClipboard:n,enableFullScreenToolbar:!0}),onFullscreenChange:m})}const $3e=Object.freeze(Object.defineProperty({__proto__:null,default:uF},Symbol.toStringTag,{value:"Module"})),e1=({rejectAllWorkerResponses:e,isAdmin:t,items:n,projectId:r,workers:i,blockedWorkers:o,setIsWorkerBlocked:s,blockedFromReportingTimeWorkers:a,setIsWorkerBlockedFromReportingTime:l,onFullscreen:c})=>d.jsxs(ln.Group,{children:[d.jsx(ln.HeaderList,{className:"tw-bg-gray-100 tw-pt-3",children:n.map(u=>d.jsx(ln.Header,{centered:!1,children:u.name},u.id))}),d.jsx(ln.PanelList,{children:n.map(u=>d.jsx(ln.Panel,{className:"tw-mt-3",children:u.type==="fr"?d.jsx(uF,{itemId:u.id,isAdmin:t,projectId:r,workers:i,blockedWorkers:o,rejectAllWorkerResponses:e,setIsWorkerBlocked:s,blockedFromReportingTimeWorkers:a,setIsWorkerBlockedFromReportingTime:l,onFullscreen:c}):d.jsx(cF,{hasMode:u.type==="mc"||u.type==="tree"||u.type==="likert",itemId:u.id,isAdmin:t,name:u.name,options:u.options,projectId:r,workers:i,blockedWorkers:o,rejectAllWorkerResponses:e,setIsWorkerBlocked:s,blockedFromReportingTimeWorkers:a,setIsWorkerBlockedFromReportingTime:l,onFullscreen:c})},u.id))})]}),I3e=Object.freeze(Object.defineProperty({__proto__:null,WorkerItems:e1,default:e1},Symbol.toStringTag,{value:"Module"}));function D3e(e){return isNaN(e)||e==null?"NA":`${(e*100).toFixed(0)}%`}function dF({rejectAllWorkerResponses:e,projectId:t,isAdmin:n,workers:r}){const[i,o]=b.useState(!0),[s,a]=b.useState(!1),[l,c]=b.useState([]),u=l.filter(h=>{var m,p;return!((p=r[(m=h.worker)==null?void 0:m.id])!=null&&p.rejectedResponses)}),f=b.useMemo(()=>{const h=Io();return[h.accessor(m=>{var p;return(p=m.worker)==null?void 0:p.euid},{header:d.jsx(Ue,{label:"User ID"}),cell:({row:m})=>{var g;const p=(g=m==null?void 0:m.original)==null?void 0:g.worker;return d.jsx(ku,{rejectAllWorkerResponses:()=>e(p.id),euid:p==null?void 0:p.euid,workerUuid:m.original.userId,isAdmin:n,projectId:t})},id:"userId"}),...n?[h.accessor(m=>{var p;return(p=m.worker)==null?void 0:p.fullName},{header:d.jsx(Ue,{label:"Name"}),id:"fullName",cell:({getValue:m,row:p})=>d.jsx(Dg,{fullName:m(),uuid:p.original.worker.euid,blocked:p.original.worker.approvalStatus==="blocked",banned:p.original.worker.softBanned})})]:[h.accessor(m=>{var p;return(p=m.worker)==null?void 0:p.shortenedName},{header:d.jsx(Ue,{label:"Name"}),id:"shortenedName"})],h.accessor(m=>m.totalChatResponses,{header:d.jsx(Ue,{label:"Total # Chat Responses"}),id:"totalChatResponses",...Ht}),h.accessor(m=>m.averageMessageLength,{header:d.jsx(Ue,{label:"Avg Message Length"}),id:"averageMessageLength",cell:({getValue:m})=>{var p;return d.jsx("div",{children:(p=m())==null?void 0:p.toFixed(2)})},...Ht}),h.accessor(m=>m.averageMessagesSent,{header:d.jsx(Ue,{label:"Avg Messages Sent"}),id:"averageMessagesSent",cell:({getValue:m})=>{var p;return d.jsx("div",{children:(p=m())==null?void 0:p.toFixed(2)})},...Ht}),h.accessor(m=>m.averageEditDistance,{header:d.jsx(Ue,{label:"Avg Edit Distance"}),id:"averageEditDistance",cell:({getValue:m})=>{var p;return d.jsx("div",{children:(p=m())==null?void 0:p.toFixed(2)})},...Ht}),h.accessor(m=>m.percentCanceled,{header:d.jsx(Ue,{label:"% Canceled"}),id:"percentCanceled",cell:({getValue:m})=>d.jsx("div",{children:D3e(m()/100)}),...Ht}),h.accessor(m=>m.totalLikertResponses,{header:d.jsx(Ue,{label:"Total # Likert Responses"}),id:"totalLikertResponses",...Ht}),h.accessor(m=>m.percentExtremeRatings,{header:d.jsx(Ue,{label:"Percent Extreme Ratings"}),id:"percentExtremeRatings",cell:({getValue:m})=>{var p;return d.jsx("div",{children:(p=m())==null?void 0:p.toFixed(2)})},...Ht})]},[n]);return b.useEffect(()=>{o(!0),async function(){const{records:m}=await Kr(t,"worker_analytics_rlhf",null,{}),g=rV(m,_=>dZ(_,(x,S)=>QK(S))).map(_=>({..._,worker:r[_.userId]}));c(g),o(!1)}()},[t]),d.jsx($o,{className:Se({"tw-p-5":s}),hover:!0,isLoading:i,columns:f,tableUniqueIdentifier:`WorkerAnalyticsRlhf/${t}`,data:u,ToolbarComponent:()=>d.jsx(la,{enableFullScreenToolbar:!0}),onFullscreenChange:a})}const L3e=Object.freeze(Object.defineProperty({__proto__:null,default:dF},Symbol.toStringTag,{value:"Module"}));function fF({project:e,admin:t}){var P;const[n,r]=b.useState(!0),[i,o]=b.useState(),[s,a]=b.useState(),[l,c]=b.useState(),[u,f]=b.useState(),[h,m]=b.useState({}),[p,g]=b.useState(),[_,x]=b.useState(),[S,C]=b.useState(!1),j=b.useCallback((A,$)=>{if($)f({...u,[A]:"admin_action"});else{const L={...u};delete L[A],f(L)}},[u]),k=b.useCallback(A=>{c($=>$?{...$,[A]:{...$[A],rejectedResponses:!0}}:void 0)},[]),T=b.useCallback((A,$)=>{if($)m({...h,[A]:!0});else{const L={...h};delete L[A],m(L)}},[h]);b.useEffect(()=>{r(!0),async function(){const[$,L,U,F,H,q]=await Promise.all([Kr(e.id,"worker_analytics_overall",null).catch(()=>({is_project_scored:!1,is_reviewed:!1,records:[],items_with_stats:[],meta:{}})),rq(e.id,S),mz(e.id),gz(e.id),vz(e.id),bz(e.id)]);a($),c(L),f(U),m(F),g(H),x(q),r(!1)}()},[t,e,r,S]);const y=b.useMemo(()=>s==null?void 0:s.records.map(({percentile:A,user_uuid:$,worker_id:L,total:U,reviewed_count:F,mean_time_spent_in_seconds:H,project_score:q,project_score_completed_answers:re,project_score_total_answers:G,avg_review_score:Y,avg_time_spent_in_seconds:te,avg_time_spent_in_seconds_per_turn:ne,median_time_spent_in_seconds:B,median_time_spent_in_seconds_per_turn:Q,avg_minutes_logged_per_day:K,avg_turns:de,total_turns:X,hourly_in_cents:J,hourly:ue,total_reported_hours:xe,tasks_per_reported_hour:_e,reported_time_per_task_in_seconds:he,reported_time_per_turn_in_seconds:Z})=>({userUuid:$,percentile:A,workerId:L,total:U,reviewedCount:F,avgReviewScore:Y,meanTimeSpentInSeconds:H,avgTimeSpentInSeconds:te,avgTimeSpentInSecondsPerTurn:ne,medianTimeSpentInSeconds:B,medianTimeSpentInSecondsPerTurn:Q,avgMinutesLoggedPerDay:K,avgTurns:de,totalTurns:X,projectScore:q,projectScoreCompletedAnswers:re,projectScoreTotalAnswers:G,hourly:ue,hourlyInCents:J,totalReportedHours:xe,tasksPerReportedHour:_e,reportedTimePerTaskInSeconds:he,reportedTimePerTurnInSeconds:Z})),[s==null?void 0:s.records]);return!s||!y||!l||!u||!h||!p||!_?d.jsx("div",{className:Se("tw-flex tw-items-center tw-justify-center tw-h-full"),children:d.jsx(fn,{className:Se("tw-h-8")})}):d.jsxs("div",{className:"data-quality",children:[!i&&d.jsx("div",{className:"row",children:d.jsx("div",{className:"col-6",children:d.jsx("h2",{children:"Surger Analytics"})})}),(!i||i==="overall")&&d.jsx(aF,{isAdmin:t,isProjectScored:s.is_project_scored,isReviewed:s.is_reviewed,isLoading:n,isHourlyPayProject:e.posterPaymentInCentsPerHour!=null&&e.posterPaymentInCentsPerHour>0,records:y,projectId:e.id,blockedWorkers:u,setIsWorkerBlocked:j,rejectAllWorkerResponses:k,blockedFromReportingTimeWorkers:h,setIsWorkerBlockedFromReportingTime:T,workers:l,paymentInCentsPerResponse:e.posterPaymentInCentsPerResponse||0,useAllQualified:S,useRlhf:e.useRlhf,setUseAllQualified:C,onFullscreen:A=>o(A?"overall":null),projectType:e.projectType}),(!i||i=="by_item")&&((P=s==null?void 0:s.items_with_stats)==null?void 0:P.length)>0&&d.jsxs("div",{className:"worker-by-items tw-mt-8",children:[d.jsx("h3",{children:"By Question"}),d.jsx(e1,{isAdmin:t,items:s.items_with_stats,workers:l,blockedWorkers:u,setIsWorkerBlocked:j,rejectAllWorkerResponses:k,projectId:e.id,blockedFromReportingTimeWorkers:h,setIsWorkerBlockedFromReportingTime:T,onFullscreen:A=>o(A?"by_item":null)})]}),(!i||i=="review")&&e.projectType==="rate_and_review"&&d.jsx("div",{className:"surger-review-analytics tw-mt-8",children:d.jsx(sF,{blockedWorkers:u,setIsWorkerBlocked:j,rejectAllWorkerResponses:k,blockedFromReportingTimeWorkers:h,setIsWorkerBlockedFromReportingTime:T,isAdmin:t,projectId:e.id,workers:l,onFullscreen:A=>o(A?"review":null)})}),(!i||i=="rlhf")&&e.useRlhf&&d.jsx(dF,{isAdmin:t,projectId:e.id,blockedWorkers:u,setIsWorkerBlocked:j,rejectAllWorkerResponses:k,blockedFromReportingTimeWorkers:h,setIsWorkerBlockedFromReportingTime:T,workers:l,onFullscreen:A=>o(A?"rlhf":null)})]})}const F3e=Object.freeze(Object.defineProperty({__proto__:null,default:fF},Symbol.toStringTag,{value:"Module"})),iP=ut.object({text:ut.string(),href:ut.string(),method:ut.union([ut.literal("post"),ut.literal("delete")]).optional(),also_show_as_active:ut.string().array().optional(),highlight:ut.boolean().optional(),target:ut.string().optional()}),z3e=ut.object({links:ut.array(iP),userLinks:ut.array(iP),userName:ut.string(),impersonated:ut.boolean(),siteName:ut.string(),isDevelopment:ut.boolean()});function Op(){return d.jsx("svg",{width:"8",height:"8",className:"tw-inline-block tw-mr-1",children:d.jsx("circle",{cx:"4",cy:"4",r:"4",fill:"red"})})}function B3e(e){const t=v3(z3e,e);function n(i){return[i.href,...i.also_show_as_active??[]].some(s=>window.location.pathname.startsWith(s))}const r={textDecoration:"none",color:"white"};return d.jsx(dd,{as:"nav",children:({open:i})=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"tw-mx-auto tw-px-2 sm:tw-px-4",children:d.jsxs("div",{className:"tw-relative tw-flex tw-h-16 tw-items-center tw-justify-between",children:[d.jsxs("div",{className:"tw-flex tw-items-center tw-px-2 md:tw-px-0",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("a",{href:`/${window.location.search}`,className:Se(t.isDevelopment?"tw-text-yellow-200 hover:tw-text-yellow-200":"tw-text-white","tw-text-xl no-tw-override"),style:{textDecoration:r.textDecoration},children:t.siteName})}),d.jsx("div",{className:"tw-hidden md:tw-ml-6 md:tw-block",children:d.jsx("div",{className:"tw-flex tw-space-x-4",children:t.links.map((o,s)=>d.jsxs("a",{href:o.href,style:r,target:o.target,"data-testid":n(o)?"active-link":"inactive-link",className:Se("no-tw-override tw-rounded-md tw-px-3 tw-py-2 tw-font-medium tw-text-white",n(o)?"tw-bg-primary-dark-50":"hover:tw-bg-primary-dark-20"),children:[o.highlight&&d.jsx(Op,{}),o.text]},s))})})]}),d.jsx("div",{className:"tw-flex md:tw-hidden",children:d.jsxs(dd.Button,{className:"tw-relative tw-inline-flex tw-items-center tw-justify-center tw-rounded-md tw-p-2 tw-text-gray-400 hover:tw-bg-gray-700 hover:tw-text-white focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-inset focus:tw-ring-white",children:[d.jsx("span",{className:"tw-sr-only",children:"Open main menu"}),i?d.jsx(yz,{className:"tw-block tw-h-6 tw-w-6","aria-hidden":!0}):d.jsx(SZ,{className:"tw-block tw-h-6 tw-w-6","aria-hidden":!0})]})}),d.jsx("div",{className:"tw-hidden md:tw-block md:tw-ml-4",children:d.jsx("div",{className:"tw-flex tw-items-center",children:d.jsxs(Kh,{as:"div",className:"tw-relative tw-ml-4 tw-flex-shrink-0",children:[d.jsx("div",{children:d.jsxs(Kh.Button,{className:Se("no-tw-override tw-rounded-md tw-px-3 tw-py-2 tw-font-medium hover:tw-bg-primary-dark-20",t.impersonated?"tw-text-red-500":"tw-text-white"),"data-testid":"user-menu-button",children:[d.jsx("span",{className:"tw-sr-only",children:"Open user menu"}),t.impersonated&&d.jsx("span",{className:"tw-mr-1 tw-text-red-500 tw-font-bold",children:"Impersonating"}),t.userName]})}),d.jsx(tK,{as:b.Fragment,enter:"tw-transition tw-ease-out tw-duration-100",enterFrom:"tw-transform tw-opacity-0 tw-scale-95",enterTo:"tw-transform tw-opacity-100 tw-scale-100",leave:"tw-transition tw-ease-in tw-duration-75",leaveFrom:"tw-transform tw-opacity-100 tw-scale-100",leaveTo:"tw-transform tw-opacity-0 tw-scale-95",children:d.jsx(Kh.Items,{className:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-48 tw-origin-top-right tw-rounded-md tw-bg-white tw-py-1 tw-shadow-lg tw-ring-1 tw-ring-gray-800 tw-ring-opacity-5 focus:tw-outline-none",children:t.userLinks.map((o,s)=>d.jsx(Kh.Item,{children:({active:a})=>d.jsxs("a",{href:o.href,target:o.target,className:Se(a&&"tw-bg-gray-100","tw-block tw-px-4 tw-py-2 tw-text-gray-700"),"data-method":o.method,style:{textDecoration:"none",color:"rgba(55, 65, 81, var(--tw-text-opacity))"},children:[o.highlight&&d.jsx(Op,{}),o.text]})},s))})})]})})})]})}),d.jsxs(dd.Panel,{className:"md:tw-hidden",children:[d.jsx("div",{className:"tw-space-y-1 tw-px-2 tw-pb-3 tw-pt-2",children:t.links.map((o,s)=>d.jsxs(dd.Button,{as:"a",href:o.href,target:o.target,style:r,className:Se("no-tw-override tw-block tw-rounded-md tw-px-3 tw-py-2 tw-text-base tw-font-medium tw-text-white",n(o)?"tw-bg-primary-dark-100":"hover:tw-bg-primary-dark-50"),children:[o.highlight&&d.jsx(Op,{}),o.text]},s))}),d.jsxs("div",{className:"tw-border-t tw-border-gray-700 tw-pb-3 tw-pt-4",children:[d.jsx("div",{className:"tw-flex tw-items-center tw-px-5",children:d.jsxs("div",{className:Se("tw-text-base tw-font-medium",t.impersonated?"tw-text-red-500":"tw-text-white"),children:[t.impersonated&&d.jsx("span",{className:"tw-mr-1 tw-text-red-500 tw-font-bold",children:"Impersonating"}),t.userName]})}),d.jsx("div",{className:"tw-mt-3 tw-space-y-1 tw-px-2",children:t.userLinks.map((o,s)=>d.jsxs(dd.Button,{as:"a",target:o.target,href:o.href,style:r,className:Se("no-tw-override tw-block tw-rounded-md tw-px-3 tw-py-2 tw-text-base tw-font-medium tw-text-white",n(o)?"tw-bg-primary-dark-100":"hover:tw-bg-primary-dark-50"),children:[o.highlight&&d.jsx(Op,{}),o.text]},s))})]})]})]})})}const W3e=Object.freeze(Object.defineProperty({__proto__:null,default:B3e},Symbol.toStringTag,{value:"Module"})),H3e=Object.freeze(Object.defineProperty({__proto__:null,MatchAllFilter:hq},Symbol.toStringTag,{value:"Module"})),q3e=Object.freeze(Object.defineProperty({__proto__:null,initialProjectGroupColumnFactory:SH,numResponsesInProjectColumnFactory:CH,projectScoreColumnFactory:TH,qualificationColumnFactory:jH,signupDateColumnFactory:EH,signupSourceColumnFactory:kH},Symbol.toStringTag,{value:"Module"}));function oP(e){const t=localStorage.getItem(e)||"0";localStorage.setItem(e,t);const[n,r]=b.useState(parseInt(t));return[n,i=>{r(o=>{const s=i(o);return localStorage.setItem(e,s.toString()),s})}]}function Sg(e,t,n){const[r,i]=oP(`${e}-${t}`),[o,s]=oP(`${e}-tr-${n}`);return a=>{i(a),s(a)}}function V3e(e,t){const n=Sg("keyPresses",e,t),r=Sg("keyPresses-backspace",e,t);ns("keydown",i=>{n(o=>o+1),i.key==="Backspace"&&r(o=>o+1)})}function hF({projectId:e,taskResponseId:t}){return V3e(e,t),null}const U3e=Object.freeze(Object.defineProperty({__proto__:null,default:hF},Symbol.toStringTag,{value:"Module"})),G3e=5e3;function pF({projectId:e,taskResponseId:t}){const n=Sg("stopwatchTime",e,t),r=Sg("stopwatchTime-idleDuration",e,t),i=b.useRef(null),o=b.useRef(parseInt(Date.now().toString())),s=b.useRef(!1),a=b.useCallback(()=>{const c=Date.now(),u=c-o.current;o.current=c,n(f=>f+u),s.current&&r(f=>f+u),s.current=!0},[r,n]),l=()=>{s.current=!1};return ns("keypress",l),ns("mousemove",l),ns("click",l),ns("scroll",l),ns("touchstart",l),b.useEffect(()=>(i.current=setInterval(a,G3e),()=>{i.current&&clearInterval(i.current)}),[]),null}const K3e=Object.freeze(Object.defineProperty({__proto__:null,default:pF},Symbol.toStringTag,{value:"Module"}));function mF(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=mF(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function zo(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=mF(e))&&(r&&(r+=" "),r+=t);return r}function ky(e){return e&&Ai(e)==="object"&&e.constructor===Object}function nu(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},r=n.clone?et({},e):e;return ky(e)&&ky(t)&&Object.keys(t).forEach(function(i){i!=="__proto__"&&(ky(t[i])&&i in e?r[i]=nu(e[i],t[i],n):r[i]=t[i])}),r}function Cg(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}function gF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Y3e(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&n[0].length===1&&(n=n.map(function(r){return r+r})),n?"rgb".concat(n.length===4?"a":"","(").concat(n.map(function(r,i){return i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3}).join(", "),")"):""}function Z3e(e){e=ru(e);var t=e,n=t.values,r=n[0],i=n[1]/100,o=n[2]/100,s=i*Math.min(o,1-o),a=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(f+r/30)%12;return o-s*Math.max(Math.min(h-3,9-h,1),-1)},l="rgb",c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(l+="a",c.push(n[3])),x2({type:l,values:c})}function ru(e){if(e.type)return e;if(e.charAt(0)==="#")return ru(Y3e(e));var t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla"].indexOf(n)===-1)throw new Error(Cg(3,e));var r=e.substring(t+1,e.length-1).split(",");return r=r.map(function(i){return parseFloat(i)}),{type:n,values:r}}function x2(e){var t=e.type,n=e.values;return t.indexOf("rgb")!==-1?n=n.map(function(r,i){return i<3?parseInt(r,10):r}):t.indexOf("hsl")!==-1&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Q3e(e,t){var n=t1(e),r=t1(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function t1(e){e=ru(e);var t=e.type==="hsl"?ru(Z3e(e)).values:e.values;return t=t.map(function(n){return n/=255,n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function J3e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.15;return t1(e)>.5?vF(e,t):bF(e,t)}function vF(e,t){if(e=ru(e),t=gF(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)e.values[n]*=1-t;return x2(e)}function bF(e,t){if(e=ru(e),t=gF(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return x2(e)}var Ps=["xs","sm","md","lg","xl"];function X3e(e){var t=e.values,n=t===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=r===void 0?"px":r,o=e.step,s=o===void 0?5:o,a=$n(e,["values","unit","step"]);function l(m){var p=typeof n[m]=="number"?n[m]:m;return"@media (min-width:".concat(p).concat(i,")")}function c(m){var p=Ps.indexOf(m)+1,g=n[Ps[p]];if(p===Ps.length)return l("xs");var _=typeof g=="number"&&p>0?g:m;return"@media (max-width:".concat(_-s/100).concat(i,")")}function u(m,p){var g=Ps.indexOf(p);return g===Ps.length-1?l(m):"@media (min-width:".concat(typeof n[m]=="number"?n[m]:m).concat(i,") and ")+"(max-width:".concat((g!==-1&&typeof n[Ps[g+1]]=="number"?n[Ps[g+1]]:p)-s/100).concat(i,")")}function f(m){return u(m,m)}function h(m){return n[m]}return et({keys:Ps,values:n,up:l,down:c,between:u,only:f,width:h},a)}function eRe(e,t,n){var r;return et({gutters:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),et({paddingLeft:t(2),paddingRight:t(2)},o,He({},e.up("sm"),et({paddingLeft:t(3),paddingRight:t(3)},o[e.up("sm")])))},toolbar:(r={minHeight:56},He(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),He(r,e.up("sm"),{minHeight:64}),r)},n)}var tRe={black:"#000",white:"#fff"};const Tg=tRe;var nRe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const w2=nRe;var Oy={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},My={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Ny={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Py={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ay={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ry={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},sP={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Tg.white,default:w2[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},$y={text:{primary:Tg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:w2[800],default:"#303030"},action:{active:Tg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function aP(e,t,n,r){var i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=bF(e.main,i):t==="dark"&&(e.dark=vF(e.main,o)))}function rRe(e){var t=e.primary,n=t===void 0?{light:Oy[300],main:Oy[500],dark:Oy[700]}:t,r=e.secondary,i=r===void 0?{light:My.A200,main:My.A400,dark:My.A700}:r,o=e.error,s=o===void 0?{light:Ny[300],main:Ny[500],dark:Ny[700]}:o,a=e.warning,l=a===void 0?{light:Py[300],main:Py[500],dark:Py[700]}:a,c=e.info,u=c===void 0?{light:Ay[300],main:Ay[500],dark:Ay[700]}:c,f=e.success,h=f===void 0?{light:Ry[300],main:Ry[500],dark:Ry[700]}:f,m=e.type,p=m===void 0?"light":m,g=e.contrastThreshold,_=g===void 0?3:g,x=e.tonalOffset,S=x===void 0?.2:x,C=$n(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function j(P){var A=Q3e(P,$y.text.primary)>=_?$y.text.primary:sP.text.primary;return A}var k=function(A){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(A=et({},A),!A.main&&A[$]&&(A.main=A[$]),!A.main)throw new Error(Cg(4,$));if(typeof A.main!="string")throw new Error(Cg(5,JSON.stringify(A.main)));return aP(A,"light",L,S),aP(A,"dark",U,S),A.contrastText||(A.contrastText=j(A.main)),A},T={dark:$y,light:sP},y=nu(et({common:Tg,type:p,primary:k(n),secondary:k(i,"A400","A200","A700"),error:k(s),warning:k(l),info:k(u),success:k(h),grey:w2,contrastThreshold:_,getContrastText:j,augmentColor:k,tonalOffset:S},T[p]),C);return y}function yF(e){return Math.round(e*1e5)/1e5}function iRe(e){return yF(e)}var lP={textTransform:"uppercase"},cP='"Roboto", "Helvetica", "Arial", sans-serif';function oRe(e,t){var n=typeof t=="function"?t(e):t,r=n.fontFamily,i=r===void 0?cP:r,o=n.fontSize,s=o===void 0?14:o,a=n.fontWeightLight,l=a===void 0?300:a,c=n.fontWeightRegular,u=c===void 0?400:c,f=n.fontWeightMedium,h=f===void 0?500:f,m=n.fontWeightBold,p=m===void 0?700:m,g=n.htmlFontSize,_=g===void 0?16:g,x=n.allVariants,S=n.pxToRem,C=$n(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),j=s/14,k=S||function(P){return"".concat(P/_*j,"rem")},T=function(A,$,L,U,F){return et({fontFamily:i,fontWeight:A,fontSize:k($),lineHeight:L},i===cP?{letterSpacing:"".concat(yF(U/$),"em")}:{},F,x)},y={h1:T(l,96,1.167,-1.5),h2:T(l,60,1.2,-.5),h3:T(u,48,1.167,0),h4:T(u,34,1.235,.25),h5:T(u,24,1.334,0),h6:T(h,20,1.6,.15),subtitle1:T(u,16,1.75,.15),subtitle2:T(h,14,1.57,.1),body1:T(u,16,1.5,.15),body2:T(u,14,1.43,.15),button:T(h,14,1.75,.4,lP),caption:T(u,12,1.66,.4),overline:T(u,12,2.66,1,lP)};return nu(et({htmlFontSize:_,pxToRem:k,round:iRe,fontFamily:i,fontSize:s,fontWeightLight:l,fontWeightRegular:u,fontWeightMedium:h,fontWeightBold:p},y),C,{clone:!1})}var sRe=.2,aRe=.14,lRe=.12;function kn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(sRe,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(aRe,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(lRe,")")].join(",")}var cRe=["none",kn(0,2,1,-1,0,1,1,0,0,1,3,0),kn(0,3,1,-2,0,2,2,0,0,1,5,0),kn(0,3,3,-2,0,3,4,0,0,1,8,0),kn(0,2,4,-1,0,4,5,0,0,1,10,0),kn(0,3,5,-1,0,5,8,0,0,1,14,0),kn(0,3,5,-1,0,6,10,0,0,1,18,0),kn(0,4,5,-2,0,7,10,1,0,2,16,1),kn(0,5,5,-3,0,8,10,1,0,3,14,2),kn(0,5,6,-3,0,9,12,1,0,3,16,2),kn(0,6,6,-3,0,10,14,1,0,4,18,3),kn(0,6,7,-4,0,11,15,1,0,4,20,3),kn(0,7,8,-4,0,12,17,2,0,5,22,4),kn(0,7,8,-4,0,13,19,2,0,5,24,4),kn(0,7,9,-4,0,14,21,2,0,5,26,4),kn(0,8,9,-5,0,15,22,2,0,6,28,5),kn(0,8,10,-5,0,16,24,2,0,6,30,5),kn(0,8,11,-5,0,17,26,2,0,6,32,5),kn(0,9,11,-5,0,18,28,2,0,7,34,6),kn(0,9,12,-6,0,19,29,2,0,7,36,6),kn(0,10,13,-6,0,20,31,3,0,8,38,7),kn(0,10,13,-6,0,21,33,3,0,8,40,7),kn(0,10,14,-6,0,22,35,3,0,8,42,7),kn(0,11,14,-7,0,23,36,3,0,9,44,8),kn(0,11,15,-7,0,24,38,3,0,9,46,8)];const uRe=cRe;var dRe={borderRadius:4};const fRe=dRe;function hRe(e){var t=e.spacing||8;return typeof t=="number"?function(n){return t*n}:Array.isArray(t)?function(n){return t[n]}:typeof t=="function"?t:function(){}}function pRe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(e.mui)return e;var t=hRe({spacing:e}),n=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.length===0?t(1):o.length===1?t(o[0]):o.map(function(a){if(typeof a=="string")return a;var l=t(a);return typeof l=="number"?"".concat(l,"px"):l}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var uP={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wl={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function dP(e){return"".concat(Math.round(e),"ms")}const mRe={easing:uP,duration:wl,create:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.duration,i=r===void 0?wl.standard:r,o=n.easing,s=o===void 0?uP.easeInOut:o,a=n.delay,l=a===void 0?0:a;return $n(n,["duration","easing","delay"]),(Array.isArray(t)?t:[t]).map(function(c){return"".concat(c," ").concat(typeof i=="string"?i:dP(i)," ").concat(s," ").concat(typeof l=="string"?l:dP(l))}).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var n=t/36;return Math.round((4+15*Math.pow(n,.25)+n/5)*10)}};var gRe={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const vRe=gRe;function bRe(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.breakpoints,n=t===void 0?{}:t,r=e.mixins,i=r===void 0?{}:r,o=e.palette,s=o===void 0?{}:o,a=e.spacing,l=e.typography,c=l===void 0?{}:l,u=$n(e,["breakpoints","mixins","palette","spacing","typography"]),f=rRe(s),h=X3e(n),m=pRe(a),p=nu({breakpoints:h,direction:"ltr",mixins:eRe(h,m,i),overrides:{},palette:f,props:{},shadows:uRe,typography:oRe(f,c),spacing:m,shape:fRe,transitions:mRe,zIndex:vRe},u),g=arguments.length,_=new Array(g>1?g-1:0),x=1;x<g;x++)_[x-1]=arguments[x];return p=_.reduce(function(S,C){return nu(S,C)},p),p}var yRe=typeof Symbol=="function"&&Symbol.for;const _Re=yRe?Symbol.for("mui.nested"):"__THEME_NESTED__";var xRe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function wRe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.disableGlobal,n=t===void 0?!1:t,r=e.productionPrefix,i=r===void 0?"jss":r,o=e.seed,s=o===void 0?"":o,a=s===""?"":"".concat(s,"-"),l=0,c=function(){return l+=1,l};return function(u,f){var h=f.options.name;if(h&&h.indexOf("Mui")===0&&!f.options.link&&!n){if(xRe.indexOf(u.key)!==-1)return"Mui-".concat(u.key);var m="".concat(a).concat(h,"-").concat(u.key);return!f.options.theme[_Re]||s!==""?m:"".concat(m,"-").concat(c())}return"".concat(a).concat(i).concat(c())}}function SRe(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i=t.props[n],o;for(o in i)r[o]===void 0&&(r[o]=i[o]);return r}var fP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh=(typeof window>"u"?"undefined":fP(window))==="object"&&(typeof document>"u"?"undefined":fP(document))==="object"&&document.nodeType===9,CRe={}.constructor;function n1(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(n1);if(e.constructor!==CRe)return e;var t={};for(var n in e)t[n]=n1(e[n]);return t}function S2(e,t,n){e===void 0&&(e="unnamed");var r=n.jss,i=n1(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var hP=function(t,n){for(var r="",i=0;i<t.length&&t[i]!=="!important";i++)r&&(r+=n),r+=t[i];return r},cl=function(t){if(!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&t[r]!=="!important";r++)n&&(n+=", "),n+=hP(t[r]," ");else n=hP(t,", ");return t[t.length-1]==="!important"&&(n+=" !important"),n};function Ou(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Nd(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function Uf(e,t,n){n===void 0&&(n={});var r="";if(!t)return r;var i=n,o=i.indent,s=o===void 0?0:o,a=t.fallbacks;n.format===!1&&(s=-1/0);var l=Ou(n),c=l.linebreak,u=l.space;if(e&&s++,a)if(Array.isArray(a))for(var f=0;f<a.length;f++){var h=a[f];for(var m in h){var p=h[m];p!=null&&(r&&(r+=c),r+=Nd(m+":"+u+cl(p)+";",s))}}else for(var g in a){var _=a[g];_!=null&&(r&&(r+=c),r+=Nd(g+":"+u+cl(_)+";",s))}for(var x in t){var S=t[x];S!=null&&x!=="fallbacks"&&(r&&(r+=c),r+=Nd(x+":"+u+cl(S)+";",s))}return!r&&!n.allowEmpty||!e?r:(s--,r&&(r=""+c+r+c),Nd(""+e+u+"{"+r,s)+Nd("}",s))}var TRe=/([[\].#*$><+~=|^:(),"'`\s])/g,pP=typeof CSS<"u"&&CSS.escape,C2=function(e){return pP?pP(e):e.replace(TRe,"\\$1")},_F=function(){function e(n,r,i){this.type="style",this.isProcessed=!1;var o=i.sheet,s=i.Renderer;this.key=n,this.options=i,this.style=r,o?this.renderer=o.renderer:s&&(this.renderer=new s)}var t=e.prototype;return t.prop=function(r,i,o){if(i===void 0)return this.style[r];var s=o?o.force:!1;if(!s&&this.style[r]===i)return this;var a=i;(!o||o.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,r,this));var l=a==null||a===!1,c=r in this.style;if(l&&!c&&!s)return this;var u=l&&c;if(u?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var f=this.options.sheet;return f&&f.attached,this},e}(),r1=function(e){$1(t,e);function t(r,i,o){var s;s=e.call(this,r,i,o)||this;var a=o.selector,l=o.scoped,c=o.sheet,u=o.generateId;return a?s.selectorText=a:l!==!1&&(s.id=u(an(an(s)),c),s.selectorText="."+C2(s.id)),s}var n=t.prototype;return n.applyTo=function(i){var o=this.renderer;if(o){var s=this.toJSON();for(var a in s)o.setProperty(i,a,s[a])}return this},n.toJSON=function(){var i={};for(var o in this.style){var s=this.style[o];typeof s!="object"?i[o]=s:Array.isArray(s)&&(i[o]=cl(s))}return i},n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?et({},i,{allowEmpty:!0}):i;return Uf(this.selectorText,this.style,a)},Qf(t,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,s=this.renderable;if(!(!s||!o)){var a=o.setSelector(s,i);a||o.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),t}(_F),jRe={onCreateRule:function(t,n,r){return t[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new r1(t,n,r)}},Iy={indent:1,children:!0},ERe=/@([\w-]+)/,kRe=function(){function e(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var o=n.match(ERe);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new M0(et({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.indexOf=function(r){return this.rules.indexOf(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s?(this.options.jss.plugins.onProcessRule(s),s):null},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.toString=function(r){r===void 0&&(r=Iy);var i=Ou(r),o=i.linebreak;if(r.indent==null&&(r.indent=Iy.indent),r.children==null&&(r.children=Iy.children),r.children===!1)return this.query+" {}";var s=this.rules.toString(r);return s?this.query+" {"+o+s+o+"}":""},e}(),ORe=/@container|@media|@supports\s+/,MRe={onCreateRule:function(t,n,r){return ORe.test(t)?new kRe(t,n,r):null}},Dy={indent:1,children:!0},NRe=/@keyframes\s+([\w-]+)/,i1=function(){function e(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=n.match(NRe);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,a=i.sheet,l=i.generateId;this.id=s===!1?this.name:C2(l(this,a)),this.rules=new M0(et({},i,{parent:this}));for(var c in r)this.rules.add(c,r[c],et({},i,{parent:this}));this.rules.process()}var t=e.prototype;return t.toString=function(r){r===void 0&&(r=Dy);var i=Ou(r),o=i.linebreak;if(r.indent==null&&(r.indent=Dy.indent),r.children==null&&(r.children=Dy.children),r.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(r);return s&&(s=""+o+s+o),this.at+" "+this.id+" {"+s+"}"},e}(),PRe=/@keyframes\s+/,ARe=/\$([\w-]+)/g,o1=function(t,n){return typeof t=="string"?t.replace(ARe,function(r,i){return i in n?n[i]:r}):t},mP=function(t,n,r){var i=t[n],o=o1(i,r);o!==i&&(t[n]=o)},RRe={onCreateRule:function(t,n,r){return typeof t=="string"&&PRe.test(t)?new i1(t,n,r):null},onProcessStyle:function(t,n,r){return n.type!=="style"||!r||("animation-name"in t&&mP(t,"animation-name",r.keyframes),"animation"in t&&mP(t,"animation",r.keyframes)),t},onChangeValue:function(t,n,r){var i=r.options.sheet;if(!i)return t;switch(n){case"animation":return o1(t,i.keyframes);case"animation-name":return o1(t,i.keyframes);default:return t}}},$Re=function(e){$1(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?et({},i,{allowEmpty:!0}):i;return Uf(this.key,this.style,a)},t}(_F),IRe={onCreateRule:function(t,n,r){return r.parent&&r.parent.type==="keyframes"?new $Re(t,n,r):null}},DRe=function(){function e(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){var i=Ou(r),o=i.linebreak;if(Array.isArray(this.style)){for(var s="",a=0;a<this.style.length;a++)s+=Uf(this.at,this.style[a]),this.style[a+1]&&(s+=o);return s}return Uf(this.at,this.style,r)},e}(),LRe=/@font-face/,FRe={onCreateRule:function(t,n,r){return LRe.test(t)?new DRe(t,n,r):null}},zRe=function(){function e(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){return Uf(this.key,this.style,r)},e}(),BRe={onCreateRule:function(t,n,r){return t==="@viewport"||t==="@-ms-viewport"?new zRe(t,n,r):null}},WRe=function(){function e(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var t=e.prototype;return t.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},e}(),HRe={"@charset":!0,"@import":!0,"@namespace":!0},qRe={onCreateRule:function(t,n,r){return t in HRe?new WRe(t,n,r):null}},gP=[jRe,MRe,RRe,IRe,FRe,BRe,qRe],VRe={process:!0},vP={force:!0,process:!0},M0=function(){function e(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var t=e.prototype;return t.add=function(r,i,o){var s=this.options,a=s.parent,l=s.sheet,c=s.jss,u=s.Renderer,f=s.generateId,h=s.scoped,m=et({classes:this.classes,parent:a,sheet:l,jss:c,Renderer:u,generateId:f,scoped:h,name:r,keyframes:this.keyframes,selector:void 0},o),p=r;r in this.raw&&(p=r+"-d"+this.counter++),this.raw[p]=i,p in this.classes&&(m.selector="."+C2(this.classes[p]));var g=S2(p,i,m);if(!g)return null;this.register(g);var _=m.index===void 0?this.index.length:m.index;return this.index.splice(_,0,g),g},t.replace=function(r,i,o){var s=this.get(r),a=this.index.indexOf(s);s&&this.remove(s);var l=o;return a!==-1&&(l=et({},o,{index:a})),this.add(r,i,l)},t.get=function(r){return this.map[r]},t.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},t.indexOf=function(r){return this.index.indexOf(r)},t.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},t.register=function(r){this.map[r.key]=r,r instanceof r1?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof i1&&this.keyframes&&(this.keyframes[r.name]=r.id)},t.unregister=function(r){delete this.map[r.key],r instanceof r1?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof i1&&delete this.keyframes[r.name]},t.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,o);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,o)},t.updateOne=function(r,i,o){o===void 0&&(o=VRe);var s=this.options,a=s.jss.plugins,l=s.sheet;if(r.rules instanceof e){r.rules.update(i,o);return}var c=r.style;if(a.onUpdate(i,r,l,o),o.process&&c&&c!==r.style){a.onProcessStyle(r.style,r,l);for(var u in r.style){var f=r.style[u],h=c[u];f!==h&&r.prop(u,f,vP)}for(var m in c){var p=r.style[m],g=c[m];p==null&&p!==g&&r.prop(m,null,vP)}}},t.toString=function(r){for(var i="",o=this.options.sheet,s=o?o.options.link:!1,a=Ou(r),l=a.linebreak,c=0;c<this.index.length;c++){var u=this.index[c],f=u.toString(r);!f&&!s||(i&&(i+=l),i+=f)}return i},e}(),xF=function(){function e(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=et({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new M0(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(r,i,o){var s=this.queue;this.attached&&!s&&(this.queue=[]);var a=this.rules.add(r,i,o);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(s?s.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},t.replaceRule=function(r,i,o){var s=this.rules.get(r);if(!s)return this.addRule(r,i,o);var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?s.renderable&&this.renderer.replaceRule(s.renderable,a):this.renderer.deleteRule(s)),a):(this.deployed=!1,a)},t.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},t.addRules=function(r,i){var o=[];for(var s in r){var a=this.addRule(s,r[s],i);a&&o.push(a)}return o},t.getRule=function(r){return this.rules.get(r)},t.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},t.indexOf=function(r){return this.rules.indexOf(r)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},t.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},t.toString=function(r){return this.rules.toString(r)},e}(),URe=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(r,i,o){for(var s=0;s<this.registry.onCreateRule.length;s++){var a=this.registry.onCreateRule[s](r,i,o);if(a)return a}return null},t.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},t.onProcessStyle=function(r,i,o){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,o)},t.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},t.onUpdate=function(r,i,o,s){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,i,o,s)},t.onChangeValue=function(r,i,o){for(var s=r,a=0;a<this.registry.onChangeValue.length;a++)s=this.registry.onChangeValue[a](s,i,o);return s},t.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,a){for(var l in a)l in s&&s[l].push(a[l]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),GRe=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var s=0;s<i.length;s++)if(i[s].options.index>o){i.splice(s,0,r);return}}},t.reset=function(){this.registry=[]},t.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},t.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,s=k3(i,["attached"]),a=Ou(s),l=a.linebreak,c="",u=0;u<this.registry.length;u++){var f=this.registry[u];o!=null&&f.attached!==o||(c&&(c+=l),c+=f.toString(s))}return c},Qf(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),lf=new GRe,s1=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),a1="2f1acc6c3a606b082e5eef5e54414ffb";s1[a1]==null&&(s1[a1]=0);var bP=s1[a1]++,yP=function(t){t===void 0&&(t={});var n=0,r=function(o,s){n+=1;var a="",l="";return s&&(s.options.classNamePrefix&&(l=s.options.classNamePrefix),s.options.jss.id!=null&&(a=String(s.options.jss.id))),t.minify?""+(l||"c")+bP+a+n:l+o.key+"-"+bP+(a?"-"+a:"")+"-"+n};return r},wF=function(t){var n;return function(){return n||(n=t()),n}},KRe=function(t,n){try{return t.attributeStyleMap?t.attributeStyleMap.get(n):t.style.getPropertyValue(n)}catch{return""}},YRe=function(t,n,r){try{var i=r;if(Array.isArray(r)&&(i=cl(r)),t.attributeStyleMap)t.attributeStyleMap.set(n,i);else{var o=i?i.indexOf("!important"):-1,s=o>-1?i.substr(0,o-1):i;t.style.setProperty(n,s,o>-1?"important":"")}}catch{return!1}return!0},ZRe=function(t,n){try{t.attributeStyleMap?t.attributeStyleMap.delete(n):t.style.removeProperty(n)}catch{}},QRe=function(t,n){return t.selectorText=n,t.selectorText===n},SF=wF(function(){return document.querySelector("head")});function JRe(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}function XRe(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}function e$e(e){for(var t=SF(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===e)return r}return null}function t$e(e){var t=lf.registry;if(t.length>0){var n=JRe(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=XRe(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&typeof r=="string"){var i=e$e(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function n$e(e,t){var n=t.insertionPoint,r=t$e(t);if(r!==!1&&r.parent){r.parent.insertBefore(e,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling);return}SF().appendChild(e)}var r$e=wF(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),_P=function(t,n,r){try{"insertRule"in t?t.insertRule(n,r):"appendRule"in t&&t.appendRule(n)}catch{return!1}return t.cssRules[r]},xP=function(t,n){var r=t.cssRules.length;return n===void 0||n>r?r:n},i$e=function(){var t=document.createElement("style");return t.textContent=`
`,t},o$e=function(){function e(n){this.getPropertyValue=KRe,this.setProperty=YRe,this.removeProperty=ZRe,this.setSelector=QRe,this.hasInsertedRules=!1,this.cssRules=[],n&&lf.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,s=r.element;this.element=s||i$e(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var a=r$e();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!(this.element.parentNode||!this.sheet)){n$e(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},t.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},t.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},t.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var s=r,a=o;if(r.type==="conditional"||r.type==="keyframes"){var l=xP(o,i);if(a=_P(o,s.toString({children:!1}),l),a===!1)return!1;this.refCssRule(r,l,a)}return this.insertRules(s.rules,a),a}var c=r.toString();if(!c)return!1;var u=xP(o,i),f=_P(o,c,u);return f===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,u,f),f)},t.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof xF&&this.cssRules.splice(i,0,o)},t.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},t.indexOf=function(r){return this.cssRules.indexOf(r)},t.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},t.getRules=function(){return this.element.sheet.cssRules},e}(),s$e=0,a$e=function(){function e(n){this.id=s$e++,this.version="10.10.0",this.plugins=new URe,this.options={id:{minify:!1},createGenerateId:yP,Renderer:Sh?o$e:null,plugins:[]},this.generateId=yP({minify:!1});for(var r=0;r<gP.length;r++)this.plugins.use(gP[r],{queue:"internal"});this.setup(n)}var t=e.prototype;return t.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=et({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},t.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,s=o.index;typeof s!="number"&&(s=lf.index===0?0:lf.index+1);var a=new xF(r,et({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(a),a},t.removeStyleSheet=function(r){return r.detach(),lf.remove(r),this},t.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var s=et({},o,{name:r,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var a=S2(r,i,s);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.forEach(function(a){r.plugins.use(a)}),this},e}(),CF=function(t){return new a$e(t)},T2=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function TF(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if(i==="function")t||(t={}),t[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=TF(r);o&&(t||(t={}),t[n]=o)}}return t}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */CF();var jF=Date.now(),Ly="fnValues"+jF,Fy="fnStyle"+ ++jF,l$e=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var o=S2(n,{},i);return o[Fy]=r,o},onProcessStyle:function(n,r){if(Ly in r||Fy in r)return n;var i={};for(var o in n){var s=n[o];typeof s=="function"&&(delete n[o],i[o]=s)}return r[Ly]=i,n},onUpdate:function(n,r,i,o){var s=r,a=s[Fy];a&&(s.style=a(n)||{});var l=s[Ly];if(l)for(var c in l)s.prop(c,l[c](n),o)}}},ta="@global",l1="@global ",c$e=function(){function e(n,r,i){this.type="global",this.at=ta,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new M0(et({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.indexOf=function(r){return this.rules.indexOf(r)},t.toString=function(r){return this.rules.toString(r)},e}(),u$e=function(){function e(n,r,i){this.type="global",this.at=ta,this.isProcessed=!1,this.key=n,this.options=i;var o=n.substr(l1.length);this.rule=i.jss.createRule(o,r,et({},i,{parent:this}))}var t=e.prototype;return t.toString=function(r){return this.rule?this.rule.toString(r):""},e}(),d$e=/\s*,\s*/g;function EF(e,t){for(var n=e.split(d$e),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function f$e(e,t){var n=e.options,r=e.style,i=r?r[ta]:null;if(i){for(var o in i)t.addRule(o,i[o],et({},n,{selector:EF(o,e.selector)}));delete r[ta]}}function h$e(e,t){var n=e.options,r=e.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,ta.length)!==ta)){var o=EF(i.substr(ta.length),e.selector);t.addRule(o,r[i],et({},n,{selector:o})),delete r[i]}}function p$e(){function e(n,r,i){if(!n)return null;if(n===ta)return new c$e(n,r,i);if(n[0]==="@"&&n.substr(0,l1.length)===l1)return new u$e(n,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function t(n,r){n.type!=="style"||!r||(f$e(n,r),h$e(n,r))}return{onCreateRule:e,onProcessRule:t}}var wP=/\s*,\s*/g,m$e=/&/g,g$e=/\$([\w-]+)/g;function v$e(){function e(i,o){return function(s,a){var l=i.getRule(a)||o&&o.getRule(a);return l?l.selector:a}}function t(i,o){for(var s=o.split(wP),a=i.split(wP),l="",c=0;c<s.length;c++)for(var u=s[c],f=0;f<a.length;f++){var h=a[f];l&&(l+=", "),l+=h.indexOf("&")!==-1?h.replace(m$e,u):u+" "+h}return l}function n(i,o,s){if(s)return et({},s,{index:s.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var l=et({},i.options,{nestingLevel:a,index:o.indexOf(i)+1});return delete l.name,l}function r(i,o,s){if(o.type!=="style")return i;var a=o,l=a.options.parent,c,u;for(var f in i){var h=f.indexOf("&")!==-1,m=f[0]==="@";if(!(!h&&!m)){if(c=n(a,l,c),h){var p=t(f,a.selector);u||(u=e(l,s)),p=p.replace(g$e,u);var g=a.key+"-"+f;"replaceRule"in l?l.replaceRule(g,i[f],et({},c,{selector:p})):l.addRule(g,i[f],et({},c,{selector:p}))}else m&&l.addRule(f,{},c).addRule(a.key,i[f],{selector:a.selector});delete i[f]}}return i}return{onProcessStyle:r}}var b$e=/[A-Z]/g,y$e=/^ms-/,zy={};function _$e(e){return"-"+e.toLowerCase()}function kF(e){if(zy.hasOwnProperty(e))return zy[e];var t=e.replace(b$e,_$e);return zy[e]=y$e.test(t)?"-"+t:t}function jg(e){var t={};for(var n in e){var r=n.indexOf("--")===0?n:kF(n);t[r]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(jg):t.fallbacks=jg(e.fallbacks)),t}function x$e(){function e(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=jg(n[r]);return n}return jg(n)}function t(n,r,i){if(r.indexOf("--")===0)return n;var o=kF(r);return r===o?n:(i.prop(o,n),null)}return{onProcessStyle:e,onChangeValue:t}}var Fe=T2&&CSS?CSS.px:"px",Mp=T2&&CSS?CSS.ms:"ms",sc=T2&&CSS?CSS.percent:"%",w$e={"animation-delay":Mp,"animation-duration":Mp,"background-position":Fe,"background-position-x":Fe,"background-position-y":Fe,"background-size":Fe,border:Fe,"border-bottom":Fe,"border-bottom-left-radius":Fe,"border-bottom-right-radius":Fe,"border-bottom-width":Fe,"border-left":Fe,"border-left-width":Fe,"border-radius":Fe,"border-right":Fe,"border-right-width":Fe,"border-top":Fe,"border-top-left-radius":Fe,"border-top-right-radius":Fe,"border-top-width":Fe,"border-width":Fe,"border-block":Fe,"border-block-end":Fe,"border-block-end-width":Fe,"border-block-start":Fe,"border-block-start-width":Fe,"border-block-width":Fe,"border-inline":Fe,"border-inline-end":Fe,"border-inline-end-width":Fe,"border-inline-start":Fe,"border-inline-start-width":Fe,"border-inline-width":Fe,"border-start-start-radius":Fe,"border-start-end-radius":Fe,"border-end-start-radius":Fe,"border-end-end-radius":Fe,margin:Fe,"margin-bottom":Fe,"margin-left":Fe,"margin-right":Fe,"margin-top":Fe,"margin-block":Fe,"margin-block-end":Fe,"margin-block-start":Fe,"margin-inline":Fe,"margin-inline-end":Fe,"margin-inline-start":Fe,padding:Fe,"padding-bottom":Fe,"padding-left":Fe,"padding-right":Fe,"padding-top":Fe,"padding-block":Fe,"padding-block-end":Fe,"padding-block-start":Fe,"padding-inline":Fe,"padding-inline-end":Fe,"padding-inline-start":Fe,"mask-position-x":Fe,"mask-position-y":Fe,"mask-size":Fe,height:Fe,width:Fe,"min-height":Fe,"max-height":Fe,"min-width":Fe,"max-width":Fe,bottom:Fe,left:Fe,top:Fe,right:Fe,inset:Fe,"inset-block":Fe,"inset-block-end":Fe,"inset-block-start":Fe,"inset-inline":Fe,"inset-inline-end":Fe,"inset-inline-start":Fe,"box-shadow":Fe,"text-shadow":Fe,"column-gap":Fe,"column-rule":Fe,"column-rule-width":Fe,"column-width":Fe,"font-size":Fe,"font-size-delta":Fe,"letter-spacing":Fe,"text-decoration-thickness":Fe,"text-indent":Fe,"text-stroke":Fe,"text-stroke-width":Fe,"word-spacing":Fe,motion:Fe,"motion-offset":Fe,outline:Fe,"outline-offset":Fe,"outline-width":Fe,perspective:Fe,"perspective-origin-x":sc,"perspective-origin-y":sc,"transform-origin":sc,"transform-origin-x":sc,"transform-origin-y":sc,"transform-origin-z":sc,"transition-delay":Mp,"transition-duration":Mp,"vertical-align":Fe,"flex-basis":Fe,"shape-margin":Fe,size:Fe,gap:Fe,grid:Fe,"grid-gap":Fe,"row-gap":Fe,"grid-row-gap":Fe,"grid-column-gap":Fe,"grid-template-rows":Fe,"grid-template-columns":Fe,"grid-auto-rows":Fe,"grid-auto-columns":Fe,"box-shadow-x":Fe,"box-shadow-y":Fe,"box-shadow-blur":Fe,"box-shadow-spread":Fe,"font-line-height":Fe,"text-shadow-x":Fe,"text-shadow-y":Fe,"text-shadow-blur":Fe};function OF(e){var t=/(-[a-z])/g,n=function(s){return s[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var S$e=OF(w$e);function cf(e,t,n){if(t==null)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=cf(e,t[r],n);else if(typeof t=="object")if(e==="fallbacks")for(var i in t)t[i]=cf(i,t[i],n);else for(var o in t)t[o]=cf(e+"-"+o,t[o],n);else if(typeof t=="number"&&isNaN(t)===!1){var s=n[e]||S$e[e];return s&&!(t===0&&s===Fe)?typeof s=="function"?s(t).toString():""+t+s:t.toString()}return t}function C$e(e){e===void 0&&(e={});var t=OF(e);function n(i,o){if(o.type!=="style")return i;for(var s in i)i[s]=cf(s,i[s],t);return i}function r(i,o){return cf(o,i,t)}return{onProcessStyle:n,onChangeValue:r}}var Wd="",c1="",MF="",NF="",T$e=Sh&&"ontouchstart"in document.documentElement;if(Sh){var By={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},j$e=document.createElement("p"),Wy=j$e.style,E$e="Transform";for(var Hy in By)if(Hy+E$e in Wy){Wd=Hy,c1=By[Hy];break}Wd==="Webkit"&&"msHyphens"in Wy&&(Wd="ms",c1=By.ms,NF="edge"),Wd==="Webkit"&&"-apple-trailing-word"in Wy&&(MF="apple")}var Vt={js:Wd,css:c1,vendor:MF,browser:NF,isTouch:T$e};function k$e(e){return e[1]==="-"||Vt.js==="ms"?e:"@"+Vt.css+"keyframes"+e.substr(10)}var O$e={noPrefill:["appearance"],supportedProperty:function(t){return t!=="appearance"?!1:Vt.js==="ms"?"-webkit-"+t:Vt.css+t}},M$e={noPrefill:["color-adjust"],supportedProperty:function(t){return t!=="color-adjust"?!1:Vt.js==="Webkit"?Vt.css+"print-"+t:t}},N$e=/[-\s]+(.)?/g;function P$e(e,t){return t?t.toUpperCase():""}function j2(e){return e.replace(N$e,P$e)}function oa(e){return j2("-"+e)}var A$e={noPrefill:["mask"],supportedProperty:function(t,n){if(!/^mask/.test(t))return!1;if(Vt.js==="Webkit"){var r="mask-image";if(j2(r)in n)return t;if(Vt.js+oa(r)in n)return Vt.css+t}return t}},R$e={noPrefill:["text-orientation"],supportedProperty:function(t){return t!=="text-orientation"?!1:Vt.vendor==="apple"&&!Vt.isTouch?Vt.css+t:t}},$$e={noPrefill:["transform"],supportedProperty:function(t,n,r){return t!=="transform"?!1:r.transform?t:Vt.css+t}},I$e={noPrefill:["transition"],supportedProperty:function(t,n,r){return t!=="transition"?!1:r.transition?t:Vt.css+t}},D$e={noPrefill:["writing-mode"],supportedProperty:function(t){return t!=="writing-mode"?!1:Vt.js==="Webkit"||Vt.js==="ms"&&Vt.browser!=="edge"?Vt.css+t:t}},L$e={noPrefill:["user-select"],supportedProperty:function(t){return t!=="user-select"?!1:Vt.js==="Moz"||Vt.js==="ms"||Vt.vendor==="apple"?Vt.css+t:t}},F$e={supportedProperty:function(t,n){if(!/^break-/.test(t))return!1;if(Vt.js==="Webkit"){var r="WebkitColumn"+oa(t);return r in n?Vt.css+"column-"+t:!1}if(Vt.js==="Moz"){var i="page"+oa(t);return i in n?"page-"+t:!1}return!1}},z$e={supportedProperty:function(t,n){if(!/^(border|margin|padding)-inline/.test(t))return!1;if(Vt.js==="Moz")return t;var r=t.replace("-inline","");return Vt.js+oa(r)in n?Vt.css+r:!1}},B$e={supportedProperty:function(t,n){return j2(t)in n?t:!1}},W$e={supportedProperty:function(t,n){var r=oa(t);return t[0]==="-"||t[0]==="-"&&t[1]==="-"?t:Vt.js+r in n?Vt.css+t:Vt.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+t:!1}},H$e={supportedProperty:function(t){return t.substring(0,11)!=="scroll-snap"?!1:Vt.js==="ms"?""+Vt.css+t:t}},q$e={supportedProperty:function(t){return t!=="overscroll-behavior"?!1:Vt.js==="ms"?Vt.css+"scroll-chaining":t}},V$e={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},U$e={supportedProperty:function(t,n){var r=V$e[t];return r&&Vt.js+oa(r)in n?Vt.css+r:!1}},PF={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},G$e=Object.keys(PF),K$e=function(t){return Vt.css+t},Y$e={supportedProperty:function(t,n,r){var i=r.multiple;if(G$e.indexOf(t)>-1){var o=PF[t];if(!Array.isArray(o))return Vt.js+oa(o)in n?Vt.css+o:!1;if(!i)return!1;for(var s=0;s<o.length;s++)if(!(Vt.js+oa(o[0])in n))return!1;return o.map(K$e)}return!1}},AF=[O$e,M$e,A$e,R$e,$$e,I$e,D$e,L$e,F$e,z$e,B$e,W$e,H$e,q$e,U$e,Y$e],SP=AF.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),Z$e=AF.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,At(t.noPrefill)),e},[]),Hd,Ia={};if(Sh){Hd=document.createElement("p");var qy=window.getComputedStyle(document.documentElement,"");for(var Vy in qy)isNaN(Vy)||(Ia[qy[Vy]]=qy[Vy]);Z$e.forEach(function(e){return delete Ia[e]})}function u1(e,t){if(t===void 0&&(t={}),!Hd)return e;if(Ia[e]!=null)return Ia[e];(e==="transition"||e==="transform")&&(t[e]=e in Hd.style);for(var n=0;n<SP.length&&(Ia[e]=SP[n](e,Hd.style,t),!Ia[e]);n++);try{Hd.style[e]=""}catch{return!1}return Ia[e]}var ac={},Q$e={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},J$e=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,$s;function X$e(e,t,n){if(t==="var")return"var";if(t==="all")return"all";if(n==="all")return", all";var r=t?u1(t):", "+u1(n);return r||t||n}Sh&&($s=document.createElement("p"));function CP(e,t){var n=t;if(!$s||e==="content")return t;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=e+n;if(ac[r]!=null)return ac[r];try{$s.style[e]=n}catch{return ac[r]=!1,!1}if(Q$e[e])n=n.replace(J$e,X$e);else if($s.style[e]===""&&(n=Vt.css+n,n==="-ms-flex"&&($s.style[e]="-ms-flexbox"),$s.style[e]=n,$s.style[e]===""))return ac[r]=!1,!1;return $s.style[e]="",ac[r]=n,ac[r]}function eIe(){function e(i){if(i.type==="keyframes"){var o=i;o.at=k$e(o.at)}}function t(i){for(var o in i){var s=i[o];if(o==="fallbacks"&&Array.isArray(s)){i[o]=s.map(t);continue}var a=!1,l=u1(o);l&&l!==o&&(a=!0);var c=!1,u=CP(l,cl(s));u&&u!==s&&(c=!0),(a||c)&&(a&&delete i[o],i[l||o]=u||s)}return i}function n(i,o){return o.type!=="style"?i:t(i)}function r(i,o){return CP(o,cl(i))||i}return{onProcessRule:e,onProcessStyle:n,onChangeValue:r}}function tIe(){var e=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},o=Object.keys(n).sort(e),s=0;s<o.length;s++)i[o[s]]=n[o[s]];return i}}}function nIe(){return{plugins:[l$e(),p$e(),v$e(),x$e(),C$e(),typeof window>"u"?null:eIe(),tIe()]}}function RF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.baseClasses,n=e.newClasses;if(e.Component,!n)return t;var r=et({},t);return Object.keys(n).forEach(function(i){n[i]&&(r[i]="".concat(t[i]," ").concat(n[i]))}),r}var rIe={set:function(t,n,r,i){var o=t.get(n);o||(o=new Map,t.set(n,o)),o.set(r,i)},get:function(t,n,r){var i=t.get(n);return i?i.get(r):void 0},delete:function(t,n,r){var i=t.get(n);i.delete(r)}};const jc=rIe;var iIe=Le.createContext(null);const oIe=iIe;function E2(){var e=Le.useContext(oIe);return e}var sIe=CF(nIe()),aIe=wRe(),lIe=new Map,cIe={disableGeneration:!1,generateClassName:aIe,jss:sIe,sheetsCache:null,sheetsManager:lIe,sheetsRegistry:null},uIe=Le.createContext(cIe),TP=-1e9;function dIe(){return TP+=1,TP}var fIe={};const hIe=fIe;function pIe(e){var t=typeof e=="function";return{create:function(r,i){var o;try{o=t?e(r):e}catch(l){throw l}if(!i||!r.overrides||!r.overrides[i])return o;var s=r.overrides[i],a=et({},o);return Object.keys(s).forEach(function(l){a[l]=nu(a[l],s[l])}),a},options:{}}}function mIe(e,t,n){var r=e.state,i=e.stylesOptions;if(i.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var o=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,o=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,o=!0),o&&(r.cacheClasses.value=RF({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function gIe(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,o=e.stylesCreator,s=e.name;if(!i.disableGeneration){var a=jc.get(i.sheetsManager,o,r);a||(a={refs:0,staticSheet:null,dynamicStyles:null},jc.set(i.sheetsManager,o,r,a));var l=et({},o.options,i,{theme:r,flip:typeof i.flip=="boolean"?i.flip:r.direction==="rtl"});l.generateId=l.serverGenerateClassName||l.generateClassName;var c=i.sheetsRegistry;if(a.refs===0){var u;i.sheetsCache&&(u=jc.get(i.sheetsCache,o,r));var f=o.create(r,s);u||(u=i.jss.createStyleSheet(f,et({link:!1},l)),u.attach(),i.sheetsCache&&jc.set(i.sheetsCache,o,r,u)),c&&c.add(u),a.staticSheet=u,a.dynamicStyles=TF(f)}if(a.dynamicStyles){var h=i.jss.createStyleSheet(a.dynamicStyles,et({link:!0},l));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=RF({baseClasses:a.staticSheet.classes,newClasses:h.classes}),c&&c.add(h)}else n.classes=a.staticSheet.classes;a.refs+=1}}function vIe(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function bIe(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=jc.get(r.sheetsManager,i,n);o.refs-=1;var s=r.sheetsRegistry;o.refs===0&&(jc.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),s&&s.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),s&&s.remove(t.dynamicSheet))}}function yIe(e,t){var n=Le.useRef([]),r,i=Le.useMemo(function(){return{}},t);n.current!==i&&(n.current=i,r=e()),Le.useEffect(function(){return function(){r&&r()}},[i])}function $F(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.name,r=t.classNamePrefix,i=t.Component,o=t.defaultTheme,s=o===void 0?hIe:o,a=$n(t,["name","classNamePrefix","Component","defaultTheme"]),l=pIe(e),c=n||r||"makeStyles";l.options={index:dIe(),name:n,meta:c,classNamePrefix:c};var u=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=E2()||s,p=et({},Le.useContext(uIe),a),g=Le.useRef(),_=Le.useRef();yIe(function(){var S={name:n,state:{},stylesCreator:l,stylesOptions:p,theme:m};return gIe(S,h),_.current=!1,g.current=S,function(){bIe(S)}},[m,l]),Le.useEffect(function(){_.current&&vIe(g.current,h),_.current=!0});var x=mIe(g.current,h.classes,i);return x};return u}var _Ie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){var i=n.defaultTheme,o=n.withTheme,s=o===void 0?!1:o,a=n.name,l=$n(n,["defaultTheme","withTheme","name"]),c=a,u=$F(t,et({defaultTheme:i,Component:r,name:a||r.displayName,classNamePrefix:c},l)),f=Le.forwardRef(function(m,p){m.classes;var g=m.innerRef,_=$n(m,["classes","innerRef"]),x=u(et({},r.defaultProps,m)),S,C=_;return(typeof a=="string"||s)&&(S=E2()||i,a&&(C=SRe({theme:S,name:a,props:_})),s&&!C.theme&&(C.theme=S)),Le.createElement(r,et({ref:g||p,classes:x},C))});return aH(f,r),f}};function xIe(e){return e}var wIe=bRe();const k2=wIe;function SIe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $F(e,et({defaultTheme:k2},t))}function O2(){var e=E2()||k2;return e}function Mu(e,t){return _Ie(e,et({defaultTheme:k2},t))}function Uy(e){return e&&e.ownerDocument||document}function jP(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function iu(e,t){return b.useMemo(function(){return e==null&&t==null?null:function(n){jP(e,n),jP(t,n)}},[e,t])}var CIe=typeof window<"u"?b.useLayoutEffect:b.useEffect;function d1(e){var t=b.useRef(e);return CIe(function(){t.current=e}),b.useCallback(function(){return t.current.apply(void 0,arguments)},[])}function EP(e){return e.substring(2).toLowerCase()}function TIe(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}function jIe(e){var t=e.children,n=e.disableReactTree,r=n===void 0?!1:n,i=e.mouseEvent,o=i===void 0?"onClick":i,s=e.onClickAway,a=e.touchEvent,l=a===void 0?"onTouchEnd":a,c=b.useRef(!1),u=b.useRef(null),f=b.useRef(!1),h=b.useRef(!1);b.useEffect(function(){return setTimeout(function(){f.current=!0},0),function(){f.current=!1}},[]);var m=b.useCallback(function(S){u.current=pu.findDOMNode(S)},[]),p=iu(t.ref,m),g=d1(function(S){var C=h.current;if(h.current=!1,!(!f.current||!u.current||TIe(S))){if(c.current){c.current=!1;return}var j;if(S.composedPath)j=S.composedPath().indexOf(u.current)>-1;else{var k=Uy(u.current);j=!k.documentElement.contains(S.target)||u.current.contains(S.target)}!j&&(r||!C)&&s(S)}}),_=function(C){return function(j){h.current=!0;var k=t.props[C];k&&k(j)}},x={ref:p};return l!==!1&&(x[l]=_(l)),b.useEffect(function(){if(l!==!1){var S=EP(l),C=Uy(u.current),j=function(){c.current=!0};return C.addEventListener(S,g),C.addEventListener("touchmove",j),function(){C.removeEventListener(S,g),C.removeEventListener("touchmove",j)}}},[g,l]),o!==!1&&(x[o]=_(o)),b.useEffect(function(){if(o!==!1){var S=EP(o),C=Uy(u.current);return C.addEventListener(S,g),function(){C.removeEventListener(S,g)}}},[g,o]),b.createElement(b.Fragment,null,b.cloneElement(t,x))}function Eg(e){if(typeof e!="string")throw new Error(Cg(7));return e.charAt(0).toUpperCase()+e.slice(1)}function kP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(r,i){return i==null?r:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];r.apply(this,a),i.apply(this,a)}},function(){})}var IF=function(t){return t.scrollTop};function ou(e,t){var n=e.timeout,r=e.style,i=r===void 0?{}:r;return{duration:i.transitionDuration||typeof n=="number"?n:n[t.mode]||0,delay:i.transitionDelay}}function f1(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var EIe={entering:{opacity:1,transform:f1(1)},entered:{opacity:1,transform:"none"}},DF=b.forwardRef(function(t,n){var r=t.children,i=t.disableStrictModeCompat,o=i===void 0?!1:i,s=t.in,a=t.onEnter,l=t.onEntered,c=t.onEntering,u=t.onExit,f=t.onExited,h=t.onExiting,m=t.style,p=t.timeout,g=p===void 0?"auto":p,_=t.TransitionComponent,x=_===void 0?sS:_,S=$n(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),C=b.useRef(),j=b.useRef(),k=O2(),T=k.unstable_strictMode&&!o,y=b.useRef(null),P=iu(r.ref,n),A=iu(T?y:void 0,P),$=function(te){return function(ne,B){if(te){var Q=T?[y.current,ne]:[ne,B],K=Gn(Q,2),de=K[0],X=K[1];X===void 0?te(de):te(de,X)}}},L=$(c),U=$(function(Y,te){IF(Y);var ne=ou({style:m,timeout:g},{mode:"enter"}),B=ne.duration,Q=ne.delay,K;g==="auto"?(K=k.transitions.getAutoHeightDuration(Y.clientHeight),j.current=K):K=B,Y.style.transition=[k.transitions.create("opacity",{duration:K,delay:Q}),k.transitions.create("transform",{duration:K*.666,delay:Q})].join(","),a&&a(Y,te)}),F=$(l),H=$(h),q=$(function(Y){var te=ou({style:m,timeout:g},{mode:"exit"}),ne=te.duration,B=te.delay,Q;g==="auto"?(Q=k.transitions.getAutoHeightDuration(Y.clientHeight),j.current=Q):Q=ne,Y.style.transition=[k.transitions.create("opacity",{duration:Q,delay:B}),k.transitions.create("transform",{duration:Q*.666,delay:B||Q*.333})].join(","),Y.style.opacity="0",Y.style.transform=f1(.75),u&&u(Y)}),re=$(f),G=function(te,ne){var B=T?te:ne;g==="auto"&&(C.current=setTimeout(B,j.current||0))};return b.useEffect(function(){return function(){clearTimeout(C.current)}},[]),b.createElement(x,et({appear:!0,in:s,nodeRef:T?y:void 0,onEnter:U,onEntered:F,onEntering:L,onExit:q,onExited:re,onExiting:H,addEndListener:G,timeout:g==="auto"?null:g},S),function(Y,te){return b.cloneElement(r,et({style:et({opacity:0,transform:f1(.75),visibility:Y==="exited"&&!s?"hidden":void 0},EIe[Y],m,r.props.style),ref:A},te))})});DF.muiSupportAuto=!0;const kIe=DF;var OIe=function(t){var n={};return t.shadows.forEach(function(r,i){n["elevation".concat(i)]={boxShadow:r}}),et({root:{backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},rounded:{borderRadius:t.shape.borderRadius},outlined:{border:"1px solid ".concat(t.palette.divider)}},n)},MIe=b.forwardRef(function(t,n){var r=t.classes,i=t.className,o=t.component,s=o===void 0?"div":o,a=t.square,l=a===void 0?!1:a,c=t.elevation,u=c===void 0?1:c,f=t.variant,h=f===void 0?"elevation":f,m=$n(t,["classes","className","component","square","elevation","variant"]);return b.createElement(s,et({className:zo(r.root,i,h==="outlined"?r.outlined:r["elevation".concat(u)],!l&&r.rounded),ref:n},m))});const NIe=Mu(OIe,{name:"MuiPaper"})(MIe);var PIe=function(t){var n=t.palette.type==="light"?.8:.98,r=J3e(t.palette.background.default,n);return{root:et({},t.typography.body2,He({color:t.palette.getContrastText(r),backgroundColor:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:t.shape.borderRadius,flexGrow:1},t.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},AIe=b.forwardRef(function(t,n){var r=t.action,i=t.classes,o=t.className,s=t.message,a=t.role,l=a===void 0?"alert":a,c=$n(t,["action","classes","className","message","role"]);return b.createElement(NIe,et({role:l,square:!0,elevation:6,className:zo(i.root,o),ref:n},c),b.createElement("div",{className:i.message},s),r?b.createElement("div",{className:i.action},r):null)});const LF=Mu(PIe,{name:"MuiSnackbarContent"})(AIe);var RIe=function(t){var n={top:8},r={bottom:8},i={justifyContent:"flex-end"},o={justifyContent:"flex-start"},s={top:24},a={bottom:24},l={right:24},c={left:24},u={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:t.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:et({},n,He({},t.breakpoints.up("sm"),et({},s,u))),anchorOriginBottomCenter:et({},r,He({},t.breakpoints.up("sm"),et({},a,u))),anchorOriginTopRight:et({},n,i,He({},t.breakpoints.up("sm"),et({left:"auto"},s,l))),anchorOriginBottomRight:et({},r,i,He({},t.breakpoints.up("sm"),et({left:"auto"},a,l))),anchorOriginTopLeft:et({},n,o,He({},t.breakpoints.up("sm"),et({right:"auto"},s,c))),anchorOriginBottomLeft:et({},r,o,He({},t.breakpoints.up("sm"),et({right:"auto"},a,c)))}},$Ie=b.forwardRef(function(t,n){var r=t.action,i=t.anchorOrigin;i=i===void 0?{vertical:"bottom",horizontal:"center"}:i;var o=i.vertical,s=i.horizontal,a=t.autoHideDuration,l=a===void 0?null:a,c=t.children,u=t.classes,f=t.className,h=t.ClickAwayListenerProps,m=t.ContentProps,p=t.disableWindowBlurListener,g=p===void 0?!1:p,_=t.message,x=t.onClose,S=t.onEnter,C=t.onEntered,j=t.onEntering,k=t.onExit,T=t.onExited,y=t.onExiting,P=t.onMouseEnter,A=t.onMouseLeave,$=t.open,L=t.resumeHideDuration,U=t.TransitionComponent,F=U===void 0?kIe:U,H=t.transitionDuration,q=H===void 0?{enter:wl.enteringScreen,exit:wl.leavingScreen}:H,re=t.TransitionProps,G=$n(t,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),Y=b.useRef(),te=b.useState(!0),ne=te[0],B=te[1],Q=d1(function(){x&&x.apply(void 0,arguments)}),K=d1(function(Z){!x||Z==null||(clearTimeout(Y.current),Y.current=setTimeout(function(){Q(null,"timeout")},Z))});b.useEffect(function(){return $&&K(l),function(){clearTimeout(Y.current)}},[$,l,K]);var de=function(){clearTimeout(Y.current)},X=b.useCallback(function(){l!=null&&K(L??l*.5)},[l,L,K]),J=function(se){P&&P(se),de()},ue=function(se){A&&A(se),X()},xe=function(se){x&&x(se,"clickaway")},_e=function(){B(!0)},he=function(){B(!1)};return b.useEffect(function(){if(!g&&$)return window.addEventListener("focus",X),window.addEventListener("blur",de),function(){window.removeEventListener("focus",X),window.removeEventListener("blur",de)}},[g,X,$]),!$&&ne?null:b.createElement(jIe,et({onClickAway:xe},h),b.createElement("div",et({className:zo(u.root,u["anchorOrigin".concat(Eg(o)).concat(Eg(s))],f),onMouseEnter:J,onMouseLeave:ue,ref:n},G),b.createElement(F,et({appear:!0,in:$,onEnter:kP(he,S),onEntered:C,onEntering:j,onExit:k,onExited:kP(_e,T),onExiting:y,timeout:q,direction:o==="top"?"down":"up"},re),c||b.createElement(LF,et({message:_,action:r},m)))))});const IIe=Mu(RIe,{flip:!1,name:"MuiSnackbar"})($Ie);function DIe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,n;function r(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=this,l=function(){e.apply(a,o)};clearTimeout(n),n=setTimeout(l,t)}return r.clear=function(){clearTimeout(n)},r}function LIe(e,t){var n=t.getBoundingClientRect(),r;if(t.fakeTransform)r=t.fakeTransform;else{var i=window.getComputedStyle(t);r=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var o=0,s=0;if(r&&r!=="none"&&typeof r=="string"){var a=r.split("(")[1].split(")")[0].split(",");o=parseInt(a[4],10),s=parseInt(a[5],10)}return e==="left"?"translateX(".concat(window.innerWidth,"px) translateX(").concat(o-n.left,"px)"):e==="right"?"translateX(-".concat(n.left+n.width-o,"px)"):e==="up"?"translateY(".concat(window.innerHeight,"px) translateY(").concat(s-n.top,"px)"):"translateY(-".concat(n.top+n.height-s,"px)")}function Np(e,t){var n=LIe(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var FIe={enter:wl.enteringScreen,exit:wl.leavingScreen},zIe=b.forwardRef(function(t,n){var r=t.children,i=t.direction,o=i===void 0?"down":i,s=t.in,a=t.onEnter,l=t.onEntered,c=t.onEntering,u=t.onExit,f=t.onExited,h=t.onExiting,m=t.style,p=t.timeout,g=p===void 0?FIe:p,_=t.TransitionComponent,x=_===void 0?sS:_,S=$n(t,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),C=O2(),j=b.useRef(null),k=b.useCallback(function(re){j.current=pu.findDOMNode(re)},[]),T=iu(r.ref,k),y=iu(T,n),P=function(G){return function(Y){G&&(Y===void 0?G(j.current):G(j.current,Y))}},A=P(function(re,G){Np(o,re),IF(re),a&&a(re,G)}),$=P(function(re,G){var Y=ou({timeout:g,style:m},{mode:"enter"});re.style.webkitTransition=C.transitions.create("-webkit-transform",et({},Y,{easing:C.transitions.easing.easeOut})),re.style.transition=C.transitions.create("transform",et({},Y,{easing:C.transitions.easing.easeOut})),re.style.webkitTransform="none",re.style.transform="none",c&&c(re,G)}),L=P(l),U=P(h),F=P(function(re){var G=ou({timeout:g,style:m},{mode:"exit"});re.style.webkitTransition=C.transitions.create("-webkit-transform",et({},G,{easing:C.transitions.easing.sharp})),re.style.transition=C.transitions.create("transform",et({},G,{easing:C.transitions.easing.sharp})),Np(o,re),u&&u(re)}),H=P(function(re){re.style.webkitTransition="",re.style.transition="",f&&f(re)}),q=b.useCallback(function(){j.current&&Np(o,j.current)},[o]);return b.useEffect(function(){if(!(s||o==="down"||o==="right")){var re=DIe(function(){j.current&&Np(o,j.current)});return window.addEventListener("resize",re),function(){re.clear(),window.removeEventListener("resize",re)}}},[o,s]),b.useEffect(function(){s||q()},[s,q]),b.createElement(x,et({nodeRef:j,onEnter:A,onEntered:L,onEntering:$,onExit:F,onExited:H,onExiting:U,appear:!0,in:s,timeout:g},S),function(re,G){return b.cloneElement(r,et({ref:y,style:et({visibility:re==="exited"&&!s?"hidden":void 0},m,r.props.style)},G))})});const BIe=zIe;var WIe=function(t){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:t.typography.pxToRem(24),transition:t.transitions.create("fill",{duration:t.transitions.duration.shorter})},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorAction:{color:t.palette.action.active},colorError:{color:t.palette.error.main},colorDisabled:{color:t.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:t.typography.pxToRem(20)},fontSizeLarge:{fontSize:t.typography.pxToRem(35)}}},FF=b.forwardRef(function(t,n){var r=t.children,i=t.classes,o=t.className,s=t.color,a=s===void 0?"inherit":s,l=t.component,c=l===void 0?"svg":l,u=t.fontSize,f=u===void 0?"medium":u,h=t.htmlColor,m=t.titleAccess,p=t.viewBox,g=p===void 0?"0 0 24 24":p,_=$n(t,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return b.createElement(c,et({className:zo(i.root,o,a!=="inherit"&&i["color".concat(Eg(a))],f!=="default"&&f!=="medium"&&i["fontSize".concat(Eg(f))]),focusable:"false",viewBox:g,color:h,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:n},_),r,m?b.createElement("title",null,m):null)});FF.muiName="SvgIcon";const N0=Mu(WIe,{name:"MuiSvgIcon"})(FF);var HIe=function(t){return{root:{height:0,overflow:"hidden",transition:t.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}},zF=b.forwardRef(function(t,n){var r=t.children,i=t.classes,o=t.className,s=t.collapsedHeight,a=t.collapsedSize,l=a===void 0?"0px":a,c=t.component,u=c===void 0?"div":c,f=t.disableStrictModeCompat,h=f===void 0?!1:f,m=t.in,p=t.onEnter,g=t.onEntered,_=t.onEntering,x=t.onExit,S=t.onExited,C=t.onExiting,j=t.style,k=t.timeout,T=k===void 0?wl.standard:k,y=t.TransitionComponent,P=y===void 0?sS:y,A=$n(t,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),$=O2(),L=b.useRef(),U=b.useRef(null),F=b.useRef(),H=typeof(s||l)=="number"?"".concat(s||l,"px"):s||l;b.useEffect(function(){return function(){clearTimeout(L.current)}},[]);var q=$.unstable_strictMode&&!h,re=b.useRef(null),G=iu(n,q?re:void 0),Y=function(ue){return function(xe,_e){if(ue){var he=q?[re.current,xe]:[xe,_e],Z=Gn(he,2),se=Z[0],ie=Z[1];ie===void 0?ue(se):ue(se,ie)}}},te=Y(function(J,ue){J.style.height=H,p&&p(J,ue)}),ne=Y(function(J,ue){var xe=U.current?U.current.clientHeight:0,_e=ou({style:j,timeout:T},{mode:"enter"}),he=_e.duration;if(T==="auto"){var Z=$.transitions.getAutoHeightDuration(xe);J.style.transitionDuration="".concat(Z,"ms"),F.current=Z}else J.style.transitionDuration=typeof he=="string"?he:"".concat(he,"ms");J.style.height="".concat(xe,"px"),_&&_(J,ue)}),B=Y(function(J,ue){J.style.height="auto",g&&g(J,ue)}),Q=Y(function(J){var ue=U.current?U.current.clientHeight:0;J.style.height="".concat(ue,"px"),x&&x(J)}),K=Y(S),de=Y(function(J){var ue=U.current?U.current.clientHeight:0,xe=ou({style:j,timeout:T},{mode:"exit"}),_e=xe.duration;if(T==="auto"){var he=$.transitions.getAutoHeightDuration(ue);J.style.transitionDuration="".concat(he,"ms"),F.current=he}else J.style.transitionDuration=typeof _e=="string"?_e:"".concat(_e,"ms");J.style.height=H,C&&C(J)}),X=function(ue,xe){var _e=q?ue:xe;T==="auto"&&(L.current=setTimeout(_e,F.current||0))};return b.createElement(P,et({in:m,onEnter:te,onEntered:B,onEntering:ne,onExit:Q,onExited:K,onExiting:de,addEndListener:X,nodeRef:q?re:void 0,timeout:T==="auto"?null:T},A),function(J,ue){return b.createElement(u,et({className:zo(i.root,i.container,o,{entered:i.entered,exited:!m&&H==="0px"&&i.hidden}[J]),style:et({minHeight:H},j),ref:G},ue),b.createElement("div",{className:i.wrapper,ref:U},b.createElement("div",{className:i.wrapperInner},r)))})});zF.muiSupportAuto=!0;const qIe=Mu(HIe,{name:"MuiCollapse"})(zF);function OP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VIe(e,t,n){return t&&OP(e.prototype,t),n&&OP(e,n),e}function On(){return On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},On.apply(this,arguments)}function UIe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Qa(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var BF=Le.createContext(),M2={mui:{root:{},anchorOriginTopCenter:{},anchorOriginBottomCenter:{},anchorOriginTopRight:{},anchorOriginBottomRight:{},anchorOriginTopLeft:{},anchorOriginBottomLeft:{}},container:{containerRoot:{},containerAnchorOriginTopCenter:{},containerAnchorOriginBottomCenter:{},containerAnchorOriginTopRight:{},containerAnchorOriginBottomRight:{},containerAnchorOriginTopLeft:{},containerAnchorOriginBottomLeft:{}}},xr={view:{default:20,dense:4},snackbar:{default:6,dense:2}},h1=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},GIe=function(t){return""+h1(t.vertical)+h1(t.horizontal)},KIe=function(t){return Object.keys(t).filter(function(n){return!M2.container[n]}).reduce(function(n,r){var i;return On({},n,(i={},i[r]=t[r],i))},{})},WF={variant:"default",autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"left"}},MP=function(t){return typeof t=="number"||t===null},YIe=function(t,n,r){return function(i){return i==="autoHideDuration"?MP(t.autoHideDuration)?t.autoHideDuration:MP(n.autoHideDuration)?n.autoHideDuration:WF.autoHideDuration:t[i]||n[i]||r[i]}},mc={CLICKAWAY:"clickaway",MAXSNACK:"maxsnack",INSTRUCTED:"instructed"},NP={right:"left",left:"right",bottom:"up",top:"down"},ZIe=function(t){return t.horizontal!=="center"?NP[t.horizontal]:NP[t.vertical]},QIe=function(t){var n=Object.keys(t).filter(function(r){return M2.mui[r]!==void 0}).reduce(function(r,i){var o;return On({},r,(o={},o[i]=t[i],o))},{});return On({},n,{root:zo(t.root,t.wrappedRoot)})},JIe=function(t,n){return{container:t.collapseContainer,wrapper:zo(t.collapseWrapper,n&&t.collapseWrapperDense)}};function uf(e,t){return e.reduce(function(n,r){return r==null?n:function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var l=[].concat(s);t&&l.indexOf(t)===-1&&l.push(t),n.apply(this,l),r.apply(this,l)}},function(){})}var XIe=function(t){var n;return xIe(On({},M2.mui,{lessPadding:{paddingLeft:8*2.5},variantSuccess:{backgroundColor:"#43a047",color:"#fff"},variantError:{backgroundColor:"#d32f2f",color:"#fff"},variantInfo:{backgroundColor:"#2196f3",color:"#fff"},variantWarning:{backgroundColor:"#ff9800",color:"#fff"},message:{display:"flex",alignItems:"center"},wrappedRoot:{position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0},collapseContainer:(n={},n[t.breakpoints.down("xs")]={paddingLeft:t.spacing(1),paddingRight:t.spacing(1)},n),collapseWrapper:{transition:t.transitions.create(["margin-bottom"],{easing:"ease"}),marginTop:xr.snackbar.default,marginBottom:xr.snackbar.default},collapseWrapperDense:{marginTop:xr.snackbar.dense,marginBottom:xr.snackbar.dense}}))},e5e=function(t){var n=t.classes,r=Qa(t,["classes"]),i=b.useRef(),o=b.useState(!0),s=o[0],a=o[1];b.useEffect(function(){return function(){i.current&&clearTimeout(i.current)}},[]);var l=uf([r.snack.onClose,r.onClose],r.snack.key),c=function(){r.snack.requestClose&&l(null,mc.INSTRCUTED)},u=function(){i.current=setTimeout(function(){a(!s)},125)},f=["onEnter","onEntering","onEntered","onExit","onExiting","onExited"].reduce(function(xe,_e){var he;return On({},xe,(he={},he[_e]=uf([r.snack[_e],r[_e]],r.snack.key),he))},{}),h=r.action,m=r.content,p=r.ContentProps,g=p===void 0?{}:p,_=r.hideIconVariant,x=r.iconVariant,S=r.snack,C=r.dense,j=r.TransitionComponent,k=j===void 0?BIe:j,T=r.TransitionProps,y=T===void 0?{}:T,P=Qa(r,["action","content","ContentProps","hideIconVariant","iconVariant","snack","dense","TransitionComponent","TransitionProps"]),A=g.action,$=g.className,L=Qa(g,["action","className"]),U=S.key,F=S.variant,H=S.content,q=S.action,re=S.ContentProps,G=re===void 0?{}:re,Y=S.anchorOrigin,te=S.TransitionProps,ne=te===void 0?{}:te,B=Qa(S,["key","persist","entered","requestClose","variant","content","action","ContentProps","anchorOrigin","TransitionProps"]),Q=x[F],K=On({},L,{},G,{action:q||G.action||A||h}),de=On({direction:ZIe(Y)},y,{},ne,{onExited:u}),X=K["aria-describedby"]||"client-snackbar",J=K.action;typeof J=="function"&&(J=K.action(U));var ue=H||m;return ue&&typeof ue=="function"&&(ue=ue(U,S.message)),Le.createElement(qIe,{unmountOnExit:!0,timeout:175,in:s,classes:JIe(n,C),onExited:f.onExited},Le.createElement(IIe,Object.assign({TransitionComponent:k},P,B,{open:S.open,anchorOrigin:Y,TransitionProps:de,classes:QIe(n),onClose:l,onExit:f.onExit,onExiting:f.onExiting,onEnter:f.onEnter,onEntering:f.onEntering,onEntered:uf([f.onEntered,c])}),ue||Le.createElement(LF,Object.assign({className:zo(n["variant"+h1(F)],$,!_&&Q&&n.lessPadding)},K,{"aria-describedby":X,message:Le.createElement("span",{id:X,className:n.message},_?null:Q,S.message),action:J}))))},t5e=Mu(XIe)(e5e),n5e=SIe(function(e){var t,n;return{root:(t={boxSizing:"border-box",display:"flex",maxHeight:"100%",maxWidth:"100%",position:"fixed",flexDirection:"column",zIndex:e.zIndex.snackbar,height:"auto",width:"auto",minWidth:288,transition:e.transitions.create(["top","right","bottom","left"],{easing:"ease"})},t[e.breakpoints.down("xs")]={left:"0 !important",right:"0 !important",width:"100%"},t),reverseColumns:{flexDirection:"column-reverse"},top:{top:xr.view.default-xr.snackbar.default},topDense:{top:xr.view.dense-xr.snackbar.dense},bottom:{bottom:xr.view.default-xr.snackbar.default},bottomDense:{bottom:xr.view.dense-xr.snackbar.dense},left:{left:xr.view.default},leftDense:{left:xr.view.dense},right:{right:xr.view.default},rightDense:{right:xr.view.dense},center:(n={left:"50%",transform:"translateX(-50%)"},n[e.breakpoints.down("xs")]={transform:"translateX(0)"},n)}}),r5e=function(t){var n=n5e(),r=t.className,i=t.anchorOrigin,o=t.dense,s=Qa(t,["className","anchorOrigin","dense"]),a=zo(n.root,n[i.vertical],n[i.horizontal],n[""+i.vertical+(o?"Dense":"")],n[""+i.horizontal+(o?"Dense":"")],r,i.vertical==="bottom"&&n.reverseColumns);return Le.createElement("div",Object.assign({className:a},s))},i5e=Le.memo(r5e),o5e=function(t){return Le.createElement(N0,Object.assign({},t),Le.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},s5e=function(t){return Le.createElement(N0,Object.assign({},t),Le.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},a5e=function(t){return Le.createElement(N0,Object.assign({},t),Le.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},l5e=function(t){return Le.createElement(N0,Object.assign({},t),Le.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},Pp={fontSize:20,marginInlineEnd:8},c5e={success:Le.createElement(o5e,{style:Pp}),warning:Le.createElement(s5e,{style:Pp}),error:Le.createElement(a5e,{style:Pp}),info:Le.createElement(l5e,{style:Pp})},u5e=function(e){UIe(t,e);function t(r){var i;return i=e.call(this,r)||this,i.enqueueSnackbar=function(o,s){s===void 0&&(s={});var a=s,l=a.key,c=a.preventDuplicate,u=Qa(a,["key","preventDuplicate"]),f=l||l===0,h=f?l:new Date().getTime()+Math.random(),m=YIe(u,i.props,WF),p=On({key:h},u,{message:o,open:!0,entered:!1,requestClose:!1,variant:m("variant"),anchorOrigin:m("anchorOrigin"),autoHideDuration:m("autoHideDuration")});return u.persist&&(p.autoHideDuration=void 0),i.setState(function(g){if(c===void 0&&i.props.preventDuplicate||c){var _=function(j){return f?j.key===l:j.message===o},x=g.queue.findIndex(_)>-1,S=g.snacks.findIndex(_)>-1;if(x||S)return g}return i.handleDisplaySnack(On({},g,{queue:[].concat(g.queue,[p])}))}),h},i.handleDisplaySnack=function(o){var s=o.snacks;return s.length>=i.maxSnack?i.handleDismissOldest(o):i.processQueue(o)},i.processQueue=function(o){var s=o.queue,a=o.snacks;return s.length>0?On({},o,{snacks:[].concat(a,[s[0]]),queue:s.slice(1,s.length)}):o},i.handleDismissOldest=function(o){if(o.snacks.some(function(u){return!u.open||u.requestClose}))return o;var s=!1,a=!1,l=o.snacks.reduce(function(u,f){return u+(f.open&&f.persist?1:0)},0);l===i.maxSnack&&(a=!0);var c=o.snacks.map(function(u){return!s&&(!u.persist||a)?(s=!0,u.entered?(u.onClose&&u.onClose(null,mc.MAXSNACK,u.key),i.props.onClose&&i.props.onClose(null,mc.MAXSNACK,u.key),On({},u,{open:!1})):On({},u,{requestClose:!0})):On({},u)});return On({},o,{snacks:c})},i.handleEnteredSnack=function(o,s,a){if(!a)throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(l){var c=l.snacks;return{snacks:c.map(function(u){return u.key===a?On({},u,{entered:!0}):On({},u)})}})},i.handleCloseSnack=function(o,s,a){if(i.props.onClose&&i.props.onClose(o,s,a),s!==mc.CLICKAWAY){var l=a===void 0;i.setState(function(c){var u=c.snacks,f=c.queue;return{snacks:u.map(function(h){return!l&&h.key!==a?On({},h):h.entered?On({},h,{open:!1}):On({},h,{requestClose:!0})}),queue:f.filter(function(h){return h.key!==a})}})}},i.closeSnackbar=function(o){var s=i.state.snacks.find(function(a){return a.key===o});o&&s&&s.onClose&&s.onClose(null,mc.INSTRUCTED,o),i.handleCloseSnack(null,mc.INSTRUCTED,o)},i.handleExitedSnack=function(o,s,a){var l=s||a;if(!l)throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(c){var u=i.processQueue(On({},c,{snacks:c.snacks.filter(function(f){return f.key!==l})}));return u.queue.length===0?u:i.handleDismissOldest(u)})},i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar,closeSnackbar:i.closeSnackbar}},i}var n=t.prototype;return n.render=function(){var i=this,o=this.state.contextValue,s=this.props,a=s.domRoot,l=s.children,c=s.classes,u=c===void 0?{}:c,f=s.dense,h=f===void 0?!1:f,m=s.hideIconVariant,p=m===void 0?!1:m,g=Qa(s,["variant","maxSnack","anchorOrigin","preventDuplicate","domRoot","children","classes","dense","hideIconVariant"]),_=this.state.snacks.reduce(function(C,j){var k,T=GIe(j.anchorOrigin),y=C[T]||[];return On({},C,(k={},k[T]=[].concat(y,[j]),k))},{}),x=On({},c5e,{},this.props.iconVariant),S=Object.keys(_).map(function(C){var j=_[C];return Le.createElement(i5e,{key:C,dense:h,anchorOrigin:j[0].anchorOrigin,className:zo(u.containerRoot,u["containerAnchorOrigin"+C])},j.map(function(k){return Le.createElement(t5e,Object.assign({},g,{key:k.key,dense:h,snack:k,hideIconVariant:p,iconVariant:x,classes:KIe(u),onClose:i.handleCloseSnack,onExited:uf([i.handleExitedSnack,i.props.onExited]),onEntered:uf([i.handleEnteredSnack,i.props.onEntered])}))}))});return Le.createElement(BF.Provider,{value:o},l,a?pu.createPortal(S,a):S)},VIe(t,[{key:"maxSnack",get:function(){return this.props.maxSnack||3}}]),t}(b.Component),d5e=function(){return b.useContext(BF)},sa=Le.createContext(null);function f5e(e){e()}var HF=f5e,h5e=function(t){return HF=t},p5e=function(){return HF};function m5e(){var e=p5e(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=t;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!o||t===null||(o=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var PP={notify:function(){},get:function(){return[]}};function qF(e,t){var n,r=PP;function i(f){return l(),r.subscribe(f)}function o(){r.notify()}function s(){u.onStateChange&&u.onStateChange()}function a(){return!!n}function l(){n||(n=t?t.addNestedSub(s):e.subscribe(s),r=m5e())}function c(){n&&(n(),n=void 0,r.clear(),r=PP)}var u={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return r}};return u}var p1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect;function g5e(e){var t=e.store,n=e.context,r=e.children,i=b.useMemo(function(){var a=qF(t);return{store:t,subscription:a}},[t]),o=b.useMemo(function(){return t.getState()},[t]);p1(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==t.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,o]);var s=n||sa;return Le.createElement(s.Provider,{value:i},r)}function VF(){var e=b.useContext(sa);return e}function UF(e){e===void 0&&(e=sa);var t=e===sa?VF:function(){return b.useContext(e)};return function(){var r=t(),i=r.store;return i}}var v5e=UF();function b5e(e){e===void 0&&(e=sa);var t=e===sa?v5e:UF(e);return function(){var r=t();return r.dispatch}}var y5e=b5e(),_5e=function(t,n){return t===n};function x5e(e,t,n,r){var i=b.useReducer(function(p){return p+1},0),o=i[1],s=b.useMemo(function(){return qF(n,r)},[n,r]),a=b.useRef(),l=b.useRef(),c=b.useRef(),u=b.useRef(),f=n.getState(),h;try{if(e!==l.current||f!==c.current||a.current){var m=e(f);u.current===void 0||!t(m,u.current)?h=m:h=u.current}else h=u.current}catch(p){throw a.current&&(p.message+=`
The error may be correlated with this previous error:
`+a.current.stack+`

`),p}return p1(function(){l.current=e,c.current=f,u.current=h,a.current=void 0}),p1(function(){function p(){try{var g=n.getState();if(g===c.current)return;var _=l.current(g);if(t(_,u.current))return;u.current=_,c.current=g}catch(x){a.current=x}o()}return s.onStateChange=p,s.trySubscribe(),p(),function(){return s.tryUnsubscribe()}},[n,s]),h}function w5e(e){e===void 0&&(e=sa);var t=e===sa?VF:function(){return b.useContext(e)};return function(r,i){i===void 0&&(i=_5e);var o=t(),s=o.store,a=o.subscription,l=x5e(r,i,s,a);return b.useDebugValue(l),l}}var S5e=w5e();h5e(pu.unstable_batchedUpdates);const C5e={currentChart:{}};function T5e(e=C5e,t){switch(t.type){case"CHARTS/FETCH":return{...e,currentChart:t.chart,errorFetch:!1};case"CHARTS/ERROR/FETCH":return{...e,errorFetch:!0};default:return e}}const j5e={currentProject:{}};function E5e(e=j5e,t){switch(t.type){case"PROJECTS/FETCH":return{...e,currentProject:t.project,errorFetch:!1};case"PROJECTS/UPDATE":return{...e,currentProject:t.project,errorUpdate:!1};case"PROJECTS/ERROR/FETCH":return{...e,errorFetch:!0};case"PROJECTS/ERROR/UPDATE":return{...e,errorUpdate:!0};default:return e}}const k5e={projects:{},errors:[]};function O5e(e=k5e,t){switch(t.type){case"REVIEWS/FETCH":return{...e,projects:{...e.projects,[t.projectId]:t.data},errors:e.errors.filter(n=>n!=t.projectId)};case"REVIEW/SENT":if(t.data.is_reviewed)return e;{let n=e.projects[t.projectId],r=n===void 0?0:n.num_responses_reviewed;return{...e,projects:{...e.projects,[t.projectId]:{...n,num_responses_reviewed:r+1}}}}case"REVIEWS/ERROR/FETCH":return{...e,errors:[...e.errors,t.projectId]};default:return e}}const M5e=yW({charts:T5e,projects:E5e,reviews:O5e});var m1={exports:{}};(function(e,t){(function(n,r){r(t)})(Mt,function(n){function r(B,Q){B.super_=Q,B.prototype=Object.create(Q.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}})}function i(B,Q){Object.defineProperty(this,"kind",{value:B,enumerable:!0}),Q&&Q.length&&Object.defineProperty(this,"path",{value:Q,enumerable:!0})}function o(B,Q,K){o.super_.call(this,"E",B),Object.defineProperty(this,"lhs",{value:Q,enumerable:!0}),Object.defineProperty(this,"rhs",{value:K,enumerable:!0})}function s(B,Q){s.super_.call(this,"N",B),Object.defineProperty(this,"rhs",{value:Q,enumerable:!0})}function a(B,Q){a.super_.call(this,"D",B),Object.defineProperty(this,"lhs",{value:Q,enumerable:!0})}function l(B,Q,K){l.super_.call(this,"A",B),Object.defineProperty(this,"index",{value:Q,enumerable:!0}),Object.defineProperty(this,"item",{value:K,enumerable:!0})}function c(B,Q,K){var de=B.slice((K||Q)+1||B.length);return B.length=Q<0?B.length+Q:Q,B.push.apply(B,de),B}function u(B){var Q=typeof B>"u"?"undefined":q(B);return Q!=="object"?Q:B===Math?"math":B===null?"null":Array.isArray(B)?"array":Object.prototype.toString.call(B)==="[object Date]"?"date":typeof B.toString=="function"&&/^\/.*\//.test(B.toString())?"regexp":"object"}function f(B,Q,K,de,X,J,ue){X=X||[],ue=ue||[];var xe=X.slice(0);if(typeof J<"u"){if(de){if(typeof de=="function"&&de(xe,J))return;if((typeof de>"u"?"undefined":q(de))==="object"){if(de.prefilter&&de.prefilter(xe,J))return;if(de.normalize){var _e=de.normalize(xe,J,B,Q);_e&&(B=_e[0],Q=_e[1])}}}xe.push(J)}u(B)==="regexp"&&u(Q)==="regexp"&&(B=B.toString(),Q=Q.toString());var he=typeof B>"u"?"undefined":q(B),Z=typeof Q>"u"?"undefined":q(Q),se=he!=="undefined"||ue&&ue[ue.length-1].lhs&&ue[ue.length-1].lhs.hasOwnProperty(J),ie=Z!=="undefined"||ue&&ue[ue.length-1].rhs&&ue[ue.length-1].rhs.hasOwnProperty(J);if(!se&&ie)K(new s(xe,Q));else if(!ie&&se)K(new a(xe,B));else if(u(B)!==u(Q))K(new o(xe,B,Q));else if(u(B)==="date"&&B-Q!==0)K(new o(xe,B,Q));else if(he==="object"&&B!==null&&Q!==null)if(ue.filter(function(ze){return ze.lhs===B}).length)B!==Q&&K(new o(xe,B,Q));else{if(ue.push({lhs:B,rhs:Q}),Array.isArray(B)){var be;for(B.length,be=0;be<B.length;be++)be>=Q.length?K(new l(xe,be,new a(void 0,B[be]))):f(B[be],Q[be],K,de,xe,be,ue);for(;be<Q.length;)K(new l(xe,be,new s(void 0,Q[be++])))}else{var Ne=Object.keys(B),Pe=Object.keys(Q);Ne.forEach(function(ze,Oe){var qe=Pe.indexOf(ze);qe>=0?(f(B[ze],Q[ze],K,de,xe,ze,ue),Pe=c(Pe,qe)):f(B[ze],void 0,K,de,xe,ze,ue)}),Pe.forEach(function(ze){f(void 0,Q[ze],K,de,xe,ze,ue)})}ue.length=ue.length-1}else B!==Q&&(he==="number"&&isNaN(B)&&isNaN(Q)||K(new o(xe,B,Q)))}function h(B,Q,K,de){return de=de||[],f(B,Q,function(X){X&&de.push(X)},K),de.length?de:void 0}function m(B,Q,K){if(K.path&&K.path.length){var de,X=B[Q],J=K.path.length-1;for(de=0;de<J;de++)X=X[K.path[de]];switch(K.kind){case"A":m(X[K.path[de]],K.index,K.item);break;case"D":delete X[K.path[de]];break;case"E":case"N":X[K.path[de]]=K.rhs}}else switch(K.kind){case"A":m(B[Q],K.index,K.item);break;case"D":B=c(B,Q);break;case"E":case"N":B[Q]=K.rhs}return B}function p(B,Q,K){if(B&&Q&&K&&K.kind){for(var de=B,X=-1,J=K.path?K.path.length-1:0;++X<J;)typeof de[K.path[X]]>"u"&&(de[K.path[X]]=typeof K.path[X]=="number"?[]:{}),de=de[K.path[X]];switch(K.kind){case"A":m(K.path?de[K.path[X]]:de,K.index,K.item);break;case"D":delete de[K.path[X]];break;case"E":case"N":de[K.path[X]]=K.rhs}}}function g(B,Q,K){if(K.path&&K.path.length){var de,X=B[Q],J=K.path.length-1;for(de=0;de<J;de++)X=X[K.path[de]];switch(K.kind){case"A":g(X[K.path[de]],K.index,K.item);break;case"D":X[K.path[de]]=K.lhs;break;case"E":X[K.path[de]]=K.lhs;break;case"N":delete X[K.path[de]]}}else switch(K.kind){case"A":g(B[Q],K.index,K.item);break;case"D":B[Q]=K.lhs;break;case"E":B[Q]=K.lhs;break;case"N":B=c(B,Q)}return B}function _(B,Q,K){if(B&&Q&&K&&K.kind){var de,X,J=B;for(X=K.path.length-1,de=0;de<X;de++)typeof J[K.path[de]]>"u"&&(J[K.path[de]]={}),J=J[K.path[de]];switch(K.kind){case"A":g(J[K.path[de]],K.index,K.item);break;case"D":J[K.path[de]]=K.lhs;break;case"E":J[K.path[de]]=K.lhs;break;case"N":delete J[K.path[de]]}}}function x(B,Q,K){if(B&&Q){var de=function(X){K&&!K(B,Q,X)||p(B,Q,X)};f(B,Q,de)}}function S(B){return"color: "+Y[B].color+"; font-weight: bold"}function C(B){var Q=B.kind,K=B.path,de=B.lhs,X=B.rhs,J=B.index,ue=B.item;switch(Q){case"E":return[K.join("."),de,"→",X];case"N":return[K.join("."),X];case"D":return[K.join(".")];case"A":return[K.join(".")+"["+J+"]",ue];default:return[]}}function j(B,Q,K,de){var X=h(B,Q);try{de?K.groupCollapsed("diff"):K.group("diff")}catch{K.log("diff")}X?X.forEach(function(J){var ue=J.kind,xe=C(J);K.log.apply(K,["%c "+Y[ue].text,S(ue)].concat(re(xe)))}):K.log("—— no diff ——");try{K.groupEnd()}catch{K.log("—— diff end —— ")}}function k(B,Q,K,de){switch(typeof B>"u"?"undefined":q(B)){case"object":return typeof B[de]=="function"?B[de].apply(B,re(K)):B[de];case"function":return B(Q);default:return B}}function T(B){var Q=B.timestamp,K=B.duration;return function(de,X,J){var ue=["action"];return ue.push("%c"+String(de.type)),Q&&ue.push("%c@ "+X),K&&ue.push("%c(in "+J.toFixed(2)+" ms)"),ue.join(" ")}}function y(B,Q){var K=Q.logger,de=Q.actionTransformer,X=Q.titleFormatter,J=X===void 0?T(Q):X,ue=Q.collapsed,xe=Q.colors,_e=Q.level,he=Q.diff,Z=typeof Q.titleFormatter>"u";B.forEach(function(se,ie){var be=se.started,Ne=se.startedTime,Pe=se.action,ze=se.prevState,Oe=se.error,qe=se.took,$e=se.nextState,rt=B[ie+1];rt&&($e=rt.prevState,qe=rt.started-be);var Ve=de(Pe),mt=typeof ue=="function"?ue(function(){return $e},Pe,se):ue,It=F(Ne),Ze=xe.title?"color: "+xe.title(Ve)+";":"",dt=["color: gray; font-weight: lighter;"];dt.push(Ze),Q.timestamp&&dt.push("color: gray; font-weight: lighter;"),Q.duration&&dt.push("color: gray; font-weight: lighter;");var tt=J(Ve,It,qe);try{mt?xe.title&&Z?K.groupCollapsed.apply(K,["%c "+tt].concat(dt)):K.groupCollapsed(tt):xe.title&&Z?K.group.apply(K,["%c "+tt].concat(dt)):K.group(tt)}catch{K.log(tt)}var St=k(_e,Ve,[ze],"prevState"),Re=k(_e,Ve,[Ve],"action"),We=k(_e,Ve,[Oe,ze],"error"),at=k(_e,Ve,[$e],"nextState");if(St)if(xe.prevState){var st="color: "+xe.prevState(ze)+"; font-weight: bold";K[St]("%c prev state",st,ze)}else K[St]("prev state",ze);if(Re)if(xe.action){var $t="color: "+xe.action(Ve)+"; font-weight: bold";K[Re]("%c action    ",$t,Ve)}else K[Re]("action    ",Ve);if(Oe&&We)if(xe.error){var xn="color: "+xe.error(Oe,ze)+"; font-weight: bold;";K[We]("%c error     ",xn,Oe)}else K[We]("error     ",Oe);if(at)if(xe.nextState){var Cn="color: "+xe.nextState($e)+"; font-weight: bold";K[at]("%c next state",Cn,$e)}else K[at]("next state",$e);he&&j(ze,$e,K,mt);try{K.groupEnd()}catch{K.log("—— log end ——")}})}function P(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=Object.assign({},te,B),K=Q.logger,de=Q.stateTransformer,X=Q.errorTransformer,J=Q.predicate,ue=Q.logErrors,xe=Q.diffPredicate;if(typeof K>"u")return function(){return function(he){return function(Z){return he(Z)}}};if(B.getState&&B.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(he){return function(Z){return he(Z)}}};var _e=[];return function(he){var Z=he.getState;return function(se){return function(ie){if(typeof J=="function"&&!J(Z,ie))return se(ie);var be={};_e.push(be),be.started=H.now(),be.startedTime=new Date,be.prevState=de(Z()),be.action=ie;var Ne=void 0;if(ue)try{Ne=se(ie)}catch(ze){be.error=X(ze)}else Ne=se(ie);be.took=H.now()-be.started,be.nextState=de(Z());var Pe=Q.diff&&typeof xe=="function"?xe(Z,ie):Q.diff;if(y(_e,Object.assign({},Q,{diff:Pe})),_e.length=0,be.error)throw be.error;return Ne}}}}var A,$,L=function(B,Q){return new Array(Q+1).join(B)},U=function(B,Q){return L("0",Q-B.toString().length)+B},F=function(B){return U(B.getHours(),2)+":"+U(B.getMinutes(),2)+":"+U(B.getSeconds(),2)+"."+U(B.getMilliseconds(),3)},H=typeof performance<"u"&&performance!==null&&typeof performance.now=="function"?performance:Date,q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},re=function(B){if(Array.isArray(B)){for(var Q=0,K=Array(B.length);Q<B.length;Q++)K[Q]=B[Q];return K}return Array.from(B)},G=[];A=(typeof Mt>"u"?"undefined":q(Mt))==="object"&&Mt?Mt:typeof window<"u"?window:{},$=A.DeepDiff,$&&G.push(function(){typeof $<"u"&&A.DeepDiff===h&&(A.DeepDiff=$,$=void 0)}),r(o,i),r(s,i),r(a,i),r(l,i),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:f,enumerable:!0},applyDiff:{value:x,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:_,enumerable:!0},isConflict:{value:function(){return typeof $<"u"},enumerable:!0},noConflict:{value:function(){return G&&(G.forEach(function(B){B()}),G=null),h},enumerable:!0}});var Y={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},te={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(B){return B},actionTransformer:function(B){return B},errorTransformer:function(B){return B},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},ne=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=B.dispatch,K=B.getState;return typeof Q=="function"||typeof K=="function"?P()({dispatch:Q,getState:K}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};n.defaults=te,n.createLogger=P,n.logger=ne,n.default=ne,Object.defineProperty(n,"__esModule",{value:!0})})})(m1,m1.exports);var N5e=m1.exports;const P5e=zr(N5e);function GF(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var KF=GF();KF.withExtraArgument=GF;const A5e=KF;let YF=wW;if(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__){const e={trace:!0};YF=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(e)}const R5e=_W(M5e,YF(xW(A5e,P5e)));function ZF({children:e}){return d.jsx(g5e,{store:R5e,children:e})}const $5e=Object.freeze(Object.defineProperty({__proto__:null,default:ZF},Symbol.toStringTag,{value:"Module"}));function P0({children:e}){return d.jsx(ZF,{children:d.jsx(u5e,{maxSnack:3,children:e})})}const I5e=Object.freeze(Object.defineProperty({__proto__:null,default:P0},Symbol.toStringTag,{value:"Module"})),D5e=({delay:e,tip:t="Loading..."})=>d.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:20},children:d.jsx(Lee,{delay:e,size:"large",tip:t})}),L5e=Object.freeze(Object.defineProperty({__proto__:null,default:D5e},Symbol.toStringTag,{value:"Module"}));ut.object({task_response_id:ut.string(),data:lH,questions:cH});function F5e({disabled:e=!1,isReview:t=!1,posterPreview:n=!1,isRateAndReview:r=!1,isPreview:i=!1,projectId:o,fieldsText:s,instructions:a,questions:l,questionTypeToComponent:c,taskResponse:u,projectUpdatedAt:f,inWorkMode:h=!1,numCompletedTasksForUser:m,initialValidationErrors:p,flow:g,reviewOf:_,notifications:x,noSubmitButton:S,iframeURL:C,jwt:j="",carouselDataKey:k,dataFieldRandomizationMapping:T,modelRandomizationSettingsAndMapping:y,enableDenseToggle:P=!1,useTaskResponseSessionStorage:A=!1}){var It,Ze;const[$,L]=Fz(!1,"denseMode"),[U,F]=b.useState(e),{setShouldRetainUser:H}=eB(),q=$&&P,re=g==="admin_review"||g==="admin_review_by_user";if(r&&_==null)throw new Error("Review of must be defined if isRateAndReview is true");b.useEffect(()=>{window.custom&&(console.log("calling custom"),window.custom(),window.validateFile&&F(!0)),window.customInstructions&&(console.log("calling custom instructions from task response editor"),window.customInstructions()),window.DD_RUM&&window.DD_RUM.onReady(function(){window.addEventListener("paste",function(dt){const tt=dt.clipboardData||window.clipboardData,Re=Hn(tt).getData("Text").length;window.DD_RUM.addAction("pastedText",{length:Re})})})},[]);const G=r?tB(u,_):u,Y=r?nB(l,_):l,te=(It=document.querySelector("meta[name='csrf-token']"))==null?void 0:It.getAttribute("content"),ne=SW(Y,re||t),[B,Q]=b.useState(!1),K=`taskResponseParams-${u.task_response_id}`,[de,X]=IZ(K,void 0),J=A&&u.task_response_id&&de?de:CW(G,Y),[ue,xe]=b.useState(J),_e=dt=>{xe(dt),X(dt)},[he,Z]=b.useState(((Ze=_==null?void 0:_.taskResponse)==null?void 0:Ze.review_comment)||""),[se,ie]=b.useState(p),[be,Ne]=b.useState(x?x.map(dt=>({createdAt:new Date(dt.created_at),data:dt,acknowledgedState:"unacknowledged"})):null),Pe=b.useCallback(()=>{let dt=!0;const tt={};return l.forEach(St=>{const Re=rB(St,ue,re);Re!=null&&(dt=!1),tt[St.id]=Re}),ie(tt),dt},[l,re,ue]),ze=dt=>{if(dt.preventDefault(),Q(!0),!Pe()){Q(!1);return}const St=oB(ue,l),Re=`stopwatchTime-tr-${u.task_response_id}`,We=localStorage.getItem(Re),at=`stopwatchTime-idleDuration-tr-${u.task_response_id}`,st=localStorage.getItem(at),$t=localStorage.getItem(`keyPresses-tr-${u.task_response_id}`),xn=localStorage.getItem(`keyPresses-backspace-tr-${u.task_response_id}`),Cn={};if(We){const mn=Math.floor(Number(We)/1e3);Cn.taskResponseTime=mn.toString()}if(st){const mn=Math.floor(Number(st)/1e3);Cn.taskResponseIdleTime=mn.toString()}$t&&(Cn.keyPresses=$t),xn&&(Cn.backspacePresses=xn);let Fn={...St,metadata:Cn};return Fn={...Fn,questions:{...St.questions,...ne}},H(!1),TW(te,r?u.task_response_id:ue.id,jW(Fn,m),j).then(mn=>{Q(!1),K&&sessionStorage.removeItem(K),j!==""?Hn(window.parentIFrame).sendMessage(mn.data,"*"):"redirect_url"in mn.data?window.location.assign(mn.data.redirect_url):"explanations"in mn.data&&ie(mn.data.explanations)})},Oe=dt=>{if(Q(!0),!Pe()){Q(!1);return}return H(!1),EW(u.task_response_id,kW({...ue,review_score:dt,review_comment:he},g!==void 0?g:"admin_review")).then(St=>{Q(!1),"redirect_url"in St?window.location=St.redirect_url:"explanations"in St.data&&ie(St.data.explanations)})},qe=()=>t&&(!r||g==="admin_review")?d.jsx(iB,{isReviewed:!1,isSaving:B||!h,onChangeReviewComment:Z,onReview:Oe,showSkip:!1,showSurgerFeedback:!1,onSkip:()=>[],reviewComment:he,reviewScore:null,onChangeReadyForDelivery:()=>[]}):h&&!i&&!S?d.jsx("div",{className:"tw-flex tw-justify-between",children:d.jsx("div",{className:"tw-space-x-3",children:d.jsx(yt,{disabled:B||U,onClick:ze,onSubmit:ze,type:"submit","data-testid":"task-response-editor-submit",children:"Submit"})})}):d.jsx(d.Fragment,{}),[$e,rt]=b.useMemo(()=>be?[...be.entries()].filter(([,{acknowledgedState:dt}])=>dt!="acknowledged").pop()||[null,null]:[null,null],[be]);if(C!=="")return d.jsx(AL,{iframeURL:C});const Ve=n?"":a||"",mt=new Date().toLocaleString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return d.jsxs(d.Fragment,{children:[be&&rt&&d.jsx(h5,{notificationState:rt,setNotificationState:dt=>Ne(tr(be,tt=>{tt[$e]=dt})),projectId:o}),(P||A)&&d.jsxs("div",{className:"tw-flex tw-items-center tw-justify-end",children:[d.jsx("div",{className:"mr-4 tw-italic tw-text-sm",children:A&&`Last draft saved at ${mt}`}),P&&d.jsx(yn,{content:"Provides a more dense view of the task response by showing only the selected or checked answers for checkboxes and multiple choice and shorter question labels.",placement:"top",children:d.jsxs("div",{children:[d.jsx(ko,{backgroundInactive:"tw-bg-gray-100",enabled:q,setEnabled:L}),d.jsx("span",{className:"tw-ml-3",children:"Dense mode"})]})})]}),d.jsx(QA,{disabled:e,goldStandard:!1,projectId:o,posterPreview:n,instructions:Ve,fieldsText:s,reviewOf:_==null?void 0:{..._,taskResponse:ue,reviewOf:_.reviewOf==null?void 0:{..._.reviewOf,taskResponse:ue,reviewOf:void 0}},questions:l,questionTypeToComponent:c,taskResponse:ue,projectUpdatedAt:f,onChange:h?_e:()=>null,inWorkMode:h,footer:qe(),validationErrors:se,containerClassName:t&&!(g==null||_!=null)?"tw-border-2 tw-rounded-md tw-border-dashed tw-border-black-10 tw-px-5":"",setSubmitDisabled:F,carouselDataKey:k,isReview:r||t,isBeingReviewed:re,dataFieldRandomizationMapping:T,modelRandomizationSettingsAndMapping:y,denseMode:q,isPreview:i,"data-testid":"test-response-editor"})]})}const z5e=Xz(F5e),QF=e=>d.jsx(sr,{value:e.session,children:d.jsx(z5e,{...e,questionTypeToComponent:Bg})}),B5e=Object.freeze(Object.defineProperty({__proto__:null,default:QF},Symbol.toStringTag,{value:"Module"}));function JF({replyUserName:e,replyText:t,replyTime:n,projectId:r,fieldsText:i,instructions:o,questions:s,taskResponse:a,projectUpdatedAt:l}){const[c,u]=b.useState(!0);return d.jsxs(l3,{backend:c3,children:[d.jsxs("div",{className:"d-flex w-100 justify-content-between",children:[d.jsx("h5",{className:"mb-1",children:e}),d.jsx("small",{className:"float-left message-datetime",children:dateFns.format(new Date(n),"MMMM DD, YYYY HH:mm:ss")})]}),d.jsx("p",{dangerouslySetInnerHTML:{__html:__(t)}}),r!==void 0&&r!==""&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn btn-small btn-primary",onClick:()=>u(!c),children:c?"Hide response":"Show response"}),c&&d.jsx(QF,{disabled:!0,isPreview:!0,isReview:!1,isRateAndReview:!1,projectId:r,fieldsText:i,instructions:o,questions:s,taskResponse:a,projectUpdatedAt:l})]})]})}const W5e=Cl(JF),H5e=Object.freeze(Object.defineProperty({__proto__:null,Message:JF,default:W5e},Symbol.toStringTag,{value:"Module"})),q5e=({text:e})=>d.jsx(b.Fragment,{children:e.split(/\r?\n/).map((t,n)=>d.jsxs(b.Fragment,{children:[t,d.jsx("br",{})]},n))}),V5e=Object.freeze(Object.defineProperty({__proto__:null,default:q5e},Symbol.toStringTag,{value:"Module"}));function Gy({text:e,nodeForCopiedState:t=d.jsx(p_,{as:GA,className:"tw-text-green-500 tw-align-middle"}),nodeForUncopiedState:n=d.jsx(p_,{as:KA,className:"tw-text-gray-500"}),uncopiedRootElement:r="button"}){const[i,o]=b.useState(!1),s=()=>{navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3)},a=Le.createElement(r,{onClick:s,className:Se("tw-inline-flex tw-align-middle",{"tw-cursor-pointer":!i,"tw-cursor-not-allowed":i})},n);return i?t:a}function U5e({children:e,className:t,htmlFor:n}){return d.jsx("label",{className:t,htmlFor:n,children:e})}const G5e=ut.object({id:ut.string(),name:ut.string(),questions:ut.array(ut.object({id:ut.string(),label:ut.string().nullable(),type:ut.string(),options:ut.array(ut.string())}))});function AP(e){return new URL(`/projects/${e}`,window.location.origin).href}function K5e({typeName:e}){return e==="multiple_choice"?d.jsx("span",{children:"Pick One"}):d.jsx(h_,{children:e})}function Y5e(e){const t=v3(G5e,e.project);return d.jsxs("div",{className:"tw-w-full tw-max-w-3xl tw-mx-auto tw-p-6 tw-space-y-6",children:[d.jsxs("header",{className:"tw-flex tw-flex-col tw-justify-between",children:[d.jsx("h1",{className:"tw-text-2xl tw-font-bold",children:"Template Output API Contract"}),d.jsxs("div",{className:"tw-flex tw-justify-between",children:[d.jsxs("h2",{className:"tw-text-xl font-semibold tw-flex tw-items-start tw-gap-2 tw-mr-12",children:[d.jsx("a",{href:AP(t.id),children:t.name}),d.jsx(rs,{title:"Copy project link",children:d.jsx("div",{className:"tw-inline-flex",children:d.jsx(Gy,{text:AP(t.id)})})})]}),d.jsxs("span",{className:"tw-text-sm tw-text-gray-500 tw-flex tw-items-start tw-gap-2 tw-max-w-[40%]",children:["ID:"," ",d.jsx("span",{className:"tw-truncate tw-max-w-[100px]",style:{marginRight:"-8px",marginLeft:"-4px"},children:t.id}),d.jsx(Gy,{text:t.id})]})]})]}),d.jsxs("main",{className:"tw-space-y-4",children:[t.questions.map(n=>d.jsxs("div",{className:"tw-border tw-border-gray-300 tw-rounded-lg tw-space-y-4",children:[d.jsx("div",{className:"tw-p-4 tw-border-b",children:d.jsxs("h2",{className:"tw-text-lg tw-font-semibold tw-flex tw-justify-between",children:[n.label===null?d.jsx(rs,{title:"Surge needs to define this field name",children:d.jsx("div",{className:"tw-italic",children:"(Not yet defined)"})}):d.jsx(rs,{title:"Field name",children:d.jsx("div",{children:d.jsx(h_,{children:n.label})})}),d.jsx(rs,{title:"Field type",children:d.jsx("div",{children:d.jsx(K5e,{typeName:n.type})})})]})}),d.jsx("div",{className:"tw-p-4",children:d.jsx("div",{className:"tw-grid tw-grid-cols-3 tw-gap-4",children:n.options.map(r=>d.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-2",children:[d.jsx("div",{}),d.jsx(U5e,{className:"tw-text-sm tw-font-normal",htmlFor:r,children:d.jsx(rs,{title:"Possible value for this field",children:d.jsx("div",{children:d.jsx(h_,{children:r})})})})]},r))})})]},n.id)),d.jsx(Gy,{text:JSON.stringify(t,null,2),nodeForCopiedState:d.jsx(yt,{icon:GA,iconSide:"right",children:"Copy full template JSON"}),uncopiedRootElement:"div",nodeForUncopiedState:d.jsx(yt,{icon:KA,iconSide:"right",children:"Copy full template JSON"})})]})]})}const Z5e=e=>d.jsx(sr,{value:e.session,children:d.jsx(Y5e,{...e})}),Q5e=Object.freeze(Object.defineProperty({__proto__:null,default:Z5e},Symbol.toStringTag,{value:"Module"})),J5e=Object.freeze(Object.defineProperty({__proto__:null,default:YR},Symbol.toStringTag,{value:"Module"})),X5e=e=>d.jsx(sr,{value:e.session,children:d.jsx(f5,{...e})}),e4e=Object.freeze(Object.defineProperty({__proto__:null,default:X5e},Symbol.toStringTag,{value:"Module"}));function t4e(e){return d.jsx(e4,{question_type_to_component:Bg,...e})}const n4e=Object.freeze(Object.defineProperty({__proto__:null,default:t4e},Symbol.toStringTag,{value:"Module"})),r4e=e=>d.jsx(sr,{value:e.session,children:d.jsx(u4,{...e})}),i4e=Object.freeze(Object.defineProperty({__proto__:null,default:r4e},Symbol.toStringTag,{value:"Module"})),o4e=e=>d.jsx(sr,{value:e.session,children:d.jsx(iV,{...e})}),s4e=Object.freeze(Object.defineProperty({__proto__:null,default:o4e},Symbol.toStringTag,{value:"Module"})),a4e=new _z;function l4e(){const[e,t]=lB(),n=e.get("projectId")||"",[r,{push:i}]=Ate(),[o,s]=b.useState(""),a=Sz({queryKey:["project",n],enabled:n!=="",queryFn:async()=>{const f=await Rn.get(`/api_internal/projects/${n}/full_project`),h=JSON.stringify(f.data,null,2);return s(h),h},retry:(f,h)=>!("response"in h&&h.response.status===404)}),l=Cz({mutationFn:async f=>{const h=await Rn.post("/api_internal/import_project",{project:JSON.parse(f)});i(h.data.newly_created_project)}}),[c,u]=b.useState(!1);return d.jsxs("div",{className:"tw-mt-4 no-tw-override",children:[d.jsxs(Tz,{open:c,handleClose:()=>u(!1),panelClassName:"tw-max-w-lg",children:[d.jsx("h2",{children:"Warning: Power Users Only"}),d.jsxs("ul",{className:"tw-list-disc tw-ml-4",style:{marginBottom:0},children:[d.jsx("li",{children:"The form of the JSON this page produces and accepts can change at any time."}),d.jsx("li",{children:"There are no guardrails to protect you against using this to create a hideously broken project."})]})]}),d.jsxs("h1",{className:"tw-mb-2 tw-flex tw-items-center",children:["Create Project From JSON"," ",d.jsx(p_,{as:_Z,onClick:()=>u(!0),className:"tw-w-10 tw-h-10 tw-ml-2 tw-text-red-300 hover:tw-text-red-500"})]}),d.jsxs("div",{className:"tw-mb-4",children:[d.jsx("label",{htmlFor:"email",className:"tw-block tw-text-sm tw-font-medium tw-leading-6 tw-text-gray-900",children:"Project ID"}),d.jsx("div",{className:"tw-mt-2",children:d.jsx("input",{value:n,className:"tw-block tw-w-full tw-rounded-md tw-border-0 tw-py-1.5 tw-text-gray-900 tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-300 tw-placeholder:text-gray-400 tw-focus:ring-2 tw-focus:ring-inset tw-focus:ring-indigo-600 tw-sm:text-sm tw-sm:leading-6",onChange:f=>{t({projectId:f.target.value})}})})]}),a.isLoading&&d.jsx("div",{children:"Loading..."}),a.isError&&("response"in a.error&&a.error.response.status===404?d.jsxs("div",{children:["Project ",d.jsx("strong",{children:n})," does not exist."]}):d.jsxs("div",{children:["Error: ",a.error.message]})),a.isSuccess&&d.jsxs(d.Fragment,{children:[d.jsx(cB,{readOnly:l.isPending,value:o,onChange:s,style:{height:"70vh"},className:"tw-mb-4 tw-overflow-y-scroll"}),d.jsx("div",{className:"tw-flex tw-flex-row tw-gap-2 tw-mb-4",children:d.jsx(yt,{disabled:l.isPending,onClick:()=>l.mutate(o),children:l.isPending?"Creating...":"Create new project from this JSON"})})]}),!!r.length&&d.jsxs("div",{children:[d.jsx("h2",{children:"Created Projects"}),d.jsx("ul",{children:r.map(({id:f,name:h})=>d.jsx("li",{children:d.jsx("a",{href:`/projects/${f}`,children:h})},f))})]})]})}const c4e=sB([{path:"/project_from_json",element:d.jsx(l4e,{})}]);function u4e(){return d.jsxs(xz,{client:a4e,children:[d.jsx(aB,{router:c4e}),d.jsx(wz,{})]})}const d4e=Object.freeze(Object.defineProperty({__proto__:null,default:u4e},Symbol.toStringTag,{value:"Module"})),f4e=Object.freeze(Object.defineProperty({__proto__:null,default:OL},Symbol.toStringTag,{value:"Module"})),h4e=e=>d.jsx(sr,{value:e.session,children:d.jsx(NL,{...e})}),p4e=Object.freeze(Object.defineProperty({__proto__:null,default:h4e},Symbol.toStringTag,{value:"Module"})),m4e=e=>d.jsx(sr,{value:e.session,children:d.jsx(GL,{...e})}),g4e=Object.freeze(Object.defineProperty({__proto__:null,default:m4e},Symbol.toStringTag,{value:"Module"})),v4e=e=>d.jsx(sr,{value:e.session,children:d.jsx(rF,{...e})}),b4e=Object.freeze(Object.defineProperty({__proto__:null,default:v4e},Symbol.toStringTag,{value:"Module"})),y4e=e=>d.jsx(sr,{value:e.session,children:d.jsx(jz,{...e})}),_4e=Object.freeze(Object.defineProperty({__proto__:null,default:y4e},Symbol.toStringTag,{value:"Module"})),x4e=hu.div`
  height: calc(100vh - 200px);
  display: flex;
  justify-content: center;
  align-items: center;
`,w4e=()=>d.jsx(x4e,{children:d.jsx("div",{className:"spinner-border text-primary",role:"status",children:d.jsx("span",{className:"sr-only",children:"Loading..."})})}),S4e=({id:e})=>{const[t,n]=b.useState("");return d.jsxs(b.Suspense,{fallback:d.jsx(w4e,{}),children:[d.jsx(sh,{content:t,setContent:n}),d.jsx("input",{type:"hidden",id:e,name:"message[text]",value:t})]})},C4e=Object.freeze(Object.defineProperty({__proto__:null,default:S4e},Symbol.toStringTag,{value:"Module"})),T4e=e=>d.jsx(sr,{children:d.jsx(ML,{...e})}),j4e=Object.freeze(Object.defineProperty({__proto__:null,default:T4e},Symbol.toStringTag,{value:"Module"})),E4e=e=>d.jsx(sr,{value:e.session,children:d.jsx(QR,{...e})}),k4e=Object.freeze(Object.defineProperty({__proto__:null,default:E4e},Symbol.toStringTag,{value:"Module"})),O4e=({value:e})=>{const[t,n]=b.useState(e);return d.jsxs("div",{children:[d.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-2 tw-mb-2",children:[d.jsx("span",{className:"tw-font-medium tw-text-gray-900",children:"Customer facing results page note"}),d.jsx(rs,{title:"Add any notes or internal descriptions of your project here! This field isn’t shown to Surgers.",children:d.jsx(XA,{style:{marginRight:10,verticalAlign:1}})})]}),d.jsx(sh,{className:"tw-bg-white",content:t,setContent:n}),d.jsx("input",{className:"hidden",type:"hidden",name:"project[description]",value:t,id:"description"})]})},M4e=Cl(O4e),N4e=Object.freeze(Object.defineProperty({__proto__:null,default:M4e},Symbol.toStringTag,{value:"Module"}));uH();const P4e=({row:e,bulkCreateTasksQuery:t,validatedNewTaskPayload:n,handleEditOrSetGoldStandardClicked:r,setConfirmingDeleteOfTaskId:i,deleteDisabled:o})=>e.original.type==="new"?d.jsxs("div",{children:[d.jsx(yt,{buttonSize:"sm",onClick:()=>{switch(t.status){case"loading":case"loaded":return;case"not_loaded":case"failure":t.load();break;default:Lt()}},icon:t.status=="loading"?fn:void 0,disabled:t.status=="loading",variant:"outline",className:"tw-mb-3",children:"Create task"}),d.jsx("div",{className:"tw-text-red-300 tw-text-xs tw-mb-3",children:n!=null&&n.missingDataKeys.length?`Missing data for: ${n.missingDataKeys.join(", ")}`:null})]}):d.jsxs("div",{children:[d.jsxs(yt,{buttonSize:"sm",onClick:()=>{if(e.original.type=="new")throw Error();return r(e.original.row.id)},variant:e.original.row.is_gold_standard?"primary":"outline",className:"tw-mb-3",children:[e.original.row.is_gold_standard?"Edit":"Set"," gold standard"]})," ",d.jsx(yt,{buttonSize:"sm",onClick:()=>{if(e.original.type=="new")throw Error();window.open(`/tasks/${e.original.row.id}`,"_blank")},className:"tw-mr-1 tw-mb-3",variant:"outline",children:"Preview Task"}),d.jsx(yt,{variant:"negative",buttonSize:"sm",onClick:()=>{if(e.original.type=="new")throw Error();i(e.original.row.id)},disabled:o,children:"Delete Task"})]});function A4e({projectId:e,filename:t}){const n=`/exports/${e}/export_project_as_csv`;return d.jsx("div",{children:d.jsx("a",{href:n,download:t,target:"_blank",className:Se(vH.lg,bH.outline,"tw-text-size-button tw-whitespace-nowrap disabled:tw-cursor-not-allowed","tw-rounded-input tw-inline-flex tw-items-center tw-border"),rel:"noreferrer",children:"Download Input CSV"})})}function R4e({projectId:e}){const[t,n]=b.useState("beginning"),[r,i]=b.useState(!1),[o,s]=b.useState(!1),a=async()=>{s(!0),Ez(e,t).then(()=>i(!1)).catch(l=>{alert("Unexpected error updating the display probability"),console.error(l)}).finally(()=>s(!1))};return d.jsxs("div",{children:[d.jsx(A1,{isOpen:r,setIsOpen:i,children:d.jsxs("div",{className:Se("tw-flex tw-flex-col tw-items-center","tw-mx-16 tw-mt-16 tw-mb-9","tw-text-center tw-space-y-6"),children:[d.jsx("div",{className:"tw-flex tw-justify-center tw-items-center tw-space-x-3",children:d.jsx(g5,{label:"Update every gold standard to display at the following time for this project:",onChange:l=>{const c=l.currentTarget.value;if(!(c==="beginning"||c==="throughout"||c==="with_fixed_probability"||c==="with_10p_probability"||c==="with_5p_probability"||c==="with_2p_probability"||c==="end"))throw Error();return n(c)},value:t||void 0,children:Object.entries(HS).map(([l,c])=>d.jsx("option",{value:l,children:c},l))})}),d.jsxs("div",{className:"tw-flex tw-justify-center tw-items-center tw-space-x-3",children:[d.jsx(yt,{variant:"outline",onClick:()=>i(!1),className:Se("tw-text-center","tw-flex tw-justify-center tw-items-center","tw-w-40 tw-h-16"),children:d.jsx("span",{children:"Cancel"})}),d.jsxs(yt,{"data-testid":"confirm-button",variant:"primary",disabled:o,onClick:a,className:Se("tw-text-center","tw-flex tw-justify-center tw-items-center","tw-w-40 tw-h-16"),children:[o&&d.jsx(fn,{className:"tw-w-6 tw-h-6"}),d.jsx("div",{className:"tw-h-6",children:"Update all"})]})]})]})}),d.jsx(yt,{variant:"outline",onClick:()=>i(!0),children:"Update when to display for all"})]})}function $4e({id:e,questionTypeToComponent:t,inputDataFilename:n}){var G,Y;const[r,i]=m_(null),[o,s]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(),[f,h]=b.useState(null),[m,p]=b.useState(null);b.useEffect(()=>{s(!0),Kr(e,"task_input_data",void 0).then(te=>i(te)).catch(te=>{console.error(te),alert("We had trouble loading the project input data. Please reload. If the problem persists, please contact us.")}).finally(()=>{s(!1)})},[e,i]);const g=b.useCallback(te=>{u(te),l(!0)},[l,u]),[_,x]=b.useState(!1),[S,C]=m_(new Map),j=b.useMemo(()=>{var ne;if(!r)return null;const te=Object.keys((ne=r.tasks[0])==null?void 0:ne.data).sort();return r.tasks.slice(1).some(({data:B})=>!OW.isEqual(Object.keys(B).sort(),te))?{error:"Data keys are not consistent across tasks. Please contact engineering about this!"}:{value:te}},[r]),k=b.useMemo(()=>{if(j&&j.value){const te=Object.fromEntries(j.value.map(B=>[B,S.get(B)||""])),ne=j.value.filter(B=>{var Q;return!((Q=S.get(B))!=null&&Q.trim())});return{validated:te,missingDataKeys:ne}}else return{validated:Object.fromEntries(S.entries()),missingDataKeys:[]}},[j,S]),T=li({queryKey:k,queryFn:te=>{if(!te)throw Error("Nothing should trigger this query if the validatedNewTaskPayload is null");return Dfe(e,[te.validated],{dont_launch_even_if_project_is_completed:!0})},delay:!0,onLoadOrFailure:b.useCallback((te,ne)=>{te.status!="failure"&&(i(B=>{const Q=(te.data||[]).map(K=>({id:K.id,data:K.fields,is_gold_standard:K.is_gold_standard,when_to_show:null,data_field_randomization_mapping:null,num_responses_completed:0,num_responses_in_progress:0}));B==null||B.tasks.splice(0,0,...Q)}),C(new Map),x(!1),ne())},[i,C])}),y=b.useMemo(()=>{if(!r)return null;const te=r.tasks.map(ne=>({type:"existing",row:ne}));return _?[{type:"new"}].concat(te):te},[r,_]),P=b.useMemo(()=>{if(r&&y){const te={};return r.project.items.forEach(ne=>{Object.keys(ne.explanations).forEach(B=>{Object.keys(ne.explanations[B]).forEach(Q=>{ne.explanations[B]&&ne.explanations[B][Q]!==null&&ne.explanations[B][Q]!==""&&(Object.prototype.hasOwnProperty.call(te,B)?te[B]={...te[B],[Q]:ne.explanations[B][Q]}:te[B]={[Q]:ne.explanations[B][Q]})})})}),[{Header:d.jsx(Ue,{label:"Actions"}),id:"actions",accessor:()=>null,Cell:ne=>d.jsx("div",{children:d.jsx(P4e,{...ne,bulkCreateTasksQuery:T,validatedNewTaskPayload:k,handleEditOrSetGoldStandardClicked:g,setConfirmingDeleteOfTaskId:p,deleteDisabled:f!=null||m!=null})}),disableFilters:!0,disableSortBy:!0},...r.project.data_keys.map(ne=>ud({Header:d.jsx(Ue,{label:ne,capitalize:!1}),accessor:B=>{if(B.type==="new")return d.jsx(Do,{label:"",value:S.get(ne),onChange:de=>{C(X=>{X.set(ne,de.currentTarget.value)})}});const Q=B==null?void 0:B.row.data[ne],K=dH(parseFloat(Q));return K!=null&&K.toString()===Q?K:Q},id:`data-${ne}`},y)),ud({Header:d.jsx(Ue,{label:"Number of Responses Completed"}),accessor:ne=>ne.type==="new"?0:ne.row.num_responses_completed,id:"num-tasks-completed"},y),ud({Header:d.jsx(Ue,{label:"Gold Standard?"}),accessor:ne=>ne.type==="new"?"-":ne.row.is_gold_standard?"Yes":"No",id:"is-gold-standard"},y),ud({Header:d.jsx(Ue,{label:"When to Show"}),accessor:ne=>ne.type==="new"?"":ne.row.is_gold_standard&&ne.row.when_to_show?HS[ne.row.when_to_show]:"",id:"when-to-show"},y),ud({Header:d.jsx(Ue,{label:"Has Explanation?"}),accessor:ne=>ne.type==="new"?"-":te[ne.row.id]?"Yes":"No",id:"has-explanation"},y)]}return[]},[r,y,T,k,g,f,m,S,C]),A=(te,ne,B,Q,K)=>{var de,X,J;if(!r)throw Error("Should be defined if this is called");i({...r,tasks:r.tasks.map(ue=>ue.id===te.id?K?b5(ue,Q):Rx(ue):ue),project:{...r.project,gold_standard_answers:{...(de=r==null?void 0:r.project)==null?void 0:de.gold_standard_answers,[te.id]:_5(B,r)},items:(J=(X=r==null?void 0:r.project)==null?void 0:X.items)==null?void 0:J.map(ue=>{var xe,_e;return{...ue,explanations:{...ue.explanations,[te.id]:{[ue.id]:(xe=ne[ue.id])!=null&&xe.explanation?(_e=ne[ue.id])==null?void 0:_e.explanation:null}}}})}})},$=te=>{var ne,B,Q;if(!r)throw Error("Should be defined if this is called");i({...r,tasks:r.tasks.map(K=>K.id===te.id?Rx(K):K),project:{...r.project,gold_standard_answers:Object.keys(((ne=r==null?void 0:r.project)==null?void 0:ne.gold_standard_answers)||{}).reduce((K,de)=>de!==te.id?{...K,[de]:r.project.gold_standard_answers[de]}:K,{}),items:(Q=(B=r==null?void 0:r.project)==null?void 0:B.items)==null?void 0:Q.map(K=>({...K,explanations:{...K.explanations,[te.id]:{[K.id]:null}}}))}})},L=te=>{if(!r)throw Error("Should be defined if this is called");h(te),$fe(te).then(()=>{i({...r,tasks:r.tasks.filter(ne=>ne.id!==te)}),p(null),h(null)})},U=b.useCallback(te=>{var ne,B;return(B=(ne=r==null?void 0:r.project)==null?void 0:ne.items)==null?void 0:B.reduce((Q,K)=>{var de;return(de=K==null?void 0:K.explanations)!=null&&de[te]?{...Q,...K.explanations[te]}:Q},{})},[(G=r==null?void 0:r.project)==null?void 0:G.items]),F=()=>{l(!1)},H=b.useMemo(()=>{if(r&&c!=null)return r==null?void 0:r.tasks.find(te=>te.id===c)},[r,c]),q=b.useMemo(()=>{if(H&&r)if(r.project.gold_standard_answers[H.id]){const te=U(H.id);if(!te)throw Error();return{id:H.id,questions:Object.keys(r.project.gold_standard_answers[H.id]).reduce((ne,B)=>({...ne,[B]:{...r.project.gold_standard_answers[H.id][B],enabled:!0,explanation:te[B]}}),{}),data:H.data}}else return{id:H.id,questions:null,data:H.data}},[H,U,r]),re=b.useMemo(()=>{if(c==null)return null;y==null||y.findIndex(te=>te.type=="existing"?te.row.id==c:!1)},[c,y]);return d.jsxs("div",{children:[d.jsx(mu,{activeRowId:re,hover:!0,isLoading:o,columns:P,data:y||[],defaultLayout:"full",ToolbarComponent:()=>d.jsx(UU,{enableSearch:!0,enableLayoutToolbar:!0,children:d.jsxs("div",{className:"tw-flex tw-items-center tw-justify-end tw-h-full tw-w-full tw-space-x-2",children:[d.jsx(A4e,{projectId:e,filename:n}),d.jsx(R4e,{projectId:e}),d.jsx(yn,{content:j==null?void 0:j.error,disabled:!(j!=null&&j.error),children:d.jsx("div",{children:d.jsx(yt,{variant:"primary",buttonSize:"lg",disabled:!!(j!=null&&j.error),onClick:()=>x(te=>!te),children:_?"Close new task":"New task"})})})]})}),tableUniqueIdentifier:`ProjectInputData/${e}`}),d.jsx(qg,{open:a,onClose:F,title:q!=null&&q.questions?"Edit Gold Standard":"Create Gold Standard",subtitle:"Task",children:H&&q&&r?d.jsxs(b.Fragment,{children:[d.jsx("h1",{children:(Y=r==null?void 0:r.project)==null?void 0:Y.name}),d.jsx(qS,{id:e,tableData:r,task:H,taskResponse:q,questionTypeToComponent:t,onClose:F,onGoldStandardUpdate:A,onGoldStandardDelete:$,dataFieldRandomizationMapping:H.data_field_randomization_mapping||void 0})]}):d.jsx("div",{children:d.jsx(fn,{className:"tw-text-white-80 tw-w-8 tw-h-8 tw-ml-1"})})}),d.jsx(Eo,{text:"Are you sure you want to delete this task?",confirmBtnText:"Let's do it!",onConfirmed:()=>L(m),isOpen:m!=null,setIsOpen:()=>p(null),showLoadingIcon:f!=null})]})}const I4e=e=>d.jsx(sr,{children:d.jsx($4e,{...e,questionTypeToComponent:Bg})}),D4e=Object.freeze(Object.defineProperty({__proto__:null,default:I4e},Symbol.toStringTag,{value:"Module"})),L4e=Object.freeze(Object.defineProperty({__proto__:null,default:d5},Symbol.toStringTag,{value:"Module"}));var RP,$P,IP,DP,LP,FP,zP,BP,WP,HP,qP;function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g1.apply(this,arguments)}var F4e=function(t){return b.createElement("svg",g1({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 357 358"},t),RP||(RP=b.createElement("circle",{cx:178.5,cy:179.219,r:178.5,fill:"#BE82FA",opacity:.1})),$P||($P=b.createElement("path",{stroke:"#782396",strokeWidth:2,d:"M117 126.719v131c0 11.045 8.954 20 20 20h9M101 79.719h130c11.046 0 20 8.954 20 20v144"})),IP||(IP=b.createElement("path",{fill:"#fff",stroke:"#782396",strokeWidth:2,d:"M257 277.719H144.956c7.118-3.362 12.044-10.606 12.044-19v-14h119v14c0 10.493-8.507 19-19 19Z"})),DP||(DP=b.createElement("mask",{id:"no-access_svg__a",fill:"#fff"},b.createElement("path",{fillRule:"evenodd",d:"M184.5 125.719c-9.665 0-17.5 7.835-17.5 17.5v24.5h35v-24.5c0-9.665-7.835-17.5-17.5-17.5m0 8a9.5 9.5 0 0 0-9.5 9.5v16.5h19v-16.5a9.5 9.5 0 0 0-9.5-9.5",clipRule:"evenodd"}))),LP||(LP=b.createElement("path",{fill:"#BE82FA",fillRule:"evenodd",d:"M184.5 125.719c-9.665 0-17.5 7.835-17.5 17.5v24.5h35v-24.5c0-9.665-7.835-17.5-17.5-17.5m0 8a9.5 9.5 0 0 0-9.5 9.5v16.5h19v-16.5a9.5 9.5 0 0 0-9.5-9.5",clipRule:"evenodd"})),FP||(FP=b.createElement("path",{fill:"#782396",d:"M167 167.719h-2v2h2zm35 0v2h2v-2zm-27-8h-2v2h2zm19 0v2h2v-2zm-25-16.5c0-8.561 6.94-15.5 15.5-15.5v-4c-10.77 0-19.5 8.73-19.5 19.5zm0 24.5v-24.5h-4v24.5zm33-2h-35v4h35zm-2-22.5v24.5h4v-24.5zm-15.5-15.5c8.56 0 15.5 6.939 15.5 15.5h4c0-10.77-8.73-19.5-19.5-19.5zm-7.5 15.5a7.5 7.5 0 0 1 7.5-7.5v-4c-6.351 0-11.5 5.148-11.5 11.5zm0 16.5v-16.5h-4v16.5zm17-2h-19v4h19zm-2-14.5v16.5h4v-16.5zm-7.5-7.5a7.5 7.5 0 0 1 7.5 7.5h4c0-6.352-5.149-11.5-11.5-11.5z",mask:"url(#no-access_svg__a)"})),zP||(zP=b.createElement("rect",{width:62,height:62,x:154,y:153.719,fill:"#BE82FA",stroke:"#782396",strokeWidth:2,rx:31})),BP||(BP=b.createElement("rect",{width:42,height:42,x:164,y:163.719,fill:"#CC9AFF",rx:21})),WP||(WP=b.createElement("path",{fill:"#fff",stroke:"#782396",strokeLinejoin:"round",strokeWidth:2,d:"M194.248 185.387a5.67 5.67 0 0 0-2.461-2.312 5.526 5.526 0 0 0-3.314-.475l3.714-2.186a5.642 5.642 0 0 0 1.65-1.474c.45-.597.78-1.278.971-2.005a5.846 5.846 0 0 0-.56-4.349 5.717 5.717 0 0 0-1.446-1.682 5.588 5.588 0 0 0-1.967-.989 5.501 5.501 0 0 0-2.189-.147 5.547 5.547 0 0 0-2.077.718l-9.741 5.727a5.707 5.707 0 0 0-2.479 2.984 5.828 5.828 0 0 0-.023 3.909 5.701 5.701 0 0 0 2.442 3.014 5.525 5.525 0 0 0 3.77.715l-3.715 2.186a5.658 5.658 0 0 0-1.651 1.474 5.812 5.812 0 0 0-.409 6.356c.369.652.86 1.224 1.446 1.683a5.563 5.563 0 0 0 4.157 1.136 5.579 5.579 0 0 0 2.078-.72l9.739-5.728a5.642 5.642 0 0 0 1.65-1.474c.45-.597.78-1.279.971-2.006a5.832 5.832 0 0 0-.563-4.35z"})),HP||(HP=b.createElement("path",{fill:"#fff",stroke:"#782396",strokeWidth:2,d:"M80 98.219c0-10.218 8.283-18.5 18.5-18.5S117 88 117 98.219v27.5H80v-27.5Z"})),qP||(qP=b.createElement("path",{stroke:"#782396",strokeLinecap:"round",strokeWidth:2,d:"M135 115.719h98M135 127.719h30M233 127.719h-30M135 139.719h25M233 139.719h-25M135 151.719h13M233 151.719h-13M135 163.719h10M223 163.719h10M135 175.719h10M223 175.719h10M135 187.719h10M223 187.719h10M135 199.719h10M223 199.719h10M135 211.719h16M233 211.719h-16M135 223.719h98"})))};function z4e(){const[e]=nK("id");return fH("No Access to project presented",{projectId:e}),d.jsx(s5,{title:"You don't have access to this project",description:"Please request a team invite from the project owner.",buttons:[{text:"Go back home",link:"/projects"}],icon:d.jsx(F4e,{className:"tw-mx-auto tw-h-72 tw-w-auto"})})}const B4e=Object.freeze(Object.defineProperty({__proto__:null,default:z4e},Symbol.toStringTag,{value:"Module"}));function W4e({projectData:e,tasksCount:t,questions:n,forUploadAttempt:r}){return d.jsx(oF,{projectData:e,tasksCount:t,questions:n,forUploadAttempt:r})}const H4e=Cl(W4e),q4e=Object.freeze(Object.defineProperty({__proto__:null,default:H4e},Symbol.toStringTag,{value:"Module"}));function XF({project:e,session:t}){const[n,r]=b.useState(e.maxWorkTimeInSeconds/60);return t!=null&&t.admin?d.jsxs("div",{className:"flex-grow-1",children:[d.jsx("label",{className:"control-label required",htmlFor:"maxWorkTime",children:d.jsx("span",{className:"tw-font-medium tw-text-gray-900",children:"Maximum work time in minutes"})}),d.jsx("div",{className:"input-group",children:d.jsxs("div",{className:"input string required flex-grow-1",children:[d.jsx("input",{className:"string required form-control",required:!0,"aria-required":"true",type:"number",name:"max_work_time_in_minutes",min:1,id:"project_max_work_time_in_minutes",value:n,onChange:i=>r(parseInt(i.target.value))}),d.jsx("input",{type:"hidden",name:"project[max_work_time_in_seconds]",value:n*60})]})})]}):null}const V4e=Cl(function({project:e,session:t}){return d.jsx(P0,{children:d.jsx(XF,{project:e,session:t})})}),U4e=Object.freeze(Object.defineProperty({__proto__:null,ProjectAdvancedUpdateMaxWorkTime:XF,default:V4e},Symbol.toStringTag,{value:"Module"})),G4e=Object.freeze(Object.defineProperty({__proto__:null,default:h4},Symbol.toStringTag,{value:"Module"})),K4e=Object.freeze(Object.defineProperty({__proto__:null,default:m5},Symbol.toStringTag,{value:"Module"}));function Y4e(e){return t=>Ja.get(`/api_internal/projects/${e}/review_progress`).then(n=>{const{data:r}=n;return t({type:"REVIEWS/FETCH",projectId:e,data:r}),r})}const e7=hu.div`
  align-items: center;
  background-color: white;
  border: ${e=>e.borderless?"none":"1px solid #ddd"};
  border-radius: 1px;
  display: flex;
  font-size: 20px;
  height: 40px;
`,Z4e=hu(e7)`
  position: fixed;
  right: 10vw;
  top: 6px;
  padding: 0 10px;
`;function t7({borderless:e=!1,projectId:t,isFloating:n=!1}){const r=n?Z4e:e7,i=S5e(s=>s.reviews.projects[t]),o=y5e();return b.useEffect(()=>{o(Y4e(t))},[o,t]),i?d.jsx(r,{borderless:e,children:d.jsx(rs,{title:`${i==null?void 0:i.num_responses_reviewed} responses reviewed of ${i==null?void 0:i.num_responses_completed} completed`,placement:"bottom",children:i.num_responses_reviewed>0?d.jsxs("h5",{children:["Number Reviewed: ",i.num_responses_reviewed]}):d.jsx("h5",{children:"No Reviews Yet"})})}):d.jsx(b.Fragment,{})}const Q4e=Cl(function(e){return d.jsx(P0,{children:d.jsx(t7,{...e})})}),J4e=Object.freeze(Object.defineProperty({__proto__:null,ReviewProgress:t7,default:Q4e},Symbol.toStringTag,{value:"Module"})),VP={"":"None",random_sample:"Random Sample",first_n_per_user:"N Responses Per User"},X4e=({samplingMethod:e,nSamplesPerUser:t,minResponsesPerUser:n,sampleProportion:r,error:i,parentId:o,canEditParent:s})=>{const[a,l]=b.useState(e||""),[c,u]=b.useState(t||""),[f,h]=b.useState(n??""),[m,p]=b.useState(r!=null?Math.round(r*100):0),[g,_]=b.useState(o||null),x=x3();return d.jsxs("div",{children:[s&&d.jsxs(pq.Provider,{value:x,children:[d.jsx("div",{className:"tw-text-lg",children:"Parent Project"}),d.jsx("div",{className:"tw-shrink-0 tw-flex tw-grow",children:d.jsx(mq,{projectId:g,setProjectId:_})})]}),d.jsx("input",{className:"hidden",type:"hidden",name:"project[parent_id]",value:g||void 0}),d.jsx("input",{className:"hidden",type:"hidden",name:"project[sampler_attributes][project_id]",value:g||void 0}),d.jsx("div",{className:"tw-text-lg",children:"How should responses be sampled from the parent project?"}),d.jsx("div",{className:"tw-text-black tw-font-black tw-text-base",children:"Sampling Method"}),d.jsxs("div",{children:[d.jsx(ul,{options:Object.entries(VP).map(([S,C])=>({value:S,label:C})),isMulti:!1,onChange:S=>l((S==null?void 0:S.value)||""),value:{value:a,label:VP[a]}}),d.jsx("input",{className:"hidden",type:"hidden",name:"project[sampler_attributes][sampling_method]",value:a})]}),a==="random_sample"&&d.jsxs("div",{children:[d.jsx(pn,{variant:"black",value:(m==null?void 0:m.toString())??"",onChange:S=>{p(parseInt(S.target.value))},label:"Percentage of responses to sample (between 0% and 100%):",type:"number",min:0,max:100,step:1,icon:()=>d.jsx(d.Fragment,{children:"%"}),id:"project_sampler_attributes_sample_proportion"}),d.jsx("input",{className:"hidden",type:"hidden",name:"project[sampler_attributes][sample_proportion]",value:m!=null?(m||0)/100:void 0})]}),a==="first_n_per_user"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{children:d.jsx(pn,{variant:"black",value:c,onChange:S=>{u(parseInt(S.target.value))},label:"Number of responses to sample from each user:",type:"number",min:1,step:"1",name:"project[sampler_attributes][n_samples_per_user]",id:"project_sampler_attributes_n_samples_per_user"})}),d.jsx("div",{children:d.jsx(pn,{variant:"black",value:f,onChange:S=>{h(parseInt(S.target.value))},label:"Minimum number of responses for a user to be included:",type:"number",min:1,step:"1",name:"project[sampler_attributes][min_responses_per_user]",id:"project_sampler_attributes_min_responses_per_user"})})]}),i?d.jsxs(d.Fragment,{children:[d.jsx(hH,{inputSize:"md"})," ",d.jsx(pH,{error:i})]}):null]})},eDe=e=>d.jsx(X4e,{...e}),tDe=Object.freeze(Object.defineProperty({__proto__:null,default:eDe},Symbol.toStringTag,{value:"Module"})),nDe=({activeTags:e=[],allTags:t,label:n})=>d.jsx(oV,{activeTags:e,allTags:t,placeholder:"Add one or more tags",label:n}),rDe=Object.freeze(Object.defineProperty({__proto__:null,default:nDe},Symbol.toStringTag,{value:"Module"})),iDe={chat:!1,projectPay:!1,resultsReordering:!1};function oDe({projectId:e,modelRandomizationSettings:t,row:n,questionsData:r,rawQuestions:i,fieldsText:o,instructions:s="",projectUpdatedAt:a,questionTypeToComponent:l,surgers:c}){var p;const[f,h]=b.useState(),m=n.original.task_id;return b.useEffect(()=>{(async()=>{try{const _=await Kr(e,"responses_by_task",null,{task_id:m});h(_)}catch(_){alert(`Unexpected error: ${_}`)}})()},[e,m]),d.jsxs("div",{className:"tw-border-b tw-px-12 tw-py-8",children:[d.jsx("div",{children:Array.isArray((p=n.original)==null?void 0:p.distribution)&&n.original.distribution.map(g=>d.jsx(OU,{positive:n.original.answers.includes(g.option_id),negative:!n.original.answers.includes(g.option_id),label:g.option,barWidth:`${g.total/n.original.distribution_denominator*100}%`,barText:L1(g.total,n.original.distribution_denominator)},g.option_id))}),d.jsx("div",{children:d.jsx(iq,{className:"tw-py-3 md:tw-py-6 lg:tw-py-10",projectId:e,modelRandomizationSettings:t,isAdmin:!1,isRateAndReview:!1,includeGoldStandards:!0,isLoading:!f||!r,data:f,questions:r,fieldsText:o,instructions:s,questionTypeToComponent:l,rawQuestions:i,showAggregated:!1,defaultPageSize:10,projectUpdatedAt:a,defaultLayout:"full",surgers:c,projectFeatureVisibilities:iDe})})]})}function n7({projectId:e,modelRandomizationSettings:t,data:n,taskInputData:r,questionsData:i,rawQuestions:o,fieldsText:s,instructions:a="",projectUpdatedAt:l,questionTypeToComponent:c,surgers:u,title:f="Gold Standard Analytics"}){var A,$;const[h,m]=b.useState(!1),[p,g]=b.useState(),[_,x]=b.useState(r);b.useEffect(()=>{x(r)},[r]);const S=b.useCallback(L=>{var U,F;return(F=(U=_==null?void 0:_.project)==null?void 0:U.items)==null?void 0:F.reduce((H,q)=>{var re,G;return(re=q==null?void 0:q.explanations)!=null&&re[L]?{...H,...(G=q==null?void 0:q.explanations)==null?void 0:G[L]}:H},{})},[(A=_==null?void 0:_.project)==null?void 0:A.items]),C=b.useMemo(()=>{if(r&&p!=null)return _==null?void 0:_.tasks.find(L=>L.id===p)},[p,_==null?void 0:_.tasks,r]),j=b.useMemo(()=>{if(C&&_)if(_.project.gold_standard_answers[C.id]){const L=S(C.id);return{id:C.id,questions:Object.keys(_.project.gold_standard_answers[C.id]).reduce((U,F)=>({...U,[F]:{..._.project.gold_standard_answers[C.id][F],enabled:!0,explanation:L[F]}}),{}),data:C.data}}else return{id:C.id,questions:null,data:C.data}},[C,S,_]),k=(L,U,F,H,q)=>{var re,G,Y;x({..._,tasks:_.tasks.map(te=>te.id===L.id?q?b5(te,H):Rx(te):te),project:{..._.project,gold_standard_answers:{...(re=_==null?void 0:_.project)==null?void 0:re.gold_standard_answers,[L.id]:_5(F,_)},items:(Y=(G=_==null?void 0:_.project)==null?void 0:G.items)==null?void 0:Y.map(te=>{var ne,B;return{...te,explanations:{...te.explanations,[L.id]:{[te.id]:(ne=U[te.id])!=null&&ne.explanation?(B=U[te.id])==null?void 0:B.explanation:null}}}})}})},T=b.useCallback(({row:L,rowProps:U})=>d.jsx(oDe,{projectId:e,modelRandomizationSettings:t,row:L,rowProps:U,questionsData:i,rawQuestions:o,fieldsText:s,instructions:a,projectUpdatedAt:l,questionTypeToComponent:c,surgers:u}),[s,a,t,e,l,c,i,o,u]),y=b.useMemo(()=>n?[{Header:()=>null,id:"expander",Cell:({row:L})=>d.jsx("span",{...L.getToggleRowExpandedProps(),children:L.isExpanded?d.jsx(MW,{className:"tw-w-8 tw-h-8 tw-text-primary-default-100 hover:tw-text-primary-light-100"}):d.jsx(NW,{className:"tw-w-8 tw-h-8 tw-text-primary-default-100 hover:tw-text-primary-light-100"})}),SubCell:()=>null,width:40,minWidth:40,maxWidth:40},{Header:d.jsx(Ue,{children:d.jsx("span",{className:"tw-text-size-large",children:"Question"})}),id:"question",accessor:"item_text",Cell:({value:L})=>d.jsx("span",{dangerouslySetInnerHTML:{__html:Da(L)}})},...n.task_data_keys.map(L=>({Header:d.jsx(Ue,{children:d.jsx("span",{className:"tw-text-size-large",children:L})}),id:"task_data_"+L,accessor:U=>U.task_data[L],Cell:({value:U})=>d.jsx("span",{dangerouslySetInnerHTML:{__html:Da(U||"")}})})),{Header:d.jsx(Ue,{children:d.jsx("span",{className:"tw-text-size-large",children:"Number of Responses"})}),id:"total_scores",accessor:"total_scores",Cell:({value:L})=>d.jsx("span",{dangerouslySetInnerHTML:{__html:Da(L)}}),minWidth:90,width:90,maxWidth:180},{Header:d.jsx(Ue,{children:d.jsx("span",{className:"tw-text-size-large",children:"Percent Correct"})}),id:"avg_score",accessor:"avg_score",Cell:({value:L})=>d.jsx("span",{dangerouslySetInnerHTML:{__html:Da(`${L==null?void 0:L.toFixed(0)}%`)}}),minWidth:80,width:80,maxWidth:160},{Header:d.jsx(Ue,{label:""}),id:"view_gold_standard",accessor:"task_id",Cell:({value:L})=>d.jsx("button",{onClick:()=>{m(!0),g(L)},children:"View Gold Standard"}),minWidth:80,width:80,maxWidth:160}]:[],[n]),P=()=>{m(!1)};return d.jsxs("div",{children:[d.jsx("h3",{children:f}),d.jsx(mu,{hover:!1,ToolbarComponent:()=>d.jsx(d.Fragment,{}),columns:y,data:(n==null?void 0:n.gold_standard_responses)||[],loading:!n,renderRowSubComponent:T}),d.jsx(qg,{open:h,onClose:P,subtitle:"Gold Standard",title:"View Gold Standard",children:d.jsx("div",{children:C&&j?d.jsxs(b.Fragment,{children:[d.jsx("h1",{children:($=_==null?void 0:_.project)==null?void 0:$.name}),d.jsx(qS,{id:p,tableData:_,task:C,taskResponse:j,questionTypeToComponent:c,onClose:P,onGoldStandardUpdate:k,showDeleteButton:!1})]}):d.jsx("div",{children:d.jsx(fn,{className:"tw-text-white-80 tw-w-8 tw-h-8 tw-ml-1"})})})})]})}function r7({data:e}){const t=Object.entries(e.rater_agreements).map(([r,i])=>({item_id:r,agreement:(i||1).toFixed(2)})),n=[{id:"item_id",Header:d.jsx(Ue,{label:"Question"}),accessor:"item_id",Cell:({row:r})=>d.jsx("div",{dangerouslySetInnerHTML:{__html:Da(e.item_text_lookup[r.values.item_id])}}),disableFilters:!0,disableSortBy:!0,hideable:!1},{id:"agreement",Header:d.jsx(Ue,{label:"Rater Agreement"}),accessor:"agreement",disableFilters:!0,disableSortBy:!0,hideable:!1}];return d.jsx(d.Fragment,{children:Array.isArray(t)&&t.length>0?d.jsx("div",{className:"gold-standards-table my-3",children:d.jsx($g,{data:t,defaultPageSize:100,columns:n,enableSearch:!1,toolbarElement:d.jsx(d.Fragment,{}),hidePagination:!0})}):d.jsx("div",{className:"my-3 tw-min-h-120",children:d.jsx("div",{className:"tw-text-center",children:"No interrater reliability data available."})})})}function UP({name:e,projectId:t,modelRandomizationSettings:n,questionTypeToComponent:r,surgers:i}){const[o,s]=b.useState(),[a,l]=b.useState(),[c,u]=b.useState(),[f,h]=b.useState(null);return b.useEffect(()=>{(async()=>{try{const[p,g,_]=await Promise.all([Kr(t,"quality_control",null),Kr(t,"task_input_data",null),Kr(t,"questions",null)]);s(p),l(g),u(_)}catch(p){h(p.message)}})()},[t]),d.jsxs("div",{children:[d.jsx("h3",{children:e}),o&&a&&c?d.jsxs(d.Fragment,{children:[d.jsx(r7,{data:o}),d.jsx(n7,{data:o,fieldsText:a.project.fields_text,instructions:a.project.instructions||"",projectId:t,modelRandomizationSettings:n,projectUpdatedAt:new Date(a.project.updated_at).getTime(),questionsData:c,questionTypeToComponent:r,rawQuestions:a.project.questions,surgers:i,taskInputData:a,title:`${e} Gold Standard Analytics`})]}):d.jsx(d.Fragment,{children:d.jsx("div",{className:"tw-min-w-full tw-min-h-2xl tw-flex tw-justify-center tw-items-center",children:f?d.jsx("div",{children:f}):d.jsx(fn,{className:"tw-text-primary-default-80",height:56,width:56})})})]})}function sDe({id:e,disabled:t,fieldsText:n,instructions:r,projectUpdatedAt:i,rawQuestions:o,modelRandomizationSettings:s,questionTypeToComponent:a,isAdmin:l}){const[c,u]=b.useState(),[f,h]=b.useState(),[m,p]=b.useState(),[g,_]=b.useState(),[x,S]=b.useState(),[C,j]=b.useState(),[k,T]=b.useState();return b.useEffect(()=>{(async()=>{const P=await oq(e),A=Object.values(P).sort(($,L)=>l?($.full_name||"").localeCompare(L.full_name||""):$.euid.localeCompare(L.euid));u(A)})()},[e,l]),b.useEffect(()=>{t||(async()=>{try{const[P,A,$]=await Promise.all([Kr(e,"quality_control",null),Kr(e,"task_input_data",null),Kr(e,"questions",null)]);h(P),p(A),_($)}catch(P){Ja.isAxiosError(P)&&S(P.message)}})()},[e,t]),b.useEffect(()=>{(async()=>{try{const P=await sV(e,!0);j(P)}catch(P){Ja.isAxiosError(P)&&S(P.message)}})()},[e]),b.useEffect(()=>{(async()=>{try{const P=await aV(e);T(P)}catch(P){Ja.isAxiosError(P)&&S(P.message)}})()},[e]),t?d.jsxs("div",{className:"tw-text-center tw-mt-5",children:[d.jsx("h3",{children:"Data Quality"}),d.jsx("p",{children:"Data quality is not available for this project."})]}):x?d.jsxs("div",{className:"tw-text-center tw-mt-5",children:[d.jsx("h3",{children:"Data Quality"}),d.jsxs("p",{children:["Error: ",x]})]}):f?d.jsxs("div",{className:"data-quality tw-mt-5",children:[d.jsx("h3",{children:"Agreement Statistics"}),d.jsx(r7,{data:f}),f&&m&&g&&c?d.jsx("div",{className:"tw-pt-7",children:d.jsx(n7,{projectId:e,data:f,taskInputData:m,questionsData:g,rawQuestions:o,fieldsText:n,instructions:r,projectUpdatedAt:i,questionTypeToComponent:a,surgers:c,modelRandomizationSettings:s})}):d.jsx("div",{children:d.jsx(fn,{className:"tw-text-white-80 tw-w-8 tw-h-8 tw-ml-1"})}),Array.isArray(C)&&C.length>0&&c&&d.jsx("div",{className:"tw-pt-7",children:C.map(y=>d.jsx("div",{children:d.jsx(UP,{name:y.name,projectId:y.id,questionTypeToComponent:a,surgers:c,modelRandomizationSettings:y.model_randomization_settings||null})},y.id))}),Array.isArray(k)&&k.length>0&&c&&d.jsx("div",{className:"tw-pt-7",children:k.map(y=>d.jsx("div",{children:d.jsx(UP,{name:y.gold_standard_project.name,projectId:y.gold_standard_project.id,questionTypeToComponent:a,surgers:c,modelRandomizationSettings:y.gold_standard_project.model_randomization_settings||null})},y.id))})]}):d.jsxs("div",{className:"data-quality tw-mt-5",children:[d.jsx("h3",{children:"Agreement Statistics"}),d.jsx("div",{className:"tw-min-w-full tw-min-h-2xl tw-flex tw-justify-center tw-items-center",children:d.jsx(fn,{className:"tw-text-primary-default-80",height:56,width:56})})]})}function aDe(e){return d.jsx(sDe,{...e})}const lDe=Object.freeze(Object.defineProperty({__proto__:null,default:aDe},Symbol.toStringTag,{value:"Module"})),cDe=Object.freeze(Object.defineProperty({__proto__:null,default:fF},Symbol.toStringTag,{value:"Module"})),uDe=e=>{const t={useRlhf:e.useRlhf};return d.jsx(PW,{value:t,children:d.jsx(sr,{value:e.session,children:d.jsx(uB,{...e,questionTypeToComponent:Bg})})})},dDe=Object.freeze(Object.defineProperty({__proto__:null,default:uDe},Symbol.toStringTag,{value:"Module"})),GP=300,fDe=hu.div`
  margin: 20px 0;
`,hDe=hu.div`
  border-bottom: 1px dashed #ddd;
  max-height: 120px;
  margin-bottom: 1em;
  overflow: hidden;
`,pDe=({instructions:e,taskResponse:t,projectId:n,projectUpdatedAt:r})=>{const i=b.useRef(),[o,s]=b.useState(),[a,l]=dB(`${n}:collapsed`);b.useEffect(()=>{var h;s((h=i==null?void 0:i.current)==null?void 0:h.clientHeight)},[]);const c=()=>{l(null)};if(!e)return d.jsx(b.Fragment,{});const u=!o||o&&o<GP||!a,f=o&&o>=GP;return d.jsx("div",{className:"instructions",ref:i,children:u?d.jsx(b.Fragment,{children:d.jsx(fDe,{dangerouslySetInnerHTML:{__html:__(wT(e,t))}})}):d.jsxs(b.Fragment,{children:[d.jsx(hDe,{dangerouslySetInnerHTML:{__html:__(wT(e,t))}}),f&&d.jsx("button",{className:"btn btn-default",onClick:c,children:"Expand Instructions"})]})})},mDe=Object.freeze(Object.defineProperty({__proto__:null,default:pDe},Symbol.toStringTag,{value:"Module"}));function gDe(e){return e.toLowerCase()}var vDe=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],bDe=/[^A-Z0-9]+/gi;function N2(e,t){t===void 0&&(t={});for(var n=t.splitRegexp,r=n===void 0?vDe:n,i=t.stripRegexp,o=i===void 0?bDe:i,s=t.transform,a=s===void 0?gDe:s,l=t.delimiter,c=l===void 0?" ":l,u=KP(KP(e,r,"$1\0$2"),o,"\0"),f=0,h=u.length;u.charAt(f)==="\0";)f++;for(;u.charAt(h-1)==="\0";)h--;return u.slice(f,h).split("\0").map(a).join(c)}function KP(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce(function(r,i){return r.replace(i,n)},e)}function i7(e,t){var n=e.charAt(0),r=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}function yDe(e,t){return t===void 0&&(t={}),N2(e,Ui({delimiter:"",transform:i7},t))}function _De(e,t){return t===0?e.toLowerCase():i7(e,t)}function xDe(e,t){return t===void 0&&(t={}),yDe(e,Ui({transform:_De},t))}function wDe(e,t){return t===void 0&&(t={}),N2(e,Ui({delimiter:"."},t))}function SDe(e,t){return t===void 0&&(t={}),wDe(e,Ui({delimiter:"_"},t))}function CDe(e){return e.charAt(0).toUpperCase()+e.substr(1)}function TDe(e){return CDe(e.toLowerCase())}function jDe(e,t){return t===void 0&&(t={}),N2(e,Ui({delimiter:" ",transform:TDe},t))}function EDe(e,t){return t===void 0&&(t={}),jDe(e,Ui({delimiter:"-"},t))}var kDe=function(e,t){return function(n,r){return e(n,Ui(Ui({},t),r))}},ODe=function(e,t){var n=typeof t=="function"?t:function(r){return t.includes(r)};return function(r,i){return n(r,i)?r:e(r,i)}},im=function(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams},gc=function(e){return typeof FormData<"u"&&e instanceof FormData},o7=function(e){return typeof e=="object"&&e!==null&&Object.prototype.toString.call(e)==="[object Object]"},MDe=function(e){return Array.isArray(e)||o7(e)||gc(e)||im(e)},s7={snake:SDe,camel:xDe,header:EDe},a7=function(e,t,n){var r,i,o,s,a,l;if(!MDe(e))return e;if((gc(e)||im(e))&&(!e.entries||n&&!e.delete)){var c=gc(e)?"FormData":"URLSearchParams",u=gc(e)?"https://github.com/jimmywarting/FormData":"https://github.com/jerrybendy/url-search-params-polyfill";return typeof navigator<"u"&&navigator.product==="ReactNative"?console.warn("Be careful that "+c+" cannot be transformed on React Native. If you intentionally implemented, ignore this kind of warning: https://facebook.github.io/react-native/docs/debugging.html"):(e.entries||console.warn("You must use polyfill of "+c+".prototype.entries() on Internet Explorer or Safari: "+u),n&&!e.delete&&console.warn("You must use polyfill of "+c+".prototype.delete() on Internet Explorer or Safari: "+u)),e}var f=Object.getPrototypeOf(e),h=n?e:f?new f.constructor:Object.create(null),m;if(gc(e)||im(e)){if(m=e.entries(),n){m=Lp([],La(m),!1);try{for(var p=qd(m),g=p.next();!g.done;g=p.next()){var _=La(g.value,1),x=_[0];e.delete(x)}}catch(A){r={error:A}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}}else if(m=Object.entries(e),n&&!Array.isArray(e))try{for(var S=qd(m),C=S.next();!C.done;C=S.next()){var j=La(C.value,1),x=j[0];delete e[x]}}catch(A){o={error:A}}finally{try{C&&!C.done&&(s=S.return)&&s.call(S)}finally{if(o)throw o.error}}try{for(var k=qd(m),T=k.next();!T.done;T=k.next()){var y=La(T.value,2),x=y[0],P=y[1];gc(h)||im(h)?h.append(t(x),P):x!=="__proto__"&&(h[t(typeof x=="string"?x:""+x)]=a7(P,t,n))}}catch(A){a={error:A}}finally{try{T&&!T.done&&(l=k.return)&&l.call(k)}finally{if(a)throw a.error}}return h},NDe=function(e,t,n){return t=kDe(t,Ui({stripRegexp:/[^A-Z0-9[\]]+/gi},n==null?void 0:n.caseOptions)),n!=null&&n.preservedKeys&&(t=ODe(t,n.preservedKeys)),a7(e,t,(n==null?void 0:n.overwrite)||!1)},PDe=function(e){return function(t,n){return NDe(t,e,n)}},ADe=function(e,t){return PDe((t==null?void 0:t[e])||s7[e])},P2=function(e){var t,n,r=Object.keys(s7),i={};try{for(var o=qd(r),s=o.next();!s.done;s=o.next()){var a=s.value;i[a]=ADe(a,e)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},RDe=function(e){var t=P2(e==null?void 0:e.caseFunctions).snake;return function(n){return n.params&&(n.params=t(n.params,e)),n}},$De=function(e){var t=P2(e==null?void 0:e.caseFunctions),n=t.snake,r=t.header;return function(i,o){var s,a,l;if(!(e!=null&&e.ignoreHeaders)&&o7(o))try{for(var c=qd(Object.entries(o)),u=c.next();!u.done;u=c.next()){var f=La(u.value,2),h=f[0],m=f[1];r(m,Ui({overwrite:!0},e)),["common","delete","get","head","post","put","patch"].includes(h)||(delete o[h],o[Object.keys(r((l={},l[h]=null,l),e))[0]]=m)}}catch(p){s={error:p}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}return n(i,e)}},IDe=function(e){var t=P2(e==null?void 0:e.caseFunctions).camel;return function(n,r){return e!=null&&e.ignoreHeaders||t(r,Ui({overwrite:!0},e)),t(n,e)}},DDe=function(e,t){var n,r,i;return e.defaults.transformRequest=Lp([((n=t==null?void 0:t.caseMiddleware)===null||n===void 0?void 0:n.requestTransformer)||$De(t)],La(Array.isArray(e.defaults.transformRequest)?e.defaults.transformRequest:e.defaults.transformRequest!==void 0?[e.defaults.transformRequest]:[]),!1),e.defaults.transformResponse=Lp(Lp([],La(Array.isArray(e.defaults.transformResponse)?e.defaults.transformResponse:e.defaults.transformResponse!==void 0?[e.defaults.transformResponse]:[]),!1),[((r=t==null?void 0:t.caseMiddleware)===null||r===void 0?void 0:r.responseTransformer)||IDe(t)],!1),e.interceptors.request.use(((i=t==null?void 0:t.caseMiddleware)===null||i===void 0?void 0:i.requestInterceptor)||RDe(t)),e},UA;Ja.defaults.headers.common["X-CSRF-TOKEN"]=(UA=document.querySelector("meta[name='csrf-token']"))==null?void 0:UA.content;const LDe={preservedKeys:["_destroy"]},FDe=DDe(Ja.create({baseURL:Zn,withCredentials:!0}),LDe);function zDe(){return FDe}function YP(e){e.defaults.baseURL=Zn}function BDe(e,t,n,r){const i=`task_responses/${e.id}/toggle_review`,o=zDe();o.defaults.baseURL="/",o.post(i,{taskResponse:{isApproved:!e.isApproved}}).then(({data:{taskResponse:s}})=>{t(s.isApproved),r(),YP(o)}).catch(()=>{n(),r(),YP(o)})}function l7({taskResponse:e}){const[t,n]=b.useState(!1),[r,i]=b.useState(e.isApproved),o=r===!1,{enqueueSnackbar:s}=d5e(),a=r===null;function l(){n(!0),BDe(e,c=>{s("Saved"),i(c),e.isApproved=c},()=>{s("Error saving")},()=>{n(!1)})}return d.jsxs("div",{children:[d.jsx("div",{children:d.jsx(XT,{checked:r,onChange:l,disabled:t,children:a?"Approve":"Approved"})}),d.jsx("div",{className:"pt-2",children:d.jsx(XT,{checked:o,onChange:l,disabled:t,children:a?"Decline":"Declined"})})]})}function WDe({taskResponse:e}){return d.jsx(P0,{children:d.jsx(l7,{taskResponse:e})})}const HDe=Object.freeze(Object.defineProperty({__proto__:null,TaskResponsesReviewIndividual:l7,default:WDe},Symbol.toStringTag,{value:"Module"})),qDe=Object.freeze(Object.defineProperty({__proto__:null,default:hF},Symbol.toStringTag,{value:"Module"}));var A2={};function VDe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var kg={exports:{}};kg.exports;(function(e,t){(function(n,r){e.exports=r(VDe,t,e)})(Mt,function(n,r,i){var o=function(s,a,l,c,u,f){function h(j){var k,T,y,P,A,$,L=j<0;if(j=Math.abs(j).toFixed(g.decimals),j+="",k=j.split("."),T=k[0],y=k.length>1?g.options.decimal+k[1]:"",g.options.useGrouping){for(P="",A=0,$=T.length;A<$;++A)A!==0&&A%3===0&&(P=g.options.separator+P),P=T[$-A-1]+P;T=P}return g.options.numerals.length&&(T=T.replace(/[0-9]/g,function(U){return g.options.numerals[+U]}),y=y.replace(/[0-9]/g,function(U){return g.options.numerals[+U]})),(L?"-":"")+g.options.prefix+T+y+g.options.suffix}function m(j,k,T,y){return T*(-Math.pow(2,-10*j/y)+1)*1024/1023+k}function p(j){return typeof j=="number"&&!isNaN(j)}var g=this;if(g.version=function(){return"1.9.3"},g.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:m,formattingFn:h,prefix:"",suffix:"",numerals:[]},f&&typeof f=="object")for(var _ in g.options)f.hasOwnProperty(_)&&f[_]!==null&&(g.options[_]=f[_]);g.options.separator===""?g.options.useGrouping=!1:g.options.separator=""+g.options.separator;for(var x=0,S=["webkit","moz","ms","o"],C=0;C<S.length&&!window.requestAnimationFrame;++C)window.requestAnimationFrame=window[S[C]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[S[C]+"CancelAnimationFrame"]||window[S[C]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(j,k){var T=new Date().getTime(),y=Math.max(0,16-(T-x)),P=window.setTimeout(function(){j(T+y)},y);return x=T+y,P}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(j){clearTimeout(j)}),g.initialize=function(){return!!g.initialized||(g.error="",g.d=typeof s=="string"?document.getElementById(s):s,g.d?(g.startVal=Number(a),g.endVal=Number(l),p(g.startVal)&&p(g.endVal)?(g.decimals=Math.max(0,c||0),g.dec=Math.pow(10,g.decimals),g.duration=1e3*Number(u)||2e3,g.countDown=g.startVal>g.endVal,g.frameVal=g.startVal,g.initialized=!0,!0):(g.error="[CountUp] startVal ("+a+") or endVal ("+l+") is not a number",!1)):(g.error="[CountUp] target is null or undefined",!1))},g.printValue=function(j){var k=g.options.formattingFn(j);g.d.tagName==="INPUT"?this.d.value=k:g.d.tagName==="text"||g.d.tagName==="tspan"?this.d.textContent=k:this.d.innerHTML=k},g.count=function(j){g.startTime||(g.startTime=j),g.timestamp=j;var k=j-g.startTime;g.remaining=g.duration-k,g.options.useEasing?g.countDown?g.frameVal=g.startVal-g.options.easingFn(k,0,g.startVal-g.endVal,g.duration):g.frameVal=g.options.easingFn(k,g.startVal,g.endVal-g.startVal,g.duration):g.countDown?g.frameVal=g.startVal-(g.startVal-g.endVal)*(k/g.duration):g.frameVal=g.startVal+(g.endVal-g.startVal)*(k/g.duration),g.countDown?g.frameVal=g.frameVal<g.endVal?g.endVal:g.frameVal:g.frameVal=g.frameVal>g.endVal?g.endVal:g.frameVal,g.frameVal=Math.round(g.frameVal*g.dec)/g.dec,g.printValue(g.frameVal),k<g.duration?g.rAF=requestAnimationFrame(g.count):g.callback&&g.callback()},g.start=function(j){g.initialize()&&(g.callback=j,g.rAF=requestAnimationFrame(g.count))},g.pauseResume=function(){g.paused?(g.paused=!1,delete g.startTime,g.duration=g.remaining,g.startVal=g.frameVal,requestAnimationFrame(g.count)):(g.paused=!0,cancelAnimationFrame(g.rAF))},g.reset=function(){g.paused=!1,delete g.startTime,g.initialized=!1,g.initialize()&&(cancelAnimationFrame(g.rAF),g.printValue(g.startVal))},g.update=function(j){if(g.initialize()){if(j=Number(j),!p(j))return void(g.error="[CountUp] update() - new endVal is not a number: "+j);g.error="",j!==g.frameVal&&(cancelAnimationFrame(g.rAF),g.paused=!1,delete g.startTime,g.startVal=g.frameVal,g.endVal=j,g.countDown=g.startVal>g.endVal,g.rAF=requestAnimationFrame(g.count))}},g.initialize()&&g.printValue(g.startVal)};return o})})(kg,kg.exports);var UDe=kg.exports;Object.defineProperty(A2,"__esModule",{value:!0});var GDe=_H,Ec=b,KDe=pZ,YDe=UDe;function A0(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var ur=A0(GDe),ZP=A0(Ec),ZDe=A0(KDe),QDe=A0(YDe);function QP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(n),!0).forEach(function(r){Li(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XDe(e,t,n){return t&&XP(e.prototype,t),n&&XP(e,n),e}function Li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v1(e,t)}function Og(e){return Og=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(e)}function v1(e,t){return v1=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},v1(e,t)}function t6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ti(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n6e(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:ti(e)}function r6e(e){var t=t6e();return function(){var r=Og(e),i;if(t){var o=Og(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return n6e(this,i)}}function i6e(e,t){return o6e(e)||s6e(e,t)||a6e(e,t)||l6e()}function o6e(e){if(Array.isArray(e))return e}function s6e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function a6e(e,t){if(e){if(typeof e=="string")return eA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(e,t)}}function eA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c7=function(t,n){var r=n.decimal,i=n.decimals,o=n.duration,s=n.easingFn,a=n.end,l=n.formattingFn,c=n.prefix,u=n.separator,f=n.start,h=n.suffix,m=n.useEasing;return new QDe.default(t,f,a,i,o,{decimal:r,easingFn:s,formattingFn:l,separator:u,prefix:c,suffix:h,useEasing:m,useGrouping:!!u})},R0=function(e){e6e(n,e);var t=r6e(n);function n(){var r;JDe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Li(ti(r),"checkProps",function(a){var l=r.props,c=l.start,u=l.suffix,f=l.prefix,h=l.redraw,m=l.duration,p=l.separator,g=l.decimals,_=l.decimal,x=l.className,S=m!==a.duration||c!==a.start||u!==a.suffix||f!==a.prefix||p!==a.separator||g!==a.decimals||_!==a.decimal||x!==a.className;return S||h}),Li(ti(r),"createInstance",function(){return typeof r.props.children=="function"&&ZDe.default(r.containerRef.current&&(r.containerRef.current instanceof HTMLElement||r.containerRef.current instanceof SVGTextElement||r.containerRef.current instanceof SVGTSpanElement),`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an HTMLElement, eg. <span ref={containerRef} />.`),c7(r.containerRef.current,r.props)}),Li(ti(r),"pauseResume",function(){var a=ti(r),l=a.reset,c=a.restart,u=a.update,f=r.props.onPauseResume;r.instance.pauseResume(),f({reset:l,start:c,update:u})}),Li(ti(r),"reset",function(){var a=ti(r),l=a.pauseResume,c=a.restart,u=a.update,f=r.props.onReset;r.instance.reset(),f({pauseResume:l,start:c,update:u})}),Li(ti(r),"restart",function(){r.reset(),r.start()}),Li(ti(r),"start",function(){var a=ti(r),l=a.pauseResume,c=a.reset,u=a.restart,f=a.update,h=r.props,m=h.delay,p=h.onEnd,g=h.onStart,_=function(){return r.instance.start(function(){return p({pauseResume:l,reset:c,start:u,update:f})})};m>0?r.timeoutId=setTimeout(_,m*1e3):_(),g({pauseResume:l,reset:c,update:f})}),Li(ti(r),"update",function(a){var l=ti(r),c=l.pauseResume,u=l.reset,f=l.restart,h=r.props.onUpdate;r.instance.update(a),h({pauseResume:c,reset:u,start:f})}),Li(ti(r),"containerRef",ZP.default.createRef()),r}return XDe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.children,s=i.delay;this.instance=this.createInstance(),!(typeof o=="function"&&s!==0)&&this.start()}},{key:"shouldComponentUpdate",value:function(i){var o=this.props.end;return this.checkProps(i)||o!==i.end}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.end,a=o.preserveValue;this.checkProps(i)&&(this.instance.reset(),this.instance=this.createInstance(),this.start()),s!==i.end&&(a||this.instance.reset(),this.instance.update(s))}},{key:"componentWillUnmount",value:function(){this.timeoutId&&clearTimeout(this.timeoutId),this.instance.reset()}},{key:"render",value:function(){var i=this.props,o=i.children,s=i.className,a=i.style,l=this.containerRef,c=this.pauseResume,u=this.reset,f=this.restart,h=this.update;return typeof o=="function"?o({countUpRef:l,pauseResume:c,reset:u,start:f,update:h}):ZP.default.createElement("span",{className:s,ref:l,style:a})}}]),n}(Ec.Component);Li(R0,"propTypes",{decimal:ur.default.string,decimals:ur.default.number,delay:ur.default.number,easingFn:ur.default.func,end:ur.default.number.isRequired,formattingFn:ur.default.func,onEnd:ur.default.func,onStart:ur.default.func,prefix:ur.default.string,redraw:ur.default.bool,separator:ur.default.string,start:ur.default.number,startOnMount:ur.default.bool,suffix:ur.default.string,style:ur.default.object,useEasing:ur.default.bool,preserveValue:ur.default.bool});Li(R0,"defaultProps",{decimal:".",decimals:0,delay:null,duration:null,easingFn:null,formattingFn:null,onEnd:function(){},onPauseResume:function(){},onReset:function(){},onStart:function(){},onUpdate:function(){},prefix:"",redraw:!1,separator:"",start:0,startOnMount:!0,suffix:"",style:void 0,useEasing:!0,preserveValue:!1});var c6e={innerHTML:null},u6e=function(t){var n=JP(JP({},R0.defaultProps),t),r=n.start,i=n.formattingFn,o=Ec.useState(typeof i=="function"?i(r):r),s=i6e(o,2),a=s[0],l=s[1],c=Ec.useRef(null),u=Ec.useRef(null),f=function(){var S=c7(c6e,n),C=S.options.formattingFn;return S.options.formattingFn=function(){var j=C.apply(void 0,arguments);l(j)},S},h=function(){var S=c.current;if(S!==null)return S;var C=f();return c.current=C,C},m=function(){var S=n.onReset;h().reset(),S({pauseResume:g,start:p,update:_})},p=function x(){var S=n.onStart,C=n.onEnd;h().reset(),h().start(function(){C({pauseResume:g,reset:m,start:x,update:_})}),S({pauseResume:g,reset:m,update:_})},g=function(){var S=n.onPauseResume;h().pauseResume(),S({reset:m,start:p,update:_})},_=function(S){var C=n.onUpdate;h().update(S),C({pauseResume:g,reset:m,start:p})};return Ec.useEffect(function(){var x=n.delay,S=n.onStart,C=n.onEnd,j=n.startOnMount;return j&&(u.current=setTimeout(function(){S({pauseResume:g,reset:m,update:_}),h().start(function(){clearTimeout(u.current),C({pauseResume:g,reset:m,start:p,update:_})})},x*1e3)),function(){clearTimeout(u.current),m()}},[]),{countUp:a,start:p,pauseResume:g,reset:m,update:_}},d6e=A2.default=R0;A2.useCountUp=u6e;const f6e=hu.div`
  align-items: center;
  background-color: white;
  border: 1px solid #ddd;
  border-radius: 1px;
  display: flex;
  font-size: 20px;
  height: 40px;
  justify-content: center;
  position: fixed;
  right: 20vw;
  top: 6px;
  padding: 0 10px;
`,h6e=Cl(function({totalUnpaidAmount:t}){const n=parseInt(localStorage.getItem("totalUnpaidAmount")),r=isNaN(n)?t:n;return(isNaN(n)||r!==t)&&localStorage.setItem("totalUnpaidAmount",t),d.jsx(f6e,{children:d.jsx("a",{href:"/workers/payments",children:d.jsx(d6e,{start:r/100,end:t/100,decimals:2,prefix:"$",duration:3,delay:.25})})})}),p6e=Object.freeze(Object.defineProperty({__proto__:null,default:h6e},Symbol.toStringTag,{value:"Module"})),m6e=Object.freeze(Object.defineProperty({__proto__:null,default:u5},Symbol.toStringTag,{value:"Module"}));function g6e({text:e,itemId:t,itemText:n}){const[r,i]=b.useState(n);return d.jsxs(d.Fragment,{children:[d.jsx("div",{children:e}),d.jsx(fB,{id:`item_responses_${t}_uploaded_file`,name:`item_responses[${t}][uploaded_file]`,preview:!0,currentFileURL:r,onChange:o=>i(o?URL.createObjectURL(o):""),acceptedFileTypes:[]})]})}const v6e=Object.freeze(Object.defineProperty({__proto__:null,default:g6e},Symbol.toStringTag,{value:"Module"}));function b6e(){return Rn.get(`${Zn}/google_workspace/fetch_account`)}function y6e(){return Rn.post(`${Zn}/google_workspace/create_account`)}function _6e(){return Rn.put(`${Zn}/google_workspace/reset_password`)}function x6e(){const[e,t]=b.useState(null),[n,r]=b.useState(null),[i,o]=b.useState(!0),[s,a]=b.useState(!1),[l,c]=b.useState(!1),[u,f]=b.useState(null);b.useEffect(()=>{h()},[]);const h=async()=>{o(!0);try{const g=await b6e();t(g.data),o(!1)}catch{o(!1)}},m=async()=>{c(!0);try{const g=await y6e();g.data.email?(t({email:g.data.email}),r(g.data.password||""),f(g.data.message)):alert(g.data.message)}finally{c(!1)}},p=async()=>{a(!0);try{const g=await _6e();r(g.data.new_password)}finally{a(!1)}};return d.jsxs("div",{className:"tw-w-full",children:[d.jsx("h1",{children:"Google Workspace Account"}),d.jsx("div",{className:"tw-flex tw-flex-col tw-mt-5 tw-mb-5 tw-items-start tw-w-full tw-max-w-md tw-p-4 tw-border tw-border-gray-300 tw-rounded-lg",children:i?d.jsx("div",{className:"tw-w-full tw-text-center",children:d.jsx("div",{className:"tw-inline-flex tw-justify-center tw-items-center tw-mt-4",children:d.jsx(fn,{className:"tw-text-primary-default-80",height:24,width:24})})}):e?d.jsxs("div",{children:[d.jsx("h2",{className:"tw-text-xl tw-font-semibold",children:"Workspace Account Details"}),d.jsxs("p",{className:"tw-mt-2",children:["Email: ",e.email]}),!n&&d.jsxs("button",{className:"tw-bg-blue-600 tw-text-white tw-px-4 tw-py-2 tw-rounded tw-border-none tw-cursor-pointer tw-mt-4 tw-relative",onClick:p,children:[s&&d.jsx("div",{className:"tw-absolute tw-inset-0 tw-flex tw-justify-center tw-items-center",children:d.jsx(fn,{className:"tw-text-white",height:16,width:16})}),d.jsx("span",{className:s?"tw-opacity-0":"",children:"Reset Password"})]}),n&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"tw-mt-4",children:"New password:"}),d.jsx("textarea",{value:n,readOnly:!0,className:"tw-w-full tw-resize-none tw-mt-2 tw-p-2 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-100",rows:1})]})]}):d.jsxs("div",{children:[d.jsx("h5",{className:"tw-text-xl tw-font-semibold",children:"No Google Workspace Account"}),d.jsx("p",{children:"Create your account with the button below to work on projects that require a Google account!"}),d.jsxs("button",{className:"tw-bg-blue-600 tw-text-white tw-px-4 tw-py-2 tw-rounded tw-border-none tw-cursor-pointer tw-mt-4 tw-relative",onClick:m,disabled:l,children:[l&&d.jsx("div",{className:"tw-absolute tw-inset-0 tw-flex tw-justify-center tw-items-center",children:d.jsx(fn,{className:"tw-text-white",height:16,width:16})}),d.jsx("span",{className:l?"tw-opacity-0":"",children:"Create Account"})]}),u&&d.jsx("p",{className:"tw-mt-4 tw-text-green-600",children:u}),n&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"tw-mt-4",children:"Password:"}),d.jsx("textarea",{value:n,readOnly:!0,className:"tw-w-full tw-resize-none tw-mt-2 tw-p-2 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-100",rows:1})]})]})})]})}function w6e(e){return d.jsx(sr,{value:e.session,children:d.jsx(x6e,{...e})})}const S6e=Object.freeze(Object.defineProperty({__proto__:null,default:w6e},Symbol.toStringTag,{value:"Module"}));function C6e({itemId:e,answer:t,options:n,csvData:r}){const[i,o]=b.useState(t),s=b.useCallback(a=>{o(a)},[o]);return d.jsxs("div",{children:[d.jsx(hB,{answer:i,options:n,onChange:s,taskResponse:{data:r},question:{id:e}}),d.jsx("textarea",{id:`item_responses_${e}_text`,name:`item_responses[${e}][text]`,readOnly:!0,style:{display:"none"},value:JSON.stringify(i)})]})}const T6e=Object.freeze(Object.defineProperty({__proto__:null,default:C6e},Symbol.toStringTag,{value:"Module"})),j6e=e=>d.jsx(sr,{value:e.session,children:d.jsx(O4,{...e})}),E6e=Object.freeze(Object.defineProperty({__proto__:null,default:j6e},Symbol.toStringTag,{value:"Module"})),k6e=Object.freeze(Object.defineProperty({__proto__:null,default:pF},Symbol.toStringTag,{value:"Module"}));function O6e(e,t,n,r){return Rn.post("/workers/support/send_message",{topic1:e,topic2:t,subject:n,message:r})}const M6e="https://docs.google.com/document/d/e/2PACX-1vSp3jh-pfbdIPfUpjDj2D7LZs9hYyF4OF2_BLUYsO_RZ3YXgPPUWpMXBLXeLgb2OclBdmFQ96dKbp4I/pub";function N6e({topicsMap:e,hasCompletedOnboarding:t}){const[n,r]=b.useState(""),[i,o]=b.useState(""),[s,a]=b.useState(""),[l,c]=b.useState(""),[u,f]=b.useState("Submit"),[h,m]=b.useState(!1),p=Object.fromEntries(Object.entries(e).map(([C,j])=>[C.charAt(0).toUpperCase()+C.slice(1),j])),g=new Map([""].concat(Object.keys(p)).map(C=>[C,C])),_=n?new Map([""].concat(p[n]).map(C=>[C,C])):new Map([""].map(C=>[C,C])),x=()=>(m(!0),O6e(n,i,s,l).then(()=>{f("Sent!")}).catch(()=>{alert("Failed to send message"),m(!1)})),S=!!n&&!!i&&!!s&&!!l&&!h;return d.jsx("div",{className:"tw-flex tw-min-h-screen tw-w-full",children:d.jsxs("div",{className:"tw-pt-6 tw-pl-4",children:[d.jsx("h2",{children:"Support Page"}),t&&d.jsxs("div",{className:"tw-text-lg tw-mt-6",children:[d.jsxs("p",{className:"tw-mb-2",children:["We've compiled helpful information in"," ",d.jsx("a",{href:M6e,target:"_blank",children:"this document"}),". Your question is likely answered here."]}),d.jsx("p",{className:"tw-mb-2",children:"In case it is not, you can submit the below form to submit a request with Support."})]}),d.jsxs("div",{className:"tw-text-lg tw-mt-6",children:[d.jsx("h3",{children:"Submit support request"}),d.jsx("br",{}),d.jsxs("div",{className:"tw-flex-col tw-flex tw-space-y-3 tw-items-start tw-min-w-350px tx-max-w-screen",children:[d.jsxs("div",{className:"tw-flex-col tw-flex tw-space-y-1 tw-items-start",children:[d.jsx("p",{className:"tw-text-md",children:"Topic"}),d.jsx(dl,{entry:n,entriesMap:g,setEntry:C=>r(C)})]}),d.jsxs("div",{className:"tw-flex-col tw-flex tw-space-y-1 tw-items-start",children:[d.jsx("p",{className:"tw-text-md",children:"Issue"}),d.jsx(dl,{entry:i,entriesMap:_,disabled:!n,setEntry:C=>o(C)})]}),d.jsxs("div",{className:"tw-flex-col tw-flex tw-space-y-1 tw-items-start",children:[d.jsx("p",{className:"tw-text-md",children:"Subject"}),d.jsx(pn,{id:"subject-input",label:"",hideLabel:!0,style:{minWidth:"350px"},value:s,onChange:C=>{a(C.target.value)}})]}),d.jsxs("div",{className:"tw-flex-col tw-flex tw-space-y-1 tw-items-start",children:[d.jsx("p",{className:"tw-text-md",children:"Message"}),d.jsx(Do,{id:"message-input",hideLabel:!0,style:{minWidth:"350px"},value:l,onChange:C=>{c(C.target.value)}})]}),d.jsx(yt,{onClick:x,disabled:!S,children:u})]})]})]})})}const P6e=Object.freeze(Object.defineProperty({__proto__:null,default:N6e},Symbol.toStringTag,{value:"Module"})),A6e=Object.freeze(Object.defineProperty({__proto__:null,default:pB},Symbol.toStringTag,{value:"Module"}));var u7={exports:{}};(function(e,t){(function(n,r){e.exports=r(b)})(Mt,n=>(()=>{var r={0:(a,l,c)=>{c.r(l)},374:(a,l,c)=>{c.r(l)},840:(a,l,c)=>{c.r(l)},481:(a,l,c)=>{c.r(l)},549:(a,l,c)=>{c.r(l)},153:function(a,l,c){var u=this&&this.__assign||function(){return u=Object.assign||function(k){for(var T,y=1,P=arguments.length;y<P;y++)for(var A in T=arguments[y])Object.prototype.hasOwnProperty.call(T,A)&&(k[A]=T[A]);return k},u.apply(this,arguments)},f=this&&this.__createBinding||(Object.create?function(k,T,y,P){P===void 0&&(P=y);var A=Object.getOwnPropertyDescriptor(T,y);A&&!("get"in A?!T.__esModule:A.writable||A.configurable)||(A={enumerable:!0,get:function(){return T[y]}}),Object.defineProperty(k,P,A)}:function(k,T,y,P){P===void 0&&(P=y),k[P]=T[y]}),h=this&&this.__setModuleDefault||(Object.create?function(k,T){Object.defineProperty(k,"default",{enumerable:!0,value:T})}:function(k,T){k.default=T}),m=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var T={};if(k!=null)for(var y in k)y!=="default"&&Object.prototype.hasOwnProperty.call(k,y)&&f(T,k,y);return h(T,k),T},p=this&&this.__rest||function(k,T){var y={};for(var P in k)Object.prototype.hasOwnProperty.call(k,P)&&T.indexOf(P)<0&&(y[P]=k[P]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function"){var A=0;for(P=Object.getOwnPropertySymbols(k);A<P.length;A++)T.indexOf(P[A])<0&&Object.prototype.propertyIsEnumerable.call(k,P[A])&&(y[P[A]]=k[P[A]])}return y};Object.defineProperty(l,"__esModule",{value:!0}),l.CountrySelector=void 0,c(0);var g=m(c(156)),_=c(946),x=c(515),S=c(332),C=c(425),j=c(60);l.CountrySelector=function(k){var T,y,P=k.selectedCountry,A=k.onSelect,$=k.disabled,L=k.hideDropdown,U=k.countries,F=U===void 0?_.defaultCountries:U,H=k.renderButtonWrapper,q=p(k,["selectedCountry","onSelect","disabled","hideDropdown","countries","renderButtonWrapper"]),re=(0,g.useState)(!1),G=re[0],Y=re[1],te=(0,g.useMemo)(function(){if(P)return(0,S.getCountry)({value:P,field:"iso2",countries:F})},[F,P]),ne=(0,g.useRef)(null);return g.default.createElement("div",{className:(0,x.buildClassNames)({addPrefix:["country-selector"],rawClassNames:[q.className]}),style:q.style,ref:ne},(T={title:te==null?void 0:te.name,onClick:function(){return Y(function(B){return!B})},onMouseDown:function(B){return B.preventDefault()},onKeyDown:function(B){B.key&&["ArrowUp","ArrowDown"].includes(B.key)&&(B.preventDefault(),Y(!0))},disabled:L||$,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":G},y=g.default.createElement("div",{className:(0,x.buildClassNames)({addPrefix:["country-selector-button__button-content"],rawClassNames:[q.buttonContentWrapperClassName]}),style:q.buttonContentWrapperStyle},g.default.createElement(C.FlagEmoji,{iso2:P,className:(0,x.buildClassNames)({addPrefix:["country-selector-button__flag-emoji",$&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[q.flagClassName]}),style:u({visibility:P?"visible":"hidden"},q.flagStyle)}),!L&&g.default.createElement("div",{className:(0,x.buildClassNames)({addPrefix:["country-selector-button__dropdown-arrow",$&&"country-selector-button__dropdown-arrow--disabled",G&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[q.dropdownArrowClassName]}),style:q.dropdownArrowStyle})),H?H({children:y,rootProps:T}):g.default.createElement("button",u({},T,{type:"button",className:(0,x.buildClassNames)({addPrefix:["country-selector-button",G&&"country-selector-button--active",$&&"country-selector-button--disabled",L&&"country-selector-button--hide-dropdown"],rawClassNames:[q.buttonClassName]}),"data-country":P,style:q.buttonStyle}),y)),g.default.createElement(j.CountrySelectorDropdown,u({show:G,countries:F,onSelect:function(B){Y(!1),A==null||A(B)},selectedCountry:P,onClose:function(){Y(!1)}},q.dropdownStyleProps)))}},60:function(a,l,c){var u=this&&this.__assign||function(){return u=Object.assign||function(j){for(var k,T=1,y=arguments.length;T<y;T++)for(var P in k=arguments[T])Object.prototype.hasOwnProperty.call(k,P)&&(j[P]=k[P]);return j},u.apply(this,arguments)},f=this&&this.__createBinding||(Object.create?function(j,k,T,y){y===void 0&&(y=T);var P=Object.getOwnPropertyDescriptor(k,T);P&&!("get"in P?!k.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return k[T]}}),Object.defineProperty(j,y,P)}:function(j,k,T,y){y===void 0&&(y=T),j[y]=k[T]}),h=this&&this.__setModuleDefault||(Object.create?function(j,k){Object.defineProperty(j,"default",{enumerable:!0,value:k})}:function(j,k){j.default=k}),m=this&&this.__importStar||function(j){if(j&&j.__esModule)return j;var k={};if(j!=null)for(var T in j)T!=="default"&&Object.prototype.hasOwnProperty.call(j,T)&&f(k,j,T);return h(k,j),k},p=this&&this.__rest||function(j,k){var T={};for(var y in j)Object.prototype.hasOwnProperty.call(j,y)&&k.indexOf(y)<0&&(T[y]=j[y]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(y=Object.getOwnPropertySymbols(j);P<y.length;P++)k.indexOf(y[P])<0&&Object.prototype.propertyIsEnumerable.call(j,y[P])&&(T[y[P]]=j[y[P]])}return T};Object.defineProperty(l,"__esModule",{value:!0}),l.CountrySelectorDropdown=void 0,c(374);var g=m(c(156)),_=c(946),x=c(515),S=c(332),C=c(425);l.CountrySelectorDropdown=function(j){var k=j.show,T=j.dialCodePrefix,y=T===void 0?"+":T,P=j.selectedCountry,A=j.countries,$=A===void 0?_.defaultCountries:A,L=j.onSelect,U=j.onClose,F=p(j,["show","dialCodePrefix","selectedCountry","countries","onSelect","onClose"]),H=(0,g.useRef)(null),q=(0,g.useRef)(),re=(0,g.useRef)({updatedAt:void 0,value:""}),G=(0,g.useCallback)(function(X){return $.findIndex(function(J){return(0,S.parseCountry)(J).iso2===X})},[$]),Y=(0,g.useState)(G(P)),te=Y[0],ne=Y[1],B=function(){q.current!==P&&ne(G(P))},Q=(0,g.useCallback)(function(X){ne(G(X.iso2)),L==null||L(X)},[L,G]),K=function(X){var J=$.length-1;ne(function(ue){var xe,_e=(xe=ue,X==="prev"?xe-1:X==="next"?xe+1:X==="last"?J:0);return _e<0?0:_e>J?J:_e})},de=(0,g.useCallback)(function(){if(H.current&&te!==void 0){var X=(0,S.parseCountry)($[te]).iso2;if(X!==q.current){var J=H.current.querySelector('[data-country="'.concat(X,'"]'));J&&((0,S.scrollToChild)(H.current,J),q.current=X)}}},[te,$]);return(0,g.useEffect)(function(){de()},[te,de]),(0,g.useEffect)(function(){H.current&&(k?H.current.focus():B())},[k]),(0,g.useEffect)(function(){B()},[P]),g.default.createElement("ul",{ref:H,role:"listbox",className:(0,x.buildClassNames)({addPrefix:["country-selector-dropdown"],rawClassNames:[F.className]}),style:u({display:k?"block":"none"},F.style),onKeyDown:function(X){if(X.stopPropagation(),X.key!=="Enter")if(X.key!=="Escape"){if(X.key==="ArrowUp")return X.preventDefault(),void K("prev");if(X.key==="ArrowDown")return X.preventDefault(),void K("next");if(X.key==="PageUp")return X.preventDefault(),void K("first");if(X.key==="PageDown")return X.preventDefault(),void K("last");X.key===" "&&X.preventDefault(),X.key.length!==1||X.altKey||X.ctrlKey||X.metaKey||function(ue){var xe=re.current.updatedAt&&new Date().getTime()-re.current.updatedAt.getTime()>1e3;re.current={value:xe?ue:"".concat(re.current.value).concat(ue),updatedAt:new Date};var _e=$.findIndex(function(he){return(0,S.parseCountry)(he).name.toLowerCase().startsWith(re.current.value)});_e!==-1&&ne(_e)}(X.key.toLocaleLowerCase())}else U==null||U();else{var J=(0,S.parseCountry)($[te]);Q(J)}},onBlur:U,tabIndex:-1,"aria-activedescendant":"".concat((0,S.parseCountry)($[te]).iso2,"-option")},$.map(function(X,J){var ue=(0,S.parseCountry)(X),xe=ue.iso2===P,_e=J===te;return g.default.createElement("li",{key:ue.iso2,"data-country":ue.iso2,role:"option","aria-selected":xe,"aria-label":"".concat(ue.name," ").concat(y).concat(ue.dialCode),id:"".concat(ue.iso2,"-option"),className:(0,x.buildClassNames)({addPrefix:["country-selector-dropdown__list-item",xe&&"country-selector-dropdown__list-item--selected",_e&&"country-selector-dropdown__list-item--focused"],rawClassNames:[F.listItemClassName]}),onClick:function(){return Q(ue)},style:F.listItemStyle},g.default.createElement(C.FlagEmoji,{iso2:ue.iso2,className:(0,x.buildClassNames)({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[F.listItemFlagClassName]}),style:F.listItemFlagStyle}),g.default.createElement("span",{className:(0,x.buildClassNames)({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[F.listItemCountryNameClassName]}),style:F.listItemCountryNameStyle},ue.name),g.default.createElement("span",{className:(0,x.buildClassNames)({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[F.listItemDialCodeClassName]}),style:F.listItemDialCodeStyle},y,ue.dialCode))}))}},7:function(a,l,c){var u=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(l,"__esModule",{value:!0}),l.DialCodePreview=void 0,c(840);var f=u(c(156)),h=c(515);l.DialCodePreview=function(m){var p=m.dialCode,g=m.prefix,_=m.disabled,x=m.style,S=m.className;return f.default.createElement("div",{className:(0,h.buildClassNames)({addPrefix:["dial-code-preview",_&&"dial-code-preview--disabled"],rawClassNames:[S]}),style:x},"".concat(g).concat(p))}},425:function(a,l,c){var u=this&&this.__assign||function(){return u=Object.assign||function(_){for(var x,S=1,C=arguments.length;S<C;S++)for(var j in x=arguments[S])Object.prototype.hasOwnProperty.call(x,j)&&(_[j]=x[j]);return _},u.apply(this,arguments)},f=this&&this.__rest||function(_,x){var S={};for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&x.indexOf(C)<0&&(S[C]=_[C]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function"){var j=0;for(C=Object.getOwnPropertySymbols(_);j<C.length;j++)x.indexOf(C[j])<0&&Object.prototype.propertyIsEnumerable.call(_,C[j])&&(S[C[j]]=_[C[j]])}return S},h=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0}),l.FlagEmoji=void 0,c(481);var m=h(c(156)),p=c(515),g="abcdefghijklmnopqrstuvwxyz".split("").reduce(function(_,x,S){var C,j,k;return u(u({},_),((C={})[x]=(j=S,k=parseInt("1f1e6",16),Number(k+j).toString(16)),C))},{});l.FlagEmoji=function(_){var x=_.iso2,S=_.size,C=S===void 0?"24px":S,j=_.protocol,k=j===void 0?"https":j,T=_.disableLazyLoading,y=_.className,P=f(_,["iso2","size","protocol","disableLazyLoading","className"]);if(!x)return m.default.createElement("img",u({width:C,height:C},P));var A=function(L){return[g[L[0]],g[L[1]]].join("-")}(x),$="".concat(k,"://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/").concat(A,".svg");return m.default.createElement("img",u({className:(0,p.buildClassNames)({addPrefix:["flag-emoji"],rawClassNames:[y]}),src:$,width:C,height:C,draggable:!1,"data-country":x,loading:T?void 0:"lazy"},P))}},28:function(a,l,c){var u=this&&this.__assign||function(){return u=Object.assign||function(T){for(var y,P=1,A=arguments.length;P<A;P++)for(var $ in y=arguments[P])Object.prototype.hasOwnProperty.call(y,$)&&(T[$]=y[$]);return T},u.apply(this,arguments)},f=this&&this.__createBinding||(Object.create?function(T,y,P,A){A===void 0&&(A=P);var $=Object.getOwnPropertyDescriptor(y,P);$&&!("get"in $?!y.__esModule:$.writable||$.configurable)||($={enumerable:!0,get:function(){return y[P]}}),Object.defineProperty(T,A,$)}:function(T,y,P,A){A===void 0&&(A=P),T[A]=y[P]}),h=this&&this.__setModuleDefault||(Object.create?function(T,y){Object.defineProperty(T,"default",{enumerable:!0,value:y})}:function(T,y){T.default=y}),m=this&&this.__importStar||function(T){if(T&&T.__esModule)return T;var y={};if(T!=null)for(var P in T)P!=="default"&&Object.prototype.hasOwnProperty.call(T,P)&&f(y,T,P);return h(y,T),y},p=this&&this.__rest||function(T,y){var P={};for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&y.indexOf(A)<0&&(P[A]=T[A]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function"){var $=0;for(A=Object.getOwnPropertySymbols(T);$<A.length;$++)y.indexOf(A[$])<0&&Object.prototype.propertyIsEnumerable.call(T,A[$])&&(P[A[$]]=T[A[$]])}return P};Object.defineProperty(l,"__esModule",{value:!0}),l.PhoneInput=void 0,c(549);var g=m(c(156)),_=c(946),x=c(882),S=c(515),C=c(332),j=c(153),k=c(7);l.PhoneInput=function(T){var y,P=T.hideDropdown,A=T.placeholder,$=T.disabled,L=T.showDisabledDialCodeAndPrefix,U=T.inputProps,F=T.onChange,H=T.style,q=T.className,re=T.inputStyle,G=T.inputClassName,Y=T.countrySelectorStyleProps,te=T.dialCodePreviewStyleProps,ne=T.value,B=T.countries,Q=B===void 0?_.defaultCountries:B,K=p(T,["hideDropdown","placeholder","disabled","showDisabledDialCodeAndPrefix","inputProps","onChange","style","className","inputStyle","inputClassName","countrySelectorStyleProps","dialCodePreviewStyleProps","value","countries"]),de=(0,x.usePhoneInput)(u(u({value:ne,countries:Q},K),{onChange:function(se){F==null||F(se.phone,se.country)}})),X=de.phone,J=de.inputRef,ue=de.country,xe=de.setCountry,_e=de.handlePhoneValueChange,he=(0,g.useMemo)(function(){if(ue)return(0,C.getCountry)({value:ue,field:"iso2",countries:Q})},[Q,ue]),Z=K.disableDialCodeAndPrefix&&L&&(he==null?void 0:he.dialCode);return g.default.createElement("div",{className:(0,S.buildClassNames)({addPrefix:["input-container"],rawClassNames:[q]}),style:H},g.default.createElement(j.CountrySelector,u({onSelect:function(se){return xe(se.iso2)},selectedCountry:ue,countries:Q,disabled:$,hideDropdown:P},Y)),Z&&g.default.createElement(k.DialCodePreview,u({dialCode:he.dialCode,prefix:(y=K.prefix)!==null&&y!==void 0?y:"+",disabled:$},te)),g.default.createElement("input",u({onChange:_e,value:X,type:"tel",ref:J,className:(0,S.buildClassNames)({addPrefix:["input",$&&"input--disabled"],rawClassNames:[G]}),placeholder:A,disabled:$,style:re},U)))}},946:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.defaultCountries=void 0,l.defaultCountries=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61",". .... ....",0,["2","3","4","7","8"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","... .... ...."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Côte d'Ivoire",["africa"],"ci","225",".. .. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaçao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",0,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["33","55","81","229","656","664","774","998"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3],["Qatar",["middle-east"],"qa","974"],["Réunion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",1],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["São Tomé and Príncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["201","202","203","205","206","207","208","209","210","212","213","214","215","216","217","218","219","224","225","228","229","231","234","239","240","248","251","252","253","254","256","260","262","267","269","270","276","281","301","302","303","304","305","307","308","309","310","312","313","314","315","316","317","318","319","320","321","323","325","330","334","336","337","339","347","351","352","360","361","386","401","402","404","405","406","407","408","409","410","412","413","414","415","417","419","423","424","425","430","432","434","435","440","443","447","469","478","479","480","484","501","502","503","504","505","507","508","509","510","512","513","515","516","517","518","520","530","540","541","551","559","561","562","563","567","570","571","573","574","575","580","585","586","601","602","603","605","606","607","608","609","610","612","614","615","616","617","618","619","620","623","626","630","631","636","641","646","650","651","660","661","662","678","681","682","689","701","702","703","704","706","707","708","712","713","714","715","716","717","718","719","720","724","727","731","732","734","740","754","757","760","762","763","765","769","770","772","773","774","775","779","781","785","786","801","802","803","804","805","806","808","810","812","813","814","815","816","817","818","828","830","831","832","843","845","847","848","850","856","857","858","859","860","862","863","864","865","870","878","901","903","904","906","907","908","909","910","912","913","914","915","916","917","918","919","920","925","928","931","936","937","940","941","947","949","951","952","954","956","970","971","972","973","978","979","980","985","989"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]]},11:function(a,l,c){var u=this&&this.__assign||function(){return u=Object.assign||function(g){for(var _,x=1,S=arguments.length;x<S;x++)for(var C in _=arguments[x])Object.prototype.hasOwnProperty.call(_,C)&&(g[C]=_[C]);return g},u.apply(this,arguments)},f=this&&this.__spreadArray||function(g,_,x){if(x||arguments.length===2)for(var S,C=0,j=_.length;C<j;C++)!S&&C in _||(S||(S=Array.prototype.slice.call(_,0,C)),S[C]=_[C]);return g.concat(S||Array.prototype.slice.call(_))};Object.defineProperty(l,"__esModule",{value:!0}),l.useHistoryState=void 0;var h=c(156),m=c(795),p={size:20,overrideLastItemDebounceMS:-1};l.useHistoryState=function(g,_){var x=u(u({},p),_),S=x.size,C=x.overrideLastItemDebounceMS,j=x.onChange,k=(0,h.useState)(g),T=k[0],y=k[1],P=(0,h.useState)([T]),A=P[0],$=P[1],L=(0,h.useState)(0),U=L[0],F=L[1],H=(0,m.useTimer)();return[T,function(q,re){if((typeof q!="object"||Object.entries(q).toString()!==Object.entries(T).toString())&&q!==T){var G=C>0,Y=H.check(),te=!G||Y===void 0||Y>C;if((re==null?void 0:re.overrideLastItem)!==void 0?re.overrideLastItem:!te)$(function(B){return f(f([],B.slice(0,U),!0),[q],!1)});else{var ne=A.length>=S;$(function(B){return f(f([],B.slice(ne?1:0,U+1),!0),[q],!1)}),ne||F(function(B){return B+1})}y(q),j==null||j(q)}},function(){if(U<=0)return{success:!1};var q=A[U-1];return y(q),F(function(re){return re-1}),j==null||j(q),{success:!0,value:q}},function(){if(U+1>=A.length)return{success:!1};var q=A[U+1];return y(q),F(function(re){return re+1}),j==null||j(q),{success:!0,value:q}}]}},882:(a,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.usePhoneInput=l.defaultConfig=l.MASK_CHAR=void 0;var u=c(156),f=c(946),h=c(332),m=c(11);l.MASK_CHAR=".",l.defaultConfig={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,countries:f.defaultCountries},l.usePhoneInput=function(p){var g=p.defaultCountry,_=g===void 0?l.defaultConfig.defaultCountry:g,x=p.value,S=x===void 0?l.defaultConfig.value:x,C=p.countries,j=C===void 0?l.defaultConfig.countries:C,k=p.prefix,T=k===void 0?l.defaultConfig.prefix:k,y=p.defaultMask,P=y===void 0?l.defaultConfig.defaultMask:y,A=p.charAfterDialCode,$=A===void 0?l.defaultConfig.charAfterDialCode:A,L=p.historySaveDebounceMS,U=L===void 0?l.defaultConfig.historySaveDebounceMS:L,F=p.disableCountryGuess,H=F===void 0?l.defaultConfig.disableCountryGuess:F,q=p.disableDialCodePrefill,re=q===void 0?l.defaultConfig.disableDialCodePrefill:q,G=p.forceDialCode,Y=G===void 0?l.defaultConfig.forceDialCode:G,te=p.disableDialCodeAndPrefix,ne=te===void 0?l.defaultConfig.disableDialCodeAndPrefix:te,B=p.onChange,Q=!ne&&!H,K=(0,u.useRef)(null),de=function(Oe){var qe,$e=Oe.value,rt=Oe.country,Ve=Oe.trimNonDigitsEnd,mt=Oe.insertDialCodeOnEmpty,It=!Oe.forceDisableCountryGuess&&Q?(0,h.guessCountryByPartialNumber)({phone:$e,countries:j,currentCountryIso2:rt.iso2}):void 0,Ze=(qe=It==null?void 0:It.country)!==null&&qe!==void 0?qe:rt;return{phone:Ze?(0,h.formatPhone)($e,{prefix:T,mask:Ze.format||P,maskChar:l.MASK_CHAR,dialCode:Ze.dialCode,trimNonDigitsEnd:Ve,charAfterDialCode:$,forceDialCode:Y,insertDialCodeOnEmpty:mt,disableDialCodeAndPrefix:ne}):$e,countryGuessResult:It,formatCountry:Ze}},X=function(Oe){Promise.resolve().then(function(){var qe;(qe=K.current)===null||qe===void 0||qe.setSelectionRange(Oe,Oe)})},J=(0,m.useHistoryState)(function(){var Oe=(0,h.guessCountryByPartialNumber)({phone:S,countries:j,currentCountryIso2:_}).country||(0,h.getCountry)({value:_,field:"iso2",countries:j});Oe||console.error('[react-international-phone]: can not find a country with "'.concat(_,'" iso2 code'));var qe=Oe||(0,h.parseCountry)(j.find(function(rt){return(0,h.parseCountry)(rt).iso2==="us"})),$e=de({value:S,country:qe,insertDialCodeOnEmpty:!re}).phone;return X($e.length),{phone:$e,country:qe.iso2}},{overrideLastItemDebounceMS:U,onChange:B}),ue=J[0],xe=ue.phone,_e=ue.country,he=J[1],Z=J[2],se=J[3],ie=(0,u.useMemo)(function(){return(0,h.getCountry)({value:_e,field:"iso2",countries:j})},[j,_e]),be=function(Oe,qe){var $e,rt,Ve=qe===void 0?{}:qe,mt=Ve.deletion,It=Ve.cursorPosition,Ze=Ve.insertDialCodeOnEmpty,dt=Ve.inserted,tt=Oe,St=It;Y&&!ne&&ie&&!(0,h.removeNonDigits)(Oe).startsWith(ie.dialCode)&&Oe&&(dt&&Oe.startsWith(T)&&Oe.length-(It??0)==0?tt=Oe:(tt=xe,St=0));var Re=de({value:tt,country:ie,trimNonDigitsEnd:mt==="backward",insertDialCodeOnEmpty:Ze,forceDisableCountryGuess:Y&&!!mt&&(0,h.removeNonDigits)(tt).length<ie.dialCode.length}),We=Re.phone,at=Re.countryGuessResult,st=ie;Q&&(at!=null&&at.country)&&at.country.name!==_e&&at.fullDialCodeMatch&&(st=at.country);var $t=(0,h.getCursorPosition)({cursorPositionAfterInput:St??0,phoneBeforeInput:xe,phoneAfterInput:Oe,phoneAfterFormatted:We,leftOffset:Y?T.length+((rt=($e=ie==null?void 0:ie.dialCode)===null||$e===void 0?void 0:$e.length)!==null&&rt!==void 0?rt:0)+$.length:0,deletion:mt});return he({phone:We,country:st.iso2}),X($t),We};(0,u.useEffect)(function(){var Oe=K.current;if(Oe){var qe=function($e){if($e.key){var rt=$e.ctrlKey,Ve=$e.shiftKey,mt=$e.key.toLowerCase()==="z";rt&&mt&&(Ve?se():Z())}};return Oe.addEventListener("keydown",qe),function(){Oe.removeEventListener("keydown",qe)}}},[K,Z,se]);var Ne=(0,u.useState)(!1),Pe=Ne[0],ze=Ne[1];return(0,u.useEffect)(function(){if(!Pe)return ze(!0),void(S!==xe&&(B==null||B({phone:xe,country:_e})));S!==xe&&be(S)},[S]),{phone:xe,country:_e,setCountry:function(Oe){var qe=(0,h.getCountry)({value:Oe,field:"iso2",countries:j});if(qe){var $e=ne?"":"".concat(T).concat(qe.dialCode).concat($);he({phone:$e,country:qe.iso2}),Promise.resolve().then(function(){var rt;(rt=K.current)===null||rt===void 0||rt.focus()})}},handlePhoneValueChange:function(Oe){var qe;Oe.preventDefault();var $e=Oe.nativeEvent.inputType,rt=$e==null?void 0:$e.startsWith("insertFrom"),Ve=be(Oe.target.value,{deletion:function(){var mt;if((mt=$e==null?void 0:$e.toLocaleLowerCase().includes("delete"))!==null&&mt!==void 0&&mt)return $e!=null&&$e.toLocaleLowerCase().includes("forward")?"forward":"backward"}(),inserted:rt,cursorPosition:(qe=Oe.target.selectionStart)!==null&&qe!==void 0?qe:0});return ne&&ie?(0,h.addDialCode)({phone:Ve,dialCode:ie.dialCode,charAfterDialCode:$,prefix:T}):Ve},inputRef:K}}},393:(a,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.usePhoneValidation=void 0;var u=c(332);l.usePhoneValidation=function(f,h){return(0,u.validatePhone)(f,h)}},795:(a,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.useTimer=void 0;var u=c(156);l.useTimer=function(){var f=(0,u.useRef)(),h=(0,u.useRef)(Date.now());return{check:function(){var m=Date.now(),p=f.current?m-h.current:void 0;return f.current=h.current,h.current=m,p}}}},515:function(a,l){var c=this&&this.__spreadArray||function(u,f,h){if(h||arguments.length===2)for(var m,p=0,g=f.length;p<g;p++)!m&&p in f||(m||(m=Array.prototype.slice.call(f,0,p)),m[p]=f[p]);return u.concat(m||Array.prototype.slice.call(f))};Object.defineProperty(l,"__esModule",{value:!0}),l.buildClassNames=l.classNamesWithPrefix=l.joinClasses=l.classPrefix=void 0,l.classPrefix="react-international-phone-",l.joinClasses=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return u.filter(function(h){return!!h}).join(" ").trim()},l.classNamesWithPrefix=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return l.joinClasses.apply(void 0,u).split(" ").map(function(h){return"".concat(l.classPrefix).concat(h)}).join(" ")},l.buildClassNames=function(u){var f=u.addPrefix,h=u.rawClassNames;return l.joinClasses.apply(void 0,c([l.classNamesWithPrefix.apply(void 0,f)],h,!1))}},62:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.applyMask=void 0,l.applyMask=function(c){var u=c.value,f=c.mask,h=c.maskSymbol,m=c.offset,p=m===void 0?0:m,g=c.trimNonMaskCharsLeftover,_=g!==void 0&&g;if(u.length<p)return u;for(var x=u.slice(0,p),S=u.slice(p),C=x,j=0,k=0,T=f.split("");k<T.length;k++){var y=T[k];if(j>=S.length){if(!_&&y!==h){C+=y;continue}break}y===h?(C+=S[j],j+=1):C+=y}return C}},239:function(a,l,c){var u=this&&this.__createBinding||(Object.create?function(h,m,p,g){g===void 0&&(g=p);var _=Object.getOwnPropertyDescriptor(m,p);_&&!("get"in _?!m.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return m[p]}}),Object.defineProperty(h,g,_)}:function(h,m,p,g){g===void 0&&(g=p),h[g]=m[p]}),f=this&&this.__exportStar||function(h,m){for(var p in h)p==="default"||Object.prototype.hasOwnProperty.call(m,p)||u(m,h,p)};Object.defineProperty(l,"__esModule",{value:!0}),f(c(62),l),f(c(939),l),f(c(222),l)},939:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.removeNonDigits=void 0,l.removeNonDigits=function(c){return c.replace(/\D/g,"")}},222:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.scrollToChild=void 0,l.scrollToChild=function(c,u){var f=c.style.display;f!=="block"&&(c.style.display="block");var h=c.getBoundingClientRect(),m=u.getBoundingClientRect(),p=m.top-h.top,g=h.bottom-m.bottom;p>=0&&g>=0||(Math.abs(p)<Math.abs(g)?c.scrollTop+=p:c.scrollTop-=g),c.style.display=f}},298:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.buildCountryData=void 0,l.buildCountryData=function(c){for(var u=[c.name,c.regions,c.iso2,c.dialCode,c.format,c.priority,c.areaCodes],f=0;f<u.length;f+=1)if(f!==0){var h=u[f-1],m=u[f];if(h===void 0&&m!==void 0){var p=JSON.stringify(u,function(g,_){return _===void 0?"__undefined":_}).replace(/"__undefined"/g,"undefined");throw new Error("[react-international-phone] invalid country values passed to buildCountryData. Check ".concat(h," in: ").concat(p))}}return u.filter(function(g){return g!==void 0})}},891:(a,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getCountry=void 0;var u=c(300);l.getCountry=function(f){var h=f.value,m=f.field,p=f.countries;if(["regions","priority"].includes(m))throw new Error(function(_){return'Field "'.concat(_,'" is not supported')}(m));var g=p.find(function(_){var x=(0,u.parseCountry)(_);return h===x[m]});if(g)return(0,u.parseCountry)(g)}},4:(a,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.guessCountryByPartialNumber=void 0;var u=c(239),f=c(891),h=c(300);l.guessCountryByPartialNumber=function(m){var p,g=m.phone,_=m.countries,x=m.currentCountryIso2,S={country:void 0,fullDialCodeMatch:!1,areaCodeMatch:void 0};if(!g)return S;var C=(0,u.removeNonDigits)(g);if(!C)return S;for(var j=S,k=function(Y){var te,ne,B,Q,K=Y.country,de=Y.fullDialCodeMatch,X=Y.areaCodeMatch,J=K.dialCode===((te=j.country)===null||te===void 0?void 0:te.dialCode),ue=((ne=K.priority)!==null&&ne!==void 0?ne:0)<((Q=(B=j.country)===null||B===void 0?void 0:B.priority)!==null&&Q!==void 0?Q:0);J&&!ue||(j={country:K,fullDialCodeMatch:de,areaCodeMatch:X})},T=0,y=_;T<y.length;T++){var P=y[T],A=(0,h.parseCountry)(P),$=A.dialCode,L=A.areaCodes;if(C.startsWith($)){var U=!j.country||Number($)>=Number(j.country.dialCode);if(L)for(var F=C.substring($.length),H=0,q=L;H<q.length;H++){var re=q[H];if(F.startsWith(re))return{country:A,fullDialCodeMatch:!0,areaCodeMatch:!0}}!U&&$!==C&&j.fullDialCodeMatch||k({country:A,fullDialCodeMatch:!0,areaCodeMatch:L?!L:void 0})}j.fullDialCodeMatch||C.length<$.length&&$.startsWith(C)&&(!j.country||Number($)<=Number(j.country.dialCode))&&k({country:A,fullDialCodeMatch:!1})}if(x){var G=(0,f.getCountry)({value:x,field:"iso2",countries:_});j&&G&&((p=j.country)===null||p===void 0?void 0:p.dialCode)===G.dialCode&&j.country!==G&&j.fullDialCodeMatch&&!j.areaCodeMatch&&(j={country:G,areaCodeMatch:!(G!=null&&G.areaCodes)&&void 0,fullDialCodeMatch:!0})}return j}},88:function(a,l,c){var u=this&&this.__createBinding||(Object.create?function(h,m,p,g){g===void 0&&(g=p);var _=Object.getOwnPropertyDescriptor(m,p);_&&!("get"in _?!m.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return m[p]}}),Object.defineProperty(h,g,_)}:function(h,m,p,g){g===void 0&&(g=p),h[g]=m[p]}),f=this&&this.__exportStar||function(h,m){for(var p in h)p==="default"||Object.prototype.hasOwnProperty.call(m,p)||u(m,h,p)};Object.defineProperty(l,"__esModule",{value:!0}),f(c(298),l),f(c(891),l),f(c(4),l),f(c(300),l)},300:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.parseCountry=void 0,l.parseCountry=function(c){return{name:c[0],regions:c[1],iso2:c[2],dialCode:c[3],format:c[4],priority:c[5],areaCodes:c[6]}}},332:function(a,l,c){var u=this&&this.__createBinding||(Object.create?function(h,m,p,g){g===void 0&&(g=p);var _=Object.getOwnPropertyDescriptor(m,p);_&&!("get"in _?!m.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return m[p]}}),Object.defineProperty(h,g,_)}:function(h,m,p,g){g===void 0&&(g=p),h[g]=m[p]}),f=this&&this.__exportStar||function(h,m){for(var p in h)p==="default"||Object.prototype.hasOwnProperty.call(m,p)||u(m,h,p)};Object.defineProperty(l,"__esModule",{value:!0}),f(c(239),l),f(c(88),l),f(c(165),l)},820:(a,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.addDialCode=void 0;var u=c(214);l.addDialCode=function(f){var h=f.phone,m=f.dialCode,p=f.prefix,g=p===void 0?"+":p,_=f.charAfterDialCode,x=_===void 0?" ":_;return"".concat(g).concat(m).concat(x).concat((0,u.removeDialCode)({phone:h,dialCode:m,charAfterDialCode:x,prefix:g}))}},380:(a,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.formatPhone=void 0;var u=c(239);l.formatPhone=function(f,h){var m=!h.disableDialCodeAndPrefix&&h.forceDialCode,p=!h.disableDialCodeAndPrefix&&h.insertDialCodeOnEmpty,g=f,_=function(k){return h.trimNonDigitsEnd?k.trim():k};if(!g)return p&&!g.length||m?_("".concat(h.prefix).concat(h.dialCode).concat(h.charAfterDialCode)):_(g);if((g=(0,u.removeNonDigits)(g))===h.dialCode&&!h.disableDialCodeAndPrefix)return _("".concat(h.prefix).concat(h.dialCode).concat(h.charAfterDialCode));if(h.dialCode.startsWith(g)&&!h.disableDialCodeAndPrefix)return _(m?"".concat(h.prefix).concat(h.dialCode).concat(h.charAfterDialCode):"".concat(h.prefix).concat(g));if(!g.startsWith(h.dialCode)&&!h.disableDialCodeAndPrefix){if(m)return _("".concat(h.prefix).concat(h.dialCode).concat(h.charAfterDialCode));if(g.length<h.dialCode.length)return _("".concat(h.prefix).concat(g))}var x,S=(x=h.dialCode.length,h.disableDialCodeAndPrefix&&(x=0),{phoneLeftSide:g.slice(0,x),phoneRightSide:g.slice(x)}),C=S.phoneLeftSide,j=S.phoneRightSide;return C="".concat(h.prefix).concat(C).concat(h.charAfterDialCode),j=(0,u.applyMask)({value:j,mask:h.mask,maskSymbol:h.maskChar,trimNonMaskCharsLeftover:h.trimNonDigitsEnd}),h.disableDialCodeAndPrefix&&(C=""),_("".concat(C).concat(j))}},775:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getCursorPosition=void 0;var c=function(u){return/\d/.test(u)};l.getCursorPosition=function(u){var f=u.phoneBeforeInput,h=u.phoneAfterInput,m=u.phoneAfterFormatted,p=u.cursorPositionAfterInput,g=u.leftOffset,_=g===void 0?0:g,x=u.deletion;if(p<_)return _;if(!f)return m.length;var S=x==="backward";if(p===0&&h.length>0&&m.length>0){if(S)return 0;for(var C=0;C<m.length;C+=1)if(c(m[C]))return C;return m.length}if(h.length<f.length&&h.length===1)return m.length;var j=null;for(C=p-1;C>=0;C-=1)if(c(h[C])){j=C;break}if(j===null)return p!==0?p:m.length;var k=0;for(C=0;C<j;C+=1)c(h[C])&&(k+=1);S&&(k-=1);var T=0,y=0;for(C=0;C<m.length&&(T+=1,c(m[C])&&(y+=1),y!==k+1);C+=1);for(;!c(m[T])&&T<m.length;)T+=1;return S&&(T+=1),T}},165:function(a,l,c){var u=this&&this.__createBinding||(Object.create?function(h,m,p,g){g===void 0&&(g=p);var _=Object.getOwnPropertyDescriptor(m,p);_&&!("get"in _?!m.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return m[p]}}),Object.defineProperty(h,g,_)}:function(h,m,p,g){g===void 0&&(g=p),h[g]=m[p]}),f=this&&this.__exportStar||function(h,m){for(var p in h)p==="default"||Object.prototype.hasOwnProperty.call(m,p)||u(m,h,p)};Object.defineProperty(l,"__esModule",{value:!0}),f(c(820),l),f(c(380),l),f(c(775),l),f(c(214),l),f(c(684),l)},214:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.removeDialCode=void 0,l.removeDialCode=function(c){var u=c.phone,f=c.dialCode,h=c.prefix,m=h===void 0?"+":h,p=c.charAfterDialCode,g=p===void 0?" ":p;if(!u||!f)return u;var _=u;return _.startsWith(m)&&(_=_.replace(m,"")),_.startsWith(f)?((_=_.replace(f,"")).startsWith(g)&&(_=_.replace(g,"")),_):u}},684:function(a,l,c){var u=this&&this.__assign||function(){return u=Object.assign||function(p){for(var g,_=1,x=arguments.length;_<x;_++)for(var S in g=arguments[_])Object.prototype.hasOwnProperty.call(g,S)&&(p[S]=g[S]);return p},u.apply(this,arguments)};Object.defineProperty(l,"__esModule",{value:!0}),l.validatePhone=void 0;var f=c(882),h=c(239),m=c(88);l.validatePhone=function(p,g){var _,x=u(u({},f.defaultConfig),g),S=x.countries,C=x.defaultMask,j=x.defaultMaskMinPhoneLength,k=j===void 0?10:j,T=x.prefix,y=x.charAfterDialCode,P=g!=null&&g.country?(0,m.getCountry)({value:g.country,field:"iso2",countries:S}):null,A=(0,m.guessCountryByPartialNumber)({phone:p,countries:S,currentCountryIso2:g==null?void 0:g.country}),$=((_=A.country)===null||_===void 0?void 0:_.iso2)===(P==null?void 0:P.iso2),L=!P||$?A:{country:P,fullDialCodeMatch:!1,areaCodeMatch:!(P!=null&&P.areaCodes)&&void 0},U=L.country,F=L.fullDialCodeMatch,H=L.areaCodeMatch;if(!U)return{country:U,lengthMatch:!1,dialCodeMatch:F,areaCodeMatch:H,formatMatch:!1,isValid:!1};var q=U.format||C,re=!U.format,G=re?k-U.dialCode.length:q.length-q.replaceAll(f.MASK_CHAR,"").length,Y=re?q.slice(0,G):q,te="".concat(T).concat(U.dialCode).concat(y).concat(Y).split("").every(function(Q,K){var de=p[K]===Q,X=Q===f.MASK_CHAR&&Number.isFinite(+p[K]);return de||X}),ne=(0,h.removeNonDigits)(p),B=U.dialCode.length+G;return ne.length<B?{country:U,lengthMatch:!1,dialCodeMatch:F,areaCodeMatch:H,formatMatch:te,isValid:!1}:{country:U,lengthMatch:!0,dialCodeMatch:F,areaCodeMatch:H,formatMatch:te,isValid:ne.startsWith(U.dialCode)}}},156:a=>{a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return r[a].call(c.exports,c,c.exports,o),c.exports}o.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var s={};return(()=>{var a=s;Object.defineProperty(a,"__esModule",{value:!0}),a.validatePhone=a.parseCountry=a.buildCountryData=a.usePhoneValidation=a.usePhoneInput=a.defaultCountries=a.PhoneInput=a.FlagEmoji=a.DialCodePreview=a.CountrySelectorDropdown=a.CountrySelector=void 0;var l=o(153);Object.defineProperty(a,"CountrySelector",{enumerable:!0,get:function(){return l.CountrySelector}});var c=o(60);Object.defineProperty(a,"CountrySelectorDropdown",{enumerable:!0,get:function(){return c.CountrySelectorDropdown}});var u=o(7);Object.defineProperty(a,"DialCodePreview",{enumerable:!0,get:function(){return u.DialCodePreview}});var f=o(425);Object.defineProperty(a,"FlagEmoji",{enumerable:!0,get:function(){return f.FlagEmoji}});var h=o(28);Object.defineProperty(a,"PhoneInput",{enumerable:!0,get:function(){return h.PhoneInput}});var m=o(946);Object.defineProperty(a,"defaultCountries",{enumerable:!0,get:function(){return m.defaultCountries}});var p=o(882);Object.defineProperty(a,"usePhoneInput",{enumerable:!0,get:function(){return p.usePhoneInput}});var g=o(393);Object.defineProperty(a,"usePhoneValidation",{enumerable:!0,get:function(){return g.usePhoneValidation}});var _=o(332);Object.defineProperty(a,"buildCountryData",{enumerable:!0,get:function(){return _.buildCountryData}}),Object.defineProperty(a,"parseCountry",{enumerable:!0,get:function(){return _.parseCountry}}),Object.defineProperty(a,"validatePhone",{enumerable:!0,get:function(){return _.validatePhone}})})(),s})())})(u7);var R6e=u7.exports;function $6e(e){return Rn.post("/workers/send_phone_code",{phone:e})}function I6e(e){return Rn.post("/workers/verify_code",{code:e})}function D6e({userPhoneNumber:e,userPhoneVerified:t}){const[n,r]=b.useState(void 0),[i,o]=b.useState(e||""),[s,a]=b.useState(!1),[l,c]=b.useState(!1),[u,f]=b.useState(!1),[h,m]=b.useState(!1),[p,g]=b.useState(!1),[_,x]=b.useState(!1),[S,C]=b.useState(null),j=()=>(a(!0),f(!1),r(void 0),m(!1),$6e(i).then(()=>{c(!0)}).catch(y=>{f(!0),C(y.response.data.message)}).finally(()=>{a(!1)})),k=()=>(g(!0),f(!1),I6e(n).then(()=>{x(!0),window.location.href="/workers/projects?phone_verified=true"}).catch(y=>{m(!0),C(y.response.data.message)}).finally(()=>{g(!1)})),T=h?"#ff4d4f":void 0;return t?d.jsx("div",{className:"tw-flex tw-min-h-screen tw-text-center tw-justify-center",children:d.jsx("div",{className:"tw-pt-4 tw-max-w-4xl tw-mx-auto",children:d.jsx("p",{className:"tw-mb-2",children:"Phone already verified!"})})}):d.jsx("div",{className:"tw-flex tw-min-h-screen",children:d.jsxs("div",{className:"tw-pt-4 tw-max-w-xl tw-mx-auto",children:[d.jsx("h2",{children:"Verify your phone number"}),d.jsxs("div",{className:"tw-text-lg tw-mt-6",children:[d.jsx("p",{className:"tw-mb-2",children:"For security reasons, we will send a text message with a code to verify your mobile phone number."}),d.jsx("br",{}),d.jsx(R6e.PhoneInput,{defaultCountry:"us",value:i,onChange:o}),!_&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"tw-mt-2 tw-flex tw-justify-normal tw-gap-2",children:[d.jsx(yt,{disabled:i.length<5||s||_,onClick:j,variant:l?"outline":"primary",children:l?"Resend Code":"Send Code"}),u&&d.jsx("p",{className:"alert alert-danger",role:"alert",children:S||"Could not send code"}),l&&d.jsx("p",{className:"alert alert-success",role:"alert",children:"Code sent"})]}),l&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"tw-mt-4 tw-flex tw-justify-normal tw-gap-4",children:d.jsxs(pb,{layout:"inline",onFinish:k,children:[d.jsx(pb.Item,{name:"verification_code",rules:[{required:!0}],children:d.jsx(WX,{placeholder:"Enter code",value:n,onChange:y=>r(y.target.value),disabled:p||_,style:{borderColor:T},autoComplete:"one-time-code"})}),d.jsx(pb.Item,{children:d.jsx(yt,{disabled:p||_,buttonSize:"sm",onClick:k,children:"Submit Code"})})]})}),h&&d.jsx("p",{className:"tw-mt-2 alert alert-danger",role:"alert",children:S||"Verification failed"})]})]})]})]})})}const L6e=Object.freeze(Object.defineProperty({__proto__:null,default:D6e},Symbol.toStringTag,{value:"Module"}));function F6e(){return d.jsx("div",{className:"tw-flex tw-min-h-screen tw-text-center tw-justify-center",children:d.jsxs("div",{className:"tw-pt-4 tw-max-w-4xl tw-mx-auto",children:[d.jsx("h1",{children:"Thanks for signing up!"}),d.jsxs("div",{className:"tw-text-lg tw-mb-4 tw-mt-6",children:[d.jsx("p",{className:"tw-mb-2",children:"We do not have any open projects to assign you at the moment. Our workflow can vary, so it's common to see available work fluctuate."}),d.jsx("br",{}),d.jsxs("p",{className:"tw-mb-2",children:["Keep an eye out for emails from us for project announcements. As soon as we have a task that matches your skills and availability, we'll reach out about claiming it. In the meantime, make sure"," ",d.jsx("a",{href:"/me",children:"your profile"})," fully represents your capabilities so we can match you accurately."]})]})]})})}const z6e={VIEW_SPLASH_PAGE:"View Splash Page"};function R2(e,t){const n={pageName:e,...t};B6e(z6e.VIEW_SPLASH_PAGE,n)}function B6e(e,t){return window.amplitude?(window.amplitude.track(e,t),!0):(console.error("Amplitude is not initialized"),!1)}function W6e(e){return R2("Not Fast Tracked",{}),d.jsx(F6e,{...e})}const H6e=Object.freeze(Object.defineProperty({__proto__:null,default:W6e},Symbol.toStringTag,{value:"Module"}));function q6e({phoneVerified:e,numberOfProjectsWorked:t}){const n=d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"tw-mb-2",children:"If we have need of your particular skills, or we have additional assessments for you to identify further skills, you’ll be notified via email. Otherwise we thank you for your time."}),d.jsx("br",{}),d.jsxs("p",{className:"tw-mb-2",children:["Visit ",d.jsx("a",{href:"/me",children:"your profile"})," to:"]}),d.jsxs("ul",{className:"tw-list-disc tw-ml-8",children:[d.jsx("li",{children:"Update your PayPal email address to be promptly compensated for future work"}),d.jsx("li",{children:"Fill out your skills to be matched with relevant projects"})]})]}),r=d.jsxs("div",{className:"tw-text-center tw-justify-center",children:[d.jsx("p",{className:"tw-mt-4",children:"Verify your phone number to allow us to progress with reviewing your assessment."}),d.jsx(yt,{className:"tw-mt-6",onClick:()=>window.location.href="/workers/verify_phone",children:"Verify Phone Number"})]});return d.jsx("div",{className:"tw-flex tw-min-h-screen",children:d.jsxs("div",{className:"tw-pt-4 tw-max-w-3xl tw-mx-auto",children:[d.jsxs("h1",{className:"tw-text-center tw-justify-center",children:["Thanks for taking the assessment",t>1?"s":"","!"]}),d.jsx("div",{className:"tw-text-lg tw-mb-4 tw-mt-6",children:e?n:r})]})})}function V6e(e){return R2("Post Starter Assessment",{phoneVerified:e.phoneVerified,userId:e.userId}),d.jsx(q6e,{...e})}const U6e=Object.freeze(Object.defineProperty({__proto__:null,default:V6e},Symbol.toStringTag,{value:"Module"})),G6e=e=>(e.isOnboarding&&(window.rdt&&window.rdt("track","Purchase",{transactionId:e.userId,conversionId:e.userId}),window.ttq&&window.ttq.track("PlaceAnOrder",{event_id:e.userId}),window.gtag&&window.gtag("event","conversion",{send_to:"AW-11279338181/VR6uCNmWmp4ZEMWVtIIq",transaction_id:e.userId}),window.lintrk&&window.lintrk("track",{conversion_id:13459716,event_id:e.userId})),d.jsx(kz,{...e})),K6e=Object.freeze(Object.defineProperty({__proto__:null,default:G6e},Symbol.toStringTag,{value:"Module"})),tA=[{value:"friend",label:"Friend"},{value:"coworker",label:"Coworker"},{value:"family",label:"Family"},{value:"other",label:"Other"}],Y6e=10,Z6e=5,Q6e=Vz({name:cd(),message:cd().optional(),relation:cd(),project_id:cd().optional(),email:cd().email("Invalid email")}),J6e=C3(Q6e);function X6e({projects:e,numReferralsUsed:t}){var P,A;const n=Uz("refer_enabled")?Y6e:Z6e,[r,i]=b.useState(t),{register:o,handleSubmit:s,formState:{errors:a},setValue:l,getValues:c,reset:u}=B1({resolver:J6e}),f=s($=>{eK($),p(!0),i(r+1),u()}),h=b.useMemo(()=>e==null?void 0:e.map($=>({label:$.name,value:$.id})),[e]),[m,p]=b.useState(!1),g=m?null:d.jsxs("div",{className:"tw-bg-orange-50 tw-border-orange-200 tw-border-1  tw-py-6 tw-px-5 tw-border tw-gap-3 tw-text-left",children:[d.jsx("h2",{children:"Invite talented people to the platform!"}),d.jsx("br",{}),d.jsx("p",{children:"We love working with great people like you. We'd love you to invite other awesome people you know to work with us!"}),d.jsx("br",{}),d.jsxs("p",{children:["You've used ",r," out of ",n," referrals."]})]}),_=d.jsxs("div",{className:"tw-bg-orange-50 tw-border-orange-200 tw-border-1  tw-py-6 tw-px-5 tw-border tw-gap-3 tw-text-left",children:[d.jsxs("h2",{children:["You've used all ",r," of your referrals!"]}),d.jsx("br",{}),d.jsx("p",{children:"Thank you for all of your help! We'll let you know when we are looking for more referrals."})]}),x=d.jsx(pn,{blackLabel:!0,...o("name"),error:(P=a.name)==null?void 0:P.message,placeholder:"John Doe",label:"Full Name"}),S=d.jsx(pn,{blackLabel:!0,placeholder:"i.e john@gmail.com",label:"Email",...o("email"),error:(A=a.email)==null?void 0:A.message,type:"email"}),C=d.jsx(pn,{blackLabel:!0,optional:!0,...o("message"),label:"Message",placeholder:"Let this person know about our platform and why you think it might be interesting for them!"}),j=d.jsxs("div",{children:[d.jsx("div",{className:"tw-mr-auto",children:"How do you know this person?"}),d.jsx(ul,{isMulti:!1,options:tA,onChange:$=>{$&&l("relation",$.value)},value:tA.find($=>$.value===c("relation")),name:"relation"}),d.jsx("div",{className:"tw-text-red-500",children:a.relation&&"Required"})]}),k=!Array.isArray(e)||e.length===0?d.jsx(d.Fragment,{}):d.jsxs("div",{children:[d.jsx("div",{className:"tw-mr-auto",children:"What project would you recommend this person for?"}),d.jsx(ul,{isMulti:!1,options:h,onChange:$=>{$&&l("project_id",$.value)},value:h.find($=>$.value===c("project_id")),name:"project_id"}),d.jsx("div",{className:"tw-text-red-500",children:a.project_id&&"Required"})]}),T=d.jsxs("form",{onSubmit:f,className:"tw-gap-5 tw-flex tw-flex-col tw-text-left",children:[x,S,j,k,C,d.jsx("br",{}),d.jsx("br",{}),d.jsx(yt,{type:"submit",className:"tw-max-w-[10rem] tw-ml-auto",children:"Send Referral"})]}),y=d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"Thank you!"}),d.jsx("p",{children:"If this person is not on our platform and has not already been referred, we’ll be in touch with them and get back to you when they sign up!"}),d.jsx(yt,{className:"tw-max-w-[10rem] tw-mx-auto tw-my-2",onClick:()=>p(!1),children:"New Referral"})]});return d.jsxs("div",{className:"tw-m-4",children:[r<n?g:_,d.jsx("br",{}),r<n&&(m?y:T)]})}function e8e(e){return d.jsx(sr,{value:e.session,children:d.jsx(X6e,{...e})})}const t8e=Object.freeze(Object.defineProperty({__proto__:null,default:e8e},Symbol.toStringTag,{value:"Module"}));function n8e(e){const n=`/workers/tasks?project_id=${e.projectsInfo[0].id}`;return d.jsx("div",{className:"tw-flex tw-min-h-screen tw-text-center tw-justify-center",children:d.jsxs("div",{className:"tw-pt-4 tw-max-w-4xl tw-mx-auto",children:[d.jsx("h1",{children:"Welcome!"}),d.jsxs("div",{className:"tw-text-lg tw-mb-4 tw-mt-6",children:[d.jsx("p",{className:"tw-mb-2",children:"Get started below by completing your starter assessment."}),d.jsx("p",{className:"tw-mb-2",children:"If you pass, we’ll notify you via email, and you’ll have access to a wide range of work."})]}),d.jsx("div",{className:"tw-mt-8",children:d.jsx(yt,{onClick:()=>window.location.href=n,children:"Begin Starter Assessment"})})]})})}function r8e(e){return R2("Starter Assessment Ready",{}),d.jsx(n8e,{...e})}const i8e=Object.freeze(Object.defineProperty({__proto__:null,default:r8e},Symbol.toStringTag,{value:"Module"})),o8e=Object.freeze(Object.defineProperty({__proto__:null,default:nC},Symbol.toStringTag,{value:"Module"})),s8e=[{id:"id",Header:"id",Cell:({value:e,row:t})=>d.jsx("a",{href:t.original.path,children:e}),accessor:"id"},{id:"time",Header:"Time",accessor:"timeInMinutes"},{id:"created",Header:"Created",accessor:"createdAt"}];function a8e(e){const{workerEuid:t,workEntries:n,projectName:r,workerName:i}=e;return d.jsxs(d.Fragment,{children:[d.jsx($g,{data:n,columns:s8e,title:`Work Entries for ${i} (${t}) on ${r}`,manualPagination:!1,defaultPageSize:500,hover:!0}),"Total time in minutes: ",GU(n.map(o=>o.timeInMinutes))]})}const l8e=Object.freeze(Object.defineProperty({__proto__:null,default:a8e},Symbol.toStringTag,{value:"Module"}));/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Ch=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",c8e=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Ch&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function u8e(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function d8e(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},c8e))}}var f8e=Ch&&window.Promise,h8e=f8e?u8e:d8e;function d7(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function $l(e,t){if(e.nodeType!==1)return[];var n=e.ownerDocument.defaultView,r=n.getComputedStyle(e,null);return t?r[t]:r}function $2(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function Th(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=$l(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:Th($2(e))}function f7(e){return e&&e.referenceNode?e.referenceNode:e}var nA=Ch&&!!(window.MSInputMethodContext&&document.documentMode),rA=Ch&&/MSIE 10/.test(navigator.userAgent);function Nu(e){return e===11?nA:e===10?rA:nA||rA}function su(e){if(!e)return document.documentElement;for(var t=Nu(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&$l(n,"position")==="static"?su(n):n}function p8e(e){var t=e.nodeName;return t==="BODY"?!1:t==="HTML"||su(e.firstElementChild)===e}function b1(e){return e.parentNode!==null?b1(e.parentNode):e}function Mg(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s=o.commonAncestorContainer;if(e!==s&&t!==s||r.contains(i))return p8e(s)?s:su(s);var a=b1(e);return a.host?Mg(a.host,t):Mg(e,b1(t).host)}function au(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=t==="top"?"scrollTop":"scrollLeft",r=e.nodeName;if(r==="BODY"||r==="HTML"){var i=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||i;return o[n]}return e[n]}function m8e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=au(t,"top"),i=au(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}function iA(e,t){var n=t==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function oA(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Nu(10)?parseInt(n["offset"+e])+parseInt(r["margin"+(e==="Height"?"Top":"Left")])+parseInt(r["margin"+(e==="Height"?"Bottom":"Right")]):0)}function h7(e){var t=e.body,n=e.documentElement,r=Nu(10)&&getComputedStyle(n);return{height:oA("Height",t,n,r),width:oA("Width",t,n,r)}}var g8e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},v8e=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),lu=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function aa(e){return Mi({},e,{right:e.left+e.width,bottom:e.top+e.height})}function y1(e){var t={};try{if(Nu(10)){t=e.getBoundingClientRect();var n=au(e,"top"),r=au(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch{}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o=e.nodeName==="HTML"?h7(e.ownerDocument):{},s=o.width||e.clientWidth||i.width,a=o.height||e.clientHeight||i.height,l=e.offsetWidth-s,c=e.offsetHeight-a;if(l||c){var u=$l(e);l-=iA(u,"x"),c-=iA(u,"y"),i.width-=l,i.height-=c}return aa(i)}function I2(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Nu(10),i=t.nodeName==="HTML",o=y1(e),s=y1(t),a=Th(e),l=$l(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var f=aa({top:o.top-s.top-c,left:o.left-s.left-u,width:o.width,height:o.height});if(f.marginTop=0,f.marginLeft=0,!r&&i){var h=parseFloat(l.marginTop),m=parseFloat(l.marginLeft);f.top-=c-h,f.bottom-=c-h,f.left-=u-m,f.right-=u-m,f.marginTop=h,f.marginLeft=m}return(r&&!n?t.contains(a):t===a&&a.nodeName!=="BODY")&&(f=m8e(f,t)),f}function b8e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=e.ownerDocument.documentElement,r=I2(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:au(n),a=t?0:au(n,"left"),l={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o};return aa(l)}function p7(e){var t=e.nodeName;if(t==="BODY"||t==="HTML")return!1;if($l(e,"position")==="fixed")return!0;var n=$2(e);return n?p7(n):!1}function m7(e){if(!e||!e.parentElement||Nu())return document.documentElement;for(var t=e.parentElement;t&&$l(t,"transform")==="none";)t=t.parentElement;return t||document.documentElement}function D2(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o={top:0,left:0},s=i?m7(e):Mg(e,f7(t));if(r==="viewport")o=b8e(s,i);else{var a=void 0;r==="scrollParent"?(a=Th($2(t)),a.nodeName==="BODY"&&(a=e.ownerDocument.documentElement)):r==="window"?a=e.ownerDocument.documentElement:a=r;var l=I2(a,s,i);if(a.nodeName==="HTML"&&!p7(s)){var c=h7(e.ownerDocument),u=c.height,f=c.width;o.top+=l.top-l.marginTop,o.bottom=u+l.top,o.left+=l.left-l.marginLeft,o.right=f+l.left}else o=l}n=n||0;var h=typeof n=="number";return o.left+=h?n:n.left||0,o.top+=h?n:n.top||0,o.right-=h?n:n.right||0,o.bottom-=h?n:n.bottom||0,o}function y8e(e){var t=e.width,n=e.height;return t*n}function g7(e,t,n,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var s=D2(n,r,o,i),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map(function(h){return Mi({key:h},a[h],{area:y8e(a[h])})}).sort(function(h,m){return m.area-h.area}),c=l.filter(function(h){var m=h.width,p=h.height;return m>=n.clientWidth&&p>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,f=e.split("-")[1];return u+(f?"-"+f:"")}function v7(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?m7(t):Mg(t,f7(n));return I2(n,i,r)}function b7(e){var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),o={width:e.offsetWidth+i,height:e.offsetHeight+r};return o}function Ng(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(n){return t[n]})}function y7(e,t,n){n=n.split("-")[0];var r=b7(e),i={width:r.width,height:r.height},o=["right","left"].indexOf(n)!==-1,s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return i[s]=t[s]+t[l]/2-r[l]/2,n===a?i[a]=t[a]-r[c]:i[a]=t[Ng(a)],i}function jh(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function _8e(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(i){return i[t]===n});var r=jh(e,function(i){return i[t]===n});return e.indexOf(r)}function _7(e,t,n){var r=n===void 0?e:e.slice(0,_8e(e,"name",n));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var o=i.function||i.fn;i.enabled&&d7(o)&&(t.offsets.popper=aa(t.offsets.popper),t.offsets.reference=aa(t.offsets.reference),t=o(t,i))}),t}function x8e(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=v7(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=g7(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=y7(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=_7(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function x7(e,t){return e.some(function(n){var r=n.name,i=n.enabled;return i&&r===t})}function L2(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if(typeof document.body.style[o]<"u")return o}return null}function w8e(){return this.state.isDestroyed=!0,x7(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[L2("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function w7(e){var t=e.ownerDocument;return t?t.defaultView:window}function S7(e,t,n,r){var i=e.nodeName==="BODY",o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||S7(Th(o.parentNode),t,n,r),r.push(o)}function S8e(e,t,n,r){n.updateBound=r,w7(e).addEventListener("resize",n.updateBound,{passive:!0});var i=Th(e);return S7(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function C8e(){this.state.eventsEnabled||(this.state=S8e(this.reference,this.options,this.state,this.scheduleUpdate))}function T8e(e,t){return w7(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(n){n.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function j8e(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=T8e(this.reference,this.state))}function F2(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function _1(e,t){Object.keys(t).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&F2(t[n])&&(r="px"),e.style[n]=t[n]+r})}function E8e(e,t){Object.keys(t).forEach(function(n){var r=t[n];r!==!1?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function k8e(e){return _1(e.instance.popper,e.styles),E8e(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&_1(e.arrowElement,e.arrowStyles),e}function O8e(e,t,n,r,i){var o=v7(i,t,e,n.positionFixed),s=g7(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),_1(t,{position:n.positionFixed?"fixed":"absolute"}),n}function M8e(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(x){return x},l=o(i.width),c=o(r.width),u=["left","right"].indexOf(e.placement)!==-1,f=e.placement.indexOf("-")!==-1,h=l%2===c%2,m=l%2===1&&c%2===1,p=t?u||f||h?o:s:a,g=t?o:a;return{left:p(m&&!f&&t?r.left-1:r.left),top:g(r.top),bottom:g(r.bottom),right:p(r.right)}}var N8e=Ch&&/Firefox/i.test(navigator.userAgent);function P8e(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=jh(e.instance.modifiers,function(C){return C.name==="applyStyle"}).gpuAcceleration;o!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=o!==void 0?o:t.gpuAcceleration,a=su(e.instance.popper),l=y1(a),c={position:i.position},u=M8e(e,window.devicePixelRatio<2||!N8e),f=n==="bottom"?"top":"bottom",h=r==="right"?"left":"right",m=L2("transform"),p=void 0,g=void 0;if(f==="bottom"?a.nodeName==="HTML"?g=-a.clientHeight+u.bottom:g=-l.height+u.bottom:g=u.top,h==="right"?a.nodeName==="HTML"?p=-a.clientWidth+u.right:p=-l.width+u.right:p=u.left,s&&m)c[m]="translate3d("+p+"px, "+g+"px, 0)",c[f]=0,c[h]=0,c.willChange="transform";else{var _=f==="bottom"?-1:1,x=h==="right"?-1:1;c[f]=g*_,c[h]=p*x,c.willChange=f+", "+h}var S={"x-placement":e.placement};return e.attributes=Mi({},S,e.attributes),e.styles=Mi({},c,e.styles),e.arrowStyles=Mi({},e.offsets.arrow,e.arrowStyles),e}function C7(e,t,n){var r=jh(e,function(a){var l=a.name;return l===t}),i=!!r&&e.some(function(a){return a.name===n&&a.enabled&&a.order<r.order});if(!i){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function A8e(e,t){var n;if(!C7(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if(typeof r=="string"){if(r=e.instance.popper.querySelector(r),!r)return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,s=o.popper,a=o.reference,l=["left","right"].indexOf(i)!==-1,c=l?"height":"width",u=l?"Top":"Left",f=u.toLowerCase(),h=l?"left":"top",m=l?"bottom":"right",p=b7(r)[c];a[m]-p<s[f]&&(e.offsets.popper[f]-=s[f]-(a[m]-p)),a[f]+p>s[m]&&(e.offsets.popper[f]+=a[f]+p-s[m]),e.offsets.popper=aa(e.offsets.popper);var g=a[f]+a[c]/2-p/2,_=$l(e.instance.popper),x=parseFloat(_["margin"+u]),S=parseFloat(_["border"+u+"Width"]),C=g-e.offsets.popper[f]-x-S;return C=Math.max(Math.min(s[c]-p,C),0),e.arrowElement=r,e.offsets.arrow=(n={},lu(n,f,Math.round(C)),lu(n,h,""),n),e}function R8e(e){return e==="end"?"start":e==="start"?"end":e}var T7=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Ky=T7.slice(3);function sA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Ky.indexOf(e),r=Ky.slice(n+1).concat(Ky.slice(0,n));return t?r.reverse():r}var Yy={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function $8e(e,t){if(x7(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var n=D2(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=Ng(r),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case Yy.FLIP:s=[r,i];break;case Yy.CLOCKWISE:s=sA(r);break;case Yy.COUNTERCLOCKWISE:s=sA(r,!0);break;default:s=t.behavior}return s.forEach(function(a,l){if(r!==a||s.length===l+1)return e;r=e.placement.split("-")[0],i=Ng(r);var c=e.offsets.popper,u=e.offsets.reference,f=Math.floor,h=r==="left"&&f(c.right)>f(u.left)||r==="right"&&f(c.left)<f(u.right)||r==="top"&&f(c.bottom)>f(u.top)||r==="bottom"&&f(c.top)<f(u.bottom),m=f(c.left)<f(n.left),p=f(c.right)>f(n.right),g=f(c.top)<f(n.top),_=f(c.bottom)>f(n.bottom),x=r==="left"&&m||r==="right"&&p||r==="top"&&g||r==="bottom"&&_,S=["top","bottom"].indexOf(r)!==-1,C=!!t.flipVariations&&(S&&o==="start"&&m||S&&o==="end"&&p||!S&&o==="start"&&g||!S&&o==="end"&&_),j=!!t.flipVariationsByContent&&(S&&o==="start"&&p||S&&o==="end"&&m||!S&&o==="start"&&_||!S&&o==="end"&&g),k=C||j;(h||x||k)&&(e.flipped=!0,(h||x)&&(r=s[l+1]),k&&(o=R8e(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=Mi({},e.offsets.popper,y7(e.instance.popper,e.offsets.reference,e.placement)),e=_7(e.instance.modifiers,e,"flip"))}),e}function I8e(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,s=["top","bottom"].indexOf(i)!==-1,a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-n[c]),n[l]>o(r[a])&&(e.offsets.popper[l]=o(r[a])),e}function D8e(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return e;if(s.indexOf("%")===0){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}var l=aa(a);return l[t]/100*o}else if(s==="vh"||s==="vw"){var c=void 0;return s==="vh"?c=Math.max(document.documentElement.clientHeight,window.innerHeight||0):c=Math.max(document.documentElement.clientWidth,window.innerWidth||0),c/100*o}else return o}function L8e(e,t,n,r){var i=[0,0],o=["right","left"].indexOf(r)!==-1,s=e.split(/(\+|\-)/).map(function(u){return u.trim()}),a=s.indexOf(jh(s,function(u){return u.search(/,|\s/)!==-1}));s[a]&&s[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=a!==-1?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return c=c.map(function(u,f){var h=(f===1?!o:o)?"height":"width",m=!1;return u.reduce(function(p,g){return p[p.length-1]===""&&["+","-"].indexOf(g)!==-1?(p[p.length-1]=g,m=!0,p):m?(p[p.length-1]+=g,m=!1,p):p.concat(g)},[]).map(function(p){return D8e(p,h,t,n)})}),c.forEach(function(u,f){u.forEach(function(h,m){F2(h)&&(i[f]+=h*(u[m-1]==="-"?-1:1))})}),i}function F8e(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],l=void 0;return F2(+n)?l=[+n,0]:l=L8e(n,o,s,a),a==="left"?(o.top+=l[0],o.left-=l[1]):a==="right"?(o.top+=l[0],o.left+=l[1]):a==="top"?(o.left+=l[0],o.top-=l[1]):a==="bottom"&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e}function z8e(e,t){var n=t.boundariesElement||su(e.instance.popper);e.instance.reference===n&&(n=su(n));var r=L2("transform"),i=e.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=D2(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=s,i[r]=a,t.boundaries=l;var c=t.priority,u=e.offsets.popper,f={primary:function(m){var p=u[m];return u[m]<l[m]&&!t.escapeWithReference&&(p=Math.max(u[m],l[m])),lu({},m,p)},secondary:function(m){var p=m==="right"?"left":"top",g=u[p];return u[m]>l[m]&&!t.escapeWithReference&&(g=Math.min(u[p],l[m]-(m==="right"?u.width:u.height))),lu({},p,g)}};return c.forEach(function(h){var m=["left","top"].indexOf(h)!==-1?"primary":"secondary";u=Mi({},u,f[m](h))}),e.offsets.popper=u,e}function B8e(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,s=i.popper,a=["bottom","top"].indexOf(n)!==-1,l=a?"left":"top",c=a?"width":"height",u={start:lu({},l,o[l]),end:lu({},l,o[l]+o[c]-s[c])};e.offsets.popper=Mi({},s,u[r])}return e}function W8e(e){if(!C7(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=jh(e.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function H8e(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,s=["left","right"].indexOf(n)!==-1,a=["top","left"].indexOf(n)===-1;return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),e.placement=Ng(t),e.offsets.popper=aa(i),e}var q8e={shift:{order:100,enabled:!0,fn:B8e},offset:{order:200,enabled:!0,fn:F8e,offset:0},preventOverflow:{order:300,enabled:!0,fn:z8e,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:I8e},arrow:{order:500,enabled:!0,fn:A8e,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:$8e,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:H8e},hide:{order:800,enabled:!0,fn:W8e},computeStyle:{order:850,enabled:!0,fn:P8e,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:k8e,onLoad:O8e,gpuAcceleration:void 0}},V8e={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:q8e},$0=function(){function e(t,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};g8e(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=h8e(this.update.bind(this)),this.options=Mi({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Mi({},e.Defaults.modifiers,i.modifiers)).forEach(function(s){r.options.modifiers[s]=Mi({},e.Defaults.modifiers[s]||{},i.modifiers?i.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return Mi({name:s},r.options.modifiers[s])}).sort(function(s,a){return s.order-a.order}),this.modifiers.forEach(function(s){s.enabled&&d7(s.onLoad)&&s.onLoad(r.reference,r.popper,r.options,s,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return v8e(e,[{key:"update",value:function(){return x8e.call(this)}},{key:"destroy",value:function(){return w8e.call(this)}},{key:"enableEventListeners",value:function(){return C8e.call(this)}},{key:"disableEventListeners",value:function(){return j8e.call(this)}}]),e}();$0.Utils=(typeof window<"u"?window:global).PopperUtils;$0.placements=T7;$0.Defaults=V8e;const j7=$0,U8e=Object.freeze(Object.defineProperty({__proto__:null,default:j7},Symbol.toStringTag,{value:"Module"}));var aA={exports:{}},Zy={exports:{}};/*!
 * jQuery JavaScript Library v3.7.0
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-05-11T18:29Z
 */var lA;function G8e(){return lA||(lA=1,function(e){(function(t,n){e.exports=t.document?n(t,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:Mt,function(t,n){var r=[],i=Object.getPrototypeOf,o=r.slice,s=r.flat?function(v){return r.flat.call(v)}:function(v){return r.concat.apply([],v)},a=r.push,l=r.indexOf,c={},u=c.toString,f=c.hasOwnProperty,h=f.toString,m=h.call(Object),p={},g=function(w){return typeof w=="function"&&typeof w.nodeType!="number"&&typeof w.item!="function"},_=function(w){return w!=null&&w===w.window},x=t.document,S={type:!0,src:!0,nonce:!0,noModule:!0};function C(v,w,E){E=E||x;var M,I,D=E.createElement("script");if(D.text=v,w)for(M in S)I=w[M]||w.getAttribute&&w.getAttribute(M),I&&D.setAttribute(M,I);E.head.appendChild(D).parentNode.removeChild(D)}function j(v){return v==null?v+"":typeof v=="object"||typeof v=="function"?c[u.call(v)]||"object":typeof v}var k="3.7.0",T=/HTML$/i,y=function(v,w){return new y.fn.init(v,w)};y.fn=y.prototype={jquery:k,constructor:y,length:0,toArray:function(){return o.call(this)},get:function(v){return v==null?o.call(this):v<0?this[v+this.length]:this[v]},pushStack:function(v){var w=y.merge(this.constructor(),v);return w.prevObject=this,w},each:function(v){return y.each(this,v)},map:function(v){return this.pushStack(y.map(this,function(w,E){return v.call(w,E,w)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(y.grep(this,function(v,w){return(w+1)%2}))},odd:function(){return this.pushStack(y.grep(this,function(v,w){return w%2}))},eq:function(v){var w=this.length,E=+v+(v<0?w:0);return this.pushStack(E>=0&&E<w?[this[E]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:r.sort,splice:r.splice},y.extend=y.fn.extend=function(){var v,w,E,M,I,D,W=arguments[0]||{},pe=1,le=arguments.length,we=!1;for(typeof W=="boolean"&&(we=W,W=arguments[pe]||{},pe++),typeof W!="object"&&!g(W)&&(W={}),pe===le&&(W=this,pe--);pe<le;pe++)if((v=arguments[pe])!=null)for(w in v)M=v[w],!(w==="__proto__"||W===M)&&(we&&M&&(y.isPlainObject(M)||(I=Array.isArray(M)))?(E=W[w],I&&!Array.isArray(E)?D=[]:!I&&!y.isPlainObject(E)?D={}:D=E,I=!1,W[w]=y.extend(we,D,M)):M!==void 0&&(W[w]=M));return W},y.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(v){throw new Error(v)},noop:function(){},isPlainObject:function(v){var w,E;return!v||u.call(v)!=="[object Object]"?!1:(w=i(v),w?(E=f.call(w,"constructor")&&w.constructor,typeof E=="function"&&h.call(E)===m):!0)},isEmptyObject:function(v){var w;for(w in v)return!1;return!0},globalEval:function(v,w,E){C(v,{nonce:w&&w.nonce},E)},each:function(v,w){var E,M=0;if(P(v))for(E=v.length;M<E&&w.call(v[M],M,v[M])!==!1;M++);else for(M in v)if(w.call(v[M],M,v[M])===!1)break;return v},text:function(v){var w,E="",M=0,I=v.nodeType;if(I){if(I===1||I===9||I===11)return v.textContent;if(I===3||I===4)return v.nodeValue}else for(;w=v[M++];)E+=y.text(w);return E},makeArray:function(v,w){var E=w||[];return v!=null&&(P(Object(v))?y.merge(E,typeof v=="string"?[v]:v):a.call(E,v)),E},inArray:function(v,w,E){return w==null?-1:l.call(w,v,E)},isXMLDoc:function(v){var w=v&&v.namespaceURI,E=v&&(v.ownerDocument||v).documentElement;return!T.test(w||E&&E.nodeName||"HTML")},merge:function(v,w){for(var E=+w.length,M=0,I=v.length;M<E;M++)v[I++]=w[M];return v.length=I,v},grep:function(v,w,E){for(var M,I=[],D=0,W=v.length,pe=!E;D<W;D++)M=!w(v[D],D),M!==pe&&I.push(v[D]);return I},map:function(v,w,E){var M,I,D=0,W=[];if(P(v))for(M=v.length;D<M;D++)I=w(v[D],D,E),I!=null&&W.push(I);else for(D in v)I=w(v[D],D,E),I!=null&&W.push(I);return s(W)},guid:1,support:p}),typeof Symbol=="function"&&(y.fn[Symbol.iterator]=r[Symbol.iterator]),y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(v,w){c["[object "+w+"]"]=w.toLowerCase()});function P(v){var w=!!v&&"length"in v&&v.length,E=j(v);return g(v)||_(v)?!1:E==="array"||w===0||typeof w=="number"&&w>0&&w-1 in v}function A(v,w){return v.nodeName&&v.nodeName.toLowerCase()===w.toLowerCase()}var $=r.pop,L=r.sort,U=r.splice,F="[\\x20\\t\\r\\n\\f]",H=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g");y.contains=function(v,w){var E=w&&w.parentNode;return v===E||!!(E&&E.nodeType===1&&(v.contains?v.contains(E):v.compareDocumentPosition&&v.compareDocumentPosition(E)&16))};var q=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function re(v,w){return w?v==="\0"?"�":v.slice(0,-1)+"\\"+v.charCodeAt(v.length-1).toString(16)+" ":"\\"+v}y.escapeSelector=function(v){return(v+"").replace(q,re)};var G=x,Y=a;(function(){var v,w,E,M,I,D=Y,W,pe,le,we,Me,Ie=y.expando,je=0,Ye=0,kt=Bl(),Yt=Bl(),Dt=Bl(),Vn=Bl(),In=function(oe,ve){return oe===ve&&(I=!0),0},mi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",gi="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Zt="\\["+F+"*("+gi+")(?:"+F+"*([*^$|!~]?=)"+F+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+gi+"))|)"+F+"*\\]",Go=":("+gi+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Zt+")*)|.*)\\)|)",tn=new RegExp(F+"+","g"),Tn=new RegExp("^"+F+"*,"+F+"*"),Ss=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),_a=new RegExp(F+"|>"),vi=new RegExp(Go),$i=new RegExp("^"+gi+"$"),bi={ID:new RegExp("^#("+gi+")"),CLASS:new RegExp("^\\.("+gi+")"),TAG:new RegExp("^("+gi+"|[*])"),ATTR:new RegExp("^"+Zt),PSEUDO:new RegExp("^"+Go),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+mi+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},so=/^(?:input|select|textarea|button)$/i,ao=/^h\d$/i,Br=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ju=/[+~]/,Ii=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),yi=function(oe,ve){var Ce="0x"+oe.slice(1)-65536;return ve||(Ce<0?String.fromCharCode(Ce+65536):String.fromCharCode(Ce>>10|55296,Ce&1023|56320))},Ko=function(){lo()},Q0=Wl(function(oe){return oe.disabled===!0&&A(oe,"fieldset")},{dir:"parentNode",next:"legend"});function zl(){try{return W.activeElement}catch{}}try{D.apply(r=o.call(G.childNodes),G.childNodes),r[G.childNodes.length].nodeType}catch{D={apply:function(ve,Ce){Y.apply(ve,o.call(Ce))},call:function(ve){Y.apply(ve,o.call(arguments,1))}}}function Ut(oe,ve,Ce,Ee){var De,nt,lt,gt,ct,Kt,Tt,Pt=ve&&ve.ownerDocument,Wt=ve?ve.nodeType:9;if(Ce=Ce||[],typeof oe!="string"||!oe||Wt!==1&&Wt!==9&&Wt!==11)return Ce;if(!Ee&&(lo(ve),ve=ve||W,le)){if(Wt!==11&&(ct=Br.exec(oe)))if(De=ct[1]){if(Wt===9)if(lt=ve.getElementById(De)){if(lt.id===De)return D.call(Ce,lt),Ce}else return Ce;else if(Pt&&(lt=Pt.getElementById(De))&&Ut.contains(ve,lt)&&lt.id===De)return D.call(Ce,lt),Ce}else{if(ct[2])return D.apply(Ce,ve.getElementsByTagName(oe)),Ce;if((De=ct[3])&&ve.getElementsByClassName)return D.apply(Ce,ve.getElementsByClassName(De)),Ce}if(!Vn[oe+" "]&&(!we||!we.test(oe))){if(Tt=oe,Pt=ve,Wt===1&&(_a.test(oe)||Ss.test(oe))){for(Pt=Ju.test(oe)&&wa(ve.parentNode)||ve,(Pt!=ve||!p.scope)&&((gt=ve.getAttribute("id"))?gt=y.escapeSelector(gt):ve.setAttribute("id",gt=Ie)),Kt=co(oe),nt=Kt.length;nt--;)Kt[nt]=(gt?"#"+gt:":scope")+" "+js(Kt[nt]);Tt=Kt.join(",")}try{return D.apply(Ce,Pt.querySelectorAll(Tt)),Ce}catch{Vn(oe,!0)}finally{gt===Ie&&ve.removeAttribute("id")}}}return qh(oe.replace(H,"$1"),ve,Ce,Ee)}function Bl(){var oe=[];function ve(Ce,Ee){return oe.push(Ce+" ")>w.cacheLength&&delete ve[oe.shift()],ve[Ce+" "]=Ee}return ve}function Wr(oe){return oe[Ie]=!0,oe}function Cs(oe){var ve=W.createElement("fieldset");try{return!!oe(ve)}catch{return!1}finally{ve.parentNode&&ve.parentNode.removeChild(ve),ve=null}}function J0(oe){return function(ve){return A(ve,"input")&&ve.type===oe}}function xa(oe){return function(ve){return(A(ve,"input")||A(ve,"button"))&&ve.type===oe}}function Ts(oe){return function(ve){return"form"in ve?ve.parentNode&&ve.disabled===!1?"label"in ve?"label"in ve.parentNode?ve.parentNode.disabled===oe:ve.disabled===oe:ve.isDisabled===oe||ve.isDisabled!==!oe&&Q0(ve)===oe:ve.disabled===oe:"label"in ve?ve.disabled===oe:!1}}function Jr(oe){return Wr(function(ve){return ve=+ve,Wr(function(Ce,Ee){for(var De,nt=oe([],Ce.length,ve),lt=nt.length;lt--;)Ce[De=nt[lt]]&&(Ce[De]=!(Ee[De]=Ce[De]))})})}function wa(oe){return oe&&typeof oe.getElementsByTagName<"u"&&oe}function lo(oe){var ve,Ce=oe?oe.ownerDocument||oe:G;return Ce==W||Ce.nodeType!==9||!Ce.documentElement||(W=Ce,pe=W.documentElement,le=!y.isXMLDoc(W),Me=pe.matches||pe.webkitMatchesSelector||pe.msMatchesSelector,G!=W&&(ve=W.defaultView)&&ve.top!==ve&&ve.addEventListener("unload",Ko),p.getById=Cs(function(Ee){return pe.appendChild(Ee).id=y.expando,!W.getElementsByName||!W.getElementsByName(y.expando).length}),p.disconnectedMatch=Cs(function(Ee){return Me.call(Ee,"*")}),p.scope=Cs(function(){return W.querySelectorAll(":scope")}),p.cssHas=Cs(function(){try{return W.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),p.getById?(w.filter.ID=function(Ee){var De=Ee.replace(Ii,yi);return function(nt){return nt.getAttribute("id")===De}},w.find.ID=function(Ee,De){if(typeof De.getElementById<"u"&&le){var nt=De.getElementById(Ee);return nt?[nt]:[]}}):(w.filter.ID=function(Ee){var De=Ee.replace(Ii,yi);return function(nt){var lt=typeof nt.getAttributeNode<"u"&&nt.getAttributeNode("id");return lt&&lt.value===De}},w.find.ID=function(Ee,De){if(typeof De.getElementById<"u"&&le){var nt,lt,gt,ct=De.getElementById(Ee);if(ct){if(nt=ct.getAttributeNode("id"),nt&&nt.value===Ee)return[ct];for(gt=De.getElementsByName(Ee),lt=0;ct=gt[lt++];)if(nt=ct.getAttributeNode("id"),nt&&nt.value===Ee)return[ct]}return[]}}),w.find.TAG=function(Ee,De){return typeof De.getElementsByTagName<"u"?De.getElementsByTagName(Ee):De.querySelectorAll(Ee)},w.find.CLASS=function(Ee,De){if(typeof De.getElementsByClassName<"u"&&le)return De.getElementsByClassName(Ee)},we=[],Cs(function(Ee){var De;pe.appendChild(Ee).innerHTML="<a id='"+Ie+"' href='' disabled='disabled'></a><select id='"+Ie+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ee.querySelectorAll("[selected]").length||we.push("\\["+F+"*(?:value|"+mi+")"),Ee.querySelectorAll("[id~="+Ie+"-]").length||we.push("~="),Ee.querySelectorAll("a#"+Ie+"+*").length||we.push(".#.+[+~]"),Ee.querySelectorAll(":checked").length||we.push(":checked"),De=W.createElement("input"),De.setAttribute("type","hidden"),Ee.appendChild(De).setAttribute("name","D"),pe.appendChild(Ee).disabled=!0,Ee.querySelectorAll(":disabled").length!==2&&we.push(":enabled",":disabled"),De=W.createElement("input"),De.setAttribute("name",""),Ee.appendChild(De),Ee.querySelectorAll("[name='']").length||we.push("\\["+F+"*name"+F+"*="+F+`*(?:''|"")`)}),p.cssHas||we.push(":has"),we=we.length&&new RegExp(we.join("|")),In=function(Ee,De){if(Ee===De)return I=!0,0;var nt=!Ee.compareDocumentPosition-!De.compareDocumentPosition;return nt||(nt=(Ee.ownerDocument||Ee)==(De.ownerDocument||De)?Ee.compareDocumentPosition(De):1,nt&1||!p.sortDetached&&De.compareDocumentPosition(Ee)===nt?Ee===W||Ee.ownerDocument==G&&Ut.contains(G,Ee)?-1:De===W||De.ownerDocument==G&&Ut.contains(G,De)?1:M?l.call(M,Ee)-l.call(M,De):0:nt&4?-1:1)}),W}Ut.matches=function(oe,ve){return Ut(oe,null,null,ve)},Ut.matchesSelector=function(oe,ve){if(lo(oe),le&&!Vn[ve+" "]&&(!we||!we.test(ve)))try{var Ce=Me.call(oe,ve);if(Ce||p.disconnectedMatch||oe.document&&oe.document.nodeType!==11)return Ce}catch{Vn(ve,!0)}return Ut(ve,W,null,[oe]).length>0},Ut.contains=function(oe,ve){return(oe.ownerDocument||oe)!=W&&lo(oe),y.contains(oe,ve)},Ut.attr=function(oe,ve){(oe.ownerDocument||oe)!=W&&lo(oe);var Ce=w.attrHandle[ve.toLowerCase()],Ee=Ce&&f.call(w.attrHandle,ve.toLowerCase())?Ce(oe,ve,!le):void 0;return Ee!==void 0?Ee:oe.getAttribute(ve)},Ut.error=function(oe){throw new Error("Syntax error, unrecognized expression: "+oe)},y.uniqueSort=function(oe){var ve,Ce=[],Ee=0,De=0;if(I=!p.sortStable,M=!p.sortStable&&o.call(oe,0),L.call(oe,In),I){for(;ve=oe[De++];)ve===oe[De]&&(Ee=Ce.push(De));for(;Ee--;)U.call(oe,Ce[Ee],1)}return M=null,oe},y.fn.uniqueSort=function(){return this.pushStack(y.uniqueSort(o.apply(this)))},w=y.expr={cacheLength:50,createPseudo:Wr,match:bi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(oe){return oe[1]=oe[1].replace(Ii,yi),oe[3]=(oe[3]||oe[4]||oe[5]||"").replace(Ii,yi),oe[2]==="~="&&(oe[3]=" "+oe[3]+" "),oe.slice(0,4)},CHILD:function(oe){return oe[1]=oe[1].toLowerCase(),oe[1].slice(0,3)==="nth"?(oe[3]||Ut.error(oe[0]),oe[4]=+(oe[4]?oe[5]+(oe[6]||1):2*(oe[3]==="even"||oe[3]==="odd")),oe[5]=+(oe[7]+oe[8]||oe[3]==="odd")):oe[3]&&Ut.error(oe[0]),oe},PSEUDO:function(oe){var ve,Ce=!oe[6]&&oe[2];return bi.CHILD.test(oe[0])?null:(oe[3]?oe[2]=oe[4]||oe[5]||"":Ce&&vi.test(Ce)&&(ve=co(Ce,!0))&&(ve=Ce.indexOf(")",Ce.length-ve)-Ce.length)&&(oe[0]=oe[0].slice(0,ve),oe[2]=Ce.slice(0,ve)),oe.slice(0,3))}},filter:{TAG:function(oe){var ve=oe.replace(Ii,yi).toLowerCase();return oe==="*"?function(){return!0}:function(Ce){return A(Ce,ve)}},CLASS:function(oe){var ve=kt[oe+" "];return ve||(ve=new RegExp("(^|"+F+")"+oe+"("+F+"|$)"))&&kt(oe,function(Ce){return ve.test(typeof Ce.className=="string"&&Ce.className||typeof Ce.getAttribute<"u"&&Ce.getAttribute("class")||"")})},ATTR:function(oe,ve,Ce){return function(Ee){var De=Ut.attr(Ee,oe);return De==null?ve==="!=":ve?(De+="",ve==="="?De===Ce:ve==="!="?De!==Ce:ve==="^="?Ce&&De.indexOf(Ce)===0:ve==="*="?Ce&&De.indexOf(Ce)>-1:ve==="$="?Ce&&De.slice(-Ce.length)===Ce:ve==="~="?(" "+De.replace(tn," ")+" ").indexOf(Ce)>-1:ve==="|="?De===Ce||De.slice(0,Ce.length+1)===Ce+"-":!1):!0}},CHILD:function(oe,ve,Ce,Ee,De){var nt=oe.slice(0,3)!=="nth",lt=oe.slice(-4)!=="last",gt=ve==="of-type";return Ee===1&&De===0?function(ct){return!!ct.parentNode}:function(ct,Kt,Tt){var Pt,Wt,bt,gn,Un,zn=nt!==lt?"nextSibling":"previousSibling",Hr=ct.parentNode,_i=gt&&ct.nodeName.toLowerCase(),Es=!Tt&&!gt,Nn=!1;if(Hr){if(nt){for(;zn;){for(bt=ct;bt=bt[zn];)if(gt?A(bt,_i):bt.nodeType===1)return!1;Un=zn=oe==="only"&&!Un&&"nextSibling"}return!0}if(Un=[lt?Hr.firstChild:Hr.lastChild],lt&&Es){for(Wt=Hr[Ie]||(Hr[Ie]={}),Pt=Wt[oe]||[],gn=Pt[0]===je&&Pt[1],Nn=gn&&Pt[2],bt=gn&&Hr.childNodes[gn];bt=++gn&&bt&&bt[zn]||(Nn=gn=0)||Un.pop();)if(bt.nodeType===1&&++Nn&&bt===ct){Wt[oe]=[je,gn,Nn];break}}else if(Es&&(Wt=ct[Ie]||(ct[Ie]={}),Pt=Wt[oe]||[],gn=Pt[0]===je&&Pt[1],Nn=gn),Nn===!1)for(;(bt=++gn&&bt&&bt[zn]||(Nn=gn=0)||Un.pop())&&!((gt?A(bt,_i):bt.nodeType===1)&&++Nn&&(Es&&(Wt=bt[Ie]||(bt[Ie]={}),Wt[oe]=[je,Nn]),bt===ct)););return Nn-=De,Nn===Ee||Nn%Ee===0&&Nn/Ee>=0}}},PSEUDO:function(oe,ve){var Ce,Ee=w.pseudos[oe]||w.setFilters[oe.toLowerCase()]||Ut.error("unsupported pseudo: "+oe);return Ee[Ie]?Ee(ve):Ee.length>1?(Ce=[oe,oe,"",ve],w.setFilters.hasOwnProperty(oe.toLowerCase())?Wr(function(De,nt){for(var lt,gt=Ee(De,ve),ct=gt.length;ct--;)lt=l.call(De,gt[ct]),De[lt]=!(nt[lt]=gt[ct])}):function(De){return Ee(De,0,Ce)}):Ee}},pseudos:{not:Wr(function(oe){var ve=[],Ce=[],Ee=uo(oe.replace(H,"$1"));return Ee[Ie]?Wr(function(De,nt,lt,gt){for(var ct,Kt=Ee(De,null,gt,[]),Tt=De.length;Tt--;)(ct=Kt[Tt])&&(De[Tt]=!(nt[Tt]=ct))}):function(De,nt,lt){return ve[0]=De,Ee(ve,null,lt,Ce),ve[0]=null,!Ce.pop()}}),has:Wr(function(oe){return function(ve){return Ut(oe,ve).length>0}}),contains:Wr(function(oe){return oe=oe.replace(Ii,yi),function(ve){return(ve.textContent||y.text(ve)).indexOf(oe)>-1}}),lang:Wr(function(oe){return $i.test(oe||"")||Ut.error("unsupported lang: "+oe),oe=oe.replace(Ii,yi).toLowerCase(),function(ve){var Ce;do if(Ce=le?ve.lang:ve.getAttribute("xml:lang")||ve.getAttribute("lang"))return Ce=Ce.toLowerCase(),Ce===oe||Ce.indexOf(oe+"-")===0;while((ve=ve.parentNode)&&ve.nodeType===1);return!1}}),target:function(oe){var ve=t.location&&t.location.hash;return ve&&ve.slice(1)===oe.id},root:function(oe){return oe===pe},focus:function(oe){return oe===zl()&&W.hasFocus()&&!!(oe.type||oe.href||~oe.tabIndex)},enabled:Ts(!1),disabled:Ts(!0),checked:function(oe){return A(oe,"input")&&!!oe.checked||A(oe,"option")&&!!oe.selected},selected:function(oe){return oe.parentNode&&oe.parentNode.selectedIndex,oe.selected===!0},empty:function(oe){for(oe=oe.firstChild;oe;oe=oe.nextSibling)if(oe.nodeType<6)return!1;return!0},parent:function(oe){return!w.pseudos.empty(oe)},header:function(oe){return ao.test(oe.nodeName)},input:function(oe){return so.test(oe.nodeName)},button:function(oe){return A(oe,"input")&&oe.type==="button"||A(oe,"button")},text:function(oe){var ve;return A(oe,"input")&&oe.type==="text"&&((ve=oe.getAttribute("type"))==null||ve.toLowerCase()==="text")},first:Jr(function(){return[0]}),last:Jr(function(oe,ve){return[ve-1]}),eq:Jr(function(oe,ve,Ce){return[Ce<0?Ce+ve:Ce]}),even:Jr(function(oe,ve){for(var Ce=0;Ce<ve;Ce+=2)oe.push(Ce);return oe}),odd:Jr(function(oe,ve){for(var Ce=1;Ce<ve;Ce+=2)oe.push(Ce);return oe}),lt:Jr(function(oe,ve,Ce){var Ee;for(Ce<0?Ee=Ce+ve:Ce>ve?Ee=ve:Ee=Ce;--Ee>=0;)oe.push(Ee);return oe}),gt:Jr(function(oe,ve,Ce){for(var Ee=Ce<0?Ce+ve:Ce;++Ee<ve;)oe.push(Ee);return oe})}},w.pseudos.nth=w.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[v]=J0(v);for(v in{submit:!0,reset:!0})w.pseudos[v]=xa(v);function Hh(){}Hh.prototype=w.filters=w.pseudos,w.setFilters=new Hh;function co(oe,ve){var Ce,Ee,De,nt,lt,gt,ct,Kt=Yt[oe+" "];if(Kt)return ve?0:Kt.slice(0);for(lt=oe,gt=[],ct=w.preFilter;lt;){(!Ce||(Ee=Tn.exec(lt)))&&(Ee&&(lt=lt.slice(Ee[0].length)||lt),gt.push(De=[])),Ce=!1,(Ee=Ss.exec(lt))&&(Ce=Ee.shift(),De.push({value:Ce,type:Ee[0].replace(H," ")}),lt=lt.slice(Ce.length));for(nt in w.filter)(Ee=bi[nt].exec(lt))&&(!ct[nt]||(Ee=ct[nt](Ee)))&&(Ce=Ee.shift(),De.push({value:Ce,type:nt,matches:Ee}),lt=lt.slice(Ce.length));if(!Ce)break}return ve?lt.length:lt?Ut.error(oe):Yt(oe,gt).slice(0)}function js(oe){for(var ve=0,Ce=oe.length,Ee="";ve<Ce;ve++)Ee+=oe[ve].value;return Ee}function Wl(oe,ve,Ce){var Ee=ve.dir,De=ve.next,nt=De||Ee,lt=Ce&&nt==="parentNode",gt=Ye++;return ve.first?function(ct,Kt,Tt){for(;ct=ct[Ee];)if(ct.nodeType===1||lt)return oe(ct,Kt,Tt);return!1}:function(ct,Kt,Tt){var Pt,Wt,bt=[je,gt];if(Tt){for(;ct=ct[Ee];)if((ct.nodeType===1||lt)&&oe(ct,Kt,Tt))return!0}else for(;ct=ct[Ee];)if(ct.nodeType===1||lt)if(Wt=ct[Ie]||(ct[Ie]={}),De&&A(ct,De))ct=ct[Ee]||ct;else{if((Pt=Wt[nt])&&Pt[0]===je&&Pt[1]===gt)return bt[2]=Pt[2];if(Wt[nt]=bt,bt[2]=oe(ct,Kt,Tt))return!0}return!1}}function Xu(oe){return oe.length>1?function(ve,Ce,Ee){for(var De=oe.length;De--;)if(!oe[De](ve,Ce,Ee))return!1;return!0}:oe[0]}function X0(oe,ve,Ce){for(var Ee=0,De=ve.length;Ee<De;Ee++)Ut(oe,ve[Ee],Ce);return Ce}function Hl(oe,ve,Ce,Ee,De){for(var nt,lt=[],gt=0,ct=oe.length,Kt=ve!=null;gt<ct;gt++)(nt=oe[gt])&&(!Ce||Ce(nt,Ee,De))&&(lt.push(nt),Kt&&ve.push(gt));return lt}function ed(oe,ve,Ce,Ee,De,nt){return Ee&&!Ee[Ie]&&(Ee=ed(Ee)),De&&!De[Ie]&&(De=ed(De,nt)),Wr(function(lt,gt,ct,Kt){var Tt,Pt,Wt,bt,gn=[],Un=[],zn=gt.length,Hr=lt||X0(ve||"*",ct.nodeType?[ct]:ct,[]),_i=oe&&(lt||!ve)?Hl(Hr,gn,oe,ct,Kt):Hr;if(Ce?(bt=De||(lt?oe:zn||Ee)?[]:gt,Ce(_i,bt,ct,Kt)):bt=_i,Ee)for(Tt=Hl(bt,Un),Ee(Tt,[],ct,Kt),Pt=Tt.length;Pt--;)(Wt=Tt[Pt])&&(bt[Un[Pt]]=!(_i[Un[Pt]]=Wt));if(lt){if(De||oe){if(De){for(Tt=[],Pt=bt.length;Pt--;)(Wt=bt[Pt])&&Tt.push(_i[Pt]=Wt);De(null,bt=[],Tt,Kt)}for(Pt=bt.length;Pt--;)(Wt=bt[Pt])&&(Tt=De?l.call(lt,Wt):gn[Pt])>-1&&(lt[Tt]=!(gt[Tt]=Wt))}}else bt=Hl(bt===gt?bt.splice(zn,bt.length):bt),De?De(null,gt,bt,Kt):D.apply(gt,bt)})}function td(oe){for(var ve,Ce,Ee,De=oe.length,nt=w.relative[oe[0].type],lt=nt||w.relative[" "],gt=nt?1:0,ct=Wl(function(Pt){return Pt===ve},lt,!0),Kt=Wl(function(Pt){return l.call(ve,Pt)>-1},lt,!0),Tt=[function(Pt,Wt,bt){var gn=!nt&&(bt||Wt!=E)||((ve=Wt).nodeType?ct(Pt,Wt,bt):Kt(Pt,Wt,bt));return ve=null,gn}];gt<De;gt++)if(Ce=w.relative[oe[gt].type])Tt=[Wl(Xu(Tt),Ce)];else{if(Ce=w.filter[oe[gt].type].apply(null,oe[gt].matches),Ce[Ie]){for(Ee=++gt;Ee<De&&!w.relative[oe[Ee].type];Ee++);return ed(gt>1&&Xu(Tt),gt>1&&js(oe.slice(0,gt-1).concat({value:oe[gt-2].type===" "?"*":""})).replace(H,"$1"),Ce,gt<Ee&&td(oe.slice(gt,Ee)),Ee<De&&td(oe=oe.slice(Ee)),Ee<De&&js(oe))}Tt.push(Ce)}return Xu(Tt)}function Yo(oe,ve){var Ce=ve.length>0,Ee=oe.length>0,De=function(nt,lt,gt,ct,Kt){var Tt,Pt,Wt,bt=0,gn="0",Un=nt&&[],zn=[],Hr=E,_i=nt||Ee&&w.find.TAG("*",Kt),Es=je+=Hr==null?1:Math.random()||.1,Nn=_i.length;for(Kt&&(E=lt==W||lt||Kt);gn!==Nn&&(Tt=_i[gn])!=null;gn++){if(Ee&&Tt){for(Pt=0,!lt&&Tt.ownerDocument!=W&&(lo(Tt),gt=!le);Wt=oe[Pt++];)if(Wt(Tt,lt||W,gt)){D.call(ct,Tt);break}Kt&&(je=Es)}Ce&&((Tt=!Wt&&Tt)&&bt--,nt&&Un.push(Tt))}if(bt+=gn,Ce&&gn!==bt){for(Pt=0;Wt=ve[Pt++];)Wt(Un,zn,lt,gt);if(nt){if(bt>0)for(;gn--;)Un[gn]||zn[gn]||(zn[gn]=$.call(ct));zn=Hl(zn)}D.apply(ct,zn),Kt&&!nt&&zn.length>0&&bt+ve.length>1&&y.uniqueSort(ct)}return Kt&&(je=Es,E=Hr),Un};return Ce?Wr(De):De}function uo(oe,ve){var Ce,Ee=[],De=[],nt=Dt[oe+" "];if(!nt){for(ve||(ve=co(oe)),Ce=ve.length;Ce--;)nt=td(ve[Ce]),nt[Ie]?Ee.push(nt):De.push(nt);nt=Dt(oe,Yo(De,Ee)),nt.selector=oe}return nt}function qh(oe,ve,Ce,Ee){var De,nt,lt,gt,ct,Kt=typeof oe=="function"&&oe,Tt=!Ee&&co(oe=Kt.selector||oe);if(Ce=Ce||[],Tt.length===1){if(nt=Tt[0]=Tt[0].slice(0),nt.length>2&&(lt=nt[0]).type==="ID"&&ve.nodeType===9&&le&&w.relative[nt[1].type]){if(ve=(w.find.ID(lt.matches[0].replace(Ii,yi),ve)||[])[0],ve)Kt&&(ve=ve.parentNode);else return Ce;oe=oe.slice(nt.shift().value.length)}for(De=bi.needsContext.test(oe)?0:nt.length;De--&&(lt=nt[De],!w.relative[gt=lt.type]);)if((ct=w.find[gt])&&(Ee=ct(lt.matches[0].replace(Ii,yi),Ju.test(nt[0].type)&&wa(ve.parentNode)||ve))){if(nt.splice(De,1),oe=Ee.length&&js(nt),!oe)return D.apply(Ce,Ee),Ce;break}}return(Kt||uo(oe,Tt))(Ee,ve,!le,Ce,!ve||Ju.test(oe)&&wa(ve.parentNode)||ve),Ce}p.sortStable=Ie.split("").sort(In).join("")===Ie,lo(),p.sortDetached=Cs(function(oe){return oe.compareDocumentPosition(W.createElement("fieldset"))&1}),y.find=Ut,y.expr[":"]=y.expr.pseudos,y.unique=y.uniqueSort,Ut.compile=uo,Ut.select=qh,Ut.setDocument=lo,Ut.escape=y.escapeSelector,Ut.getText=y.text,Ut.isXML=y.isXMLDoc,Ut.selectors=y.expr,Ut.support=y.support,Ut.uniqueSort=y.uniqueSort})();var te=function(v,w,E){for(var M=[],I=E!==void 0;(v=v[w])&&v.nodeType!==9;)if(v.nodeType===1){if(I&&y(v).is(E))break;M.push(v)}return M},ne=function(v,w){for(var E=[];v;v=v.nextSibling)v.nodeType===1&&v!==w&&E.push(v);return E},B=y.expr.match.needsContext,Q=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function K(v,w,E){return g(w)?y.grep(v,function(M,I){return!!w.call(M,I,M)!==E}):w.nodeType?y.grep(v,function(M){return M===w!==E}):typeof w!="string"?y.grep(v,function(M){return l.call(w,M)>-1!==E}):y.filter(w,v,E)}y.filter=function(v,w,E){var M=w[0];return E&&(v=":not("+v+")"),w.length===1&&M.nodeType===1?y.find.matchesSelector(M,v)?[M]:[]:y.find.matches(v,y.grep(w,function(I){return I.nodeType===1}))},y.fn.extend({find:function(v){var w,E,M=this.length,I=this;if(typeof v!="string")return this.pushStack(y(v).filter(function(){for(w=0;w<M;w++)if(y.contains(I[w],this))return!0}));for(E=this.pushStack([]),w=0;w<M;w++)y.find(v,I[w],E);return M>1?y.uniqueSort(E):E},filter:function(v){return this.pushStack(K(this,v||[],!1))},not:function(v){return this.pushStack(K(this,v||[],!0))},is:function(v){return!!K(this,typeof v=="string"&&B.test(v)?y(v):v||[],!1).length}});var de,X=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,J=y.fn.init=function(v,w,E){var M,I;if(!v)return this;if(E=E||de,typeof v=="string")if(v[0]==="<"&&v[v.length-1]===">"&&v.length>=3?M=[null,v,null]:M=X.exec(v),M&&(M[1]||!w))if(M[1]){if(w=w instanceof y?w[0]:w,y.merge(this,y.parseHTML(M[1],w&&w.nodeType?w.ownerDocument||w:x,!0)),Q.test(M[1])&&y.isPlainObject(w))for(M in w)g(this[M])?this[M](w[M]):this.attr(M,w[M]);return this}else return I=x.getElementById(M[2]),I&&(this[0]=I,this.length=1),this;else return!w||w.jquery?(w||E).find(v):this.constructor(w).find(v);else{if(v.nodeType)return this[0]=v,this.length=1,this;if(g(v))return E.ready!==void 0?E.ready(v):v(y)}return y.makeArray(v,this)};J.prototype=y.fn,de=y(x);var ue=/^(?:parents|prev(?:Until|All))/,xe={children:!0,contents:!0,next:!0,prev:!0};y.fn.extend({has:function(v){var w=y(v,this),E=w.length;return this.filter(function(){for(var M=0;M<E;M++)if(y.contains(this,w[M]))return!0})},closest:function(v,w){var E,M=0,I=this.length,D=[],W=typeof v!="string"&&y(v);if(!B.test(v)){for(;M<I;M++)for(E=this[M];E&&E!==w;E=E.parentNode)if(E.nodeType<11&&(W?W.index(E)>-1:E.nodeType===1&&y.find.matchesSelector(E,v))){D.push(E);break}}return this.pushStack(D.length>1?y.uniqueSort(D):D)},index:function(v){return v?typeof v=="string"?l.call(y(v),this[0]):l.call(this,v.jquery?v[0]:v):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(v,w){return this.pushStack(y.uniqueSort(y.merge(this.get(),y(v,w))))},addBack:function(v){return this.add(v==null?this.prevObject:this.prevObject.filter(v))}});function _e(v,w){for(;(v=v[w])&&v.nodeType!==1;);return v}y.each({parent:function(v){var w=v.parentNode;return w&&w.nodeType!==11?w:null},parents:function(v){return te(v,"parentNode")},parentsUntil:function(v,w,E){return te(v,"parentNode",E)},next:function(v){return _e(v,"nextSibling")},prev:function(v){return _e(v,"previousSibling")},nextAll:function(v){return te(v,"nextSibling")},prevAll:function(v){return te(v,"previousSibling")},nextUntil:function(v,w,E){return te(v,"nextSibling",E)},prevUntil:function(v,w,E){return te(v,"previousSibling",E)},siblings:function(v){return ne((v.parentNode||{}).firstChild,v)},children:function(v){return ne(v.firstChild)},contents:function(v){return v.contentDocument!=null&&i(v.contentDocument)?v.contentDocument:(A(v,"template")&&(v=v.content||v),y.merge([],v.childNodes))}},function(v,w){y.fn[v]=function(E,M){var I=y.map(this,w,E);return v.slice(-5)!=="Until"&&(M=E),M&&typeof M=="string"&&(I=y.filter(M,I)),this.length>1&&(xe[v]||y.uniqueSort(I),ue.test(v)&&I.reverse()),this.pushStack(I)}});var he=/[^\x20\t\r\n\f]+/g;function Z(v){var w={};return y.each(v.match(he)||[],function(E,M){w[M]=!0}),w}y.Callbacks=function(v){v=typeof v=="string"?Z(v):y.extend({},v);var w,E,M,I,D=[],W=[],pe=-1,le=function(){for(I=I||v.once,M=w=!0;W.length;pe=-1)for(E=W.shift();++pe<D.length;)D[pe].apply(E[0],E[1])===!1&&v.stopOnFalse&&(pe=D.length,E=!1);v.memory||(E=!1),w=!1,I&&(E?D=[]:D="")},we={add:function(){return D&&(E&&!w&&(pe=D.length-1,W.push(E)),function Me(Ie){y.each(Ie,function(je,Ye){g(Ye)?(!v.unique||!we.has(Ye))&&D.push(Ye):Ye&&Ye.length&&j(Ye)!=="string"&&Me(Ye)})}(arguments),E&&!w&&le()),this},remove:function(){return y.each(arguments,function(Me,Ie){for(var je;(je=y.inArray(Ie,D,je))>-1;)D.splice(je,1),je<=pe&&pe--}),this},has:function(Me){return Me?y.inArray(Me,D)>-1:D.length>0},empty:function(){return D&&(D=[]),this},disable:function(){return I=W=[],D=E="",this},disabled:function(){return!D},lock:function(){return I=W=[],!E&&!w&&(D=E=""),this},locked:function(){return!!I},fireWith:function(Me,Ie){return I||(Ie=Ie||[],Ie=[Me,Ie.slice?Ie.slice():Ie],W.push(Ie),w||le()),this},fire:function(){return we.fireWith(this,arguments),this},fired:function(){return!!M}};return we};function se(v){return v}function ie(v){throw v}function be(v,w,E,M){var I;try{v&&g(I=v.promise)?I.call(v).done(w).fail(E):v&&g(I=v.then)?I.call(v,w,E):w.apply(void 0,[v].slice(M))}catch(D){E.apply(void 0,[D])}}y.extend({Deferred:function(v){var w=[["notify","progress",y.Callbacks("memory"),y.Callbacks("memory"),2],["resolve","done",y.Callbacks("once memory"),y.Callbacks("once memory"),0,"resolved"],["reject","fail",y.Callbacks("once memory"),y.Callbacks("once memory"),1,"rejected"]],E="pending",M={state:function(){return E},always:function(){return I.done(arguments).fail(arguments),this},catch:function(D){return M.then(null,D)},pipe:function(){var D=arguments;return y.Deferred(function(W){y.each(w,function(pe,le){var we=g(D[le[4]])&&D[le[4]];I[le[1]](function(){var Me=we&&we.apply(this,arguments);Me&&g(Me.promise)?Me.promise().progress(W.notify).done(W.resolve).fail(W.reject):W[le[0]+"With"](this,we?[Me]:arguments)})}),D=null}).promise()},then:function(D,W,pe){var le=0;function we(Me,Ie,je,Ye){return function(){var kt=this,Yt=arguments,Dt=function(){var In,mi;if(!(Me<le)){if(In=je.apply(kt,Yt),In===Ie.promise())throw new TypeError("Thenable self-resolution");mi=In&&(typeof In=="object"||typeof In=="function")&&In.then,g(mi)?Ye?mi.call(In,we(le,Ie,se,Ye),we(le,Ie,ie,Ye)):(le++,mi.call(In,we(le,Ie,se,Ye),we(le,Ie,ie,Ye),we(le,Ie,se,Ie.notifyWith))):(je!==se&&(kt=void 0,Yt=[In]),(Ye||Ie.resolveWith)(kt,Yt))}},Vn=Ye?Dt:function(){try{Dt()}catch(In){y.Deferred.exceptionHook&&y.Deferred.exceptionHook(In,Vn.error),Me+1>=le&&(je!==ie&&(kt=void 0,Yt=[In]),Ie.rejectWith(kt,Yt))}};Me?Vn():(y.Deferred.getErrorHook?Vn.error=y.Deferred.getErrorHook():y.Deferred.getStackHook&&(Vn.error=y.Deferred.getStackHook()),t.setTimeout(Vn))}}return y.Deferred(function(Me){w[0][3].add(we(0,Me,g(pe)?pe:se,Me.notifyWith)),w[1][3].add(we(0,Me,g(D)?D:se)),w[2][3].add(we(0,Me,g(W)?W:ie))}).promise()},promise:function(D){return D!=null?y.extend(D,M):M}},I={};return y.each(w,function(D,W){var pe=W[2],le=W[5];M[W[1]]=pe.add,le&&pe.add(function(){E=le},w[3-D][2].disable,w[3-D][3].disable,w[0][2].lock,w[0][3].lock),pe.add(W[3].fire),I[W[0]]=function(){return I[W[0]+"With"](this===I?void 0:this,arguments),this},I[W[0]+"With"]=pe.fireWith}),M.promise(I),v&&v.call(I,I),I},when:function(v){var w=arguments.length,E=w,M=Array(E),I=o.call(arguments),D=y.Deferred(),W=function(pe){return function(le){M[pe]=this,I[pe]=arguments.length>1?o.call(arguments):le,--w||D.resolveWith(M,I)}};if(w<=1&&(be(v,D.done(W(E)).resolve,D.reject,!w),D.state()==="pending"||g(I[E]&&I[E].then)))return D.then();for(;E--;)be(I[E],W(E),D.reject);return D.promise()}});var Ne=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;y.Deferred.exceptionHook=function(v,w){t.console&&t.console.warn&&v&&Ne.test(v.name)&&t.console.warn("jQuery.Deferred exception: "+v.message,v.stack,w)},y.readyException=function(v){t.setTimeout(function(){throw v})};var Pe=y.Deferred();y.fn.ready=function(v){return Pe.then(v).catch(function(w){y.readyException(w)}),this},y.extend({isReady:!1,readyWait:1,ready:function(v){(v===!0?--y.readyWait:y.isReady)||(y.isReady=!0,!(v!==!0&&--y.readyWait>0)&&Pe.resolveWith(x,[y]))}}),y.ready.then=Pe.then;function ze(){x.removeEventListener("DOMContentLoaded",ze),t.removeEventListener("load",ze),y.ready()}x.readyState==="complete"||x.readyState!=="loading"&&!x.documentElement.doScroll?t.setTimeout(y.ready):(x.addEventListener("DOMContentLoaded",ze),t.addEventListener("load",ze));var Oe=function(v,w,E,M,I,D,W){var pe=0,le=v.length,we=E==null;if(j(E)==="object"){I=!0;for(pe in E)Oe(v,w,pe,E[pe],!0,D,W)}else if(M!==void 0&&(I=!0,g(M)||(W=!0),we&&(W?(w.call(v,M),w=null):(we=w,w=function(Me,Ie,je){return we.call(y(Me),je)})),w))for(;pe<le;pe++)w(v[pe],E,W?M:M.call(v[pe],pe,w(v[pe],E)));return I?v:we?w.call(v):le?w(v[0],E):D},qe=/^-ms-/,$e=/-([a-z])/g;function rt(v,w){return w.toUpperCase()}function Ve(v){return v.replace(qe,"ms-").replace($e,rt)}var mt=function(v){return v.nodeType===1||v.nodeType===9||!+v.nodeType};function It(){this.expando=y.expando+It.uid++}It.uid=1,It.prototype={cache:function(v){var w=v[this.expando];return w||(w={},mt(v)&&(v.nodeType?v[this.expando]=w:Object.defineProperty(v,this.expando,{value:w,configurable:!0}))),w},set:function(v,w,E){var M,I=this.cache(v);if(typeof w=="string")I[Ve(w)]=E;else for(M in w)I[Ve(M)]=w[M];return I},get:function(v,w){return w===void 0?this.cache(v):v[this.expando]&&v[this.expando][Ve(w)]},access:function(v,w,E){return w===void 0||w&&typeof w=="string"&&E===void 0?this.get(v,w):(this.set(v,w,E),E!==void 0?E:w)},remove:function(v,w){var E,M=v[this.expando];if(M!==void 0){if(w!==void 0)for(Array.isArray(w)?w=w.map(Ve):(w=Ve(w),w=w in M?[w]:w.match(he)||[]),E=w.length;E--;)delete M[w[E]];(w===void 0||y.isEmptyObject(M))&&(v.nodeType?v[this.expando]=void 0:delete v[this.expando])}},hasData:function(v){var w=v[this.expando];return w!==void 0&&!y.isEmptyObject(w)}};var Ze=new It,dt=new It,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,St=/[A-Z]/g;function Re(v){return v==="true"?!0:v==="false"?!1:v==="null"?null:v===+v+""?+v:tt.test(v)?JSON.parse(v):v}function We(v,w,E){var M;if(E===void 0&&v.nodeType===1)if(M="data-"+w.replace(St,"-$&").toLowerCase(),E=v.getAttribute(M),typeof E=="string"){try{E=Re(E)}catch{}dt.set(v,w,E)}else E=void 0;return E}y.extend({hasData:function(v){return dt.hasData(v)||Ze.hasData(v)},data:function(v,w,E){return dt.access(v,w,E)},removeData:function(v,w){dt.remove(v,w)},_data:function(v,w,E){return Ze.access(v,w,E)},_removeData:function(v,w){Ze.remove(v,w)}}),y.fn.extend({data:function(v,w){var E,M,I,D=this[0],W=D&&D.attributes;if(v===void 0){if(this.length&&(I=dt.get(D),D.nodeType===1&&!Ze.get(D,"hasDataAttrs"))){for(E=W.length;E--;)W[E]&&(M=W[E].name,M.indexOf("data-")===0&&(M=Ve(M.slice(5)),We(D,M,I[M])));Ze.set(D,"hasDataAttrs",!0)}return I}return typeof v=="object"?this.each(function(){dt.set(this,v)}):Oe(this,function(pe){var le;if(D&&pe===void 0)return le=dt.get(D,v),le!==void 0||(le=We(D,v),le!==void 0)?le:void 0;this.each(function(){dt.set(this,v,pe)})},null,w,arguments.length>1,null,!0)},removeData:function(v){return this.each(function(){dt.remove(this,v)})}}),y.extend({queue:function(v,w,E){var M;if(v)return w=(w||"fx")+"queue",M=Ze.get(v,w),E&&(!M||Array.isArray(E)?M=Ze.access(v,w,y.makeArray(E)):M.push(E)),M||[]},dequeue:function(v,w){w=w||"fx";var E=y.queue(v,w),M=E.length,I=E.shift(),D=y._queueHooks(v,w),W=function(){y.dequeue(v,w)};I==="inprogress"&&(I=E.shift(),M--),I&&(w==="fx"&&E.unshift("inprogress"),delete D.stop,I.call(v,W,D)),!M&&D&&D.empty.fire()},_queueHooks:function(v,w){var E=w+"queueHooks";return Ze.get(v,E)||Ze.access(v,E,{empty:y.Callbacks("once memory").add(function(){Ze.remove(v,[w+"queue",E])})})}}),y.fn.extend({queue:function(v,w){var E=2;return typeof v!="string"&&(w=v,v="fx",E--),arguments.length<E?y.queue(this[0],v):w===void 0?this:this.each(function(){var M=y.queue(this,v,w);y._queueHooks(this,v),v==="fx"&&M[0]!=="inprogress"&&y.dequeue(this,v)})},dequeue:function(v){return this.each(function(){y.dequeue(this,v)})},clearQueue:function(v){return this.queue(v||"fx",[])},promise:function(v,w){var E,M=1,I=y.Deferred(),D=this,W=this.length,pe=function(){--M||I.resolveWith(D,[D])};for(typeof v!="string"&&(w=v,v=void 0),v=v||"fx";W--;)E=Ze.get(D[W],v+"queueHooks"),E&&E.empty&&(M++,E.empty.add(pe));return pe(),I.promise(w)}});var at=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,st=new RegExp("^(?:([+-])=|)("+at+")([a-z%]*)$","i"),$t=["Top","Right","Bottom","Left"],xn=x.documentElement,Cn=function(v){return y.contains(v.ownerDocument,v)},Fn={composed:!0};xn.getRootNode&&(Cn=function(v){return y.contains(v.ownerDocument,v)||v.getRootNode(Fn)===v.ownerDocument});var mn=function(v,w){return v=w||v,v.style.display==="none"||v.style.display===""&&Cn(v)&&y.css(v,"display")==="none"};function mr(v,w,E,M){var I,D,W=20,pe=M?function(){return M.cur()}:function(){return y.css(v,w,"")},le=pe(),we=E&&E[3]||(y.cssNumber[w]?"":"px"),Me=v.nodeType&&(y.cssNumber[w]||we!=="px"&&+le)&&st.exec(y.css(v,w));if(Me&&Me[3]!==we){for(le=le/2,we=we||Me[3],Me=+le||1;W--;)y.style(v,w,Me+we),(1-D)*(1-(D=pe()/le||.5))<=0&&(W=0),Me=Me/D;Me=Me*2,y.style(v,w,Me+we),E=E||[]}return E&&(Me=+Me||+le||0,I=E[1]?Me+(E[1]+1)*E[2]:+E[2],M&&(M.unit=we,M.start=Me,M.end=I)),I}var En={};function Xt(v){var w,E=v.ownerDocument,M=v.nodeName,I=En[M];return I||(w=E.body.appendChild(E.createElement(M)),I=y.css(w,"display"),w.parentNode.removeChild(w),I==="none"&&(I="block"),En[M]=I,I)}function ft(v,w){for(var E,M,I=[],D=0,W=v.length;D<W;D++)M=v[D],M.style&&(E=M.style.display,w?(E==="none"&&(I[D]=Ze.get(M,"display")||null,I[D]||(M.style.display="")),M.style.display===""&&mn(M)&&(I[D]=Xt(M))):E!=="none"&&(I[D]="none",Ze.set(M,"display",E)));for(D=0;D<W;D++)I[D]!=null&&(v[D].style.display=I[D]);return v}y.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(v){return typeof v=="boolean"?v?this.show():this.hide():this.each(function(){mn(this)?y(this).show():y(this).hide()})}});var ot=/^(?:checkbox|radio)$/i,Ct=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,en=/^$|^module$|\/(?:java|ecma)script/i;(function(){var v=x.createDocumentFragment(),w=v.appendChild(x.createElement("div")),E=x.createElement("input");E.setAttribute("type","radio"),E.setAttribute("checked","checked"),E.setAttribute("name","t"),w.appendChild(E),p.checkClone=w.cloneNode(!0).cloneNode(!0).lastChild.checked,w.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!w.cloneNode(!0).lastChild.defaultValue,w.innerHTML="<option></option>",p.option=!!w.lastChild})();var zt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td,p.option||(zt.optgroup=zt.option=[1,"<select multiple='multiple'>","</select>"]);function Qt(v,w){var E;return typeof v.getElementsByTagName<"u"?E=v.getElementsByTagName(w||"*"):typeof v.querySelectorAll<"u"?E=v.querySelectorAll(w||"*"):E=[],w===void 0||w&&A(v,w)?y.merge([v],E):E}function Mn(v,w){for(var E=0,M=v.length;E<M;E++)Ze.set(v[E],"globalEval",!w||Ze.get(w[E],"globalEval"))}var Or=/<|&#?\w+;/;function Wo(v,w,E,M,I){for(var D,W,pe,le,we,Me,Ie=w.createDocumentFragment(),je=[],Ye=0,kt=v.length;Ye<kt;Ye++)if(D=v[Ye],D||D===0)if(j(D)==="object")y.merge(je,D.nodeType?[D]:D);else if(!Or.test(D))je.push(w.createTextNode(D));else{for(W=W||Ie.appendChild(w.createElement("div")),pe=(Ct.exec(D)||["",""])[1].toLowerCase(),le=zt[pe]||zt._default,W.innerHTML=le[1]+y.htmlPrefilter(D)+le[2],Me=le[0];Me--;)W=W.lastChild;y.merge(je,W.childNodes),W=Ie.firstChild,W.textContent=""}for(Ie.textContent="",Ye=0;D=je[Ye++];){if(M&&y.inArray(D,M)>-1){I&&I.push(D);continue}if(we=Cn(D),W=Qt(Ie.appendChild(D),"script"),we&&Mn(W),E)for(Me=0;D=W[Me++];)en.test(D.type||"")&&E.push(D)}return Ie}var Dl=/^([^.]*)(?:\.(.+)|)/;function eo(){return!0}function to(){return!1}function pa(v,w,E,M,I,D){var W,pe;if(typeof w=="object"){typeof E!="string"&&(M=M||E,E=void 0);for(pe in w)pa(v,pe,E,M,w[pe],D);return v}if(M==null&&I==null?(I=E,M=E=void 0):I==null&&(typeof E=="string"?(I=M,M=void 0):(I=M,M=E,E=void 0)),I===!1)I=to;else if(!I)return v;return D===1&&(W=I,I=function(le){return y().off(le),W.apply(this,arguments)},I.guid=W.guid||(W.guid=y.guid++)),v.each(function(){y.event.add(this,w,I,M,E)})}y.event={global:{},add:function(v,w,E,M,I){var D,W,pe,le,we,Me,Ie,je,Ye,kt,Yt,Dt=Ze.get(v);if(mt(v))for(E.handler&&(D=E,E=D.handler,I=D.selector),I&&y.find.matchesSelector(xn,I),E.guid||(E.guid=y.guid++),(le=Dt.events)||(le=Dt.events=Object.create(null)),(W=Dt.handle)||(W=Dt.handle=function(Vn){return typeof y<"u"&&y.event.triggered!==Vn.type?y.event.dispatch.apply(v,arguments):void 0}),w=(w||"").match(he)||[""],we=w.length;we--;)pe=Dl.exec(w[we])||[],Ye=Yt=pe[1],kt=(pe[2]||"").split(".").sort(),Ye&&(Ie=y.event.special[Ye]||{},Ye=(I?Ie.delegateType:Ie.bindType)||Ye,Ie=y.event.special[Ye]||{},Me=y.extend({type:Ye,origType:Yt,data:M,handler:E,guid:E.guid,selector:I,needsContext:I&&y.expr.match.needsContext.test(I),namespace:kt.join(".")},D),(je=le[Ye])||(je=le[Ye]=[],je.delegateCount=0,(!Ie.setup||Ie.setup.call(v,M,kt,W)===!1)&&v.addEventListener&&v.addEventListener(Ye,W)),Ie.add&&(Ie.add.call(v,Me),Me.handler.guid||(Me.handler.guid=E.guid)),I?je.splice(je.delegateCount++,0,Me):je.push(Me),y.event.global[Ye]=!0)},remove:function(v,w,E,M,I){var D,W,pe,le,we,Me,Ie,je,Ye,kt,Yt,Dt=Ze.hasData(v)&&Ze.get(v);if(!(!Dt||!(le=Dt.events))){for(w=(w||"").match(he)||[""],we=w.length;we--;){if(pe=Dl.exec(w[we])||[],Ye=Yt=pe[1],kt=(pe[2]||"").split(".").sort(),!Ye){for(Ye in le)y.event.remove(v,Ye+w[we],E,M,!0);continue}for(Ie=y.event.special[Ye]||{},Ye=(M?Ie.delegateType:Ie.bindType)||Ye,je=le[Ye]||[],pe=pe[2]&&new RegExp("(^|\\.)"+kt.join("\\.(?:.*\\.|)")+"(\\.|$)"),W=D=je.length;D--;)Me=je[D],(I||Yt===Me.origType)&&(!E||E.guid===Me.guid)&&(!pe||pe.test(Me.namespace))&&(!M||M===Me.selector||M==="**"&&Me.selector)&&(je.splice(D,1),Me.selector&&je.delegateCount--,Ie.remove&&Ie.remove.call(v,Me));W&&!je.length&&((!Ie.teardown||Ie.teardown.call(v,kt,Dt.handle)===!1)&&y.removeEvent(v,Ye,Dt.handle),delete le[Ye])}y.isEmptyObject(le)&&Ze.remove(v,"handle events")}},dispatch:function(v){var w,E,M,I,D,W,pe=new Array(arguments.length),le=y.event.fix(v),we=(Ze.get(this,"events")||Object.create(null))[le.type]||[],Me=y.event.special[le.type]||{};for(pe[0]=le,w=1;w<arguments.length;w++)pe[w]=arguments[w];if(le.delegateTarget=this,!(Me.preDispatch&&Me.preDispatch.call(this,le)===!1)){for(W=y.event.handlers.call(this,le,we),w=0;(I=W[w++])&&!le.isPropagationStopped();)for(le.currentTarget=I.elem,E=0;(D=I.handlers[E++])&&!le.isImmediatePropagationStopped();)(!le.rnamespace||D.namespace===!1||le.rnamespace.test(D.namespace))&&(le.handleObj=D,le.data=D.data,M=((y.event.special[D.origType]||{}).handle||D.handler).apply(I.elem,pe),M!==void 0&&(le.result=M)===!1&&(le.preventDefault(),le.stopPropagation()));return Me.postDispatch&&Me.postDispatch.call(this,le),le.result}},handlers:function(v,w){var E,M,I,D,W,pe=[],le=w.delegateCount,we=v.target;if(le&&we.nodeType&&!(v.type==="click"&&v.button>=1)){for(;we!==this;we=we.parentNode||this)if(we.nodeType===1&&!(v.type==="click"&&we.disabled===!0)){for(D=[],W={},E=0;E<le;E++)M=w[E],I=M.selector+" ",W[I]===void 0&&(W[I]=M.needsContext?y(I,this).index(we)>-1:y.find(I,this,null,[we]).length),W[I]&&D.push(M);D.length&&pe.push({elem:we,handlers:D})}}return we=this,le<w.length&&pe.push({elem:we,handlers:w.slice(le)}),pe},addProp:function(v,w){Object.defineProperty(y.Event.prototype,v,{enumerable:!0,configurable:!0,get:g(w)?function(){if(this.originalEvent)return w(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[v]},set:function(E){Object.defineProperty(this,v,{enumerable:!0,configurable:!0,writable:!0,value:E})}})},fix:function(v){return v[y.expando]?v:new y.Event(v)},special:{load:{noBubble:!0},click:{setup:function(v){var w=this||v;return ot.test(w.type)&&w.click&&A(w,"input")&&vs(w,"click",!0),!1},trigger:function(v){var w=this||v;return ot.test(w.type)&&w.click&&A(w,"input")&&vs(w,"click"),!0},_default:function(v){var w=v.target;return ot.test(w.type)&&w.click&&A(w,"input")&&Ze.get(w,"click")||A(w,"a")}},beforeunload:{postDispatch:function(v){v.result!==void 0&&v.originalEvent&&(v.originalEvent.returnValue=v.result)}}}};function vs(v,w,E){if(!E){Ze.get(v,w)===void 0&&y.event.add(v,w,eo);return}Ze.set(v,w,!1),y.event.add(v,w,{namespace:!1,handler:function(M){var I,D=Ze.get(this,w);if(M.isTrigger&1&&this[w]){if(D)(y.event.special[w]||{}).delegateType&&M.stopPropagation();else if(D=o.call(arguments),Ze.set(this,w,D),this[w](),I=Ze.get(this,w),Ze.set(this,w,!1),D!==I)return M.stopImmediatePropagation(),M.preventDefault(),I}else D&&(Ze.set(this,w,y.event.trigger(D[0],D.slice(1),this)),M.stopPropagation(),M.isImmediatePropagationStopped=eo)}})}y.removeEvent=function(v,w,E){v.removeEventListener&&v.removeEventListener(w,E)},y.Event=function(v,w){if(!(this instanceof y.Event))return new y.Event(v,w);v&&v.type?(this.originalEvent=v,this.type=v.type,this.isDefaultPrevented=v.defaultPrevented||v.defaultPrevented===void 0&&v.returnValue===!1?eo:to,this.target=v.target&&v.target.nodeType===3?v.target.parentNode:v.target,this.currentTarget=v.currentTarget,this.relatedTarget=v.relatedTarget):this.type=v,w&&y.extend(this,w),this.timeStamp=v&&v.timeStamp||Date.now(),this[y.expando]=!0},y.Event.prototype={constructor:y.Event,isDefaultPrevented:to,isPropagationStopped:to,isImmediatePropagationStopped:to,isSimulated:!1,preventDefault:function(){var v=this.originalEvent;this.isDefaultPrevented=eo,v&&!this.isSimulated&&v.preventDefault()},stopPropagation:function(){var v=this.originalEvent;this.isPropagationStopped=eo,v&&!this.isSimulated&&v.stopPropagation()},stopImmediatePropagation:function(){var v=this.originalEvent;this.isImmediatePropagationStopped=eo,v&&!this.isSimulated&&v.stopImmediatePropagation(),this.stopPropagation()}},y.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},y.event.addProp),y.each({focus:"focusin",blur:"focusout"},function(v,w){function E(M){if(x.documentMode){var I=Ze.get(this,"handle"),D=y.event.fix(M);D.type=M.type==="focusin"?"focus":"blur",D.isSimulated=!0,I(M),D.target===D.currentTarget&&I(D)}else y.event.simulate(w,M.target,y.event.fix(M))}y.event.special[v]={setup:function(){var M;if(vs(this,v,!0),x.documentMode)M=Ze.get(this,w),M||this.addEventListener(w,E),Ze.set(this,w,(M||0)+1);else return!1},trigger:function(){return vs(this,v),!0},teardown:function(){var M;if(x.documentMode)M=Ze.get(this,w)-1,M?Ze.set(this,w,M):(this.removeEventListener(w,E),Ze.remove(this,w));else return!1},_default:function(M){return Ze.get(M.target,v)},delegateType:w},y.event.special[w]={setup:function(){var M=this.ownerDocument||this.document||this,I=x.documentMode?this:M,D=Ze.get(I,w);D||(x.documentMode?this.addEventListener(w,E):M.addEventListener(v,E,!0)),Ze.set(I,w,(D||0)+1)},teardown:function(){var M=this.ownerDocument||this.document||this,I=x.documentMode?this:M,D=Ze.get(I,w)-1;D?Ze.set(I,w,D):(x.documentMode?this.removeEventListener(w,E):M.removeEventListener(v,E,!0),Ze.remove(I,w))}}}),y.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(v,w){y.event.special[v]={delegateType:w,bindType:w,handle:function(E){var M,I=this,D=E.relatedTarget,W=E.handleObj;return(!D||D!==I&&!y.contains(I,D))&&(E.type=W.origType,M=W.handler.apply(this,arguments),E.type=w),M}}}),y.fn.extend({on:function(v,w,E,M){return pa(this,v,w,E,M)},one:function(v,w,E,M){return pa(this,v,w,E,M,1)},off:function(v,w,E){var M,I;if(v&&v.preventDefault&&v.handleObj)return M=v.handleObj,y(v.delegateTarget).off(M.namespace?M.origType+"."+M.namespace:M.origType,M.selector,M.handler),this;if(typeof v=="object"){for(I in v)this.off(I,w,v[I]);return this}return(w===!1||typeof w=="function")&&(E=w,w=void 0),E===!1&&(E=to),this.each(function(){y.event.remove(this,v,E,w)})}});var bs=/<script|<style|<link/i,Ru=/checked\s*(?:[^=]|=\s*.checked.)/i,$u=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ma(v,w){return A(v,"table")&&A(w.nodeType!==11?w:w.firstChild,"tr")&&y(v).children("tbody")[0]||v}function Iu(v){return v.type=(v.getAttribute("type")!==null)+"/"+v.type,v}function Du(v){return(v.type||"").slice(0,5)==="true/"?v.type=v.type.slice(5):v.removeAttribute("type"),v}function Ll(v,w){var E,M,I,D,W,pe,le;if(w.nodeType===1){if(Ze.hasData(v)&&(D=Ze.get(v),le=D.events,le)){Ze.remove(w,"handle events");for(I in le)for(E=0,M=le[I].length;E<M;E++)y.event.add(w,I,le[I][E])}dt.hasData(v)&&(W=dt.access(v),pe=y.extend({},W),dt.set(w,pe))}}function ga(v,w){var E=w.nodeName.toLowerCase();E==="input"&&ot.test(v.type)?w.checked=v.checked:(E==="input"||E==="textarea")&&(w.defaultValue=v.defaultValue)}function no(v,w,E,M){w=s(w);var I,D,W,pe,le,we,Me=0,Ie=v.length,je=Ie-1,Ye=w[0],kt=g(Ye);if(kt||Ie>1&&typeof Ye=="string"&&!p.checkClone&&Ru.test(Ye))return v.each(function(Yt){var Dt=v.eq(Yt);kt&&(w[0]=Ye.call(this,Yt,Dt.html())),no(Dt,w,E,M)});if(Ie&&(I=Wo(w,v[0].ownerDocument,!1,v,M),D=I.firstChild,I.childNodes.length===1&&(I=D),D||M)){for(W=y.map(Qt(I,"script"),Iu),pe=W.length;Me<Ie;Me++)le=I,Me!==je&&(le=y.clone(le,!0,!0),pe&&y.merge(W,Qt(le,"script"))),E.call(v[Me],le,Me);if(pe)for(we=W[W.length-1].ownerDocument,y.map(W,Du),Me=0;Me<pe;Me++)le=W[Me],en.test(le.type||"")&&!Ze.access(le,"globalEval")&&y.contains(we,le)&&(le.src&&(le.type||"").toLowerCase()!=="module"?y._evalUrl&&!le.noModule&&y._evalUrl(le.src,{nonce:le.nonce||le.getAttribute("nonce")},we):C(le.textContent.replace($u,""),le,we))}return v}function va(v,w,E){for(var M,I=w?y.filter(w,v):v,D=0;(M=I[D])!=null;D++)!E&&M.nodeType===1&&y.cleanData(Qt(M)),M.parentNode&&(E&&Cn(M)&&Mn(Qt(M,"script")),M.parentNode.removeChild(M));return v}y.extend({htmlPrefilter:function(v){return v},clone:function(v,w,E){var M,I,D,W,pe=v.cloneNode(!0),le=Cn(v);if(!p.noCloneChecked&&(v.nodeType===1||v.nodeType===11)&&!y.isXMLDoc(v))for(W=Qt(pe),D=Qt(v),M=0,I=D.length;M<I;M++)ga(D[M],W[M]);if(w)if(E)for(D=D||Qt(v),W=W||Qt(pe),M=0,I=D.length;M<I;M++)Ll(D[M],W[M]);else Ll(v,pe);return W=Qt(pe,"script"),W.length>0&&Mn(W,!le&&Qt(v,"script")),pe},cleanData:function(v){for(var w,E,M,I=y.event.special,D=0;(E=v[D])!==void 0;D++)if(mt(E)){if(w=E[Ze.expando]){if(w.events)for(M in w.events)I[M]?y.event.remove(E,M):y.removeEvent(E,M,w.handle);E[Ze.expando]=void 0}E[dt.expando]&&(E[dt.expando]=void 0)}}}),y.fn.extend({detach:function(v){return va(this,v,!0)},remove:function(v){return va(this,v)},text:function(v){return Oe(this,function(w){return w===void 0?y.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=w)})},null,v,arguments.length)},append:function(){return no(this,arguments,function(v){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var w=ma(this,v);w.appendChild(v)}})},prepend:function(){return no(this,arguments,function(v){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var w=ma(this,v);w.insertBefore(v,w.firstChild)}})},before:function(){return no(this,arguments,function(v){this.parentNode&&this.parentNode.insertBefore(v,this)})},after:function(){return no(this,arguments,function(v){this.parentNode&&this.parentNode.insertBefore(v,this.nextSibling)})},empty:function(){for(var v,w=0;(v=this[w])!=null;w++)v.nodeType===1&&(y.cleanData(Qt(v,!1)),v.textContent="");return this},clone:function(v,w){return v=v??!1,w=w??v,this.map(function(){return y.clone(this,v,w)})},html:function(v){return Oe(this,function(w){var E=this[0]||{},M=0,I=this.length;if(w===void 0&&E.nodeType===1)return E.innerHTML;if(typeof w=="string"&&!bs.test(w)&&!zt[(Ct.exec(w)||["",""])[1].toLowerCase()]){w=y.htmlPrefilter(w);try{for(;M<I;M++)E=this[M]||{},E.nodeType===1&&(y.cleanData(Qt(E,!1)),E.innerHTML=w);E=0}catch{}}E&&this.empty().append(w)},null,v,arguments.length)},replaceWith:function(){var v=[];return no(this,arguments,function(w){var E=this.parentNode;y.inArray(this,v)<0&&(y.cleanData(Qt(this)),E&&E.replaceChild(w,this))},v)}}),y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(v,w){y.fn[v]=function(E){for(var M,I=[],D=y(E),W=D.length-1,pe=0;pe<=W;pe++)M=pe===W?this:this.clone(!0),y(D[pe])[w](M),a.apply(I,M.get());return this.pushStack(I)}});var fi=new RegExp("^("+at+")(?!px)[a-z%]+$","i"),fe=/^--/,O=function(v){var w=v.ownerDocument.defaultView;return(!w||!w.opener)&&(w=t),w.getComputedStyle(v)},z=function(v,w,E){var M,I,D={};for(I in w)D[I]=v.style[I],v.style[I]=w[I];M=E.call(v);for(I in w)v.style[I]=D[I];return M},ee=new RegExp($t.join("|"),"i");(function(){function v(){if(we){le.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",we.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xn.appendChild(le).appendChild(we);var Me=t.getComputedStyle(we);E=Me.top!=="1%",pe=w(Me.marginLeft)===12,we.style.right="60%",D=w(Me.right)===36,M=w(Me.width)===36,we.style.position="absolute",I=w(we.offsetWidth/3)===12,xn.removeChild(le),we=null}}function w(Me){return Math.round(parseFloat(Me))}var E,M,I,D,W,pe,le=x.createElement("div"),we=x.createElement("div");we.style&&(we.style.backgroundClip="content-box",we.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle=we.style.backgroundClip==="content-box",y.extend(p,{boxSizingReliable:function(){return v(),M},pixelBoxStyles:function(){return v(),D},pixelPosition:function(){return v(),E},reliableMarginLeft:function(){return v(),pe},scrollboxSize:function(){return v(),I},reliableTrDimensions:function(){var Me,Ie,je,Ye;return W==null&&(Me=x.createElement("table"),Ie=x.createElement("tr"),je=x.createElement("div"),Me.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ie.style.cssText="border:1px solid",Ie.style.height="1px",je.style.height="9px",je.style.display="block",xn.appendChild(Me).appendChild(Ie).appendChild(je),Ye=t.getComputedStyle(Ie),W=parseInt(Ye.height,10)+parseInt(Ye.borderTopWidth,10)+parseInt(Ye.borderBottomWidth,10)===Ie.offsetHeight,xn.removeChild(Me)),W}}))})();function ye(v,w,E){var M,I,D,W,pe=fe.test(w),le=v.style;return E=E||O(v),E&&(W=E.getPropertyValue(w)||E[w],pe&&W&&(W=W.replace(H,"$1")||void 0),W===""&&!Cn(v)&&(W=y.style(v,w)),!p.pixelBoxStyles()&&fi.test(W)&&ee.test(w)&&(M=le.width,I=le.minWidth,D=le.maxWidth,le.minWidth=le.maxWidth=le.width=W,W=E.width,le.width=M,le.minWidth=I,le.maxWidth=D)),W!==void 0?W+"":W}function ge(v,w){return{get:function(){if(v()){delete this.get;return}return(this.get=w).apply(this,arguments)}}}var Ke=["Webkit","Moz","ms"],Be=x.createElement("div").style,vt={};function ht(v){for(var w=v[0].toUpperCase()+v.slice(1),E=Ke.length;E--;)if(v=Ke[E]+w,v in Be)return v}function Bt(v){var w=y.cssProps[v]||vt[v];return w||(v in Be?v:vt[v]=ht(v)||v)}var gr=/^(none|table(?!-c[ea]).+)/,Mh={position:"absolute",visibility:"hidden",display:"block"},ys={letterSpacing:"0",fontWeight:"400"};function Nh(v,w,E){var M=st.exec(w);return M?Math.max(0,M[2]-(E||0))+(M[3]||"px"):w}function Lu(v,w,E,M,I,D){var W=w==="width"?1:0,pe=0,le=0,we=0;if(E===(M?"border":"content"))return 0;for(;W<4;W+=2)E==="margin"&&(we+=y.css(v,E+$t[W],!0,I)),M?(E==="content"&&(le-=y.css(v,"padding"+$t[W],!0,I)),E!=="margin"&&(le-=y.css(v,"border"+$t[W]+"Width",!0,I))):(le+=y.css(v,"padding"+$t[W],!0,I),E!=="padding"?le+=y.css(v,"border"+$t[W]+"Width",!0,I):pe+=y.css(v,"border"+$t[W]+"Width",!0,I));return!M&&D>=0&&(le+=Math.max(0,Math.ceil(v["offset"+w[0].toUpperCase()+w.slice(1)]-D-le-pe-.5))||0),le+we}function Ph(v,w,E){var M=O(v),I=!p.boxSizingReliable()||E,D=I&&y.css(v,"boxSizing",!1,M)==="border-box",W=D,pe=ye(v,w,M),le="offset"+w[0].toUpperCase()+w.slice(1);if(fi.test(pe)){if(!E)return pe;pe="auto"}return(!p.boxSizingReliable()&&D||!p.reliableTrDimensions()&&A(v,"tr")||pe==="auto"||!parseFloat(pe)&&y.css(v,"display",!1,M)==="inline")&&v.getClientRects().length&&(D=y.css(v,"boxSizing",!1,M)==="border-box",W=le in v,W&&(pe=v[le])),pe=parseFloat(pe)||0,pe+Lu(v,w,E||(D?"border":"content"),W,M,pe)+"px"}y.extend({cssHooks:{opacity:{get:function(v,w){if(w){var E=ye(v,"opacity");return E===""?"1":E}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(v,w,E,M){if(!(!v||v.nodeType===3||v.nodeType===8||!v.style)){var I,D,W,pe=Ve(w),le=fe.test(w),we=v.style;if(le||(w=Bt(pe)),W=y.cssHooks[w]||y.cssHooks[pe],E!==void 0){if(D=typeof E,D==="string"&&(I=st.exec(E))&&I[1]&&(E=mr(v,w,I),D="number"),E==null||E!==E)return;D==="number"&&!le&&(E+=I&&I[3]||(y.cssNumber[pe]?"":"px")),!p.clearCloneStyle&&E===""&&w.indexOf("background")===0&&(we[w]="inherit"),(!W||!("set"in W)||(E=W.set(v,E,M))!==void 0)&&(le?we.setProperty(w,E):we[w]=E)}else return W&&"get"in W&&(I=W.get(v,!1,M))!==void 0?I:we[w]}},css:function(v,w,E,M){var I,D,W,pe=Ve(w),le=fe.test(w);return le||(w=Bt(pe)),W=y.cssHooks[w]||y.cssHooks[pe],W&&"get"in W&&(I=W.get(v,!0,E)),I===void 0&&(I=ye(v,w,M)),I==="normal"&&w in ys&&(I=ys[w]),E===""||E?(D=parseFloat(I),E===!0||isFinite(D)?D||0:I):I}}),y.each(["height","width"],function(v,w){y.cssHooks[w]={get:function(E,M,I){if(M)return gr.test(y.css(E,"display"))&&(!E.getClientRects().length||!E.getBoundingClientRect().width)?z(E,Mh,function(){return Ph(E,w,I)}):Ph(E,w,I)},set:function(E,M,I){var D,W=O(E),pe=!p.scrollboxSize()&&W.position==="absolute",le=pe||I,we=le&&y.css(E,"boxSizing",!1,W)==="border-box",Me=I?Lu(E,w,I,we,W):0;return we&&pe&&(Me-=Math.ceil(E["offset"+w[0].toUpperCase()+w.slice(1)]-parseFloat(W[w])-Lu(E,w,"border",!1,W)-.5)),Me&&(D=st.exec(M))&&(D[3]||"px")!=="px"&&(E.style[w]=M,M=y.css(E,w)),Nh(E,M,Me)}}}),y.cssHooks.marginLeft=ge(p.reliableMarginLeft,function(v,w){if(w)return(parseFloat(ye(v,"marginLeft"))||v.getBoundingClientRect().left-z(v,{marginLeft:0},function(){return v.getBoundingClientRect().left}))+"px"}),y.each({margin:"",padding:"",border:"Width"},function(v,w){y.cssHooks[v+w]={expand:function(E){for(var M=0,I={},D=typeof E=="string"?E.split(" "):[E];M<4;M++)I[v+$t[M]+w]=D[M]||D[M-2]||D[0];return I}},v!=="margin"&&(y.cssHooks[v+w].set=Nh)}),y.fn.extend({css:function(v,w){return Oe(this,function(E,M,I){var D,W,pe={},le=0;if(Array.isArray(M)){for(D=O(E),W=M.length;le<W;le++)pe[M[le]]=y.css(E,M[le],!1,D);return pe}return I!==void 0?y.style(E,M,I):y.css(E,M)},v,w,arguments.length>1)}});function vr(v,w,E,M,I){return new vr.prototype.init(v,w,E,M,I)}y.Tween=vr,vr.prototype={constructor:vr,init:function(v,w,E,M,I,D){this.elem=v,this.prop=E,this.easing=I||y.easing._default,this.options=w,this.start=this.now=this.cur(),this.end=M,this.unit=D||(y.cssNumber[E]?"":"px")},cur:function(){var v=vr.propHooks[this.prop];return v&&v.get?v.get(this):vr.propHooks._default.get(this)},run:function(v){var w,E=vr.propHooks[this.prop];return this.options.duration?this.pos=w=y.easing[this.easing](v,this.options.duration*v,0,1,this.options.duration):this.pos=w=v,this.now=(this.end-this.start)*w+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),E&&E.set?E.set(this):vr.propHooks._default.set(this),this}},vr.prototype.init.prototype=vr.prototype,vr.propHooks={_default:{get:function(v){var w;return v.elem.nodeType!==1||v.elem[v.prop]!=null&&v.elem.style[v.prop]==null?v.elem[v.prop]:(w=y.css(v.elem,v.prop,""),!w||w==="auto"?0:w)},set:function(v){y.fx.step[v.prop]?y.fx.step[v.prop](v):v.elem.nodeType===1&&(y.cssHooks[v.prop]||v.elem.style[Bt(v.prop)]!=null)?y.style(v.elem,v.prop,v.now+v.unit):v.elem[v.prop]=v.now}}},vr.propHooks.scrollTop=vr.propHooks.scrollLeft={set:function(v){v.elem.nodeType&&v.elem.parentNode&&(v.elem[v.prop]=v.now)}},y.easing={linear:function(v){return v},swing:function(v){return .5-Math.cos(v*Math.PI)/2},_default:"swing"},y.fx=vr.prototype.init,y.fx.step={};var Ho,_s,z0=/^(?:toggle|show|hide)$/,ba=/queueHooks$/;function ro(){_s&&(x.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(ro):t.setTimeout(ro,y.fx.interval),y.fx.tick())}function Ah(){return t.setTimeout(function(){Ho=void 0}),Ho=Date.now()}function io(v,w){var E,M=0,I={height:v};for(w=w?1:0;M<4;M+=2-w)E=$t[M],I["margin"+E]=I["padding"+E]=v;return w&&(I.opacity=I.width=v),I}function hi(v,w,E){for(var M,I=(cr.tweeners[w]||[]).concat(cr.tweeners["*"]),D=0,W=I.length;D<W;D++)if(M=I[D].call(E,w,v))return M}function Fu(v,w,E){var M,I,D,W,pe,le,we,Me,Ie="width"in w||"height"in w,je=this,Ye={},kt=v.style,Yt=v.nodeType&&mn(v),Dt=Ze.get(v,"fxshow");E.queue||(W=y._queueHooks(v,"fx"),W.unqueued==null&&(W.unqueued=0,pe=W.empty.fire,W.empty.fire=function(){W.unqueued||pe()}),W.unqueued++,je.always(function(){je.always(function(){W.unqueued--,y.queue(v,"fx").length||W.empty.fire()})}));for(M in w)if(I=w[M],z0.test(I)){if(delete w[M],D=D||I==="toggle",I===(Yt?"hide":"show"))if(I==="show"&&Dt&&Dt[M]!==void 0)Yt=!0;else continue;Ye[M]=Dt&&Dt[M]||y.style(v,M)}if(le=!y.isEmptyObject(w),!(!le&&y.isEmptyObject(Ye))){Ie&&v.nodeType===1&&(E.overflow=[kt.overflow,kt.overflowX,kt.overflowY],we=Dt&&Dt.display,we==null&&(we=Ze.get(v,"display")),Me=y.css(v,"display"),Me==="none"&&(we?Me=we:(ft([v],!0),we=v.style.display||we,Me=y.css(v,"display"),ft([v]))),(Me==="inline"||Me==="inline-block"&&we!=null)&&y.css(v,"float")==="none"&&(le||(je.done(function(){kt.display=we}),we==null&&(Me=kt.display,we=Me==="none"?"":Me)),kt.display="inline-block")),E.overflow&&(kt.overflow="hidden",je.always(function(){kt.overflow=E.overflow[0],kt.overflowX=E.overflow[1],kt.overflowY=E.overflow[2]})),le=!1;for(M in Ye)le||(Dt?"hidden"in Dt&&(Yt=Dt.hidden):Dt=Ze.access(v,"fxshow",{display:we}),D&&(Dt.hidden=!Yt),Yt&&ft([v],!0),je.done(function(){Yt||ft([v]),Ze.remove(v,"fxshow");for(M in Ye)y.style(v,M,Ye[M])})),le=hi(Yt?Dt[M]:0,M,je),M in Dt||(Dt[M]=le.start,Yt&&(le.end=le.start,le.start=0))}}function B0(v,w){var E,M,I,D,W;for(E in v)if(M=Ve(E),I=w[M],D=v[E],Array.isArray(D)&&(I=D[1],D=v[E]=D[0]),E!==M&&(v[M]=D,delete v[E]),W=y.cssHooks[M],W&&"expand"in W){D=W.expand(D),delete v[M];for(E in D)E in v||(v[E]=D[E],w[E]=I)}else w[M]=I}function cr(v,w,E){var M,I,D=0,W=cr.prefilters.length,pe=y.Deferred().always(function(){delete le.elem}),le=function(){if(I)return!1;for(var Ie=Ho||Ah(),je=Math.max(0,we.startTime+we.duration-Ie),Ye=je/we.duration||0,kt=1-Ye,Yt=0,Dt=we.tweens.length;Yt<Dt;Yt++)we.tweens[Yt].run(kt);return pe.notifyWith(v,[we,kt,je]),kt<1&&Dt?je:(Dt||pe.notifyWith(v,[we,1,0]),pe.resolveWith(v,[we]),!1)},we=pe.promise({elem:v,props:y.extend({},w),opts:y.extend(!0,{specialEasing:{},easing:y.easing._default},E),originalProperties:w,originalOptions:E,startTime:Ho||Ah(),duration:E.duration,tweens:[],createTween:function(Ie,je){var Ye=y.Tween(v,we.opts,Ie,je,we.opts.specialEasing[Ie]||we.opts.easing);return we.tweens.push(Ye),Ye},stop:function(Ie){var je=0,Ye=Ie?we.tweens.length:0;if(I)return this;for(I=!0;je<Ye;je++)we.tweens[je].run(1);return Ie?(pe.notifyWith(v,[we,1,0]),pe.resolveWith(v,[we,Ie])):pe.rejectWith(v,[we,Ie]),this}}),Me=we.props;for(B0(Me,we.opts.specialEasing);D<W;D++)if(M=cr.prefilters[D].call(we,v,Me,we.opts),M)return g(M.stop)&&(y._queueHooks(we.elem,we.opts.queue).stop=M.stop.bind(M)),M;return y.map(Me,hi,we),g(we.opts.start)&&we.opts.start.call(v,we),we.progress(we.opts.progress).done(we.opts.done,we.opts.complete).fail(we.opts.fail).always(we.opts.always),y.fx.timer(y.extend(le,{elem:v,anim:we,queue:we.opts.queue})),we}y.Animation=y.extend(cr,{tweeners:{"*":[function(v,w){var E=this.createTween(v,w);return mr(E.elem,v,st.exec(w),E),E}]},tweener:function(v,w){g(v)?(w=v,v=["*"]):v=v.match(he);for(var E,M=0,I=v.length;M<I;M++)E=v[M],cr.tweeners[E]=cr.tweeners[E]||[],cr.tweeners[E].unshift(w)},prefilters:[Fu],prefilter:function(v,w){w?cr.prefilters.unshift(v):cr.prefilters.push(v)}}),y.speed=function(v,w,E){var M=v&&typeof v=="object"?y.extend({},v):{complete:E||!E&&w||g(v)&&v,duration:v,easing:E&&w||w&&!g(w)&&w};return y.fx.off?M.duration=0:typeof M.duration!="number"&&(M.duration in y.fx.speeds?M.duration=y.fx.speeds[M.duration]:M.duration=y.fx.speeds._default),(M.queue==null||M.queue===!0)&&(M.queue="fx"),M.old=M.complete,M.complete=function(){g(M.old)&&M.old.call(this),M.queue&&y.dequeue(this,M.queue)},M},y.fn.extend({fadeTo:function(v,w,E,M){return this.filter(mn).css("opacity",0).show().end().animate({opacity:w},v,E,M)},animate:function(v,w,E,M){var I=y.isEmptyObject(v),D=y.speed(w,E,M),W=function(){var pe=cr(this,y.extend({},v),D);(I||Ze.get(this,"finish"))&&pe.stop(!0)};return W.finish=W,I||D.queue===!1?this.each(W):this.queue(D.queue,W)},stop:function(v,w,E){var M=function(I){var D=I.stop;delete I.stop,D(E)};return typeof v!="string"&&(E=w,w=v,v=void 0),w&&this.queue(v||"fx",[]),this.each(function(){var I=!0,D=v!=null&&v+"queueHooks",W=y.timers,pe=Ze.get(this);if(D)pe[D]&&pe[D].stop&&M(pe[D]);else for(D in pe)pe[D]&&pe[D].stop&&ba.test(D)&&M(pe[D]);for(D=W.length;D--;)W[D].elem===this&&(v==null||W[D].queue===v)&&(W[D].anim.stop(E),I=!1,W.splice(D,1));(I||!E)&&y.dequeue(this,v)})},finish:function(v){return v!==!1&&(v=v||"fx"),this.each(function(){var w,E=Ze.get(this),M=E[v+"queue"],I=E[v+"queueHooks"],D=y.timers,W=M?M.length:0;for(E.finish=!0,y.queue(this,v,[]),I&&I.stop&&I.stop.call(this,!0),w=D.length;w--;)D[w].elem===this&&D[w].queue===v&&(D[w].anim.stop(!0),D.splice(w,1));for(w=0;w<W;w++)M[w]&&M[w].finish&&M[w].finish.call(this);delete E.finish})}}),y.each(["toggle","show","hide"],function(v,w){var E=y.fn[w];y.fn[w]=function(M,I,D){return M==null||typeof M=="boolean"?E.apply(this,arguments):this.animate(io(w,!0),M,I,D)}}),y.each({slideDown:io("show"),slideUp:io("hide"),slideToggle:io("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(v,w){y.fn[v]=function(E,M,I){return this.animate(w,E,M,I)}}),y.timers=[],y.fx.tick=function(){var v,w=0,E=y.timers;for(Ho=Date.now();w<E.length;w++)v=E[w],!v()&&E[w]===v&&E.splice(w--,1);E.length||y.fx.stop(),Ho=void 0},y.fx.timer=function(v){y.timers.push(v),y.fx.start()},y.fx.interval=13,y.fx.start=function(){_s||(_s=!0,ro())},y.fx.stop=function(){_s=null},y.fx.speeds={slow:600,fast:200,_default:400},y.fn.delay=function(v,w){return v=y.fx&&y.fx.speeds[v]||v,w=w||"fx",this.queue(w,function(E,M){var I=t.setTimeout(E,v);M.stop=function(){t.clearTimeout(I)}})},function(){var v=x.createElement("input"),w=x.createElement("select"),E=w.appendChild(x.createElement("option"));v.type="checkbox",p.checkOn=v.value!=="",p.optSelected=E.selected,v=x.createElement("input"),v.value="t",v.type="radio",p.radioValue=v.value==="t"}();var zu,xs=y.expr.attrHandle;y.fn.extend({attr:function(v,w){return Oe(this,y.attr,v,w,arguments.length>1)},removeAttr:function(v){return this.each(function(){y.removeAttr(this,v)})}}),y.extend({attr:function(v,w,E){var M,I,D=v.nodeType;if(!(D===3||D===8||D===2)){if(typeof v.getAttribute>"u")return y.prop(v,w,E);if((D!==1||!y.isXMLDoc(v))&&(I=y.attrHooks[w.toLowerCase()]||(y.expr.match.bool.test(w)?zu:void 0)),E!==void 0){if(E===null){y.removeAttr(v,w);return}return I&&"set"in I&&(M=I.set(v,E,w))!==void 0?M:(v.setAttribute(w,E+""),E)}return I&&"get"in I&&(M=I.get(v,w))!==null?M:(M=y.find.attr(v,w),M??void 0)}},attrHooks:{type:{set:function(v,w){if(!p.radioValue&&w==="radio"&&A(v,"input")){var E=v.value;return v.setAttribute("type",w),E&&(v.value=E),w}}}},removeAttr:function(v,w){var E,M=0,I=w&&w.match(he);if(I&&v.nodeType===1)for(;E=I[M++];)v.removeAttribute(E)}}),zu={set:function(v,w,E){return w===!1?y.removeAttr(v,E):v.setAttribute(E,E),E}},y.each(y.expr.match.bool.source.match(/\w+/g),function(v,w){var E=xs[w]||y.find.attr;xs[w]=function(M,I,D){var W,pe,le=I.toLowerCase();return D||(pe=xs[le],xs[le]=W,W=E(M,I,D)!=null?le:null,xs[le]=pe),W}});var Bu=/^(?:input|select|textarea|button)$/i,Wu=/^(?:a|area)$/i;y.fn.extend({prop:function(v,w){return Oe(this,y.prop,v,w,arguments.length>1)},removeProp:function(v){return this.each(function(){delete this[y.propFix[v]||v]})}}),y.extend({prop:function(v,w,E){var M,I,D=v.nodeType;if(!(D===3||D===8||D===2))return(D!==1||!y.isXMLDoc(v))&&(w=y.propFix[w]||w,I=y.propHooks[w]),E!==void 0?I&&"set"in I&&(M=I.set(v,E,w))!==void 0?M:v[w]=E:I&&"get"in I&&(M=I.get(v,w))!==null?M:v[w]},propHooks:{tabIndex:{get:function(v){var w=y.find.attr(v,"tabindex");return w?parseInt(w,10):Bu.test(v.nodeName)||Wu.test(v.nodeName)&&v.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(y.propHooks.selected={get:function(v){var w=v.parentNode;return w&&w.parentNode&&w.parentNode.selectedIndex,null},set:function(v){var w=v.parentNode;w&&(w.selectedIndex,w.parentNode&&w.parentNode.selectedIndex)}}),y.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){y.propFix[this.toLowerCase()]=this});function qo(v){var w=v.match(he)||[];return w.join(" ")}function Vo(v){return v.getAttribute&&v.getAttribute("class")||""}function ws(v){return Array.isArray(v)?v:typeof v=="string"?v.match(he)||[]:[]}y.fn.extend({addClass:function(v){var w,E,M,I,D,W;return g(v)?this.each(function(pe){y(this).addClass(v.call(this,pe,Vo(this)))}):(w=ws(v),w.length?this.each(function(){if(M=Vo(this),E=this.nodeType===1&&" "+qo(M)+" ",E){for(D=0;D<w.length;D++)I=w[D],E.indexOf(" "+I+" ")<0&&(E+=I+" ");W=qo(E),M!==W&&this.setAttribute("class",W)}}):this)},removeClass:function(v){var w,E,M,I,D,W;return g(v)?this.each(function(pe){y(this).removeClass(v.call(this,pe,Vo(this)))}):arguments.length?(w=ws(v),w.length?this.each(function(){if(M=Vo(this),E=this.nodeType===1&&" "+qo(M)+" ",E){for(D=0;D<w.length;D++)for(I=w[D];E.indexOf(" "+I+" ")>-1;)E=E.replace(" "+I+" "," ");W=qo(E),M!==W&&this.setAttribute("class",W)}}):this):this.attr("class","")},toggleClass:function(v,w){var E,M,I,D,W=typeof v,pe=W==="string"||Array.isArray(v);return g(v)?this.each(function(le){y(this).toggleClass(v.call(this,le,Vo(this),w),w)}):typeof w=="boolean"&&pe?w?this.addClass(v):this.removeClass(v):(E=ws(v),this.each(function(){if(pe)for(D=y(this),I=0;I<E.length;I++)M=E[I],D.hasClass(M)?D.removeClass(M):D.addClass(M);else(v===void 0||W==="boolean")&&(M=Vo(this),M&&Ze.set(this,"__className__",M),this.setAttribute&&this.setAttribute("class",M||v===!1?"":Ze.get(this,"__className__")||""))}))},hasClass:function(v){var w,E,M=0;for(w=" "+v+" ";E=this[M++];)if(E.nodeType===1&&(" "+qo(Vo(E))+" ").indexOf(w)>-1)return!0;return!1}});var Qr=/\r/g;y.fn.extend({val:function(v){var w,E,M,I=this[0];return arguments.length?(M=g(v),this.each(function(D){var W;this.nodeType===1&&(M?W=v.call(this,D,y(this).val()):W=v,W==null?W="":typeof W=="number"?W+="":Array.isArray(W)&&(W=y.map(W,function(pe){return pe==null?"":pe+""})),w=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()],(!w||!("set"in w)||w.set(this,W,"value")===void 0)&&(this.value=W))})):I?(w=y.valHooks[I.type]||y.valHooks[I.nodeName.toLowerCase()],w&&"get"in w&&(E=w.get(I,"value"))!==void 0?E:(E=I.value,typeof E=="string"?E.replace(Qr,""):E??"")):void 0}}),y.extend({valHooks:{option:{get:function(v){var w=y.find.attr(v,"value");return w??qo(y.text(v))}},select:{get:function(v){var w,E,M,I=v.options,D=v.selectedIndex,W=v.type==="select-one",pe=W?null:[],le=W?D+1:I.length;for(D<0?M=le:M=W?D:0;M<le;M++)if(E=I[M],(E.selected||M===D)&&!E.disabled&&(!E.parentNode.disabled||!A(E.parentNode,"optgroup"))){if(w=y(E).val(),W)return w;pe.push(w)}return pe},set:function(v,w){for(var E,M,I=v.options,D=y.makeArray(w),W=I.length;W--;)M=I[W],(M.selected=y.inArray(y.valHooks.option.get(M),D)>-1)&&(E=!0);return E||(v.selectedIndex=-1),D}}}}),y.each(["radio","checkbox"],function(){y.valHooks[this]={set:function(v,w){if(Array.isArray(w))return v.checked=y.inArray(y(v).val(),w)>-1}},p.checkOn||(y.valHooks[this].get=function(v){return v.getAttribute("value")===null?"on":v.value})});var ya=t.location,Rh={guid:Date.now()},Hu=/\?/;y.parseXML=function(v){var w,E;if(!v||typeof v!="string")return null;try{w=new t.DOMParser().parseFromString(v,"text/xml")}catch{}return E=w&&w.getElementsByTagName("parsererror")[0],(!w||E)&&y.error("Invalid XML: "+(E?y.map(E.childNodes,function(M){return M.textContent}).join(`
`):v)),w};var qu=/^(?:focusinfocus|focusoutblur)$/,$h=function(v){v.stopPropagation()};y.extend(y.event,{trigger:function(v,w,E,M){var I,D,W,pe,le,we,Me,Ie,je=[E||x],Ye=f.call(v,"type")?v.type:v,kt=f.call(v,"namespace")?v.namespace.split("."):[];if(D=Ie=W=E=E||x,!(E.nodeType===3||E.nodeType===8)&&!qu.test(Ye+y.event.triggered)&&(Ye.indexOf(".")>-1&&(kt=Ye.split("."),Ye=kt.shift(),kt.sort()),le=Ye.indexOf(":")<0&&"on"+Ye,v=v[y.expando]?v:new y.Event(Ye,typeof v=="object"&&v),v.isTrigger=M?2:3,v.namespace=kt.join("."),v.rnamespace=v.namespace?new RegExp("(^|\\.)"+kt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,v.result=void 0,v.target||(v.target=E),w=w==null?[v]:y.makeArray(w,[v]),Me=y.event.special[Ye]||{},!(!M&&Me.trigger&&Me.trigger.apply(E,w)===!1))){if(!M&&!Me.noBubble&&!_(E)){for(pe=Me.delegateType||Ye,qu.test(pe+Ye)||(D=D.parentNode);D;D=D.parentNode)je.push(D),W=D;W===(E.ownerDocument||x)&&je.push(W.defaultView||W.parentWindow||t)}for(I=0;(D=je[I++])&&!v.isPropagationStopped();)Ie=D,v.type=I>1?pe:Me.bindType||Ye,we=(Ze.get(D,"events")||Object.create(null))[v.type]&&Ze.get(D,"handle"),we&&we.apply(D,w),we=le&&D[le],we&&we.apply&&mt(D)&&(v.result=we.apply(D,w),v.result===!1&&v.preventDefault());return v.type=Ye,!M&&!v.isDefaultPrevented()&&(!Me._default||Me._default.apply(je.pop(),w)===!1)&&mt(E)&&le&&g(E[Ye])&&!_(E)&&(W=E[le],W&&(E[le]=null),y.event.triggered=Ye,v.isPropagationStopped()&&Ie.addEventListener(Ye,$h),E[Ye](),v.isPropagationStopped()&&Ie.removeEventListener(Ye,$h),y.event.triggered=void 0,W&&(E[le]=W)),v.result}},simulate:function(v,w,E){var M=y.extend(new y.Event,E,{type:v,isSimulated:!0});y.event.trigger(M,null,w)}}),y.fn.extend({trigger:function(v,w){return this.each(function(){y.event.trigger(v,w,this)})},triggerHandler:function(v,w){var E=this[0];if(E)return y.event.trigger(v,w,E,!0)}});var Ih=/\[\]$/,Vu=/\r?\n/g,W0=/^(?:submit|button|image|reset|file)$/i,H0=/^(?:input|select|textarea|keygen)/i;function Uu(v,w,E,M){var I;if(Array.isArray(w))y.each(w,function(D,W){E||Ih.test(v)?M(v,W):Uu(v+"["+(typeof W=="object"&&W!=null?D:"")+"]",W,E,M)});else if(!E&&j(w)==="object")for(I in w)Uu(v+"["+I+"]",w[I],E,M);else M(v,w)}y.param=function(v,w){var E,M=[],I=function(D,W){var pe=g(W)?W():W;M[M.length]=encodeURIComponent(D)+"="+encodeURIComponent(pe??"")};if(v==null)return"";if(Array.isArray(v)||v.jquery&&!y.isPlainObject(v))y.each(v,function(){I(this.name,this.value)});else for(E in v)Uu(E,v[E],w,I);return M.join("&")},y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var v=y.prop(this,"elements");return v?y.makeArray(v):this}).filter(function(){var v=this.type;return this.name&&!y(this).is(":disabled")&&H0.test(this.nodeName)&&!W0.test(v)&&(this.checked||!ot.test(v))}).map(function(v,w){var E=y(this).val();return E==null?null:Array.isArray(E)?y.map(E,function(M){return{name:w.name,value:M.replace(Vu,`\r
`)}}):{name:w.name,value:E.replace(Vu,`\r
`)}}).get()}});var Gu=/%20/g,Dh=/#.*$/,q0=/([?&])_=[^&]*/,Fl=/^(.*?):[ \t]*([^\r\n]*)$/mg,V0=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ku=/^(?:GET|HEAD)$/,U0=/^\/\//,Lh={},Yu={},Fh="*/".concat("*"),Zu=x.createElement("a");Zu.href=ya.href;function zh(v){return function(w,E){typeof w!="string"&&(E=w,w="*");var M,I=0,D=w.toLowerCase().match(he)||[];if(g(E))for(;M=D[I++];)M[0]==="+"?(M=M.slice(1)||"*",(v[M]=v[M]||[]).unshift(E)):(v[M]=v[M]||[]).push(E)}}function Bh(v,w,E,M){var I={},D=v===Yu;function W(pe){var le;return I[pe]=!0,y.each(v[pe]||[],function(we,Me){var Ie=Me(w,E,M);if(typeof Ie=="string"&&!D&&!I[Ie])return w.dataTypes.unshift(Ie),W(Ie),!1;if(D)return!(le=Ie)}),le}return W(w.dataTypes[0])||!I["*"]&&W("*")}function Qu(v,w){var E,M,I=y.ajaxSettings.flatOptions||{};for(E in w)w[E]!==void 0&&((I[E]?v:M||(M={}))[E]=w[E]);return M&&y.extend(!0,v,M),v}function G0(v,w,E){for(var M,I,D,W,pe=v.contents,le=v.dataTypes;le[0]==="*";)le.shift(),M===void 0&&(M=v.mimeType||w.getResponseHeader("Content-Type"));if(M){for(I in pe)if(pe[I]&&pe[I].test(M)){le.unshift(I);break}}if(le[0]in E)D=le[0];else{for(I in E){if(!le[0]||v.converters[I+" "+le[0]]){D=I;break}W||(W=I)}D=D||W}if(D)return D!==le[0]&&le.unshift(D),E[D]}function K0(v,w,E,M){var I,D,W,pe,le,we={},Me=v.dataTypes.slice();if(Me[1])for(W in v.converters)we[W.toLowerCase()]=v.converters[W];for(D=Me.shift();D;)if(v.responseFields[D]&&(E[v.responseFields[D]]=w),!le&&M&&v.dataFilter&&(w=v.dataFilter(w,v.dataType)),le=D,D=Me.shift(),D){if(D==="*")D=le;else if(le!=="*"&&le!==D){if(W=we[le+" "+D]||we["* "+D],!W){for(I in we)if(pe=I.split(" "),pe[1]===D&&(W=we[le+" "+pe[0]]||we["* "+pe[0]],W)){W===!0?W=we[I]:we[I]!==!0&&(D=pe[0],Me.unshift(pe[1]));break}}if(W!==!0)if(W&&v.throws)w=W(w);else try{w=W(w)}catch(Ie){return{state:"parsererror",error:W?Ie:"No conversion from "+le+" to "+D}}}}return{state:"success",data:w}}y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ya.href,type:"GET",isLocal:V0.test(ya.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fh,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(v,w){return w?Qu(Qu(v,y.ajaxSettings),w):Qu(y.ajaxSettings,v)},ajaxPrefilter:zh(Lh),ajaxTransport:zh(Yu),ajax:function(v,w){typeof v=="object"&&(w=v,v=void 0),w=w||{};var E,M,I,D,W,pe,le,we,Me,Ie,je=y.ajaxSetup({},w),Ye=je.context||je,kt=je.context&&(Ye.nodeType||Ye.jquery)?y(Ye):y.event,Yt=y.Deferred(),Dt=y.Callbacks("once memory"),Vn=je.statusCode||{},In={},mi={},gi="canceled",Zt={readyState:0,getResponseHeader:function(tn){var Tn;if(le){if(!D)for(D={};Tn=Fl.exec(I);)D[Tn[1].toLowerCase()+" "]=(D[Tn[1].toLowerCase()+" "]||[]).concat(Tn[2]);Tn=D[tn.toLowerCase()+" "]}return Tn==null?null:Tn.join(", ")},getAllResponseHeaders:function(){return le?I:null},setRequestHeader:function(tn,Tn){return le==null&&(tn=mi[tn.toLowerCase()]=mi[tn.toLowerCase()]||tn,In[tn]=Tn),this},overrideMimeType:function(tn){return le==null&&(je.mimeType=tn),this},statusCode:function(tn){var Tn;if(tn)if(le)Zt.always(tn[Zt.status]);else for(Tn in tn)Vn[Tn]=[Vn[Tn],tn[Tn]];return this},abort:function(tn){var Tn=tn||gi;return E&&E.abort(Tn),Go(0,Tn),this}};if(Yt.promise(Zt),je.url=((v||je.url||ya.href)+"").replace(U0,ya.protocol+"//"),je.type=w.method||w.type||je.method||je.type,je.dataTypes=(je.dataType||"*").toLowerCase().match(he)||[""],je.crossDomain==null){pe=x.createElement("a");try{pe.href=je.url,pe.href=pe.href,je.crossDomain=Zu.protocol+"//"+Zu.host!=pe.protocol+"//"+pe.host}catch{je.crossDomain=!0}}if(je.data&&je.processData&&typeof je.data!="string"&&(je.data=y.param(je.data,je.traditional)),Bh(Lh,je,w,Zt),le)return Zt;we=y.event&&je.global,we&&y.active++===0&&y.event.trigger("ajaxStart"),je.type=je.type.toUpperCase(),je.hasContent=!Ku.test(je.type),M=je.url.replace(Dh,""),je.hasContent?je.data&&je.processData&&(je.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(je.data=je.data.replace(Gu,"+")):(Ie=je.url.slice(M.length),je.data&&(je.processData||typeof je.data=="string")&&(M+=(Hu.test(M)?"&":"?")+je.data,delete je.data),je.cache===!1&&(M=M.replace(q0,"$1"),Ie=(Hu.test(M)?"&":"?")+"_="+Rh.guid+++Ie),je.url=M+Ie),je.ifModified&&(y.lastModified[M]&&Zt.setRequestHeader("If-Modified-Since",y.lastModified[M]),y.etag[M]&&Zt.setRequestHeader("If-None-Match",y.etag[M])),(je.data&&je.hasContent&&je.contentType!==!1||w.contentType)&&Zt.setRequestHeader("Content-Type",je.contentType),Zt.setRequestHeader("Accept",je.dataTypes[0]&&je.accepts[je.dataTypes[0]]?je.accepts[je.dataTypes[0]]+(je.dataTypes[0]!=="*"?", "+Fh+"; q=0.01":""):je.accepts["*"]);for(Me in je.headers)Zt.setRequestHeader(Me,je.headers[Me]);if(je.beforeSend&&(je.beforeSend.call(Ye,Zt,je)===!1||le))return Zt.abort();if(gi="abort",Dt.add(je.complete),Zt.done(je.success),Zt.fail(je.error),E=Bh(Yu,je,w,Zt),!E)Go(-1,"No Transport");else{if(Zt.readyState=1,we&&kt.trigger("ajaxSend",[Zt,je]),le)return Zt;je.async&&je.timeout>0&&(W=t.setTimeout(function(){Zt.abort("timeout")},je.timeout));try{le=!1,E.send(In,Go)}catch(tn){if(le)throw tn;Go(-1,tn)}}function Go(tn,Tn,Ss,_a){var vi,$i,bi,so,ao,Br=Tn;le||(le=!0,W&&t.clearTimeout(W),E=void 0,I=_a||"",Zt.readyState=tn>0?4:0,vi=tn>=200&&tn<300||tn===304,Ss&&(so=G0(je,Zt,Ss)),!vi&&y.inArray("script",je.dataTypes)>-1&&y.inArray("json",je.dataTypes)<0&&(je.converters["text script"]=function(){}),so=K0(je,so,Zt,vi),vi?(je.ifModified&&(ao=Zt.getResponseHeader("Last-Modified"),ao&&(y.lastModified[M]=ao),ao=Zt.getResponseHeader("etag"),ao&&(y.etag[M]=ao)),tn===204||je.type==="HEAD"?Br="nocontent":tn===304?Br="notmodified":(Br=so.state,$i=so.data,bi=so.error,vi=!bi)):(bi=Br,(tn||!Br)&&(Br="error",tn<0&&(tn=0))),Zt.status=tn,Zt.statusText=(Tn||Br)+"",vi?Yt.resolveWith(Ye,[$i,Br,Zt]):Yt.rejectWith(Ye,[Zt,Br,bi]),Zt.statusCode(Vn),Vn=void 0,we&&kt.trigger(vi?"ajaxSuccess":"ajaxError",[Zt,je,vi?$i:bi]),Dt.fireWith(Ye,[Zt,Br]),we&&(kt.trigger("ajaxComplete",[Zt,je]),--y.active||y.event.trigger("ajaxStop")))}return Zt},getJSON:function(v,w,E){return y.get(v,w,E,"json")},getScript:function(v,w){return y.get(v,void 0,w,"script")}}),y.each(["get","post"],function(v,w){y[w]=function(E,M,I,D){return g(M)&&(D=D||I,I=M,M=void 0),y.ajax(y.extend({url:E,type:w,dataType:D,data:M,success:I},y.isPlainObject(E)&&E))}}),y.ajaxPrefilter(function(v){var w;for(w in v.headers)w.toLowerCase()==="content-type"&&(v.contentType=v.headers[w]||"")}),y._evalUrl=function(v,w,E){return y.ajax({url:v,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(M){y.globalEval(M,w,E)}})},y.fn.extend({wrapAll:function(v){var w;return this[0]&&(g(v)&&(v=v.call(this[0])),w=y(v,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&w.insertBefore(this[0]),w.map(function(){for(var E=this;E.firstElementChild;)E=E.firstElementChild;return E}).append(this)),this},wrapInner:function(v){return g(v)?this.each(function(w){y(this).wrapInner(v.call(this,w))}):this.each(function(){var w=y(this),E=w.contents();E.length?E.wrapAll(v):w.append(v)})},wrap:function(v){var w=g(v);return this.each(function(E){y(this).wrapAll(w?v.call(this,E):v)})},unwrap:function(v){return this.parent(v).not("body").each(function(){y(this).replaceWith(this.childNodes)}),this}}),y.expr.pseudos.hidden=function(v){return!y.expr.pseudos.visible(v)},y.expr.pseudos.visible=function(v){return!!(v.offsetWidth||v.offsetHeight||v.getClientRects().length)},y.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var oo={0:200,1223:204},pi=y.ajaxSettings.xhr();p.cors=!!pi&&"withCredentials"in pi,p.ajax=pi=!!pi,y.ajaxTransport(function(v){var w,E;if(p.cors||pi&&!v.crossDomain)return{send:function(M,I){var D,W=v.xhr();if(W.open(v.type,v.url,v.async,v.username,v.password),v.xhrFields)for(D in v.xhrFields)W[D]=v.xhrFields[D];v.mimeType&&W.overrideMimeType&&W.overrideMimeType(v.mimeType),!v.crossDomain&&!M["X-Requested-With"]&&(M["X-Requested-With"]="XMLHttpRequest");for(D in M)W.setRequestHeader(D,M[D]);w=function(pe){return function(){w&&(w=E=W.onload=W.onerror=W.onabort=W.ontimeout=W.onreadystatechange=null,pe==="abort"?W.abort():pe==="error"?typeof W.status!="number"?I(0,"error"):I(W.status,W.statusText):I(oo[W.status]||W.status,W.statusText,(W.responseType||"text")!=="text"||typeof W.responseText!="string"?{binary:W.response}:{text:W.responseText},W.getAllResponseHeaders()))}},W.onload=w(),E=W.onerror=W.ontimeout=w("error"),W.onabort!==void 0?W.onabort=E:W.onreadystatechange=function(){W.readyState===4&&t.setTimeout(function(){w&&E()})},w=w("abort");try{W.send(v.hasContent&&v.data||null)}catch(pe){if(w)throw pe}},abort:function(){w&&w()}}}),y.ajaxPrefilter(function(v){v.crossDomain&&(v.contents.script=!1)}),y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(v){return y.globalEval(v),v}}}),y.ajaxPrefilter("script",function(v){v.cache===void 0&&(v.cache=!1),v.crossDomain&&(v.type="GET")}),y.ajaxTransport("script",function(v){if(v.crossDomain||v.scriptAttrs){var w,E;return{send:function(M,I){w=y("<script>").attr(v.scriptAttrs||{}).prop({charset:v.scriptCharset,src:v.url}).on("load error",E=function(D){w.remove(),E=null,D&&I(D.type==="error"?404:200,D.type)}),x.head.appendChild(w[0])},abort:function(){E&&E()}}}});var Wh=[],Uo=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var v=Wh.pop()||y.expando+"_"+Rh.guid++;return this[v]=!0,v}}),y.ajaxPrefilter("json jsonp",function(v,w,E){var M,I,D,W=v.jsonp!==!1&&(Uo.test(v.url)?"url":typeof v.data=="string"&&(v.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Uo.test(v.data)&&"data");if(W||v.dataTypes[0]==="jsonp")return M=v.jsonpCallback=g(v.jsonpCallback)?v.jsonpCallback():v.jsonpCallback,W?v[W]=v[W].replace(Uo,"$1"+M):v.jsonp!==!1&&(v.url+=(Hu.test(v.url)?"&":"?")+v.jsonp+"="+M),v.converters["script json"]=function(){return D||y.error(M+" was not called"),D[0]},v.dataTypes[0]="json",I=t[M],t[M]=function(){D=arguments},E.always(function(){I===void 0?y(t).removeProp(M):t[M]=I,v[M]&&(v.jsonpCallback=w.jsonpCallback,Wh.push(M)),D&&g(I)&&I(D[0]),D=I=void 0}),"script"}),p.createHTMLDocument=function(){var v=x.implementation.createHTMLDocument("").body;return v.innerHTML="<form></form><form></form>",v.childNodes.length===2}(),y.parseHTML=function(v,w,E){if(typeof v!="string")return[];typeof w=="boolean"&&(E=w,w=!1);var M,I,D;return w||(p.createHTMLDocument?(w=x.implementation.createHTMLDocument(""),M=w.createElement("base"),M.href=x.location.href,w.head.appendChild(M)):w=x),I=Q.exec(v),D=!E&&[],I?[w.createElement(I[1])]:(I=Wo([v],w,D),D&&D.length&&y(D).remove(),y.merge([],I.childNodes))},y.fn.load=function(v,w,E){var M,I,D,W=this,pe=v.indexOf(" ");return pe>-1&&(M=qo(v.slice(pe)),v=v.slice(0,pe)),g(w)?(E=w,w=void 0):w&&typeof w=="object"&&(I="POST"),W.length>0&&y.ajax({url:v,type:I||"GET",dataType:"html",data:w}).done(function(le){D=arguments,W.html(M?y("<div>").append(y.parseHTML(le)).find(M):le)}).always(E&&function(le,we){W.each(function(){E.apply(this,D||[le.responseText,we,le])})}),this},y.expr.pseudos.animated=function(v){return y.grep(y.timers,function(w){return v===w.elem}).length},y.offset={setOffset:function(v,w,E){var M,I,D,W,pe,le,we,Me=y.css(v,"position"),Ie=y(v),je={};Me==="static"&&(v.style.position="relative"),pe=Ie.offset(),D=y.css(v,"top"),le=y.css(v,"left"),we=(Me==="absolute"||Me==="fixed")&&(D+le).indexOf("auto")>-1,we?(M=Ie.position(),W=M.top,I=M.left):(W=parseFloat(D)||0,I=parseFloat(le)||0),g(w)&&(w=w.call(v,E,y.extend({},pe))),w.top!=null&&(je.top=w.top-pe.top+W),w.left!=null&&(je.left=w.left-pe.left+I),"using"in w?w.using.call(v,je):Ie.css(je)}},y.fn.extend({offset:function(v){if(arguments.length)return v===void 0?this:this.each(function(I){y.offset.setOffset(this,v,I)});var w,E,M=this[0];if(M)return M.getClientRects().length?(w=M.getBoundingClientRect(),E=M.ownerDocument.defaultView,{top:w.top+E.pageYOffset,left:w.left+E.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var v,w,E,M=this[0],I={top:0,left:0};if(y.css(M,"position")==="fixed")w=M.getBoundingClientRect();else{for(w=this.offset(),E=M.ownerDocument,v=M.offsetParent||E.documentElement;v&&(v===E.body||v===E.documentElement)&&y.css(v,"position")==="static";)v=v.parentNode;v&&v!==M&&v.nodeType===1&&(I=y(v).offset(),I.top+=y.css(v,"borderTopWidth",!0),I.left+=y.css(v,"borderLeftWidth",!0))}return{top:w.top-I.top-y.css(M,"marginTop",!0),left:w.left-I.left-y.css(M,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var v=this.offsetParent;v&&y.css(v,"position")==="static";)v=v.offsetParent;return v||xn})}}),y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(v,w){var E=w==="pageYOffset";y.fn[v]=function(M){return Oe(this,function(I,D,W){var pe;if(_(I)?pe=I:I.nodeType===9&&(pe=I.defaultView),W===void 0)return pe?pe[w]:I[D];pe?pe.scrollTo(E?pe.pageXOffset:W,E?W:pe.pageYOffset):I[D]=W},v,M,arguments.length)}}),y.each(["top","left"],function(v,w){y.cssHooks[w]=ge(p.pixelPosition,function(E,M){if(M)return M=ye(E,w),fi.test(M)?y(E).position()[w]+"px":M})}),y.each({Height:"height",Width:"width"},function(v,w){y.each({padding:"inner"+v,content:w,"":"outer"+v},function(E,M){y.fn[M]=function(I,D){var W=arguments.length&&(E||typeof I!="boolean"),pe=E||(I===!0||D===!0?"margin":"border");return Oe(this,function(le,we,Me){var Ie;return _(le)?M.indexOf("outer")===0?le["inner"+v]:le.document.documentElement["client"+v]:le.nodeType===9?(Ie=le.documentElement,Math.max(le.body["scroll"+v],Ie["scroll"+v],le.body["offset"+v],Ie["offset"+v],Ie["client"+v])):Me===void 0?y.css(le,we,pe):y.style(le,we,Me,pe)},w,W?I:void 0,W)}})}),y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(v,w){y.fn[w]=function(E){return this.on(w,E)}}),y.fn.extend({bind:function(v,w,E){return this.on(v,null,w,E)},unbind:function(v,w){return this.off(v,null,w)},delegate:function(v,w,E,M){return this.on(w,v,E,M)},undelegate:function(v,w,E){return arguments.length===1?this.off(v,"**"):this.off(w,v||"**",E)},hover:function(v,w){return this.mouseenter(v).mouseleave(w||v)}}),y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(v,w){y.fn[w]=function(E,M){return arguments.length>0?this.on(w,null,E,M):this.trigger(w)}});var Mr=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;y.proxy=function(v,w){var E,M,I;if(typeof w=="string"&&(E=v[w],w=v,v=E),!!g(v))return M=o.call(arguments,2),I=function(){return v.apply(w||this,M.concat(o.call(arguments)))},I.guid=v.guid=v.guid||y.guid++,I},y.holdReady=function(v){v?y.readyWait++:y.ready(!0)},y.isArray=Array.isArray,y.parseJSON=JSON.parse,y.nodeName=A,y.isFunction=g,y.isWindow=_,y.camelCase=Ve,y.type=j,y.now=Date.now,y.isNumeric=function(v){var w=y.type(v);return(w==="number"||w==="string")&&!isNaN(v-parseFloat(v))},y.trim=function(v){return v==null?"":(v+"").replace(Mr,"$1")};var Y0=t.jQuery,Z0=t.$;return y.noConflict=function(v){return t.$===y&&(t.$=Z0),v&&t.jQuery===y&&(t.jQuery=Y0),y},typeof n>"u"&&(t.jQuery=t.$=y),y})}(Zy)),Zy.exports}const K8e=Hz(U8e);/*!
  * Bootstrap v4.6.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,t){(function(n,r){r(t,G8e(),K8e)})(Mt,function(n,r,i){function o(Te){return Te&&typeof Te=="object"&&"default"in Te?Te:{default:Te}}var s=o(r),a=o(i);function l(Te,me){for(var ce=0;ce<me.length;ce++){var N=me[ce];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(Te,N.key,N)}}function c(Te,me,ce){return me&&l(Te.prototype,me),ce&&l(Te,ce),Object.defineProperty(Te,"prototype",{writable:!1}),Te}function u(){return u=Object.assign?Object.assign.bind():function(Te){for(var me=1;me<arguments.length;me++){var ce=arguments[me];for(var N in ce)Object.prototype.hasOwnProperty.call(ce,N)&&(Te[N]=ce[N])}return Te},u.apply(this,arguments)}function f(Te,me){Te.prototype=Object.create(me.prototype),Te.prototype.constructor=Te,h(Te,me)}function h(Te,me){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,V){return N.__proto__=V,N},h(Te,me)}var m="transitionend",p=1e6,g=1e3;function _(Te){return Te===null||typeof Te>"u"?""+Te:{}.toString.call(Te).match(/\s([a-z]+)/i)[1].toLowerCase()}function x(){return{bindType:m,delegateType:m,handle:function(me){if(s.default(me.target).is(this))return me.handleObj.handler.apply(this,arguments)}}}function S(Te){var me=this,ce=!1;return s.default(this).one(j.TRANSITION_END,function(){ce=!0}),setTimeout(function(){ce||j.triggerTransitionEnd(me)},Te),this}function C(){s.default.fn.emulateTransitionEnd=S,s.default.event.special[j.TRANSITION_END]=x()}var j={TRANSITION_END:"bsTransitionEnd",getUID:function(me){do me+=~~(Math.random()*p);while(document.getElementById(me));return me},getSelectorFromElement:function(me){var ce=me.getAttribute("data-target");if(!ce||ce==="#"){var N=me.getAttribute("href");ce=N&&N!=="#"?N.trim():""}try{return document.querySelector(ce)?ce:null}catch{return null}},getTransitionDurationFromElement:function(me){if(!me)return 0;var ce=s.default(me).css("transition-duration"),N=s.default(me).css("transition-delay"),V=parseFloat(ce),ae=parseFloat(N);return!V&&!ae?0:(ce=ce.split(",")[0],N=N.split(",")[0],(parseFloat(ce)+parseFloat(N))*g)},reflow:function(me){return me.offsetHeight},triggerTransitionEnd:function(me){s.default(me).trigger(m)},supportsTransitionEnd:function(){return!!m},isElement:function(me){return(me[0]||me).nodeType},typeCheckConfig:function(me,ce,N){for(var V in N)if(Object.prototype.hasOwnProperty.call(N,V)){var ae=N[V],ke=ce[V],Ae=ke&&j.isElement(ke)?"element":_(ke);if(!new RegExp(ae).test(Ae))throw new Error(me.toUpperCase()+": "+('Option "'+V+'" provided type "'+Ae+'" ')+('but expected type "'+ae+'".'))}},findShadowRoot:function(me){if(!document.documentElement.attachShadow)return null;if(typeof me.getRootNode=="function"){var ce=me.getRootNode();return ce instanceof ShadowRoot?ce:null}return me instanceof ShadowRoot?me:me.parentNode?j.findShadowRoot(me.parentNode):null},jQueryDetection:function(){if(typeof s.default>"u")throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var me=s.default.fn.jquery.split(" ")[0].split("."),ce=1,N=2,V=9,ae=1,ke=4;if(me[0]<N&&me[1]<V||me[0]===ce&&me[1]===V&&me[2]<ae||me[0]>=ke)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};j.jQueryDetection(),C();var k="alert",T="4.6.2",y="bs.alert",P="."+y,A=".data-api",$=s.default.fn[k],L="alert",U="fade",F="show",H="close"+P,q="closed"+P,re="click"+P+A,G='[data-dismiss="alert"]',Y=function(){function Te(ce){this._element=ce}var me=Te.prototype;return me.close=function(N){var V=this._element;N&&(V=this._getRootElement(N));var ae=this._triggerCloseEvent(V);ae.isDefaultPrevented()||this._removeElement(V)},me.dispose=function(){s.default.removeData(this._element,y),this._element=null},me._getRootElement=function(N){var V=j.getSelectorFromElement(N),ae=!1;return V&&(ae=document.querySelector(V)),ae||(ae=s.default(N).closest("."+L)[0]),ae},me._triggerCloseEvent=function(N){var V=s.default.Event(H);return s.default(N).trigger(V),V},me._removeElement=function(N){var V=this;if(s.default(N).removeClass(F),!s.default(N).hasClass(U)){this._destroyElement(N);return}var ae=j.getTransitionDurationFromElement(N);s.default(N).one(j.TRANSITION_END,function(ke){return V._destroyElement(N,ke)}).emulateTransitionEnd(ae)},me._destroyElement=function(N){s.default(N).detach().trigger(q).remove()},Te._jQueryInterface=function(N){return this.each(function(){var V=s.default(this),ae=V.data(y);ae||(ae=new Te(this),V.data(y,ae)),N==="close"&&ae[N](this)})},Te._handleDismiss=function(N){return function(V){V&&V.preventDefault(),N.close(this)}},c(Te,null,[{key:"VERSION",get:function(){return T}}]),Te}();s.default(document).on(re,G,Y._handleDismiss(new Y)),s.default.fn[k]=Y._jQueryInterface,s.default.fn[k].Constructor=Y,s.default.fn[k].noConflict=function(){return s.default.fn[k]=$,Y._jQueryInterface};var te="button",ne="4.6.2",B="bs.button",Q="."+B,K=".data-api",de=s.default.fn[te],X="active",J="btn",ue="focus",xe="click"+Q+K,_e="focus"+Q+K+" "+("blur"+Q+K),he="load"+Q+K,Z='[data-toggle^="button"]',se='[data-toggle="buttons"]',ie='[data-toggle="button"]',be='[data-toggle="buttons"] .btn',Ne='input:not([type="hidden"])',Pe=".active",ze=".btn",Oe=function(){function Te(ce){this._element=ce,this.shouldAvoidTriggerChange=!1}var me=Te.prototype;return me.toggle=function(){var N=!0,V=!0,ae=s.default(this._element).closest(se)[0];if(ae){var ke=this._element.querySelector(Ne);if(ke){if(ke.type==="radio")if(ke.checked&&this._element.classList.contains(X))N=!1;else{var Ae=ae.querySelector(Pe);Ae&&s.default(Ae).removeClass(X)}N&&((ke.type==="checkbox"||ke.type==="radio")&&(ke.checked=!this._element.classList.contains(X)),this.shouldAvoidTriggerChange||s.default(ke).trigger("change")),ke.focus(),V=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(V&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(X)),N&&s.default(this._element).toggleClass(X))},me.dispose=function(){s.default.removeData(this._element,B),this._element=null},Te._jQueryInterface=function(N,V){return this.each(function(){var ae=s.default(this),ke=ae.data(B);ke||(ke=new Te(this),ae.data(B,ke)),ke.shouldAvoidTriggerChange=V,N==="toggle"&&ke[N]()})},c(Te,null,[{key:"VERSION",get:function(){return ne}}]),Te}();s.default(document).on(xe,Z,function(Te){var me=Te.target,ce=me;if(s.default(me).hasClass(J)||(me=s.default(me).closest(ze)[0]),!me||me.hasAttribute("disabled")||me.classList.contains("disabled"))Te.preventDefault();else{var N=me.querySelector(Ne);if(N&&(N.hasAttribute("disabled")||N.classList.contains("disabled"))){Te.preventDefault();return}(ce.tagName==="INPUT"||me.tagName!=="LABEL")&&Oe._jQueryInterface.call(s.default(me),"toggle",ce.tagName==="INPUT")}}).on(_e,Z,function(Te){var me=s.default(Te.target).closest(ze)[0];s.default(me).toggleClass(ue,/^focus(in)?$/.test(Te.type))}),s.default(window).on(he,function(){for(var Te=[].slice.call(document.querySelectorAll(be)),me=0,ce=Te.length;me<ce;me++){var N=Te[me],V=N.querySelector(Ne);V.checked||V.hasAttribute("checked")?N.classList.add(X):N.classList.remove(X)}Te=[].slice.call(document.querySelectorAll(ie));for(var ae=0,ke=Te.length;ae<ke;ae++){var Ae=Te[ae];Ae.getAttribute("aria-pressed")==="true"?Ae.classList.add(X):Ae.classList.remove(X)}}),s.default.fn[te]=Oe._jQueryInterface,s.default.fn[te].Constructor=Oe,s.default.fn[te].noConflict=function(){return s.default.fn[te]=de,Oe._jQueryInterface};var qe="carousel",$e="4.6.2",rt="bs.carousel",Ve="."+rt,mt=".data-api",It=s.default.fn[qe],Ze=37,dt=39,tt=500,St=40,Re="carousel",We="active",at="slide",st="carousel-item-right",$t="carousel-item-left",xn="carousel-item-next",Cn="carousel-item-prev",Fn="pointer-event",mn="next",mr="prev",En="left",Xt="right",ft="slide"+Ve,ot="slid"+Ve,Ct="keydown"+Ve,en="mouseenter"+Ve,zt="mouseleave"+Ve,Qt="touchstart"+Ve,Mn="touchmove"+Ve,Or="touchend"+Ve,Wo="pointerdown"+Ve,Dl="pointerup"+Ve,eo="dragstart"+Ve,to="load"+Ve+mt,pa="click"+Ve+mt,vs=".active",bs=".active.carousel-item",Ru=".carousel-item",$u=".carousel-item img",ma=".carousel-item-next, .carousel-item-prev",Iu=".carousel-indicators",Du="[data-slide], [data-slide-to]",Ll='[data-ride="carousel"]',ga={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},no={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},va={TOUCH:"touch",PEN:"pen"},fi=function(){function Te(ce,N){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(N),this._element=ce,this._indicatorsElement=this._element.querySelector(Iu),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=!!(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var me=Te.prototype;return me.next=function(){this._isSliding||this._slide(mn)},me.nextWhenVisible=function(){var N=s.default(this._element);!document.hidden&&N.is(":visible")&&N.css("visibility")!=="hidden"&&this.next()},me.prev=function(){this._isSliding||this._slide(mr)},me.pause=function(N){N||(this._isPaused=!0),this._element.querySelector(ma)&&(j.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},me.cycle=function(N){N||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},me.to=function(N){var V=this;this._activeElement=this._element.querySelector(bs);var ae=this._getItemIndex(this._activeElement);if(!(N>this._items.length-1||N<0)){if(this._isSliding){s.default(this._element).one(ot,function(){return V.to(N)});return}if(ae===N){this.pause(),this.cycle();return}var ke=N>ae?mn:mr;this._slide(ke,this._items[N])}},me.dispose=function(){s.default(this._element).off(Ve),s.default.removeData(this._element,rt),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},me._getConfig=function(N){return N=u({},ga,N),j.typeCheckConfig(qe,N,no),N},me._handleSwipe=function(){var N=Math.abs(this.touchDeltaX);if(!(N<=St)){var V=N/this.touchDeltaX;this.touchDeltaX=0,V>0&&this.prev(),V<0&&this.next()}},me._addEventListeners=function(){var N=this;this._config.keyboard&&s.default(this._element).on(Ct,function(V){return N._keydown(V)}),this._config.pause==="hover"&&s.default(this._element).on(en,function(V){return N.pause(V)}).on(zt,function(V){return N.cycle(V)}),this._config.touch&&this._addTouchEventListeners()},me._addTouchEventListeners=function(){var N=this;if(this._touchSupported){var V=function(Qe){N._pointerEvent&&va[Qe.originalEvent.pointerType.toUpperCase()]?N.touchStartX=Qe.originalEvent.clientX:N._pointerEvent||(N.touchStartX=Qe.originalEvent.touches[0].clientX)},ae=function(Qe){N.touchDeltaX=Qe.originalEvent.touches&&Qe.originalEvent.touches.length>1?0:Qe.originalEvent.touches[0].clientX-N.touchStartX},ke=function(Qe){N._pointerEvent&&va[Qe.originalEvent.pointerType.toUpperCase()]&&(N.touchDeltaX=Qe.originalEvent.clientX-N.touchStartX),N._handleSwipe(),N._config.pause==="hover"&&(N.pause(),N.touchTimeout&&clearTimeout(N.touchTimeout),N.touchTimeout=setTimeout(function(Ot){return N.cycle(Ot)},tt+N._config.interval))};s.default(this._element.querySelectorAll($u)).on(eo,function(Ae){return Ae.preventDefault()}),this._pointerEvent?(s.default(this._element).on(Wo,function(Ae){return V(Ae)}),s.default(this._element).on(Dl,function(Ae){return ke(Ae)}),this._element.classList.add(Fn)):(s.default(this._element).on(Qt,function(Ae){return V(Ae)}),s.default(this._element).on(Mn,function(Ae){return ae(Ae)}),s.default(this._element).on(Or,function(Ae){return ke(Ae)}))}},me._keydown=function(N){if(!/input|textarea/i.test(N.target.tagName))switch(N.which){case Ze:N.preventDefault(),this.prev();break;case dt:N.preventDefault(),this.next();break}},me._getItemIndex=function(N){return this._items=N&&N.parentNode?[].slice.call(N.parentNode.querySelectorAll(Ru)):[],this._items.indexOf(N)},me._getItemByDirection=function(N,V){var ae=N===mn,ke=N===mr,Ae=this._getItemIndex(V),Qe=this._items.length-1,Ot=ke&&Ae===0||ae&&Ae===Qe;if(Ot&&!this._config.wrap)return V;var sn=N===mr?-1:1,dn=(Ae+sn)%this._items.length;return dn===-1?this._items[this._items.length-1]:this._items[dn]},me._triggerSlideEvent=function(N,V){var ae=this._getItemIndex(N),ke=this._getItemIndex(this._element.querySelector(bs)),Ae=s.default.Event(ft,{relatedTarget:N,direction:V,from:ke,to:ae});return s.default(this._element).trigger(Ae),Ae},me._setActiveIndicatorElement=function(N){if(this._indicatorsElement){var V=[].slice.call(this._indicatorsElement.querySelectorAll(vs));s.default(V).removeClass(We);var ae=this._indicatorsElement.children[this._getItemIndex(N)];ae&&s.default(ae).addClass(We)}},me._updateInterval=function(){var N=this._activeElement||this._element.querySelector(bs);if(N){var V=parseInt(N.getAttribute("data-interval"),10);V?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=V):this._config.interval=this._config.defaultInterval||this._config.interval}},me._slide=function(N,V){var ae=this,ke=this._element.querySelector(bs),Ae=this._getItemIndex(ke),Qe=V||ke&&this._getItemByDirection(N,ke),Ot=this._getItemIndex(Qe),sn=!!this._interval,dn,Jn,fo;if(N===mn?(dn=$t,Jn=xn,fo=En):(dn=st,Jn=Cn,fo=Xt),Qe&&s.default(Qe).hasClass(We)){this._isSliding=!1;return}var Di=this._triggerSlideEvent(Qe,fo);if(!Di.isDefaultPrevented()&&!(!ke||!Qe)){this._isSliding=!0,sn&&this.pause(),this._setActiveIndicatorElement(Qe),this._activeElement=Qe;var Vl=s.default.Event(ot,{relatedTarget:Qe,direction:fo,from:Ae,to:Ot});if(s.default(this._element).hasClass(at)){s.default(Qe).addClass(Jn),j.reflow(Qe),s.default(ke).addClass(dn),s.default(Qe).addClass(dn);var tb=j.getTransitionDurationFromElement(ke);s.default(ke).one(j.TRANSITION_END,function(){s.default(Qe).removeClass(dn+" "+Jn).addClass(We),s.default(ke).removeClass(We+" "+Jn+" "+dn),ae._isSliding=!1,setTimeout(function(){return s.default(ae._element).trigger(Vl)},0)}).emulateTransitionEnd(tb)}else s.default(ke).removeClass(We),s.default(Qe).addClass(We),this._isSliding=!1,s.default(this._element).trigger(Vl);sn&&this.cycle()}},Te._jQueryInterface=function(N){return this.each(function(){var V=s.default(this).data(rt),ae=u({},ga,s.default(this).data());typeof N=="object"&&(ae=u({},ae,N));var ke=typeof N=="string"?N:ae.slide;if(V||(V=new Te(this,ae),s.default(this).data(rt,V)),typeof N=="number")V.to(N);else if(typeof ke=="string"){if(typeof V[ke]>"u")throw new TypeError('No method named "'+ke+'"');V[ke]()}else ae.interval&&ae.ride&&(V.pause(),V.cycle())})},Te._dataApiClickHandler=function(N){var V=j.getSelectorFromElement(this);if(V){var ae=s.default(V)[0];if(!(!ae||!s.default(ae).hasClass(Re))){var ke=u({},s.default(ae).data(),s.default(this).data()),Ae=this.getAttribute("data-slide-to");Ae&&(ke.interval=!1),Te._jQueryInterface.call(s.default(ae),ke),Ae&&s.default(ae).data(rt).to(Ae),N.preventDefault()}}},c(Te,null,[{key:"VERSION",get:function(){return $e}},{key:"Default",get:function(){return ga}}]),Te}();s.default(document).on(pa,Du,fi._dataApiClickHandler),s.default(window).on(to,function(){for(var Te=[].slice.call(document.querySelectorAll(Ll)),me=0,ce=Te.length;me<ce;me++){var N=s.default(Te[me]);fi._jQueryInterface.call(N,N.data())}}),s.default.fn[qe]=fi._jQueryInterface,s.default.fn[qe].Constructor=fi,s.default.fn[qe].noConflict=function(){return s.default.fn[qe]=It,fi._jQueryInterface};var fe="collapse",O="4.6.2",z="bs.collapse",ee="."+z,ye=".data-api",ge=s.default.fn[fe],Ke="show",Be="collapse",vt="collapsing",ht="collapsed",Bt="width",gr="height",Mh="show"+ee,ys="shown"+ee,Nh="hide"+ee,Lu="hidden"+ee,Ph="click"+ee+ye,vr=".show, .collapsing",Ho='[data-toggle="collapse"]',_s={toggle:!0,parent:""},z0={toggle:"boolean",parent:"(string|element)"},ba=function(){function Te(ce,N){this._isTransitioning=!1,this._element=ce,this._config=this._getConfig(N),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+ce.id+'"],'+('[data-toggle="collapse"][data-target="#'+ce.id+'"]')));for(var V=[].slice.call(document.querySelectorAll(Ho)),ae=0,ke=V.length;ae<ke;ae++){var Ae=V[ae],Qe=j.getSelectorFromElement(Ae),Ot=[].slice.call(document.querySelectorAll(Qe)).filter(function(sn){return sn===ce});Qe!==null&&Ot.length>0&&(this._selector=Qe,this._triggerArray.push(Ae))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var me=Te.prototype;return me.toggle=function(){s.default(this._element).hasClass(Ke)?this.hide():this.show()},me.show=function(){var N=this;if(!(this._isTransitioning||s.default(this._element).hasClass(Ke))){var V,ae;if(this._parent&&(V=[].slice.call(this._parent.querySelectorAll(vr)).filter(function(Jn){return typeof N._config.parent=="string"?Jn.getAttribute("data-parent")===N._config.parent:Jn.classList.contains(Be)}),V.length===0&&(V=null)),!(V&&(ae=s.default(V).not(this._selector).data(z),ae&&ae._isTransitioning))){var ke=s.default.Event(Mh);if(s.default(this._element).trigger(ke),!ke.isDefaultPrevented()){V&&(Te._jQueryInterface.call(s.default(V).not(this._selector),"hide"),ae||s.default(V).data(z,null));var Ae=this._getDimension();s.default(this._element).removeClass(Be).addClass(vt),this._element.style[Ae]=0,this._triggerArray.length&&s.default(this._triggerArray).removeClass(ht).attr("aria-expanded",!0),this.setTransitioning(!0);var Qe=function(){s.default(N._element).removeClass(vt).addClass(Be+" "+Ke),N._element.style[Ae]="",N.setTransitioning(!1),s.default(N._element).trigger(ys)},Ot=Ae[0].toUpperCase()+Ae.slice(1),sn="scroll"+Ot,dn=j.getTransitionDurationFromElement(this._element);s.default(this._element).one(j.TRANSITION_END,Qe).emulateTransitionEnd(dn),this._element.style[Ae]=this._element[sn]+"px"}}}},me.hide=function(){var N=this;if(!(this._isTransitioning||!s.default(this._element).hasClass(Ke))){var V=s.default.Event(Nh);if(s.default(this._element).trigger(V),!V.isDefaultPrevented()){var ae=this._getDimension();this._element.style[ae]=this._element.getBoundingClientRect()[ae]+"px",j.reflow(this._element),s.default(this._element).addClass(vt).removeClass(Be+" "+Ke);var ke=this._triggerArray.length;if(ke>0)for(var Ae=0;Ae<ke;Ae++){var Qe=this._triggerArray[Ae],Ot=j.getSelectorFromElement(Qe);if(Ot!==null){var sn=s.default([].slice.call(document.querySelectorAll(Ot)));sn.hasClass(Ke)||s.default(Qe).addClass(ht).attr("aria-expanded",!1)}}this.setTransitioning(!0);var dn=function(){N.setTransitioning(!1),s.default(N._element).removeClass(vt).addClass(Be).trigger(Lu)};this._element.style[ae]="";var Jn=j.getTransitionDurationFromElement(this._element);s.default(this._element).one(j.TRANSITION_END,dn).emulateTransitionEnd(Jn)}}},me.setTransitioning=function(N){this._isTransitioning=N},me.dispose=function(){s.default.removeData(this._element,z),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},me._getConfig=function(N){return N=u({},_s,N),N.toggle=!!N.toggle,j.typeCheckConfig(fe,N,z0),N},me._getDimension=function(){var N=s.default(this._element).hasClass(Bt);return N?Bt:gr},me._getParent=function(){var N=this,V;j.isElement(this._config.parent)?(V=this._config.parent,typeof this._config.parent.jquery<"u"&&(V=this._config.parent[0])):V=document.querySelector(this._config.parent);var ae='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',ke=[].slice.call(V.querySelectorAll(ae));return s.default(ke).each(function(Ae,Qe){N._addAriaAndCollapsedClass(Te._getTargetFromElement(Qe),[Qe])}),V},me._addAriaAndCollapsedClass=function(N,V){var ae=s.default(N).hasClass(Ke);V.length&&s.default(V).toggleClass(ht,!ae).attr("aria-expanded",ae)},Te._getTargetFromElement=function(N){var V=j.getSelectorFromElement(N);return V?document.querySelector(V):null},Te._jQueryInterface=function(N){return this.each(function(){var V=s.default(this),ae=V.data(z),ke=u({},_s,V.data(),typeof N=="object"&&N?N:{});if(!ae&&ke.toggle&&typeof N=="string"&&/show|hide/.test(N)&&(ke.toggle=!1),ae||(ae=new Te(this,ke),V.data(z,ae)),typeof N=="string"){if(typeof ae[N]>"u")throw new TypeError('No method named "'+N+'"');ae[N]()}})},c(Te,null,[{key:"VERSION",get:function(){return O}},{key:"Default",get:function(){return _s}}]),Te}();s.default(document).on(Ph,Ho,function(Te){Te.currentTarget.tagName==="A"&&Te.preventDefault();var me=s.default(this),ce=j.getSelectorFromElement(this),N=[].slice.call(document.querySelectorAll(ce));s.default(N).each(function(){var V=s.default(this),ae=V.data(z),ke=ae?"toggle":me.data();ba._jQueryInterface.call(V,ke)})}),s.default.fn[fe]=ba._jQueryInterface,s.default.fn[fe].Constructor=ba,s.default.fn[fe].noConflict=function(){return s.default.fn[fe]=ge,ba._jQueryInterface};var ro="dropdown",Ah="4.6.2",io="bs.dropdown",hi="."+io,Fu=".data-api",B0=s.default.fn[ro],cr=27,zu=32,xs=9,Bu=38,Wu=40,qo=3,Vo=new RegExp(Bu+"|"+Wu+"|"+cr),ws="disabled",Qr="show",ya="dropup",Rh="dropright",Hu="dropleft",qu="dropdown-menu-right",$h="position-static",Ih="hide"+hi,Vu="hidden"+hi,W0="show"+hi,H0="shown"+hi,Uu="click"+hi,Gu="click"+hi+Fu,Dh="keydown"+hi+Fu,q0="keyup"+hi+Fu,Fl='[data-toggle="dropdown"]',V0=".dropdown form",Ku=".dropdown-menu",U0=".navbar-nav",Lh=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Yu="top-start",Fh="top-end",Zu="bottom-start",zh="bottom-end",Bh="right-start",Qu="left-start",G0={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},K0={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},oo=function(){function Te(ce,N){this._element=ce,this._popper=null,this._config=this._getConfig(N),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var me=Te.prototype;return me.toggle=function(){if(!(this._element.disabled||s.default(this._element).hasClass(ws))){var N=s.default(this._menu).hasClass(Qr);Te._clearMenus(),!N&&this.show(!0)}},me.show=function(N){if(N===void 0&&(N=!1),!(this._element.disabled||s.default(this._element).hasClass(ws)||s.default(this._menu).hasClass(Qr))){var V={relatedTarget:this._element},ae=s.default.Event(W0,V),ke=Te._getParentFromElement(this._element);if(s.default(ke).trigger(ae),!ae.isDefaultPrevented()){if(!this._inNavbar&&N){if(typeof a.default>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var Ae=this._element;this._config.reference==="parent"?Ae=ke:j.isElement(this._config.reference)&&(Ae=this._config.reference,typeof this._config.reference.jquery<"u"&&(Ae=this._config.reference[0])),this._config.boundary!=="scrollParent"&&s.default(ke).addClass($h),this._popper=new a.default(Ae,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&s.default(ke).closest(U0).length===0&&s.default(document.body).children().on("mouseover",null,s.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),s.default(this._menu).toggleClass(Qr),s.default(ke).toggleClass(Qr).trigger(s.default.Event(H0,V))}}},me.hide=function(){if(!(this._element.disabled||s.default(this._element).hasClass(ws)||!s.default(this._menu).hasClass(Qr))){var N={relatedTarget:this._element},V=s.default.Event(Ih,N),ae=Te._getParentFromElement(this._element);s.default(ae).trigger(V),!V.isDefaultPrevented()&&(this._popper&&this._popper.destroy(),s.default(this._menu).toggleClass(Qr),s.default(ae).toggleClass(Qr).trigger(s.default.Event(Vu,N)))}},me.dispose=function(){s.default.removeData(this._element,io),s.default(this._element).off(hi),this._element=null,this._menu=null,this._popper!==null&&(this._popper.destroy(),this._popper=null)},me.update=function(){this._inNavbar=this._detectNavbar(),this._popper!==null&&this._popper.scheduleUpdate()},me._addEventListeners=function(){var N=this;s.default(this._element).on(Uu,function(V){V.preventDefault(),V.stopPropagation(),N.toggle()})},me._getConfig=function(N){return N=u({},this.constructor.Default,s.default(this._element).data(),N),j.typeCheckConfig(ro,N,this.constructor.DefaultType),N},me._getMenuElement=function(){if(!this._menu){var N=Te._getParentFromElement(this._element);N&&(this._menu=N.querySelector(Ku))}return this._menu},me._getPlacement=function(){var N=s.default(this._element.parentNode),V=Zu;return N.hasClass(ya)?V=s.default(this._menu).hasClass(qu)?Fh:Yu:N.hasClass(Rh)?V=Bh:N.hasClass(Hu)?V=Qu:s.default(this._menu).hasClass(qu)&&(V=zh),V},me._detectNavbar=function(){return s.default(this._element).closest(".navbar").length>0},me._getOffset=function(){var N=this,V={};return typeof this._config.offset=="function"?V.fn=function(ae){return ae.offsets=u({},ae.offsets,N._config.offset(ae.offsets,N._element)),ae}:V.offset=this._config.offset,V},me._getPopperConfig=function(){var N={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return this._config.display==="static"&&(N.modifiers.applyStyle={enabled:!1}),u({},N,this._config.popperConfig)},Te._jQueryInterface=function(N){return this.each(function(){var V=s.default(this).data(io),ae=typeof N=="object"?N:null;if(V||(V=new Te(this,ae),s.default(this).data(io,V)),typeof N=="string"){if(typeof V[N]>"u")throw new TypeError('No method named "'+N+'"');V[N]()}})},Te._clearMenus=function(N){if(!(N&&(N.which===qo||N.type==="keyup"&&N.which!==xs)))for(var V=[].slice.call(document.querySelectorAll(Fl)),ae=0,ke=V.length;ae<ke;ae++){var Ae=Te._getParentFromElement(V[ae]),Qe=s.default(V[ae]).data(io),Ot={relatedTarget:V[ae]};if(N&&N.type==="click"&&(Ot.clickEvent=N),!!Qe){var sn=Qe._menu;if(s.default(Ae).hasClass(Qr)&&!(N&&(N.type==="click"&&/input|textarea/i.test(N.target.tagName)||N.type==="keyup"&&N.which===xs)&&s.default.contains(Ae,N.target))){var dn=s.default.Event(Ih,Ot);s.default(Ae).trigger(dn),!dn.isDefaultPrevented()&&("ontouchstart"in document.documentElement&&s.default(document.body).children().off("mouseover",null,s.default.noop),V[ae].setAttribute("aria-expanded","false"),Qe._popper&&Qe._popper.destroy(),s.default(sn).removeClass(Qr),s.default(Ae).removeClass(Qr).trigger(s.default.Event(Vu,Ot)))}}}},Te._getParentFromElement=function(N){var V,ae=j.getSelectorFromElement(N);return ae&&(V=document.querySelector(ae)),V||N.parentNode},Te._dataApiKeydownHandler=function(N){if(!(/input|textarea/i.test(N.target.tagName)?N.which===zu||N.which!==cr&&(N.which!==Wu&&N.which!==Bu||s.default(N.target).closest(Ku).length):!Vo.test(N.which))&&!(this.disabled||s.default(this).hasClass(ws))){var V=Te._getParentFromElement(this),ae=s.default(V).hasClass(Qr);if(!(!ae&&N.which===cr)){if(N.preventDefault(),N.stopPropagation(),!ae||N.which===cr||N.which===zu){N.which===cr&&s.default(V.querySelector(Fl)).trigger("focus"),s.default(this).trigger("click");return}var ke=[].slice.call(V.querySelectorAll(Lh)).filter(function(Qe){return s.default(Qe).is(":visible")});if(ke.length!==0){var Ae=ke.indexOf(N.target);N.which===Bu&&Ae>0&&Ae--,N.which===Wu&&Ae<ke.length-1&&Ae++,Ae<0&&(Ae=0),ke[Ae].focus()}}}},c(Te,null,[{key:"VERSION",get:function(){return Ah}},{key:"Default",get:function(){return G0}},{key:"DefaultType",get:function(){return K0}}]),Te}();s.default(document).on(Dh,Fl,oo._dataApiKeydownHandler).on(Dh,Ku,oo._dataApiKeydownHandler).on(Gu+" "+q0,oo._clearMenus).on(Gu,Fl,function(Te){Te.preventDefault(),Te.stopPropagation(),oo._jQueryInterface.call(s.default(this),"toggle")}).on(Gu,V0,function(Te){Te.stopPropagation()}),s.default.fn[ro]=oo._jQueryInterface,s.default.fn[ro].Constructor=oo,s.default.fn[ro].noConflict=function(){return s.default.fn[ro]=B0,oo._jQueryInterface};var pi="modal",Wh="4.6.2",Uo="bs.modal",Mr="."+Uo,Y0=".data-api",Z0=s.default.fn[pi],v=27,w="modal-dialog-scrollable",E="modal-scrollbar-measure",M="modal-backdrop",I="modal-open",D="fade",W="show",pe="modal-static",le="hide"+Mr,we="hidePrevented"+Mr,Me="hidden"+Mr,Ie="show"+Mr,je="shown"+Mr,Ye="focusin"+Mr,kt="resize"+Mr,Yt="click.dismiss"+Mr,Dt="keydown.dismiss"+Mr,Vn="mouseup.dismiss"+Mr,In="mousedown.dismiss"+Mr,mi="click"+Mr+Y0,gi=".modal-dialog",Zt=".modal-body",Go='[data-toggle="modal"]',tn='[data-dismiss="modal"]',Tn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ss=".sticky-top",_a={backdrop:!0,keyboard:!0,focus:!0,show:!0},vi={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},$i=function(){function Te(ce,N){this._config=this._getConfig(N),this._element=ce,this._dialog=ce.querySelector(gi),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var me=Te.prototype;return me.toggle=function(N){return this._isShown?this.hide():this.show(N)},me.show=function(N){var V=this;if(!(this._isShown||this._isTransitioning)){var ae=s.default.Event(Ie,{relatedTarget:N});s.default(this._element).trigger(ae),!ae.isDefaultPrevented()&&(this._isShown=!0,s.default(this._element).hasClass(D)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),s.default(this._element).on(Yt,tn,function(ke){return V.hide(ke)}),s.default(this._dialog).on(In,function(){s.default(V._element).one(Vn,function(ke){s.default(ke.target).is(V._element)&&(V._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return V._showElement(N)}))}},me.hide=function(N){var V=this;if(N&&N.preventDefault(),!(!this._isShown||this._isTransitioning)){var ae=s.default.Event(le);if(s.default(this._element).trigger(ae),!(!this._isShown||ae.isDefaultPrevented())){this._isShown=!1;var ke=s.default(this._element).hasClass(D);if(ke&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),s.default(document).off(Ye),s.default(this._element).removeClass(W),s.default(this._element).off(Yt),s.default(this._dialog).off(In),ke){var Ae=j.getTransitionDurationFromElement(this._element);s.default(this._element).one(j.TRANSITION_END,function(Qe){return V._hideModal(Qe)}).emulateTransitionEnd(Ae)}else this._hideModal()}}},me.dispose=function(){[window,this._element,this._dialog].forEach(function(N){return s.default(N).off(Mr)}),s.default(document).off(Ye),s.default.removeData(this._element,Uo),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},me.handleUpdate=function(){this._adjustDialog()},me._getConfig=function(N){return N=u({},_a,N),j.typeCheckConfig(pi,N,vi),N},me._triggerBackdropTransition=function(){var N=this,V=s.default.Event(we);if(s.default(this._element).trigger(V),!V.isDefaultPrevented()){var ae=this._element.scrollHeight>document.documentElement.clientHeight;ae||(this._element.style.overflowY="hidden"),this._element.classList.add(pe);var ke=j.getTransitionDurationFromElement(this._dialog);s.default(this._element).off(j.TRANSITION_END),s.default(this._element).one(j.TRANSITION_END,function(){N._element.classList.remove(pe),ae||s.default(N._element).one(j.TRANSITION_END,function(){N._element.style.overflowY=""}).emulateTransitionEnd(N._element,ke)}).emulateTransitionEnd(ke),this._element.focus()}},me._showElement=function(N){var V=this,ae=s.default(this._element).hasClass(D),ke=this._dialog?this._dialog.querySelector(Zt):null;(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),s.default(this._dialog).hasClass(w)&&ke?ke.scrollTop=0:this._element.scrollTop=0,ae&&j.reflow(this._element),s.default(this._element).addClass(W),this._config.focus&&this._enforceFocus();var Ae=s.default.Event(je,{relatedTarget:N}),Qe=function(){V._config.focus&&V._element.focus(),V._isTransitioning=!1,s.default(V._element).trigger(Ae)};if(ae){var Ot=j.getTransitionDurationFromElement(this._dialog);s.default(this._dialog).one(j.TRANSITION_END,Qe).emulateTransitionEnd(Ot)}else Qe()},me._enforceFocus=function(){var N=this;s.default(document).off(Ye).on(Ye,function(V){document!==V.target&&N._element!==V.target&&s.default(N._element).has(V.target).length===0&&N._element.focus()})},me._setEscapeEvent=function(){var N=this;this._isShown?s.default(this._element).on(Dt,function(V){N._config.keyboard&&V.which===v?(V.preventDefault(),N.hide()):!N._config.keyboard&&V.which===v&&N._triggerBackdropTransition()}):this._isShown||s.default(this._element).off(Dt)},me._setResizeEvent=function(){var N=this;this._isShown?s.default(window).on(kt,function(V){return N.handleUpdate(V)}):s.default(window).off(kt)},me._hideModal=function(){var N=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){s.default(document.body).removeClass(I),N._resetAdjustments(),N._resetScrollbar(),s.default(N._element).trigger(Me)})},me._removeBackdrop=function(){this._backdrop&&(s.default(this._backdrop).remove(),this._backdrop=null)},me._showBackdrop=function(N){var V=this,ae=s.default(this._element).hasClass(D)?D:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=M,ae&&this._backdrop.classList.add(ae),s.default(this._backdrop).appendTo(document.body),s.default(this._element).on(Yt,function(Ot){if(V._ignoreBackdropClick){V._ignoreBackdropClick=!1;return}Ot.target===Ot.currentTarget&&(V._config.backdrop==="static"?V._triggerBackdropTransition():V.hide())}),ae&&j.reflow(this._backdrop),s.default(this._backdrop).addClass(W),!N)return;if(!ae){N();return}var ke=j.getTransitionDurationFromElement(this._backdrop);s.default(this._backdrop).one(j.TRANSITION_END,N).emulateTransitionEnd(ke)}else if(!this._isShown&&this._backdrop){s.default(this._backdrop).removeClass(W);var Ae=function(){V._removeBackdrop(),N&&N()};if(s.default(this._element).hasClass(D)){var Qe=j.getTransitionDurationFromElement(this._backdrop);s.default(this._backdrop).one(j.TRANSITION_END,Ae).emulateTransitionEnd(Qe)}else Ae()}else N&&N()},me._adjustDialog=function(){var N=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&N&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!N&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},me._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},me._checkScrollbar=function(){var N=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(N.left+N.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},me._setScrollbar=function(){var N=this;if(this._isBodyOverflowing){var V=[].slice.call(document.querySelectorAll(Tn)),ae=[].slice.call(document.querySelectorAll(Ss));s.default(V).each(function(Qe,Ot){var sn=Ot.style.paddingRight,dn=s.default(Ot).css("padding-right");s.default(Ot).data("padding-right",sn).css("padding-right",parseFloat(dn)+N._scrollbarWidth+"px")}),s.default(ae).each(function(Qe,Ot){var sn=Ot.style.marginRight,dn=s.default(Ot).css("margin-right");s.default(Ot).data("margin-right",sn).css("margin-right",parseFloat(dn)-N._scrollbarWidth+"px")});var ke=document.body.style.paddingRight,Ae=s.default(document.body).css("padding-right");s.default(document.body).data("padding-right",ke).css("padding-right",parseFloat(Ae)+this._scrollbarWidth+"px")}s.default(document.body).addClass(I)},me._resetScrollbar=function(){var N=[].slice.call(document.querySelectorAll(Tn));s.default(N).each(function(ke,Ae){var Qe=s.default(Ae).data("padding-right");s.default(Ae).removeData("padding-right"),Ae.style.paddingRight=Qe||""});var V=[].slice.call(document.querySelectorAll(""+Ss));s.default(V).each(function(ke,Ae){var Qe=s.default(Ae).data("margin-right");typeof Qe<"u"&&s.default(Ae).css("margin-right",Qe).removeData("margin-right")});var ae=s.default(document.body).data("padding-right");s.default(document.body).removeData("padding-right"),document.body.style.paddingRight=ae||""},me._getScrollbarWidth=function(){var N=document.createElement("div");N.className=E,document.body.appendChild(N);var V=N.getBoundingClientRect().width-N.clientWidth;return document.body.removeChild(N),V},Te._jQueryInterface=function(N,V){return this.each(function(){var ae=s.default(this).data(Uo),ke=u({},_a,s.default(this).data(),typeof N=="object"&&N?N:{});if(ae||(ae=new Te(this,ke),s.default(this).data(Uo,ae)),typeof N=="string"){if(typeof ae[N]>"u")throw new TypeError('No method named "'+N+'"');ae[N](V)}else ke.show&&ae.show(V)})},c(Te,null,[{key:"VERSION",get:function(){return Wh}},{key:"Default",get:function(){return _a}}]),Te}();s.default(document).on(mi,Go,function(Te){var me=this,ce,N=j.getSelectorFromElement(this);N&&(ce=document.querySelector(N));var V=s.default(ce).data(Uo)?"toggle":u({},s.default(ce).data(),s.default(this).data());(this.tagName==="A"||this.tagName==="AREA")&&Te.preventDefault();var ae=s.default(ce).one(Ie,function(ke){ke.isDefaultPrevented()||ae.one(Me,function(){s.default(me).is(":visible")&&me.focus()})});$i._jQueryInterface.call(s.default(ce),V,this)}),s.default.fn[pi]=$i._jQueryInterface,s.default.fn[pi].Constructor=$i,s.default.fn[pi].noConflict=function(){return s.default.fn[pi]=Z0,$i._jQueryInterface};var bi=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],so=/^aria-[\w-]*$/i,ao={"*":["class","dir","id","lang","role",so],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Br=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ju=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Ii(Te,me){var ce=Te.nodeName.toLowerCase();if(me.indexOf(ce)!==-1)return bi.indexOf(ce)!==-1?!!(Br.test(Te.nodeValue)||Ju.test(Te.nodeValue)):!0;for(var N=me.filter(function(ke){return ke instanceof RegExp}),V=0,ae=N.length;V<ae;V++)if(N[V].test(ce))return!0;return!1}function yi(Te,me,ce){if(Te.length===0)return Te;if(ce&&typeof ce=="function")return ce(Te);for(var N=new window.DOMParser,V=N.parseFromString(Te,"text/html"),ae=Object.keys(me),ke=[].slice.call(V.body.querySelectorAll("*")),Ae=function(Jn,fo){var Di=ke[Jn],Vl=Di.nodeName.toLowerCase();if(ae.indexOf(Di.nodeName.toLowerCase())===-1)return Di.parentNode.removeChild(Di),"continue";var tb=[].slice.call(Di.attributes),U9=[].concat(me["*"]||[],me[Vl]||[]);tb.forEach(function(hT){Ii(hT,U9)||Di.removeAttribute(hT.nodeName)})},Qe=0,Ot=ke.length;Qe<Ot;Qe++)var sn=Ae(Qe);return V.body.innerHTML}var Ko="tooltip",Q0="4.6.2",zl="bs.tooltip",Ut="."+zl,Bl=s.default.fn[Ko],Wr="bs-tooltip",Cs=new RegExp("(^|\\s)"+Wr+"\\S+","g"),J0=["sanitize","whiteList","sanitizeFn"],xa="fade",Ts="show",Jr="show",wa="out",lo=".tooltip-inner",Hh=".arrow",co="hover",js="focus",Wl="click",Xu="manual",X0={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Hl={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:ao,popperConfig:null},ed={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},td={HIDE:"hide"+Ut,HIDDEN:"hidden"+Ut,SHOW:"show"+Ut,SHOWN:"shown"+Ut,INSERTED:"inserted"+Ut,CLICK:"click"+Ut,FOCUSIN:"focusin"+Ut,FOCUSOUT:"focusout"+Ut,MOUSEENTER:"mouseenter"+Ut,MOUSELEAVE:"mouseleave"+Ut},Yo=function(){function Te(ce,N){if(typeof a.default>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=ce,this.config=this._getConfig(N),this.tip=null,this._setListeners()}var me=Te.prototype;return me.enable=function(){this._isEnabled=!0},me.disable=function(){this._isEnabled=!1},me.toggleEnabled=function(){this._isEnabled=!this._isEnabled},me.toggle=function(N){if(this._isEnabled)if(N){var V=this.constructor.DATA_KEY,ae=s.default(N.currentTarget).data(V);ae||(ae=new this.constructor(N.currentTarget,this._getDelegateConfig()),s.default(N.currentTarget).data(V,ae)),ae._activeTrigger.click=!ae._activeTrigger.click,ae._isWithActiveTrigger()?ae._enter(null,ae):ae._leave(null,ae)}else{if(s.default(this.getTipElement()).hasClass(Ts)){this._leave(null,this);return}this._enter(null,this)}},me.dispose=function(){clearTimeout(this._timeout),s.default.removeData(this.element,this.constructor.DATA_KEY),s.default(this.element).off(this.constructor.EVENT_KEY),s.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&s.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},me.show=function(){var N=this;if(s.default(this.element).css("display")==="none")throw new Error("Please use show on visible elements");var V=s.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){s.default(this.element).trigger(V);var ae=j.findShadowRoot(this.element),ke=s.default.contains(ae!==null?ae:this.element.ownerDocument.documentElement,this.element);if(V.isDefaultPrevented()||!ke)return;var Ae=this.getTipElement(),Qe=j.getUID(this.constructor.NAME);Ae.setAttribute("id",Qe),this.element.setAttribute("aria-describedby",Qe),this.setContent(),this.config.animation&&s.default(Ae).addClass(xa);var Ot=typeof this.config.placement=="function"?this.config.placement.call(this,Ae,this.element):this.config.placement,sn=this._getAttachment(Ot);this.addAttachmentClass(sn);var dn=this._getContainer();s.default(Ae).data(this.constructor.DATA_KEY,this),s.default.contains(this.element.ownerDocument.documentElement,this.tip)||s.default(Ae).appendTo(dn),s.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new a.default(this.element,Ae,this._getPopperConfig(sn)),s.default(Ae).addClass(Ts),s.default(Ae).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&s.default(document.body).children().on("mouseover",null,s.default.noop);var Jn=function(){N.config.animation&&N._fixTransition();var Vl=N._hoverState;N._hoverState=null,s.default(N.element).trigger(N.constructor.Event.SHOWN),Vl===wa&&N._leave(null,N)};if(s.default(this.tip).hasClass(xa)){var fo=j.getTransitionDurationFromElement(this.tip);s.default(this.tip).one(j.TRANSITION_END,Jn).emulateTransitionEnd(fo)}else Jn()}},me.hide=function(N){var V=this,ae=this.getTipElement(),ke=s.default.Event(this.constructor.Event.HIDE),Ae=function(){V._hoverState!==Jr&&ae.parentNode&&ae.parentNode.removeChild(ae),V._cleanTipClass(),V.element.removeAttribute("aria-describedby"),s.default(V.element).trigger(V.constructor.Event.HIDDEN),V._popper!==null&&V._popper.destroy(),N&&N()};if(s.default(this.element).trigger(ke),!ke.isDefaultPrevented()){if(s.default(ae).removeClass(Ts),"ontouchstart"in document.documentElement&&s.default(document.body).children().off("mouseover",null,s.default.noop),this._activeTrigger[Wl]=!1,this._activeTrigger[js]=!1,this._activeTrigger[co]=!1,s.default(this.tip).hasClass(xa)){var Qe=j.getTransitionDurationFromElement(ae);s.default(ae).one(j.TRANSITION_END,Ae).emulateTransitionEnd(Qe)}else Ae();this._hoverState=""}},me.update=function(){this._popper!==null&&this._popper.scheduleUpdate()},me.isWithContent=function(){return!!this.getTitle()},me.addAttachmentClass=function(N){s.default(this.getTipElement()).addClass(Wr+"-"+N)},me.getTipElement=function(){return this.tip=this.tip||s.default(this.config.template)[0],this.tip},me.setContent=function(){var N=this.getTipElement();this.setElementContent(s.default(N.querySelectorAll(lo)),this.getTitle()),s.default(N).removeClass(xa+" "+Ts)},me.setElementContent=function(N,V){if(typeof V=="object"&&(V.nodeType||V.jquery)){this.config.html?s.default(V).parent().is(N)||N.empty().append(V):N.text(s.default(V).text());return}this.config.html?(this.config.sanitize&&(V=yi(V,this.config.whiteList,this.config.sanitizeFn)),N.html(V)):N.text(V)},me.getTitle=function(){var N=this.element.getAttribute("data-original-title");return N||(N=typeof this.config.title=="function"?this.config.title.call(this.element):this.config.title),N},me._getPopperConfig=function(N){var V=this,ae={placement:N,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:Hh},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(Ae){Ae.originalPlacement!==Ae.placement&&V._handlePopperPlacementChange(Ae)},onUpdate:function(Ae){return V._handlePopperPlacementChange(Ae)}};return u({},ae,this.config.popperConfig)},me._getOffset=function(){var N=this,V={};return typeof this.config.offset=="function"?V.fn=function(ae){return ae.offsets=u({},ae.offsets,N.config.offset(ae.offsets,N.element)),ae}:V.offset=this.config.offset,V},me._getContainer=function(){return this.config.container===!1?document.body:j.isElement(this.config.container)?s.default(this.config.container):s.default(document).find(this.config.container)},me._getAttachment=function(N){return X0[N.toUpperCase()]},me._setListeners=function(){var N=this,V=this.config.trigger.split(" ");V.forEach(function(ae){if(ae==="click")s.default(N.element).on(N.constructor.Event.CLICK,N.config.selector,function(Qe){return N.toggle(Qe)});else if(ae!==Xu){var ke=ae===co?N.constructor.Event.MOUSEENTER:N.constructor.Event.FOCUSIN,Ae=ae===co?N.constructor.Event.MOUSELEAVE:N.constructor.Event.FOCUSOUT;s.default(N.element).on(ke,N.config.selector,function(Qe){return N._enter(Qe)}).on(Ae,N.config.selector,function(Qe){return N._leave(Qe)})}}),this._hideModalHandler=function(){N.element&&N.hide()},s.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=u({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},me._fixTitle=function(){var N=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||N!=="string")&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},me._enter=function(N,V){var ae=this.constructor.DATA_KEY;if(V=V||s.default(N.currentTarget).data(ae),V||(V=new this.constructor(N.currentTarget,this._getDelegateConfig()),s.default(N.currentTarget).data(ae,V)),N&&(V._activeTrigger[N.type==="focusin"?js:co]=!0),s.default(V.getTipElement()).hasClass(Ts)||V._hoverState===Jr){V._hoverState=Jr;return}if(clearTimeout(V._timeout),V._hoverState=Jr,!V.config.delay||!V.config.delay.show){V.show();return}V._timeout=setTimeout(function(){V._hoverState===Jr&&V.show()},V.config.delay.show)},me._leave=function(N,V){var ae=this.constructor.DATA_KEY;if(V=V||s.default(N.currentTarget).data(ae),V||(V=new this.constructor(N.currentTarget,this._getDelegateConfig()),s.default(N.currentTarget).data(ae,V)),N&&(V._activeTrigger[N.type==="focusout"?js:co]=!1),!V._isWithActiveTrigger()){if(clearTimeout(V._timeout),V._hoverState=wa,!V.config.delay||!V.config.delay.hide){V.hide();return}V._timeout=setTimeout(function(){V._hoverState===wa&&V.hide()},V.config.delay.hide)}},me._isWithActiveTrigger=function(){for(var N in this._activeTrigger)if(this._activeTrigger[N])return!0;return!1},me._getConfig=function(N){var V=s.default(this.element).data();return Object.keys(V).forEach(function(ae){J0.indexOf(ae)!==-1&&delete V[ae]}),N=u({},this.constructor.Default,V,typeof N=="object"&&N?N:{}),typeof N.delay=="number"&&(N.delay={show:N.delay,hide:N.delay}),typeof N.title=="number"&&(N.title=N.title.toString()),typeof N.content=="number"&&(N.content=N.content.toString()),j.typeCheckConfig(Ko,N,this.constructor.DefaultType),N.sanitize&&(N.template=yi(N.template,N.whiteList,N.sanitizeFn)),N},me._getDelegateConfig=function(){var N={};if(this.config)for(var V in this.config)this.constructor.Default[V]!==this.config[V]&&(N[V]=this.config[V]);return N},me._cleanTipClass=function(){var N=s.default(this.getTipElement()),V=N.attr("class").match(Cs);V!==null&&V.length&&N.removeClass(V.join(""))},me._handlePopperPlacementChange=function(N){this.tip=N.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(N.placement))},me._fixTransition=function(){var N=this.getTipElement(),V=this.config.animation;N.getAttribute("x-placement")===null&&(s.default(N).removeClass(xa),this.config.animation=!1,this.hide(),this.show(),this.config.animation=V)},Te._jQueryInterface=function(N){return this.each(function(){var V=s.default(this),ae=V.data(zl),ke=typeof N=="object"&&N;if(!(!ae&&/dispose|hide/.test(N))&&(ae||(ae=new Te(this,ke),V.data(zl,ae)),typeof N=="string")){if(typeof ae[N]>"u")throw new TypeError('No method named "'+N+'"');ae[N]()}})},c(Te,null,[{key:"VERSION",get:function(){return Q0}},{key:"Default",get:function(){return Hl}},{key:"NAME",get:function(){return Ko}},{key:"DATA_KEY",get:function(){return zl}},{key:"Event",get:function(){return td}},{key:"EVENT_KEY",get:function(){return Ut}},{key:"DefaultType",get:function(){return ed}}]),Te}();s.default.fn[Ko]=Yo._jQueryInterface,s.default.fn[Ko].Constructor=Yo,s.default.fn[Ko].noConflict=function(){return s.default.fn[Ko]=Bl,Yo._jQueryInterface};var uo="popover",qh="4.6.2",oe="bs.popover",ve="."+oe,Ce=s.default.fn[uo],Ee="bs-popover",De=new RegExp("(^|\\s)"+Ee+"\\S+","g"),nt="fade",lt="show",gt=".popover-header",ct=".popover-body",Kt=u({},Yo.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Tt=u({},Yo.DefaultType,{content:"(string|element|function)"}),Pt={HIDE:"hide"+ve,HIDDEN:"hidden"+ve,SHOW:"show"+ve,SHOWN:"shown"+ve,INSERTED:"inserted"+ve,CLICK:"click"+ve,FOCUSIN:"focusin"+ve,FOCUSOUT:"focusout"+ve,MOUSEENTER:"mouseenter"+ve,MOUSELEAVE:"mouseleave"+ve},Wt=function(Te){f(me,Te);function me(){return Te.apply(this,arguments)||this}var ce=me.prototype;return ce.isWithContent=function(){return this.getTitle()||this._getContent()},ce.addAttachmentClass=function(V){s.default(this.getTipElement()).addClass(Ee+"-"+V)},ce.getTipElement=function(){return this.tip=this.tip||s.default(this.config.template)[0],this.tip},ce.setContent=function(){var V=s.default(this.getTipElement());this.setElementContent(V.find(gt),this.getTitle());var ae=this._getContent();typeof ae=="function"&&(ae=ae.call(this.element)),this.setElementContent(V.find(ct),ae),V.removeClass(nt+" "+lt)},ce._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},ce._cleanTipClass=function(){var V=s.default(this.getTipElement()),ae=V.attr("class").match(De);ae!==null&&ae.length>0&&V.removeClass(ae.join(""))},me._jQueryInterface=function(V){return this.each(function(){var ae=s.default(this).data(oe),ke=typeof V=="object"?V:null;if(!(!ae&&/dispose|hide/.test(V))&&(ae||(ae=new me(this,ke),s.default(this).data(oe,ae)),typeof V=="string")){if(typeof ae[V]>"u")throw new TypeError('No method named "'+V+'"');ae[V]()}})},c(me,null,[{key:"VERSION",get:function(){return qh}},{key:"Default",get:function(){return Kt}},{key:"NAME",get:function(){return uo}},{key:"DATA_KEY",get:function(){return oe}},{key:"Event",get:function(){return Pt}},{key:"EVENT_KEY",get:function(){return ve}},{key:"DefaultType",get:function(){return Tt}}]),me}(Yo);s.default.fn[uo]=Wt._jQueryInterface,s.default.fn[uo].Constructor=Wt,s.default.fn[uo].noConflict=function(){return s.default.fn[uo]=Ce,Wt._jQueryInterface};var bt="scrollspy",gn="4.6.2",Un="bs.scrollspy",zn="."+Un,Hr=".data-api",_i=s.default.fn[bt],Es="dropdown-item",Nn="active",f9="activate"+zn,h9="scroll"+zn,p9="load"+zn+Hr,m9="offset",tT="position",g9='[data-spy="scroll"]',nT=".nav, .list-group",eb=".nav-link",v9=".nav-item",rT=".list-group-item",b9=".dropdown",y9=".dropdown-item",_9=".dropdown-toggle",iT={offset:10,method:"auto",target:""},x9={offset:"number",method:"string",target:"(string|element)"},nd=function(){function Te(ce,N){var V=this;this._element=ce,this._scrollElement=ce.tagName==="BODY"?window:ce,this._config=this._getConfig(N),this._selector=this._config.target+" "+eb+","+(this._config.target+" "+rT+",")+(this._config.target+" "+y9),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,s.default(this._scrollElement).on(h9,function(ae){return V._process(ae)}),this.refresh(),this._process()}var me=Te.prototype;return me.refresh=function(){var N=this,V=this._scrollElement===this._scrollElement.window?m9:tT,ae=this._config.method==="auto"?V:this._config.method,ke=ae===tT?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var Ae=[].slice.call(document.querySelectorAll(this._selector));Ae.map(function(Qe){var Ot,sn=j.getSelectorFromElement(Qe);if(sn&&(Ot=document.querySelector(sn)),Ot){var dn=Ot.getBoundingClientRect();if(dn.width||dn.height)return[s.default(Ot)[ae]().top+ke,sn]}return null}).filter(Boolean).sort(function(Qe,Ot){return Qe[0]-Ot[0]}).forEach(function(Qe){N._offsets.push(Qe[0]),N._targets.push(Qe[1])})},me.dispose=function(){s.default.removeData(this._element,Un),s.default(this._scrollElement).off(zn),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},me._getConfig=function(N){if(N=u({},iT,typeof N=="object"&&N?N:{}),typeof N.target!="string"&&j.isElement(N.target)){var V=s.default(N.target).attr("id");V||(V=j.getUID(bt),s.default(N.target).attr("id",V)),N.target="#"+V}return j.typeCheckConfig(bt,N,x9),N},me._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},me._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},me._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},me._process=function(){var N=this._getScrollTop()+this._config.offset,V=this._getScrollHeight(),ae=this._config.offset+V-this._getOffsetHeight();if(this._scrollHeight!==V&&this.refresh(),N>=ae){var ke=this._targets[this._targets.length-1];this._activeTarget!==ke&&this._activate(ke);return}if(this._activeTarget&&N<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null,this._clear();return}for(var Ae=this._offsets.length;Ae--;){var Qe=this._activeTarget!==this._targets[Ae]&&N>=this._offsets[Ae]&&(typeof this._offsets[Ae+1]>"u"||N<this._offsets[Ae+1]);Qe&&this._activate(this._targets[Ae])}},me._activate=function(N){this._activeTarget=N,this._clear();var V=this._selector.split(",").map(function(ke){return ke+'[data-target="'+N+'"],'+ke+'[href="'+N+'"]'}),ae=s.default([].slice.call(document.querySelectorAll(V.join(","))));ae.hasClass(Es)?(ae.closest(b9).find(_9).addClass(Nn),ae.addClass(Nn)):(ae.addClass(Nn),ae.parents(nT).prev(eb+", "+rT).addClass(Nn),ae.parents(nT).prev(v9).children(eb).addClass(Nn)),s.default(this._scrollElement).trigger(f9,{relatedTarget:N})},me._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(N){return N.classList.contains(Nn)}).forEach(function(N){return N.classList.remove(Nn)})},Te._jQueryInterface=function(N){return this.each(function(){var V=s.default(this).data(Un),ae=typeof N=="object"&&N;if(V||(V=new Te(this,ae),s.default(this).data(Un,V)),typeof N=="string"){if(typeof V[N]>"u")throw new TypeError('No method named "'+N+'"');V[N]()}})},c(Te,null,[{key:"VERSION",get:function(){return gn}},{key:"Default",get:function(){return iT}}]),Te}();s.default(window).on(p9,function(){for(var Te=[].slice.call(document.querySelectorAll(g9)),me=Te.length,ce=me;ce--;){var N=s.default(Te[ce]);nd._jQueryInterface.call(N,N.data())}}),s.default.fn[bt]=nd._jQueryInterface,s.default.fn[bt].Constructor=nd,s.default.fn[bt].noConflict=function(){return s.default.fn[bt]=_i,nd._jQueryInterface};var rd="tab",w9="4.6.2",Vh="bs.tab",id="."+Vh,S9=".data-api",C9=s.default.fn[rd],T9="dropdown-menu",od="active",j9="disabled",oT="fade",sT="show",E9="hide"+id,k9="hidden"+id,O9="show"+id,M9="shown"+id,N9="click"+id+S9,P9=".dropdown",A9=".nav, .list-group",aT=".active",lT="> li > .active",R9='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',$9=".dropdown-toggle",I9="> .dropdown-menu .active",sd=function(){function Te(ce){this._element=ce}var me=Te.prototype;return me.show=function(){var N=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&s.default(this._element).hasClass(od)||s.default(this._element).hasClass(j9)||this._element.hasAttribute("disabled"))){var V,ae,ke=s.default(this._element).closest(A9)[0],Ae=j.getSelectorFromElement(this._element);if(ke){var Qe=ke.nodeName==="UL"||ke.nodeName==="OL"?lT:aT;ae=s.default.makeArray(s.default(ke).find(Qe)),ae=ae[ae.length-1]}var Ot=s.default.Event(E9,{relatedTarget:this._element}),sn=s.default.Event(O9,{relatedTarget:ae});if(ae&&s.default(ae).trigger(Ot),s.default(this._element).trigger(sn),!(sn.isDefaultPrevented()||Ot.isDefaultPrevented())){Ae&&(V=document.querySelector(Ae)),this._activate(this._element,ke);var dn=function(){var fo=s.default.Event(k9,{relatedTarget:N._element}),Di=s.default.Event(M9,{relatedTarget:ae});s.default(ae).trigger(fo),s.default(N._element).trigger(Di)};V?this._activate(V,V.parentNode,dn):dn()}}},me.dispose=function(){s.default.removeData(this._element,Vh),this._element=null},me._activate=function(N,V,ae){var ke=this,Ae=V&&(V.nodeName==="UL"||V.nodeName==="OL")?s.default(V).find(lT):s.default(V).children(aT),Qe=Ae[0],Ot=ae&&Qe&&s.default(Qe).hasClass(oT),sn=function(){return ke._transitionComplete(N,Qe,ae)};if(Qe&&Ot){var dn=j.getTransitionDurationFromElement(Qe);s.default(Qe).removeClass(sT).one(j.TRANSITION_END,sn).emulateTransitionEnd(dn)}else sn()},me._transitionComplete=function(N,V,ae){if(V){s.default(V).removeClass(od);var ke=s.default(V.parentNode).find(I9)[0];ke&&s.default(ke).removeClass(od),V.getAttribute("role")==="tab"&&V.setAttribute("aria-selected",!1)}s.default(N).addClass(od),N.getAttribute("role")==="tab"&&N.setAttribute("aria-selected",!0),j.reflow(N),N.classList.contains(oT)&&N.classList.add(sT);var Ae=N.parentNode;if(Ae&&Ae.nodeName==="LI"&&(Ae=Ae.parentNode),Ae&&s.default(Ae).hasClass(T9)){var Qe=s.default(N).closest(P9)[0];if(Qe){var Ot=[].slice.call(Qe.querySelectorAll($9));s.default(Ot).addClass(od)}N.setAttribute("aria-expanded",!0)}ae&&ae()},Te._jQueryInterface=function(N){return this.each(function(){var V=s.default(this),ae=V.data(Vh);if(ae||(ae=new Te(this),V.data(Vh,ae)),typeof N=="string"){if(typeof ae[N]>"u")throw new TypeError('No method named "'+N+'"');ae[N]()}})},c(Te,null,[{key:"VERSION",get:function(){return w9}}]),Te}();s.default(document).on(N9,R9,function(Te){Te.preventDefault(),sd._jQueryInterface.call(s.default(this),"show")}),s.default.fn[rd]=sd._jQueryInterface,s.default.fn[rd].Constructor=sd,s.default.fn[rd].noConflict=function(){return s.default.fn[rd]=C9,sd._jQueryInterface};var ql="toast",D9="4.6.2",Uh="bs.toast",ad="."+Uh,L9=s.default.fn[ql],F9="fade",cT="hide",ld="show",uT="showing",dT="click.dismiss"+ad,z9="hide"+ad,B9="hidden"+ad,W9="show"+ad,H9="shown"+ad,q9='[data-dismiss="toast"]',fT={animation:!0,autohide:!0,delay:500},V9={animation:"boolean",autohide:"boolean",delay:"number"},Gh=function(){function Te(ce,N){this._element=ce,this._config=this._getConfig(N),this._timeout=null,this._setListeners()}var me=Te.prototype;return me.show=function(){var N=this,V=s.default.Event(W9);if(s.default(this._element).trigger(V),!V.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add(F9);var ae=function(){N._element.classList.remove(uT),N._element.classList.add(ld),s.default(N._element).trigger(H9),N._config.autohide&&(N._timeout=setTimeout(function(){N.hide()},N._config.delay))};if(this._element.classList.remove(cT),j.reflow(this._element),this._element.classList.add(uT),this._config.animation){var ke=j.getTransitionDurationFromElement(this._element);s.default(this._element).one(j.TRANSITION_END,ae).emulateTransitionEnd(ke)}else ae()}},me.hide=function(){if(this._element.classList.contains(ld)){var N=s.default.Event(z9);s.default(this._element).trigger(N),!N.isDefaultPrevented()&&this._close()}},me.dispose=function(){this._clearTimeout(),this._element.classList.contains(ld)&&this._element.classList.remove(ld),s.default(this._element).off(dT),s.default.removeData(this._element,Uh),this._element=null,this._config=null},me._getConfig=function(N){return N=u({},fT,s.default(this._element).data(),typeof N=="object"&&N?N:{}),j.typeCheckConfig(ql,N,this.constructor.DefaultType),N},me._setListeners=function(){var N=this;s.default(this._element).on(dT,q9,function(){return N.hide()})},me._close=function(){var N=this,V=function(){N._element.classList.add(cT),s.default(N._element).trigger(B9)};if(this._element.classList.remove(ld),this._config.animation){var ae=j.getTransitionDurationFromElement(this._element);s.default(this._element).one(j.TRANSITION_END,V).emulateTransitionEnd(ae)}else V()},me._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},Te._jQueryInterface=function(N){return this.each(function(){var V=s.default(this),ae=V.data(Uh),ke=typeof N=="object"&&N;if(ae||(ae=new Te(this,ke),V.data(Uh,ae)),typeof N=="string"){if(typeof ae[N]>"u")throw new TypeError('No method named "'+N+'"');ae[N](this)}})},c(Te,null,[{key:"VERSION",get:function(){return D9}},{key:"DefaultType",get:function(){return V9}},{key:"Default",get:function(){return fT}}]),Te}();s.default.fn[ql]=Gh._jQueryInterface,s.default.fn[ql].Constructor=Gh,s.default.fn[ql].noConflict=function(){return s.default.fn[ql]=L9,Gh._jQueryInterface},n.Alert=Y,n.Button=Oe,n.Carousel=fi,n.Collapse=ba,n.Dropdown=oo,n.Modal=$i,n.Popover=Wt,n.Scrollspy=nd,n.Tab=sd,n.Toast=Gh,n.Tooltip=Yo,n.Util=j,Object.defineProperty(n,"__esModule",{value:!0})})})(aA,aA.exports);var Pd=function(e){return e&&e.Math===Math&&e},Ri=Pd(typeof globalThis=="object"&&globalThis)||Pd(typeof window=="object"&&window)||Pd(typeof self=="object"&&self)||Pd(typeof Mt=="object"&&Mt)||Pd(typeof Mt=="object"&&Mt)||function(){return this}()||Function("return this")(),z2={},Bo=function(e){try{return!!e()}catch{return!0}},Y8e=Bo,ha=!Y8e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Z8e=Bo,E7=!Z8e(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Q8e=E7,Ap=Function.prototype.call,B2=Q8e?Ap.bind(Ap):function(){return Ap.apply(Ap,arguments)},k7={},O7={}.propertyIsEnumerable,M7=Object.getOwnPropertyDescriptor,J8e=M7&&!O7.call({1:2},1);k7.f=J8e?function(t){var n=M7(this,t);return!!n&&n.enumerable}:O7;var N7=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},P7=E7,A7=Function.prototype,x1=A7.call,X8e=P7&&A7.bind.bind(x1,x1),di=P7?X8e:function(e){return function(){return x1.apply(e,arguments)}},R7=di,eLe=R7({}.toString),tLe=R7("".slice),$7=function(e){return tLe(eLe(e),8,-1)},nLe=di,rLe=Bo,iLe=$7,Qy=Object,oLe=nLe("".split),sLe=rLe(function(){return!Qy("z").propertyIsEnumerable(0)})?function(e){return iLe(e)==="String"?oLe(e,""):Qy(e)}:Qy,I7=function(e){return e==null},aLe=I7,lLe=TypeError,D7=function(e){if(aLe(e))throw new lLe("Can't call method on "+e);return e},cLe=sLe,uLe=D7,Pu=function(e){return cLe(uLe(e))},Jy=typeof document=="object"&&document.all,Xi=typeof Jy>"u"&&Jy!==void 0?function(e){return typeof e=="function"||e===Jy}:function(e){return typeof e=="function"},dLe=Xi,Eh=function(e){return typeof e=="object"?e!==null:dLe(e)},Xy=Ri,fLe=Xi,hLe=function(e){return fLe(e)?e:void 0},W2=function(e,t){return arguments.length<2?hLe(Xy[e]):Xy[e]&&Xy[e][t]},pLe=di,mLe=pLe({}.isPrototypeOf),I0=typeof navigator<"u"&&String(navigator.userAgent)||"",L7=Ri,e_=I0,cA=L7.process,uA=L7.Deno,dA=cA&&cA.versions||uA&&uA.version,fA=dA&&dA.v8,Bi,Pg;fA&&(Bi=fA.split("."),Pg=Bi[0]>0&&Bi[0]<4?1:+(Bi[0]+Bi[1]));!Pg&&e_&&(Bi=e_.match(/Edge\/(\d+)/),(!Bi||Bi[1]>=74)&&(Bi=e_.match(/Chrome\/(\d+)/),Bi&&(Pg=+Bi[1])));var F7=Pg,hA=F7,gLe=Bo,vLe=Ri,bLe=vLe.String,z7=!!Object.getOwnPropertySymbols&&!gLe(function(){var e=Symbol("symbol detection");return!bLe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&hA&&hA<41}),yLe=z7,B7=yLe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",_Le=W2,xLe=Xi,wLe=mLe,SLe=B7,CLe=Object,W7=SLe?function(e){return typeof e=="symbol"}:function(e){var t=_Le("Symbol");return xLe(t)&&wLe(t.prototype,CLe(e))},TLe=String,H7=function(e){try{return TLe(e)}catch{return"Object"}},jLe=Xi,ELe=H7,kLe=TypeError,H2=function(e){if(jLe(e))return e;throw new kLe(ELe(e)+" is not a function")},OLe=H2,MLe=I7,NLe=function(e,t){var n=e[t];return MLe(n)?void 0:OLe(n)},t_=B2,n_=Xi,r_=Eh,PLe=TypeError,ALe=function(e,t){var n,r;if(t==="string"&&n_(n=e.toString)&&!r_(r=t_(n,e))||n_(n=e.valueOf)&&!r_(r=t_(n,e))||t!=="string"&&n_(n=e.toString)&&!r_(r=t_(n,e)))return r;throw new PLe("Can't convert object to primitive value")},q7={exports:{}},pA=Ri,RLe=Object.defineProperty,q2=function(e,t){try{RLe(pA,e,{value:t,configurable:!0,writable:!0})}catch{pA[e]=t}return t},$Le=Ri,ILe=q2,mA="__core-js_shared__",gA=q7.exports=$Le[mA]||ILe(mA,{});(gA.versions||(gA.versions=[])).push({version:"3.36.1",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"});var V2=q7.exports,vA=V2,V7=function(e,t){return vA[e]||(vA[e]=t||{})},DLe=D7,LLe=Object,U2=function(e){return LLe(DLe(e))},FLe=di,zLe=U2,BLe=FLe({}.hasOwnProperty),Il=Object.hasOwn||function(t,n){return BLe(zLe(t),n)},WLe=di,HLe=0,qLe=Math.random(),VLe=WLe(1 .toString),U7=function(e){return"Symbol("+(e===void 0?"":e)+")_"+VLe(++HLe+qLe,36)},ULe=Ri,GLe=V7,bA=Il,KLe=U7,YLe=z7,ZLe=B7,kc=ULe.Symbol,i_=GLe("wks"),QLe=ZLe?kc.for||kc:kc&&kc.withoutSetter||KLe,D0=function(e){return bA(i_,e)||(i_[e]=YLe&&bA(kc,e)?kc[e]:QLe("Symbol."+e)),i_[e]},JLe=B2,yA=Eh,_A=W7,XLe=NLe,eFe=ALe,tFe=D0,nFe=TypeError,rFe=tFe("toPrimitive"),iFe=function(e,t){if(!yA(e)||_A(e))return e;var n=XLe(e,rFe),r;if(n){if(t===void 0&&(t="default"),r=JLe(n,e,t),!yA(r)||_A(r))return r;throw new nFe("Can't convert object to primitive value")}return t===void 0&&(t="number"),eFe(e,t)},oFe=iFe,sFe=W7,G7=function(e){var t=oFe(e,"string");return sFe(t)?t:t+""},aFe=Ri,xA=Eh,w1=aFe.document,lFe=xA(w1)&&xA(w1.createElement),K7=function(e){return lFe?w1.createElement(e):{}},cFe=ha,uFe=Bo,dFe=K7,Y7=!cFe&&!uFe(function(){return Object.defineProperty(dFe("div"),"a",{get:function(){return 7}}).a!==7}),fFe=ha,hFe=B2,pFe=k7,mFe=N7,gFe=Pu,vFe=G7,bFe=Il,yFe=Y7,wA=Object.getOwnPropertyDescriptor;z2.f=fFe?wA:function(t,n){if(t=gFe(t),n=vFe(n),yFe)try{return wA(t,n)}catch{}if(bFe(t,n))return mFe(!hFe(pFe.f,t,n),t[n])};var Au={},_Fe=ha,xFe=Bo,Z7=_Fe&&xFe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),wFe=Eh,SFe=String,CFe=TypeError,L0=function(e){if(wFe(e))return e;throw new CFe(SFe(e)+" is not an object")},TFe=ha,jFe=Y7,EFe=Z7,Rp=L0,SA=G7,kFe=TypeError,o_=Object.defineProperty,OFe=Object.getOwnPropertyDescriptor,s_="enumerable",a_="configurable",l_="writable";Au.f=TFe?EFe?function(t,n,r){if(Rp(t),n=SA(n),Rp(r),typeof t=="function"&&n==="prototype"&&"value"in r&&l_ in r&&!r[l_]){var i=OFe(t,n);i&&i[l_]&&(t[n]=r.value,r={configurable:a_ in r?r[a_]:i[a_],enumerable:s_ in r?r[s_]:i[s_],writable:!1})}return o_(t,n,r)}:o_:function(t,n,r){if(Rp(t),n=SA(n),Rp(r),jFe)try{return o_(t,n,r)}catch{}if("get"in r||"set"in r)throw new kFe("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var MFe=ha,NFe=Au,PFe=N7,Q7=MFe?function(e,t,n){return NFe.f(e,t,PFe(1,n))}:function(e,t,n){return e[t]=n,e},J7={exports:{}},S1=ha,AFe=Il,X7=Function.prototype,RFe=S1&&Object.getOwnPropertyDescriptor,G2=AFe(X7,"name"),$Fe=G2&&(function(){}).name==="something",IFe=G2&&(!S1||S1&&RFe(X7,"name").configurable),DFe={EXISTS:G2,PROPER:$Fe,CONFIGURABLE:IFe},LFe=di,FFe=Xi,C1=V2,zFe=LFe(Function.toString);FFe(C1.inspectSource)||(C1.inspectSource=function(e){return zFe(e)});var BFe=C1.inspectSource,WFe=Ri,HFe=Xi,CA=WFe.WeakMap,qFe=HFe(CA)&&/native code/.test(String(CA)),VFe=V7,UFe=U7,TA=VFe("keys"),e9=function(e){return TA[e]||(TA[e]=UFe(e))},K2={},GFe=qFe,t9=Ri,KFe=Eh,YFe=Q7,c_=Il,u_=V2,ZFe=e9,QFe=K2,jA="Object already initialized",T1=t9.TypeError,JFe=t9.WeakMap,Ag,Gf,Rg,XFe=function(e){return Rg(e)?Gf(e):Ag(e,{})},e7e=function(e){return function(t){var n;if(!KFe(t)||(n=Gf(t)).type!==e)throw new T1("Incompatible receiver, "+e+" required");return n}};if(GFe||u_.state){var ho=u_.state||(u_.state=new JFe);ho.get=ho.get,ho.has=ho.has,ho.set=ho.set,Ag=function(e,t){if(ho.has(e))throw new T1(jA);return t.facade=e,ho.set(e,t),t},Gf=function(e){return ho.get(e)||{}},Rg=function(e){return ho.has(e)}}else{var lc=ZFe("state");QFe[lc]=!0,Ag=function(e,t){if(c_(e,lc))throw new T1(jA);return t.facade=e,YFe(e,lc,t),t},Gf=function(e){return c_(e,lc)?e[lc]:{}},Rg=function(e){return c_(e,lc)}}var t7e={set:Ag,get:Gf,has:Rg,enforce:XFe,getterFor:e7e},Y2=di,n7e=Bo,r7e=Xi,$p=Il,j1=ha,i7e=DFe.CONFIGURABLE,o7e=BFe,n9=t7e,s7e=n9.enforce,a7e=n9.get,EA=String,om=Object.defineProperty,l7e=Y2("".slice),c7e=Y2("".replace),u7e=Y2([].join),d7e=j1&&!n7e(function(){return om(function(){},"length",{value:8}).length!==8}),f7e=String(String).split("String"),h7e=J7.exports=function(e,t,n){l7e(EA(t),0,7)==="Symbol("&&(t="["+c7e(EA(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!$p(e,"name")||i7e&&e.name!==t)&&(j1?om(e,"name",{value:t,configurable:!0}):e.name=t),d7e&&n&&$p(n,"arity")&&e.length!==n.arity&&om(e,"length",{value:n.arity});try{n&&$p(n,"constructor")&&n.constructor?j1&&om(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var r=s7e(e);return $p(r,"source")||(r.source=u7e(f7e,typeof t=="string"?t:"")),e};Function.prototype.toString=h7e(function(){return r7e(this)&&a7e(this).source||o7e(this)},"toString");var p7e=J7.exports,m7e=Xi,g7e=Au,v7e=p7e,b7e=q2,y7e=function(e,t,n,r){r||(r={});var i=r.enumerable,o=r.name!==void 0?r.name:t;if(m7e(n)&&v7e(n,o,r),r.global)i?e[t]=n:b7e(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=n:g7e.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},r9={},_7e=Math.ceil,x7e=Math.floor,w7e=Math.trunc||function(t){var n=+t;return(n>0?x7e:_7e)(n)},S7e=w7e,Z2=function(e){var t=+e;return t!==t||t===0?0:S7e(t)},C7e=Z2,T7e=Math.max,j7e=Math.min,E7e=function(e,t){var n=C7e(e);return n<0?T7e(n+t,0):j7e(n,t)},k7e=Z2,O7e=Math.min,M7e=function(e){var t=k7e(e);return t>0?O7e(t,9007199254740991):0},N7e=M7e,kh=function(e){return N7e(e.length)},P7e=Pu,A7e=E7e,R7e=kh,kA=function(e){return function(t,n,r){var i=P7e(t),o=R7e(i);if(o===0)return!e&&-1;var s=A7e(r,o),a;if(e&&n!==n){for(;o>s;)if(a=i[s++],a!==a)return!0}else for(;o>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},$7e={includes:kA(!0),indexOf:kA(!1)},I7e=di,d_=Il,D7e=Pu,L7e=$7e.indexOf,F7e=K2,OA=I7e([].push),i9=function(e,t){var n=D7e(e),r=0,i=[],o;for(o in n)!d_(F7e,o)&&d_(n,o)&&OA(i,o);for(;t.length>r;)d_(n,o=t[r++])&&(~L7e(i,o)||OA(i,o));return i},Q2=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],z7e=i9,B7e=Q2,W7e=B7e.concat("length","prototype");r9.f=Object.getOwnPropertyNames||function(t){return z7e(t,W7e)};var o9={};o9.f=Object.getOwnPropertySymbols;var H7e=W2,q7e=di,V7e=r9,U7e=o9,G7e=L0,K7e=q7e([].concat),Y7e=H7e("Reflect","ownKeys")||function(t){var n=V7e.f(G7e(t)),r=U7e.f;return r?K7e(n,r(t)):n},MA=Il,Z7e=Y7e,Q7e=z2,J7e=Au,X7e=function(e,t,n){for(var r=Z7e(t),i=J7e.f,o=Q7e.f,s=0;s<r.length;s++){var a=r[s];!MA(e,a)&&!(n&&MA(n,a))&&i(e,a,o(t,a))}},e9e=Bo,t9e=Xi,n9e=/#|\.prototype\./,Oh=function(e,t){var n=i9e[r9e(e)];return n===s9e?!0:n===o9e?!1:t9e(t)?e9e(t):!!t},r9e=Oh.normalize=function(e){return String(e).replace(n9e,".").toLowerCase()},i9e=Oh.data={},o9e=Oh.NATIVE="N",s9e=Oh.POLYFILL="P",a9e=Oh,Ip=Ri,l9e=z2.f,c9e=Q7,u9e=y7e,d9e=q2,f9e=X7e,h9e=a9e,F0=function(e,t){var n=e.target,r=e.global,i=e.stat,o,s,a,l,c,u;if(r?s=Ip:i?s=Ip[n]||d9e(n,{}):s=Ip[n]&&Ip[n].prototype,s)for(a in t){if(c=t[a],e.dontCallGetSet?(u=l9e(s,a),l=u&&u.value):l=s[a],o=h9e(r?a:n+(i?".":"#")+a,e.forced),!o&&l!==void 0){if(typeof c==typeof l)continue;f9e(c,l)}(e.sham||l&&l.sham)&&c9e(c,"sham",!0),u9e(s,a,c,e)}},s9={},p9e=i9,m9e=Q2,g9e=Object.keys||function(t){return p9e(t,m9e)},v9e=ha,b9e=Z7,y9e=Au,_9e=L0,x9e=Pu,w9e=g9e;s9.f=v9e&&!b9e?Object.defineProperties:function(t,n){_9e(t);for(var r=x9e(n),i=w9e(n),o=i.length,s=0,a;o>s;)y9e.f(t,a=i[s++],r[a]);return t};var S9e=W2,C9e=S9e("document","documentElement"),T9e=L0,j9e=s9,NA=Q2,E9e=K2,k9e=C9e,O9e=K7,M9e=e9,PA=">",AA="<",E1="prototype",k1="script",a9=M9e("IE_PROTO"),f_=function(){},l9=function(e){return AA+k1+PA+e+AA+"/"+k1+PA},RA=function(e){e.write(l9("")),e.close();var t=e.parentWindow.Object;return e=null,t},N9e=function(){var e=O9e("iframe"),t="java"+k1+":",n;return e.style.display="none",k9e.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(l9("document.F=Object")),n.close(),n.F},Dp,sm=function(){try{Dp=new ActiveXObject("htmlfile")}catch{}sm=typeof document<"u"?document.domain&&Dp?RA(Dp):N9e():RA(Dp);for(var e=NA.length;e--;)delete sm[E1][NA[e]];return sm()};E9e[a9]=!0;var P9e=Object.create||function(t,n){var r;return t!==null?(f_[E1]=T9e(t),r=new f_,f_[E1]=null,r[a9]=t):r=sm(),n===void 0?r:j9e.f(r,n)},A9e=D0,R9e=P9e,$9e=Au.f,O1=A9e("unscopables"),M1=Array.prototype;M1[O1]===void 0&&$9e(M1,O1,{configurable:!0,value:R9e(null)});var J2=function(e){M1[O1][e]=!0},I9e=F0,D9e=U2,L9e=kh,F9e=Z2,z9e=J2;I9e({target:"Array",proto:!0},{at:function(t){var n=D9e(this),r=L9e(n),i=F9e(t),o=i>=0?i:r+i;return o<0||o>=r?void 0:n[o]}});z9e("at");var B9e=Ri,W9e=di,X2=function(e,t){return W9e(B9e[e].prototype[t])},H9e=X2;H9e("Array","at");var q9e=kh,V9e=function(e,t){for(var n=q9e(e),r=new t(n),i=0;i<n;i++)r[i]=e[n-i-1];return r},U9e=F0,G9e=V9e,K9e=Pu,Y9e=J2,Z9e=Array;U9e({target:"Array",proto:!0},{toReversed:function(){return G9e(K9e(this),Z9e)}});Y9e("toReversed");var Q9e=X2;Q9e("Array","toReversed");var $A=H7,J9e=TypeError,X9e=function(e,t){if(!delete e[t])throw new J9e("Cannot delete property "+$A(t)+" of "+$A(e))},eze=D0,tze=eze("toStringTag"),c9={};c9[tze]="z";var nze=String(c9)==="[object z]",rze=nze,ize=Xi,am=$7,oze=D0,sze=oze("toStringTag"),aze=Object,lze=am(function(){return arguments}())==="Arguments",cze=function(e,t){try{return e[t]}catch{}},uze=rze?am:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=cze(t=aze(e),sze))=="string"?n:lze?am(t):(r=am(t))==="Object"&&ize(t.callee)?"Arguments":r},dze=uze,fze=String,hze=function(e){if(dze(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return fze(e)},pze=di,mze=pze([].slice),IA=mze,gze=Math.floor,N1=function(e,t){var n=e.length;if(n<8)for(var r=1,i,o;r<n;){for(o=r,i=e[r];o&&t(e[o-1],i)>0;)e[o]=e[--o];o!==r++&&(e[o]=i)}else for(var s=gze(n/2),a=N1(IA(e,0,s),t),l=N1(IA(e,s),t),c=a.length,u=l.length,f=0,h=0;f<c||h<u;)e[f+h]=f<c&&h<u?t(a[f],l[h])<=0?a[f++]:l[h++]:f<c?a[f++]:l[h++];return e},vze=N1,bze=Bo,yze=function(e,t){var n=[][e];return!!n&&bze(function(){n.call(null,t||function(){return 1},1)})},_ze=I0,DA=_ze.match(/firefox\/(\d+)/i),xze=!!DA&&+DA[1],wze=I0,Sze=/MSIE|Trident/.test(wze),Cze=I0,LA=Cze.match(/AppleWebKit\/(\d+)\./),Tze=!!LA&&+LA[1],jze=F0,u9=di,Eze=H2,kze=U2,FA=kh,Oze=X9e,zA=hze,eT=Bo,Mze=vze,Nze=yze,BA=xze,Pze=Sze,WA=F7,HA=Tze,Ks=[],qA=u9(Ks.sort),Aze=u9(Ks.push),Rze=eT(function(){Ks.sort(void 0)}),$ze=eT(function(){Ks.sort(null)}),Ize=Nze("sort"),d9=!eT(function(){if(WA)return WA<70;if(!(BA&&BA>3)){if(Pze)return!0;if(HA)return HA<603;var e="",t,n,r,i;for(t=65;t<76;t++){switch(n=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(i=0;i<47;i++)Ks.push({k:n+i,v:r})}for(Ks.sort(function(o,s){return s.v-o.v}),i=0;i<Ks.length;i++)n=Ks[i].k.charAt(0),e.charAt(e.length-1)!==n&&(e+=n);return e!=="DGBEFHACIJK"}}),Dze=Rze||!$ze||!Ize||!d9,Lze=function(e){return function(t,n){return n===void 0?-1:t===void 0?1:e!==void 0?+e(t,n)||0:zA(t)>zA(n)?1:-1}};jze({target:"Array",proto:!0,forced:Dze},{sort:function(t){t!==void 0&&Eze(t);var n=kze(this);if(d9)return t===void 0?qA(n):qA(n,t);var r=[],i=FA(n),o,s;for(s=0;s<i;s++)s in n&&Aze(r,n[s]);for(Mze(r,Lze(t)),o=FA(r),s=0;s<o;)n[s]=r[s++];for(;s<i;)Oze(n,s++);return n}});var Fze=kh,zze=function(e,t,n){for(var r=0,i=arguments.length>2?n:Fze(t),o=new e(i);i>r;)o[r]=t[r++];return o},Bze=Ri,Wze=function(e,t){var n=Bze[e],r=n&&n.prototype;return r&&r[t]},Hze=F0,qze=di,Vze=H2,Uze=Pu,Gze=zze,Kze=Wze,Yze=J2,Zze=Array,Qze=qze(Kze("Array","sort"));Hze({target:"Array",proto:!0},{toSorted:function(t){t!==void 0&&Vze(t);var n=Uze(this),r=Gze(Zze,n);return Qze(r,t)}});Yze("toSorted");var Jze=X2;Jze("Array","toSorted");window.popper=j7;const VA=Object.assign({"../components/AcceptTermsOfService.tsx":Rte,"../components/ActiveTable/Toolbar/FullscreenToolbar.tsx":Dz,"../components/ActiveTable/Toolbar/LayoutToolbar.tsx":zz,"../components/AllProjectsPage.tsx":Wz,"../components/AllProjectsPageView.jsx":Ite,"../components/BardExtensions/CurrentToolExecutions.tsx":mB,"../components/BardExtensions/EditableText.tsx":gB,"../components/BardExtensions/RunTool.tsx":vB,"../components/BardExtensions/ToolExecutionEditor.tsx":bB,"../components/BardExtensions/index.tsx":yB,"../components/BardExtensions/renderer.tsx":AW,"../components/BardFactuality/BardSearchResults.tsx":_B,"../components/BardFactuality/index.tsx":xB,"../components/BluePrintProjectsTable/index.tsx":Fte,"../components/Carousel/index.tsx":wB,"../components/Categorizer/index.tsx":SB,"../components/CopyForDelivery/NewItemLabel.tsx":zte,"../components/CopyToClipboard.tsx":OH,"../components/CustomRenderer/CustomRendererMenu.tsx":sq,"../components/CustomRenderer/CustomRendererSlideOver.tsx":aq,"../components/CustomRenderer/RenderedComponent.tsx":RW,"../components/CustomRenderer/index.tsx":$W,"../components/DebouncedTextInput.tsx":IW,"../components/DeleteButton.tsx":gq,"../components/DeleteDataFields/index.tsx":Bte,"../components/EditProjectSubmit.tsx":Uq,"../components/Editor/Raw/index.tsx":lq,"../components/Editor/WYSIWYG/BubbleMenuContainer/BubbleMenuItem.tsx":Wte,"../components/Editor/WYSIWYG/BubbleMenuContainer/ColorRelatedMenuItem.tsx":Vte,"../components/Editor/WYSIWYG/BubbleMenuContainer/EmbedMenuItem.tsx":Gte,"../components/Editor/WYSIWYG/BubbleMenuContainer/ImageMenuItem.tsx":Yte,"../components/Editor/WYSIWYG/BubbleMenuContainer/InlineMenu.tsx":Xte,"../components/Editor/WYSIWYG/BubbleMenuContainer/LinkMenuItem.tsx":ene,"../components/Editor/WYSIWYG/BubbleMenuContainer/TableMenuItem/index.tsx":Jte,"../components/Editor/WYSIWYG/BubbleMenuContainer/TableSubMenu.tsx":une,"../components/Editor/WYSIWYG/BubbleMenuContainer/index.tsx":Cae,"../components/Editor/WYSIWYG/TemplateVar.tsx":Rae,"../components/Editor/WYSIWYG/index.tsx":yue,"../components/Editor/WYSIWYG/templateVarSuggestion.tsx":jae,"../components/Editor/index.tsx":zue,"../components/EmbeddingsPage.tsx":cq,"../components/ErrorBoundary.jsx":FV,"../components/ErrorComponent.jsx":Hue,"../components/ErrorPageComponent.tsx":Vue,"../components/ExpirationTimer/ExpirationTimer.tsx":Cfe,"../components/FeedbackSummary.tsx":Tfe,"../components/FloatingCloseButton.tsx":lV,"../components/FullPageLoadingIcon.tsx":tU,"../components/Inbox/DirectMessagesTab/DirectMessageThread/DirectMessage.tsx":nU,"../components/Inbox/DirectMessagesTab/DirectMessageThread/index.tsx":rU,"../components/Inbox/DirectMessagesTab/DirectMessageThreadList/Card.tsx":iU,"../components/Inbox/DirectMessagesTab/DirectMessageThreadList/index.tsx":oU,"../components/Inbox/DirectMessagesTab/index.tsx":sU,"../components/Inbox/FeedbackAndAnnouncementsTab/FeedbackAndAnnouncementsList/ThreadCard/index.tsx":aU,"../components/Inbox/FeedbackAndAnnouncementsTab/FeedbackAndAnnouncementsList/index.tsx":lU,"../components/Inbox/FeedbackAndAnnouncementsTab/ProjectThreads/AnnouncementList.tsx":cU,"../components/Inbox/FeedbackAndAnnouncementsTab/ProjectThreads/FeedbackList/Message/index.tsx":uU,"../components/Inbox/FeedbackAndAnnouncementsTab/ProjectThreads/FeedbackList/index.tsx":dU,"../components/Inbox/FeedbackAndAnnouncementsTab/ProjectThreads/FeedbackListFilter.tsx":fU,"../components/Inbox/FeedbackAndAnnouncementsTab/ProjectThreads/Thread/TaskResponseEditorSlideOver.tsx":hU,"../components/Inbox/FeedbackAndAnnouncementsTab/ProjectThreads/Thread/index.tsx":pU,"../components/Inbox/FeedbackAndAnnouncementsTab/ProjectThreads/index.tsx":mU,"../components/Inbox/FeedbackAndAnnouncementsTab/index.tsx":gU,"../components/Inbox/LetterAvatar.tsx":vU,"../components/Inbox/NewFeedbackTab/index.tsx":bU,"../components/Inbox/NoThreadSelected.tsx":yU,"../components/Inbox/SetReadStatusButton.tsx":_U,"../components/Inbox/Toolbar/IconButton.tsx":xU,"../components/Inbox/Toolbar/index.tsx":wU,"../components/Inbox/UnreadCountIcon.tsx":SU,"../components/Inbox/index.tsx":CU,"../components/Inbox/useMarkReadWhenInView.tsx":TU,"../components/InfoBanner.tsx":cV,"../components/InfoBannerList.tsx":uV,"../components/LastMileSetting.tsx":EU,"../components/LazyLoadedSelect/index.tsx":vq,"../components/LeftRightArrows/index.tsx":CB,"../components/ListRulesAboutUuid.tsx":dV,"../components/Markdown.tsx":Oz,"../components/MaximumNumberOfTasksPerWorkerSetting/index.tsx":jfe,"../components/MergeProjectForm.tsx":Efe,"../components/MessagesNumIcon.tsx":jU,"../components/MyProjectsPage.tsx":kU,"../components/NamedEntityTagAnalytics.tsx":MU,"../components/NotificationModal.tsx":Pfe,"../components/Orderables/index.tsx":TB,"../components/Page/Footer.tsx":NU,"../components/PollingProjectUploadAttempt/ProjectUploadAttempt.tsx":Afe,"../components/PollingProjectUploadAttempt/index.tsx":Rfe,"../components/PopQuiz/AnswersTab.tsx":Ffe,"../components/PopQuiz/DropdownWithDefault/index.tsx":fV,"../components/PopQuiz/QuestionsTab.tsx":Yhe,"../components/PopQuiz/StatusButton.tsx":Zhe,"../components/PopQuiz/index.tsx":Qhe,"../components/ProjectActionsDropdownBody.tsx":qU,"../components/ProjectCopyForDeliveryForm.tsx":xpe,"../components/ProjectDashboard/ActionItemsTab/ActionItemModal.tsx":hV,"../components/ProjectDashboard/ActionItemsTab/NewActionItemModal.tsx":pV,"../components/ProjectDashboard/ActionItemsTab/index.tsx":mV,"../components/ProjectDashboard/ActionsDropdown/index.tsx":gV,"../components/ProjectDashboard/AdminOnlyButtonWithConfirmation.tsx":vV,"../components/ProjectDashboard/BuganizerLink.tsx":bV,"../components/ProjectDashboard/DataCleaningProgressBar.tsx":yV,"../components/ProjectDashboard/DeliverToUser.tsx":Mz,"../components/ProjectDashboard/FlipperFeaturesTab/index.tsx":_V,"../components/ProjectDashboard/ImagesUploaderTab/UploadNewImagesButton.tsx":xV,"../components/ProjectDashboard/ImagesUploaderTab/index.tsx":wV,"../components/ProjectDashboard/InvoiceLink.tsx":Nz,"../components/ProjectDashboard/LlmTaskDataCompletionsTab/AddNewButton.tsx":SV,"../components/ProjectDashboard/LlmTaskDataCompletionsTab/index.tsx":CV,"../components/ProjectDashboard/MainTab.tsx":TV,"../components/ProjectDashboard/MessagesTab/index.tsx":jV,"../components/ProjectDashboard/PaddedTabDiv.tsx":EV,"../components/ProjectDashboard/PinProject.tsx":Pz,"../components/ProjectDashboard/PopQuizzesTab/CopyPopQuizModal.tsx":kV,"../components/ProjectDashboard/PopQuizzesTab/LinkGoldStandardProjectModal.tsx":OV,"../components/ProjectDashboard/PopQuizzesTab/index.tsx":MV,"../components/ProjectDashboard/ProjectLinker.tsx":Az,"../components/ProjectDashboard/ProjectTimeline.shared.tsx":jpe,"../components/ProjectDashboard/ProjectTimeline.tsx":NV,"../components/ProjectDashboard/TopPane.tsx":PV,"../components/ProjectDashboard/TopSection/index.tsx":Rpe,"../components/ProjectDashboard/index.tsx":AV,"../components/ProjectEditor/EditableProjectTitle.tsx":BU,"../components/ProjectEditor/index.tsx":Rz,"../components/ProjectResults/InlineReviewComment.tsx":DW,"../components/ProjectResults/TableRowCounts.tsx":Ipe,"../components/ProjectResults/TableRowCounts3.tsx":uq,"../components/ProjectResultsUploader.tsx":Bpe,"../components/ProjectsTable/Toolbar.tsx":KU,"../components/ProjectsTable/index.tsx":YU,"../components/QuestionAnalytics.tsx":PU,"../components/Referrals/index.tsx":ZU,"../components/RejectAllResponses.tsx":dq,"../components/RenderedTemplate.tsx":LW,"../components/ReportTimePage/ReportTime.tsx":Upe,"../components/ReportTimePage/index.tsx":Sme,"../components/ResponseThroughputChart/ResponseThroughputChartPageV2.tsx":EAe,"../components/ResponseThroughputChart/index.tsx":jAe,"../components/Results/Renderers/AnthropicChatRenderer.tsx":FW,"../components/RewardModelingGoldStandardsForm/index.tsx":kAe,"../components/RulesEnginePage/EditRuleConditionSet/ApplyNowModal.tsx":XU,"../components/RulesEnginePage/EditRuleConditionSet/index.tsx":eG,"../components/RulesEnginePage/Home.tsx":tG,"../components/RulesEnginePage/NewRuleConditionSet.tsx":nG,"../components/RulesEnginePage/RuleActionLogsTable/Toolbar/UndoButton.tsx":rG,"../components/RulesEnginePage/RuleActionLogsTable/Toolbar/index.tsx":iG,"../components/RulesEnginePage/RuleActionLogsTable/index.tsx":oG,"../components/RulesEnginePage/RuleConditionSet/ApplyNowButton.tsx":sG,"../components/RulesEnginePage/RuleConditionSet/DeleteButton.tsx":aG,"../components/RulesEnginePage/RuleConditionSet/NameAndDescription.tsx":lG,"../components/RulesEnginePage/RuleConditionSet/OverhungObjects.tsx":cG,"../components/RulesEnginePage/RuleConditionSet/PartContainer.tsx":uG,"../components/RulesEnginePage/RuleConditionSet/PreviewButton.tsx":dG,"../components/RulesEnginePage/RuleConditionSet/RuleActions/RuleAction/RuleActionPayload/BlockActionPayload.tsx":fG,"../components/RulesEnginePage/RuleConditionSet/RuleActions/RuleAction/RuleActionPayload/BonusActionPayload.tsx":hG,"../components/RulesEnginePage/RuleConditionSet/RuleActions/RuleAction/RuleActionPayload/QualificationMembershipPayload.tsx":pG,"../components/RulesEnginePage/RuleConditionSet/RuleActions/RuleAction/RuleActionPayload/SetReviewScoreActionPayload.tsx":mG,"../components/RulesEnginePage/RuleConditionSet/RuleActions/RuleAction/RuleActionPayload/SlackChannelMembershipPayload.tsx":gG,"../components/RulesEnginePage/RuleConditionSet/RuleActions/RuleAction/RuleActionPayload/WorkerTaskLimitActionPayload.tsx":vG,"../components/RulesEnginePage/RuleConditionSet/RuleActions/RuleAction/RuleActionPayload/index.tsx":bG,"../components/RulesEnginePage/RuleConditionSet/RuleActions/RuleAction/index.tsx":yG,"../components/RulesEnginePage/RuleConditionSet/RuleActions/index.tsx":_G,"../components/RulesEnginePage/RuleConditionSet/SaveButton.tsx":xG,"../components/RulesEnginePage/RuleConditionSet/StatusButton.tsx":wG,"../components/RulesEnginePage/RuleConditionSet/index.tsx":SG,"../components/RulesEnginePage/RuleConditionSetsTable.tsx":CG,"../components/RulesEnginePage/index.tsx":TG,"../components/Separator.tsx":zW,"../components/SharedProjectsPage.tsx":jG,"../components/Slack/AddUsersToSlackChannelSlideOver/AddSurgersToSlackButton.tsx":EG,"../components/Slack/AddUsersToSlackChannelSlideOver/index.tsx":kG,"../components/SplitProjectForm.tsx":OAe,"../components/TaskResponseEditor/items/ApiCall/index.tsx":jB,"../components/TaskResponseEditor/items/FileUpload2/index.tsx":EB,"../components/TaskResponseEditor/items/ModelGeneration/Renderer.tsx":BW,"../components/TaskResponseEditor/items/ModelGeneration/index.tsx":kB,"../components/TaskResponseEditor/items/NamedEntityTagger/RelationshipPanel.tsx":NAe,"../components/TaskResponseEditor/items/NamedEntityTagger/TaggedText.tsx":MAe,"../components/TaskResponseEditor/items/NamedEntityTagger/index.tsx":AAe,"../components/TaskResponseEditor/items/Ranking/RankingWithTies.tsx":OB,"../components/TaskResponseEditor/items/Ranking/RankingWithoutTies.tsx":MB,"../components/TaskResponseEditor/items/Ranking/index.tsx":NB,"../components/TaskResponseEditor/items/Rlhf/MetaV2TeacherMode/components.tsx":WW,"../components/TaskResponseEditor/items/Rlhf/Metagen/components.tsx":PB,"../components/TaskResponseEditor/items/Rlhf/Metagen/index.tsx":AB,"../components/TaskResponseEditor/items/Rlhf/Metagen/util.tsx":RB,"../components/TaskResponseEditor/items/Rlhf/bardIce.tsx":$B,"../components/TaskResponseEditor/items/Rlhf/bardIceOpenEval.tsx":IB,"../components/TaskResponseEditor/items/Rlhf/bardIceUtils.tsx":DB,"../components/TaskResponseEditor/items/Rlhf/cancelCompletionsButton.tsx":LB,"../components/TaskResponseEditor/items/Rlhf/components.tsx":HW,"../components/TaskResponseEditor/items/Rlhf/editButtons.tsx":FB,"../components/TaskResponseEditor/items/Rlhf/editPanel.tsx":zB,"../components/TaskResponseEditor/items/Rlhf/fileUpload.tsx":BB,"../components/TaskResponseEditor/items/Rlhf/forceSubmitModal.tsx":WB,"../components/TaskResponseEditor/items/Rlhf/index.tsx":HB,"../components/TaskResponseEditor/items/Rlhf/messages.tsx":qW,"../components/TaskResponseEditor/items/Rlhf/multiFileUpload.tsx":qB,"../components/TaskResponseEditor/items/Rlhf/renderer.tsx":VW,"../components/TaskResponseEditor/items/Rlhf/retryButton.tsx":VB,"../components/TaskResponseEditor/items/Rlhf/rlhfInput.tsx":UB,"../components/TaskResponseEditor/items/Rlhf/rlhfRerate.tsx":GB,"../components/TaskResponseEditor/items/Rlhf/useBardIce.tsx":KB,"../components/TaskResponseEditor/items/Rlhf/useBardIceEditing.tsx":YB,"../components/TaskResponseEditor/items/Rlhf/useEditing.tsx":ZB,"../components/TaskResponseEditor/items/Rlhf/useLikertSelection.tsx":QB,"../components/TaskResponseEditor/items/Rlhf/useMetaMultiModalOutput.tsx":JB,"../components/TaskResponseEditor/items/Rlhf/useModel.tsx":XB,"../components/TaskResponseEditor/items/Rlhf/useRlhfInputs.tsx":eW,"../components/TaskResponseIFrame/index.tsx":FAe,"../components/TaskResponseSlideOver/index.tsx":fq,"../components/Team/AddUsersSlideOver/AddSurgersButton.tsx":zAe,"../components/Team/AddUsersSlideOver/index.tsx":BAe,"../components/Team/LinkToWorkforcePage.tsx":HAe,"../components/Team/TeamMemberEuidsModal.tsx":VAe,"../components/Team/TeamProjectsTable.tsx":ZAe,"../components/Team/TeamWorkersTable/CopyToClipboard.tsx":JAe,"../components/Team/TeamWorkersTable/index.tsx":t3e,"../components/Team/index.tsx":o3e,"../components/Team/state.tsx":YAe,"../components/TeamLegacy/AddUsersSlideOver/AddSurgersButton.tsx":s3e,"../components/TeamLegacy/AddUsersSlideOver/index.tsx":a3e,"../components/TeamLegacy/TeamMemberEuidsModal.tsx":l3e,"../components/TeamLegacy/TeamProjectsTable.tsx":f3e,"../components/TeamLegacy/TeamWorkersTable.tsx":p3e,"../components/TeamLegacy/index.tsx":b3e,"../components/TeamLegacy/state.tsx":d3e,"../components/TemplateEditor/AdvancedTemplateStructure/CarouselOptions/index.tsx":Hhe,"../components/TemplateEditor/AdvancedTemplateStructure/index.tsx":qhe,"../components/TemplateEditor/EditorWithInputDataBindings.tsx":zhe,"../components/TemplateEditor/InstructionChangeNotificationSettings.tsx":Fhe,"../components/TemplateEditor/Item/AdvancedSetting.tsx":the,"../components/TemplateEditor/Item/AdvancedSettings.tsx":dhe,"../components/TemplateEditor/Item/AdvancedToggles.tsx":fhe,"../components/TemplateEditor/Item/AnswerRequired.tsx":ghe,"../components/TemplateEditor/Item/BooleanSetting.tsx":lhe,"../components/TemplateEditor/Item/CheckboxSetting.tsx":ohe,"../components/TemplateEditor/Item/CsvColumnSetting.tsx":ahe,"../components/TemplateEditor/Item/DisplayConditions/components.tsx":vhe,"../components/TemplateEditor/Item/DisplayConditions/index.tsx":whe,"../components/TemplateEditor/Item/DragHandler.tsx":phe,"../components/TemplateEditor/Item/DropdownSetting.tsx":she,"../components/TemplateEditor/Item/HideOrShowByItemOptionSetting.tsx":ihe,"../components/TemplateEditor/Item/ItemModelRandomizationSetting.tsx":nhe,"../components/TemplateEditor/Item/JSONEditor.tsx":mhe,"../components/TemplateEditor/Item/LargeLanguageModelOption.tsx":rhe,"../components/TemplateEditor/Item/NumberSetting.tsx":uhe,"../components/TemplateEditor/Item/Options.tsx":Jfe,"../components/TemplateEditor/Item/Section.tsx":hhe,"../components/TemplateEditor/Item/SettingLabel.tsx":Xfe,"../components/TemplateEditor/Item/TextSetting.tsx":che,"../components/TemplateEditor/Item/index.tsx":Ahe,"../components/TemplateEditor/Item/itemContext.tsx":Yfe,"../components/TemplateEditor/Item/useShouldHideAdvancedSetting.tsx":ehe,"../components/TemplateEditor/ModelRandomizationSettings.tsx":Bhe,"../components/TemplateEditor/SimpleDropdown.tsx":tW,"../components/TemplateEditor/index.tsx":Khe,"../components/TemplateEditorNg.jsx":_3e,"../components/TransferFunds/EditTime.tsx":pme,"../components/TransferFunds/ProjectLevel.tsx":vme,"../components/TransferFunds/Status.tsx":hme,"../components/TransferFunds/TaskLevel.tsx":gme,"../components/TransferFunds/Title.tsx":Kpe,"../components/TransferFunds/Toolbar.tsx":bme,"../components/TransferFunds/columns.tsx":mme,"../components/TransferFunds/index.tsx":wme,"../components/UploadedData/UploadAttemptPreview.tsx":x3e,"../components/UploadedData/index.tsx":w3e,"../components/UserProfileView.tsx":UW,"../components/WorkerAnalytics/SurgerReviewAnalytics.tsx":T3e,"../components/WorkerAnalytics/WorkerActions.tsx":C3e,"../components/WorkerAnalytics/WorkerAnalyticsOverall/EditableWorkerAttribute.tsx":j3e,"../components/WorkerAnalytics/WorkerAnalyticsOverall/index.tsx":O3e,"../components/WorkerAnalytics/WorkerItems/WorkerAnalyticsByItem/LineChart.tsx":M3e,"../components/WorkerAnalytics/WorkerItems/WorkerAnalyticsByItem/index.tsx":R3e,"../components/WorkerAnalytics/WorkerItems/WorkerTextLengthAnalyticsByItem.tsx":$3e,"../components/WorkerAnalytics/WorkerItems/index.tsx":I3e,"../components/WorkerAnalytics/WorkerRlhfAnalytics/index.tsx":L3e,"../components/WorkerAnalytics/index.tsx":F3e,"../components/WorkerNavbar.tsx":W3e,"../components/WorkforceFilter/ApprovalStatusFilter.tsx":bq,"../components/WorkforceFilter/AvgTimeSpentFilter.tsx":yq,"../components/WorkforceFilter/BasicFilterContainer.tsx":_q,"../components/WorkforceFilter/DateRange.tsx":xq,"../components/WorkforceFilter/Filter.tsx":wq,"../components/WorkforceFilter/InitialProjectGroupFilter.tsx":Sq,"../components/WorkforceFilter/MatchAllFilter.tsx":Cq,"../components/WorkforceFilter/MatchAnyFilter.tsx":Tq,"../components/WorkforceFilter/MoneyEarnedFilter.tsx":jq,"../components/WorkforceFilter/NewFilterPopup.tsx":Eq,"../components/WorkforceFilter/NumResponsesInProjectFilter.tsx":kq,"../components/WorkforceFilter/PayloadDisabledFilter.tsx":Oq,"../components/WorkforceFilter/PhoneVerifiedAtFilter.tsx":Mq,"../components/WorkforceFilter/ProjectScoreFilter.tsx":Nq,"../components/WorkforceFilter/QualificationFilter.tsx":Pq,"../components/WorkforceFilter/ReviewScoreFilter.tsx":Aq,"../components/WorkforceFilter/SelectMultipleProjects.tsx":Rq,"../components/WorkforceFilter/SelectMultipleQuals.tsx":$q,"../components/WorkforceFilter/SelectMultipleTags.tsx":Iq,"../components/WorkforceFilter/SelectProject.tsx":Dq,"../components/WorkforceFilter/SignupDateFilter.tsx":Lq,"../components/WorkforceFilter/SignupDomainFilter.tsx":Fq,"../components/WorkforceFilter/SignupSourceFilter.tsx":zq,"../components/WorkforceFilter/TimedWorkEntryFilter.tsx":Bq,"../components/WorkforceFilter/TimedWorkEntryLimitFilter.tsx":Wq,"../components/WorkforceFilter/UserSearchFilter.tsx":Hq,"../components/WorkforceFilter/WeightedTimeReportedPerResponseZscoreFilter.tsx":qq,"../components/WorkforceFilter/index.tsx":H3e,"../components/WorkforceListing/ActionsCell.tsx":MH,"../components/WorkforceListing/CopyEmailsOrEuidsButton.tsx":NH,"../components/WorkforceListing/DownloadAllButton.tsx":PH,"../components/WorkforceListing/columnFactories/LinkToLazilyLoadedThings.tsx":Vq,"../components/WorkforceListing/columnFactories/LinkToWorkerResults.tsx":AH,"../components/WorkforceListing/columnFactories/approvalStatusColmnFactory.tsx":RH,"../components/WorkforceListing/columnFactories/avgTimeSpentColumnFactory.tsx":$H,"../components/WorkforceListing/columnFactories/index.tsx":q3e,"../components/WorkforceListing/columnFactories/initialProjectGroupColumnFactory.tsx":IH,"../components/WorkforceListing/columnFactories/moneyEarnedColumnFactory.tsx":DH,"../components/WorkforceListing/columnFactories/numResponsesInProjectColumnFactory.tsx":LH,"../components/WorkforceListing/columnFactories/paypalDisabledColumnFactory.tsx":FH,"../components/WorkforceListing/columnFactories/phoneVerifiedAtColumnFactory.tsx":zH,"../components/WorkforceListing/columnFactories/projectScoreColumnFactory.tsx":BH,"../components/WorkforceListing/columnFactories/qualificationColumnFactory.tsx":WH,"../components/WorkforceListing/columnFactories/reviewScoreColumnFactory.tsx":HH,"../components/WorkforceListing/columnFactories/signupDateColumnFactory.tsx":qH,"../components/WorkforceListing/columnFactories/signupDomainColumnFactory.tsx":VH,"../components/WorkforceListing/columnFactories/signupSourceColumnFactory.tsx":UH,"../components/WorkforceListing/columnFactories/timedWorkEntryColumnFactory.tsx":GH,"../components/WorkforceListing/columnFactories/timedWorkEntryLimitColumnFactory.tsx":KH,"../components/WorkforceListing/columnFactories/weightedTimeReportedPerResponseZscoreColumnFactory.tsx":YH,"../components/WorkforceListing/index.tsx":ZH,"../components/auditors/BackspaceAuditor.tsx":U3e,"../components/auditors/Stopwatch.tsx":K3e,"../components/config/initializer.jsx":I5e,"../components/config/initializers/store.jsx":$5e,"../components/loading.jsx":L5e,"../components/logos/BasicLogo.tsx":AU,"../components/logos/FullLogo.tsx":RU,"../components/messages/Message.jsx":H5e,"../components/misc/TextWithLineBreaks.jsx":V5e,"../components/posters/ApiContract.jsx":Q5e,"../components/posters/BlueprintProjectsTable.tsx":J5e,"../components/posters/MergeProjectPage.jsx":e4e,"../components/posters/PopQuiz.jsx":n4e,"../components/posters/ProjectCopyForDeliveryPage.jsx":i4e,"../components/posters/ProjectDashboardPage.jsx":s4e,"../components/posters/ProjectEditJson.tsx":d4e,"../components/posters/ResponseThroughputChartPageV2.tsx":f4e,"../components/posters/SplitProjectPage.jsx":p4e,"../components/posters/TeamPage.jsx":g4e,"../components/posters/TeamPageLegacy.jsx":b4e,"../components/posters/WorkerProfilePage.jsx":_4e,"../components/posters/projects/AnnouncementEditor.jsx":C4e,"../components/project/CreateRMGoldStandardsForm.jsx":j4e,"../components/project/DeleteDataFieldsView.jsx":k4e,"../components/project/Description.jsx":N4e,"../components/project/InputData.jsx":D4e,"../components/project/MaximumNumberOfTasksPerWorkerSetting.tsx":L4e,"../components/project/NoAccessToProject.tsx":B4e,"../components/project/PreviewUploadedData.jsx":q4e,"../components/project/ProjectAdvancedUpdateMaxWorkTime.jsx":U4e,"../components/project/ProjectResultsUploader.tsx":G4e,"../components/project/ProjectUploadAttempt.tsx":K4e,"../components/project/ReviewProgress.jsx":J4e,"../components/project/SamplerEditor.jsx":tDe,"../components/project/Tagger.jsx":rDe,"../components/project/analytics/ProjectDataQuality.jsx":lDe,"../components/project/analytics/WorkerAnalytics.tsx":cDe,"../components/task-response/CarouselView.jsx":dDe,"../components/task-response/Checkboxes.jsx":zV,"../components/task-response/FreeResponse.jsx":BV,"../components/task-response/Instructions.jsx":mDe,"../components/task-response/MultipleChoice.jsx":WV,"../components/task-response/NamedEntityTagger.jsx":HV,"../components/task-response/Noop.jsx":qV,"../components/task-response/WorkerTaskResponseView.jsx":B5e,"../components/task-responses/review-individual.jsx":HDe,"../components/workers/BackspaceAuditor.tsx":qDe,"../components/workers/DynamicBalance.jsx":p6e,"../components/workers/ExpirationTimer.tsx":m6e,"../components/workers/FileUploadItem.tsx":v6e,"../components/workers/GoogleWorkspaceManager.jsx":S6e,"../components/workers/NamedEntityTagger.jsx":VV,"../components/workers/RankingFormWrapper.jsx":T6e,"../components/workers/RelationshipPanel.jsx":UV,"../components/workers/ReportTimePage.jsx":E6e,"../components/workers/Stopwatch.tsx":k6e,"../components/workers/SupportPage.tsx":P6e,"../components/workers/TaggedText.jsx":GV,"../components/workers/TreeSelector.tsx":A6e,"../components/workers/VerifyPhonePage.tsx":L6e,"../components/workers/WorkerNonFastTrackedSplashPage.jsx":H6e,"../components/workers/WorkerPostStarterAssessmentPage.jsx":U6e,"../components/workers/WorkerProjectsTable.tsx":K6e,"../components/workers/WorkerReferrals.jsx":t8e,"../components/workers/WorkerStarterAssessmentPage.jsx":i8e,"../components/workers/WorkerTransferFundsTable.tsx":o8e,"../components/workers/WorkerWorkEntriesTable.tsx":l8e});$V.useContext(e=>{const t=VA[`${e.replace(/^\.\//,"../components/")}.tsx`],n=VA[`${e.replace(/^\.\//,"../components/")}.jsx`];if(typeof t=="object"&&t!==null&&"default"in t)return t.default;if(typeof n=="object"&&n!==null&&"default"in n)return n.default;throw new Error(`Could not load module for ${e}`)});
//# sourceMappingURL=application-QhJCSS3p.js.map
